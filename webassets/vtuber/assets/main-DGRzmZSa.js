var Ps=Object.defineProperty;var Is=(o,i,s)=>i in o?Ps(o,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[i]=s;var qt=(o,i,s)=>Is(o,typeof i!="symbol"?i+"":i,s);function _mergeNamespaces(o,i){for(var s=0;s<i.length;s++){const a=i[s];if(typeof a!="string"&&!Array.isArray(a)){for(const $ in a)if($!=="default"&&!($ in o)){const j=Object.getOwnPropertyDescriptor(a,$);j&&Object.defineProperty(o,$,j.get?j:{enumerable:!0,get:()=>a[$]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))a($);new MutationObserver($=>{for(const j of $)if(j.type==="childList")for(const et of j.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&a(et)}).observe(document,{childList:!0,subtree:!0});function s($){const j={};return $.integrity&&(j.integrity=$.integrity),$.referrerPolicy&&(j.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?j.credentials="include":$.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function a($){if($.ep)return;$.ep=!0;const j=s($);fetch($.href,j)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var i=o.default;if(typeof i=="function"){var s=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var $=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(s,a,$.get?$:{enumerable:!0,get:function(){return o[a]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(o){return o===null||typeof o!="object"?null:(o=z$3&&o[z$3]||o["@@iterator"],typeof o=="function"?o:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$2(o,i,s){this.props=o,this.context=i,this.refs=D$1,this.updater=s||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(o,i){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,i,"setState")};E$2.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1(o,i,s){this.props=o,this.context=i,this.refs=D$1,this.updater=s||B$1}var H$2=G$1.prototype=new F;H$2.constructor=G$1;C$1(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(o,i,s){var a,$={},j=null,et=null;if(i!=null)for(a in i.ref!==void 0&&(et=i.ref),i.key!==void 0&&(j=""+i.key),i)J$1.call(i,a)&&!L$1.hasOwnProperty(a)&&($[a]=i[a]);var rt=arguments.length-2;if(rt===1)$.children=s;else if(1<rt){for(var st=Array(rt),it=0;it<rt;it++)st[it]=arguments[it+2];$.children=st}if(o&&o.defaultProps)for(a in rt=o.defaultProps,rt)$[a]===void 0&&($[a]=rt[a]);return{$$typeof:l$2,type:o,key:j,ref:et,props:$,_owner:K$1.current}}function N$2(o,i){return{$$typeof:l$2,type:o.type,key:i,ref:o.ref,props:o.props,_owner:o._owner}}function O$2(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$2}function escape$1(o){var i={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(s){return i[s]})}var P$2=/\/+/g;function Q$1(o,i){return typeof o=="object"&&o!==null&&o.key!=null?escape$1(""+o.key):i.toString(36)}function R$1(o,i,s,a,$){var j=typeof o;(j==="undefined"||j==="boolean")&&(o=null);var et=!1;if(o===null)et=!0;else switch(j){case"string":case"number":et=!0;break;case"object":switch(o.$$typeof){case l$2:case n$2:et=!0}}if(et)return et=o,$=$(et),o=a===""?"."+Q$1(et,0):a,I$2($)?(s="",o!=null&&(s=o.replace(P$2,"$&/")+"/"),R$1($,i,s,"",function(it){return it})):$!=null&&(O$2($)&&($=N$2($,s+(!$.key||et&&et.key===$.key?"":(""+$.key).replace(P$2,"$&/")+"/")+o)),i.push($)),1;if(et=0,a=a===""?".":a+":",I$2(o))for(var rt=0;rt<o.length;rt++){j=o[rt];var st=a+Q$1(j,rt);et+=R$1(j,i,s,st,$)}else if(st=A$2(o),typeof st=="function")for(o=st.call(o),rt=0;!(j=o.next()).done;)j=j.value,st=a+Q$1(j,rt++),et+=R$1(j,i,s,st,$);else if(j==="object")throw i=String(o),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return et}function S$1(o,i,s){if(o==null)return o;var a=[],$=0;return R$1(o,a,"","",function(j){return i.call(s,j,$++)}),a}function T$1(o){if(o._status===-1){var i=o._result;i=i(),i.then(function(s){(o._status===0||o._status===-1)&&(o._status=1,o._result=s)},function(s){(o._status===0||o._status===-1)&&(o._status=2,o._result=s)}),o._status===-1&&(o._status=0,o._result=i)}if(o._status===1)return o._result.default;throw o._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(o,i,s){S$1(o,function(){i.apply(this,arguments)},s)},count:function(o){var i=0;return S$1(o,function(){i++}),i},toArray:function(o){return S$1(o,function(i){return i})||[]},only:function(o){if(!O$2(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(o,i,s){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var a=C$1({},o.props),$=o.key,j=o.ref,et=o._owner;if(i!=null){if(i.ref!==void 0&&(j=i.ref,et=K$1.current),i.key!==void 0&&($=""+i.key),o.type&&o.type.defaultProps)var rt=o.type.defaultProps;for(st in i)J$1.call(i,st)&&!L$1.hasOwnProperty(st)&&(a[st]=i[st]===void 0&&rt!==void 0?rt[st]:i[st])}var st=arguments.length-2;if(st===1)a.children=s;else if(1<st){rt=Array(st);for(var it=0;it<st;it++)rt[it]=arguments[it+2];a.children=rt}return{$$typeof:l$2,type:o.type,key:$,ref:j,props:a,_owner:et}};react_production_min.createContext=function(o){return o={$$typeof:u,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$1,_context:o},o.Consumer=o};react_production_min.createElement=M$2;react_production_min.createFactory=function(o){var i=M$2.bind(null,o);return i.type=o,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$2,render:o}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(o){return{$$typeof:y$1,_payload:{_status:-1,_result:o},_init:T$1}};react_production_min.memo=function(o,i){return{$$typeof:x$2,type:o,compare:i===void 0?null:i}};react_production_min.startTransition=function(o){var i=V$2.transition;V$2.transition={};try{o()}finally{V$2.transition=i}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(o,i){return U$2.current.useCallback(o,i)};react_production_min.useContext=function(o){return U$2.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$2.current.useDeferredValue(o)};react_production_min.useEffect=function(o,i){return U$2.current.useEffect(o,i)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(o,i,s){return U$2.current.useImperativeHandle(o,i,s)};react_production_min.useInsertionEffect=function(o,i){return U$2.current.useInsertionEffect(o,i)};react_production_min.useLayoutEffect=function(o,i){return U$2.current.useLayoutEffect(o,i)};react_production_min.useMemo=function(o,i){return U$2.current.useMemo(o,i)};react_production_min.useReducer=function(o,i,s){return U$2.current.useReducer(o,i,s)};react_production_min.useRef=function(o){return U$2.current.useRef(o)};react_production_min.useState=function(o){return U$2.current.useState(o)};react_production_min.useSyncExternalStore=function(o,i,s){return U$2.current.useSyncExternalStore(o,i,s)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(o,i,s){var a,$={},j=null,et=null;s!==void 0&&(j=""+s),i.key!==void 0&&(j=""+i.key),i.ref!==void 0&&(et=i.ref);for(a in i)m$2.call(i,a)&&!p$2.hasOwnProperty(a)&&($[a]=i[a]);if(o&&o.defaultProps)for(a in i=o.defaultProps,i)$[a]===void 0&&($[a]=i[a]);return{$$typeof:k$1,type:o,key:j,ref:et,props:$,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(At,$t){var jt=At.length;At.push($t);e:for(;0<jt;){var zt=jt-1>>>1,Xt=At[zt];if(0<$(Xt,$t))At[zt]=$t,At[jt]=Xt,jt=zt;else break e}}function s(At){return At.length===0?null:At[0]}function a(At){if(At.length===0)return null;var $t=At[0],jt=At.pop();if(jt!==$t){At[0]=jt;e:for(var zt=0,Xt=At.length,tr=Xt>>>1;zt<tr;){var ir=2*(zt+1)-1,sr=At[ir],Jt=ir+1,rr=At[Jt];if(0>$(sr,jt))Jt<Xt&&0>$(rr,sr)?(At[zt]=rr,At[Jt]=jt,zt=Jt):(At[zt]=sr,At[ir]=jt,zt=ir);else if(Jt<Xt&&0>$(rr,jt))At[zt]=rr,At[Jt]=jt,zt=Jt;else break e}}return $t}function $(At,$t){var jt=At.sortIndex-$t.sortIndex;return jt!==0?jt:At.id-$t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;o.unstable_now=function(){return j.now()}}else{var et=Date,rt=et.now();o.unstable_now=function(){return et.now()-rt}}var st=[],it=[],ot=1,tt=null,_e=3,nt=!1,at=!1,lt=!1,ut=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ft(At){for(var $t=s(it);$t!==null;){if($t.callback===null)a(it);else if($t.startTime<=At)a(it),$t.sortIndex=$t.expirationTime,i(st,$t);else break;$t=s(it)}}function ht(At){if(lt=!1,ft(At),!at)if(s(st)!==null)at=!0,St(gt);else{var $t=s(it);$t!==null&&Ot(ht,$t.startTime-At)}}function gt(At,$t){at=!1,lt&&(lt=!1,ct(vt),vt=-1),nt=!0;var jt=_e;try{for(ft($t),tt=s(st);tt!==null&&(!(tt.expirationTime>$t)||At&&!wt());){var zt=tt.callback;if(typeof zt=="function"){tt.callback=null,_e=tt.priorityLevel;var Xt=zt(tt.expirationTime<=$t);$t=o.unstable_now(),typeof Xt=="function"?tt.callback=Xt:tt===s(st)&&a(st),ft($t)}else a(st);tt=s(st)}if(tt!==null)var tr=!0;else{var ir=s(it);ir!==null&&Ot(ht,ir.startTime-$t),tr=!1}return tr}finally{tt=null,_e=jt,nt=!1}}var yt=!1,bt=null,vt=-1,mt=5,xt=-1;function wt(){return!(o.unstable_now()-xt<mt)}function Ct(){if(bt!==null){var At=o.unstable_now();xt=At;var $t=!0;try{$t=bt(!0,At)}finally{$t?kt():(yt=!1,bt=null)}}else yt=!1}var kt;if(typeof dt=="function")kt=function(){dt(Ct)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Pt=It.port2;It.port1.onmessage=Ct,kt=function(){Pt.postMessage(null)}}else kt=function(){ut(Ct,0)};function St(At){bt=At,yt||(yt=!0,kt())}function Ot(At,$t){vt=ut(function(){At(o.unstable_now())},$t)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(At){At.callback=null},o.unstable_continueExecution=function(){at||nt||(at=!0,St(gt))},o.unstable_forceFrameRate=function(At){0>At||125<At?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):mt=0<At?Math.floor(1e3/At):5},o.unstable_getCurrentPriorityLevel=function(){return _e},o.unstable_getFirstCallbackNode=function(){return s(st)},o.unstable_next=function(At){switch(_e){case 1:case 2:case 3:var $t=3;break;default:$t=_e}var jt=_e;_e=$t;try{return At()}finally{_e=jt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(At,$t){switch(At){case 1:case 2:case 3:case 4:case 5:break;default:At=3}var jt=_e;_e=At;try{return $t()}finally{_e=jt}},o.unstable_scheduleCallback=function(At,$t,jt){var zt=o.unstable_now();switch(typeof jt=="object"&&jt!==null?(jt=jt.delay,jt=typeof jt=="number"&&0<jt?zt+jt:zt):jt=zt,At){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=jt+Xt,At={id:ot++,callback:$t,priorityLevel:At,startTime:jt,expirationTime:Xt,sortIndex:-1},jt>zt?(At.sortIndex=jt,i(it,At),s(st)===null&&At===s(it)&&(lt?(ct(vt),vt=-1):lt=!0,Ot(ht,jt-zt))):(At.sortIndex=Xt,i(st,At),at||nt||(at=!0,St(gt))),At},o.unstable_shouldYield=wt,o.unstable_wrapCallback=function(At){var $t=_e;return function(){var jt=_e;_e=$t;try{return At.apply(this,arguments)}finally{_e=jt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(o,i){ha(o,i),ha(o+"Capture",i)}function ha(o,i){for(ea[o]=i,o=0;o<i.length;o++)da.add(i[o])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(o){return ja.call(ma,o)?!0:ja.call(la,o)?!1:ka.test(o)?ma[o]=!0:(la[o]=!0,!1)}function pa(o,i,s,a){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa(o,i,s,a){if(i===null||typeof i>"u"||pa(o,i,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$1(o,i,s,a,$,j,et){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=$,this.mustUseProperty=s,this.propertyName=o,this.type=i,this.sanitizeURL=j,this.removeEmptyString=et}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$2[o]=new v$1(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];z$2[i]=new v$1(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$2[o]=new v$1(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$2[o]=new v$1(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$2[o]=new v$1(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$2[o]=new v$1(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$2[o]=new v$1(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$2[o]=new v$1(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$2[o]=new v$1(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(ra,sa);z$2[i]=new v$1(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(ra,sa);z$2[i]=new v$1(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(ra,sa);z$2[i]=new v$1(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$2[o]=new v$1(o,1,!1,o.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$2[o]=new v$1(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta(o,i,s,a){var $=z$2.hasOwnProperty(i)?z$2[i]:null;($!==null?$.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa(i,s,$,a)&&(s=null),a||$===null?oa(i)&&(s===null?o.removeAttribute(i):o.setAttribute(i,""+s)):$.mustUseProperty?o[$.propertyName]=s===null?$.type===3?!1:"":s:(i=$.attributeName,a=$.attributeNamespace,s===null?o.removeAttribute(i):($=$.type,s=$===3||$===4&&s===!0?"":""+s,a?o.setAttributeNS(a,i,s):o.setAttribute(i,s))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja&&o[Ja]||o["@@iterator"],typeof o=="function"?o:null)}var A$1=Object.assign,La;function Ma(o){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+o}var Na=!1;function Oa(o,i){if(!o||Na)return"";Na=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(it){var a=it}Reflect.construct(o,[],i)}else{try{i.call()}catch(it){a=it}o.call(i.prototype)}else{try{throw Error()}catch(it){a=it}o()}}catch(it){if(it&&a&&typeof it.stack=="string"){for(var $=it.stack.split(`
`),j=a.stack.split(`
`),et=$.length-1,rt=j.length-1;1<=et&&0<=rt&&$[et]!==j[rt];)rt--;for(;1<=et&&0<=rt;et--,rt--)if($[et]!==j[rt]){if(et!==1||rt!==1)do if(et--,rt--,0>rt||$[et]!==j[rt]){var st=`
`+$[et].replace(" at new "," at ");return o.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",o.displayName)),st}while(1<=et&&0<=rt);break}}}finally{Na=!1,Error.prepareStackTrace=s}return(o=o?o.displayName||o.name:"")?Ma(o):""}function Pa(o){switch(o.tag){case 5:return Ma(o.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o=Oa(o.type,!1),o;case 11:return o=Oa(o.type.render,!1),o;case 1:return o=Oa(o.type,!0),o;default:return""}}function Qa(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca:return(o.displayName||"Context")+".Consumer";case Ba:return(o._context.displayName||"Context")+".Provider";case Da:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga:return i=o.displayName||null,i!==null?i:Qa(o.type)||"Memo";case Ha:i=o._payload,o=o._init;try{return Qa(o(i))}catch{}}return null}function Ra(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i);case 8:return i===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua(o){var i=Ta(o)?"checked":"value",s=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),a=""+o[i];if(!o.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var $=s.get,j=s.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return $.call(this)},set:function(et){a=""+et,j.call(this,et)}}),Object.defineProperty(o,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(et){a=""+et},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Va(o){o._valueTracker||(o._valueTracker=Ua(o))}function Wa(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return o&&(a=Ta(o)?o.checked?"true":"false":o.value),o=a,o!==s?(i.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya(o,i){var s=i.checked;return A$1({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??o._wrapperState.initialChecked})}function Za(o,i){var s=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;s=Sa(i.value!=null?i.value:s),o._wrapperState={initialChecked:a,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab(o,i){i=i.checked,i!=null&&ta(o,"checked",i,!1)}function bb(o,i){ab(o,i);var s=Sa(i.value),a=i.type;if(s!=null)a==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+s):o.value!==""+s&&(o.value=""+s);else if(a==="submit"||a==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?cb(o,i.type,s):i.hasOwnProperty("defaultValue")&&cb(o,i.type,Sa(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function db(o,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,s||i===o.value||(o.value=i),o.defaultValue=i}s=o.name,s!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,s!==""&&(o.name=s)}function cb(o,i,s){(i!=="number"||Xa(o.ownerDocument)!==o)&&(s==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+s&&(o.defaultValue=""+s))}var eb=Array.isArray;function fb(o,i,s,a){if(o=o.options,i){i={};for(var $=0;$<s.length;$++)i["$"+s[$]]=!0;for(s=0;s<o.length;s++)$=i.hasOwnProperty("$"+o[s].value),o[s].selected!==$&&(o[s].selected=$),$&&a&&(o[s].defaultSelected=!0)}else{for(s=""+Sa(s),i=null,$=0;$<o.length;$++){if(o[$].value===s){o[$].selected=!0,a&&(o[$].defaultSelected=!0);return}i!==null||o[$].disabled||(i=o[$])}i!==null&&(i.selected=!0)}}function gb(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb(o,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p$1(92));if(eb(s)){if(1<s.length)throw Error(p$1(93));s=s[0]}i=s}i==null&&(i=""),s=i}o._wrapperState={initialValue:Sa(s)}}function ib(o,i){var s=Sa(i.value),a=Sa(i.defaultValue);s!=null&&(s=""+s,s!==o.value&&(o.value=s),i.defaultValue==null&&o.defaultValue!==s&&(o.defaultValue=s)),a!=null&&(o.defaultValue=""+a)}function jb(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function kb(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?kb(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb,nb=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,a,$){MSApp.execUnsafeLocalFunction(function(){return o(i,s,a,$)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function ob(o,i){if(i){var s=o.firstChild;if(s&&s===o.lastChild&&s.nodeType===3){s.nodeValue=i;return}}o.textContent=i}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(o){qb.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),pb[i]=pb[o]})});function rb(o,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb.hasOwnProperty(o)&&pb[o]?(""+i).trim():i+"px"}function sb(o,i){o=o.style;for(var s in i)if(i.hasOwnProperty(s)){var a=s.indexOf("--")===0,$=rb(s,i[s],a);s==="float"&&(s="cssFloat"),a?o.setProperty(s,$):o[s]=$}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o,i){if(i){if(tb[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$1(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$1(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$1(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$1(62))}}function vb(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb=null,zb=null,Ab=null;function Bb(o){if(o=Cb(o)){if(typeof yb!="function")throw Error(p$1(280));var i=o.stateNode;i&&(i=Db(i),yb(o.stateNode,o.type,i))}}function Eb(o){zb?Ab?Ab.push(o):Ab=[o]:zb=o}function Fb(){if(zb){var o=zb,i=Ab;if(Ab=zb=null,Bb(o),i)for(o=0;o<i.length;o++)Bb(i[o])}}function Gb(o,i){return o(i)}function Hb(){}var Ib=!1;function Jb(o,i,s){if(Ib)return o(i,s);Ib=!0;try{return Gb(o,i,s)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(o,i){var s=o.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(o=o.type,a=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!a;break e;default:o=!1}if(o)return null;if(s&&typeof s!="function")throw Error(p$1(231,i,typeof s));return s}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(o,i,s,a,$,j,et,rt,st){var it=Array.prototype.slice.call(arguments,3);try{i.apply(s,it)}catch(ot){this.onError(ot)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(o){Ob=!0,Pb=o}};function Tb(o,i,s,a,$,j,et,rt,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(o,i,s,a,$,j,et,rt,st){if(Tb.apply(this,arguments),Ob){if(Ob){var it=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=it)}}function Vb(o){var i=o,s=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(s=i.return),o=i.return;while(o)}return i.tag===3?s:null}function Wb(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function Xb(o){if(Vb(o)!==o)throw Error(p$1(188))}function Yb(o){var i=o.alternate;if(!i){if(i=Vb(o),i===null)throw Error(p$1(188));return i!==o?null:o}for(var s=o,a=i;;){var $=s.return;if($===null)break;var j=$.alternate;if(j===null){if(a=$.return,a!==null){s=a;continue}break}if($.child===j.child){for(j=$.child;j;){if(j===s)return Xb($),o;if(j===a)return Xb($),i;j=j.sibling}throw Error(p$1(188))}if(s.return!==a.return)s=$,a=j;else{for(var et=!1,rt=$.child;rt;){if(rt===s){et=!0,s=$,a=j;break}if(rt===a){et=!0,a=$,s=j;break}rt=rt.sibling}if(!et){for(rt=j.child;rt;){if(rt===s){et=!0,s=j,a=$;break}if(rt===a){et=!0,a=j,s=$;break}rt=rt.sibling}if(!et)throw Error(p$1(189))}}if(s.alternate!==a)throw Error(p$1(190))}if(s.tag!==3)throw Error(p$1(188));return s.stateNode.current===s?o:i}function Zb(o){return o=Yb(o),o!==null?$b(o):null}function $b(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=$b(o);if(i!==null)return i;o=o.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(o){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,o,void 0,(o.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(o){return o>>>=0,o===0?32:31-(pc(o)/qc|0)|0}var rc=64,sc=4194304;function tc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc(o,i){var s=o.pendingLanes;if(s===0)return 0;var a=0,$=o.suspendedLanes,j=o.pingedLanes,et=s&268435455;if(et!==0){var rt=et&~$;rt!==0?a=tc(rt):(j&=et,j!==0&&(a=tc(j)))}else et=s&~$,et!==0?a=tc(et):j!==0&&(a=tc(j));if(a===0)return 0;if(i!==0&&i!==a&&!(i&$)&&($=a&-a,j=i&-i,$>=j||$===16&&(j&4194240)!==0))return i;if(a&4&&(a|=s&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=a;0<i;)s=31-oc(i),$=1<<s,a|=o[s],i&=~$;return a}function vc(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(o,i){for(var s=o.suspendedLanes,a=o.pingedLanes,$=o.expirationTimes,j=o.pendingLanes;0<j;){var et=31-oc(j),rt=1<<et,st=$[et];st===-1?(!(rt&s)||rt&a)&&($[et]=vc(rt,i)):st<=i&&(o.expiredLanes|=rt),j&=~rt}}function xc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc(){var o=rc;return rc<<=1,!(rc&4194240)&&(rc=64),o}function zc(o){for(var i=[],s=0;31>s;s++)i.push(o);return i}function Ac(o,i,s){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-oc(i),o[i]=s}function Bc(o,i){var s=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var a=o.eventTimes;for(o=o.expirationTimes;0<s;){var $=31-oc(s),j=1<<$;i[$]=0,a[$]=-1,o[$]=-1,s&=~j}}function Cc(o,i){var s=o.entangledLanes|=i;for(o=o.entanglements;s;){var a=31-oc(s),$=1<<a;$&i|o[a]&i&&(o[a]|=i),s&=~$}}var C=0;function Dc(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o,i){switch(o){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(i.pointerId)}}function Tc(o,i,s,a,$,j){return o===null||o.nativeEvent!==j?(o={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:j,targetContainers:[$]},i!==null&&(i=Cb(i),i!==null&&Fc(i)),o):(o.eventSystemFlags|=a,i=o.targetContainers,$!==null&&i.indexOf($)===-1&&i.push($),o)}function Uc(o,i,s,a,$){switch(i){case"focusin":return Lc=Tc(Lc,o,i,s,a,$),!0;case"dragenter":return Mc=Tc(Mc,o,i,s,a,$),!0;case"mouseover":return Nc=Tc(Nc,o,i,s,a,$),!0;case"pointerover":var j=$.pointerId;return Oc.set(j,Tc(Oc.get(j)||null,o,i,s,a,$)),!0;case"gotpointercapture":return j=$.pointerId,Pc.set(j,Tc(Pc.get(j)||null,o,i,s,a,$)),!0}return!1}function Vc(o){var i=Wc(o.target);if(i!==null){var s=Vb(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb(s),i!==null){o.blockedOn=i,Ic(o.priority,function(){Gc(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){o.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var s=Yc(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(s===null){s=o.nativeEvent;var a=new s.constructor(s.type,s);wb=a,s.target.dispatchEvent(a),wb=null}else return i=Cb(s),i!==null&&Fc(i),o.blockedOn=s,!1;i.shift()}return!0}function Zc(o,i,s){Xc(o)&&s.delete(i)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(o,i){o.blockedOn===i&&(o.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(o){function i($){return ad($,o)}if(0<Kc.length){ad(Kc[0],o);for(var s=1;s<Kc.length;s++){var a=Kc[s];a.blockedOn===o&&(a.blockedOn=null)}}for(Lc!==null&&ad(Lc,o),Mc!==null&&ad(Mc,o),Nc!==null&&ad(Nc,o),Oc.forEach(i),Pc.forEach(i),s=0;s<Qc.length;s++)a=Qc[s],a.blockedOn===o&&(a.blockedOn=null);for(;0<Qc.length&&(s=Qc[0],s.blockedOn===null);)Vc(s),s.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(o,i,s,a){var $=C,j=cd.transition;cd.transition=null;try{C=1,fd(o,i,s,a)}finally{C=$,cd.transition=j}}function gd(o,i,s,a){var $=C,j=cd.transition;cd.transition=null;try{C=4,fd(o,i,s,a)}finally{C=$,cd.transition=j}}function fd(o,i,s,a){if(dd){var $=Yc(o,i,s,a);if($===null)hd(o,i,a,id,s),Sc(o,a);else if(Uc($,o,i,s,a))a.stopPropagation();else if(Sc(o,a),i&4&&-1<Rc.indexOf(o)){for(;$!==null;){var j=Cb($);if(j!==null&&Ec(j),j=Yc(o,i,s,a),j===null&&hd(o,i,a,id,s),j===$)break;$=j}$!==null&&a.stopPropagation()}else hd(o,i,a,null,s)}}var id=null;function Yc(o,i,s,a){if(id=null,o=xb(a),o=Wc(o),o!==null)if(i=Vb(o),i===null)o=null;else if(s=i.tag,s===13){if(o=Wb(i),o!==null)return o;o=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return id=o,null}function jd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var o,i=ld,s=i.length,a,$="value"in kd?kd.value:kd.textContent,j=$.length;for(o=0;o<s&&i[o]===$[o];o++);var et=s-o;for(a=1;a<=et&&i[s-a]===$[j-a];a++);return md=$.slice(o,1<a?1-a:void 0)}function od(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function pd(){return!0}function qd(){return!1}function rd(o){function i(s,a,$,j,et){this._reactName=s,this._targetInst=$,this.type=a,this.nativeEvent=j,this.target=et,this.currentTarget=null;for(var rt in o)o.hasOwnProperty(rt)&&(s=o[rt],this[rt]=s?s(j):j[rt]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),i}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd&&(yd&&o.type==="mousemove"?(wd=o.screenX-yd.screenX,xd=o.screenY-yd.screenY):xd=wd=0,yd=o),wd)},movementY:function(o){return"movementY"in o?o.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id$5=A$1({},sd,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd=rd(Id$5),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=Od[o])?!!i[o]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(o){if(o.key){var i=Md[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=od(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(o){return o.type==="keypress"?od(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(o,i){switch(o){case"keyup":return $d.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie=!1;function je(o,i){switch(o){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(fe=!0,ee);case"textInput":return o=i.data,o===ee&&fe?null:o;default:return null}}function ke(o,i){if(ie)return o==="compositionend"||!ae&&ge(o,i)?(o=nd(),md=ld=kd=null,ie=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!le[o.type]:i==="textarea"}function ne(o,i,s,a){Eb(a),i=oe(i,"onChange"),0<i.length&&(s=new td("onChange","change",null,s,a),o.push({event:s,listeners:i}))}var pe=null,qe=null;function re(o){se(o,0)}function te(o){var i=ue(o);if(Wa(i))return o}function ve(o,i){if(o==="change")return i}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(o){if(o.propertyName==="value"&&te(qe)){var i=[];ne(i,qe,o,xb(o)),Jb(re,i)}}function Ce(o,i,s){o==="focusin"?(Ae(),pe=i,qe=s,pe.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te(qe)}function Ee(o,i){if(o==="click")return te(i)}function Fe(o,i){if(o==="input"||o==="change")return te(i)}function Ge(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(o,i){if(He(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var s=Object.keys(o),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var $=s[a];if(!ja.call(i,$)||!He(o[$],i[$]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,i){var s=Je(o);o=0;for(var a;s;){if(s.nodeType===3){if(a=o+s.textContent.length,o<=i&&a>=i)return{node:s,offset:i-o};o=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Le(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var o=window,i=Xa();i instanceof o.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)o=i.contentWindow;else break;i=Xa(o.document)}return i}function Ne(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function Oe(o){var i=Me(),s=o.focusedElem,a=o.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(i=a.start,o=a.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var $=s.textContent.length,j=Math.min(a.start,$);a=a.end===void 0?j:Math.min(a.end,$),!o.extend&&j>a&&($=a,a=j,j=$),$=Ke(s,j);var et=Ke(s,a);$&&et&&(o.rangeCount!==1||o.anchorNode!==$.node||o.anchorOffset!==$.offset||o.focusNode!==et.node||o.focusOffset!==et.offset)&&(i=i.createRange(),i.setStart($.node,$.offset),o.removeAllRanges(),j>a?(o.addRange(i),o.extend(et.node,et.offset)):(i.setEnd(et.node,et.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(o,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie(Se,a)||(Se=a,a=oe(Re,"onSelect"),0<a.length&&(i=new td("onSelect","select",null,i,s),o.push({event:i,listeners:a}),i.target=Qe)))}function Ve(o,i){var s={};return s[o.toLowerCase()]=i.toLowerCase(),s["Webkit"+o]="webkit"+i,s["Moz"+o]="moz"+i,s}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var i=We[o],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[o]=i[s];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,i){df.set(o,i),fa(i,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,i,s){var a=o.type||"unknown-event";o.currentTarget=s,Ub(a,i,void 0,o),o.currentTarget=null}function se(o,i){i=(i&4)!==0;for(var s=0;s<o.length;s++){var a=o[s],$=a.event;a=a.listeners;e:{var j=void 0;if(i)for(var et=a.length-1;0<=et;et--){var rt=a[et],st=rt.instance,it=rt.currentTarget;if(rt=rt.listener,st!==j&&$.isPropagationStopped())break e;nf($,rt,it),j=st}else for(et=0;et<a.length;et++){if(rt=a[et],st=rt.instance,it=rt.currentTarget,rt=rt.listener,st!==j&&$.isPropagationStopped())break e;nf($,rt,it),j=st}}}if(Qb)throw o=Rb,Qb=!1,Rb=null,o}function D(o,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var a=o+"__bubble";s.has(a)||(pf(i,o,2,!1),s.add(a))}function qf(o,i,s){var a=0;i&&(a|=4),pf(s,o,a,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,o),qf(s,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(o,i,s,a){switch(jd(i)){case 1:var $=ed;break;case 4:$=gd;break;default:$=fd}s=$.bind(null,i,s,o),$=void 0,!Lb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||($=!0),a?$!==void 0?o.addEventListener(i,s,{capture:!0,passive:$}):o.addEventListener(i,s,!0):$!==void 0?o.addEventListener(i,s,{passive:$}):o.addEventListener(i,s,!1)}function hd(o,i,s,a,$){var j=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var et=a.tag;if(et===3||et===4){var rt=a.stateNode.containerInfo;if(rt===$||rt.nodeType===8&&rt.parentNode===$)break;if(et===4)for(et=a.return;et!==null;){var st=et.tag;if((st===3||st===4)&&(st=et.stateNode.containerInfo,st===$||st.nodeType===8&&st.parentNode===$))return;et=et.return}for(;rt!==null;){if(et=Wc(rt),et===null)return;if(st=et.tag,st===5||st===6){a=j=et;continue e}rt=rt.parentNode}}a=a.return}Jb(function(){var it=j,ot=xb(s),tt=[];e:{var _e=df.get(o);if(_e!==void 0){var nt=td,at=o;switch(o){case"keypress":if(od(s)===0)break e;case"keydown":case"keyup":nt=Rd;break;case"focusin":at="focus",nt=Fd;break;case"focusout":at="blur",nt=Fd;break;case"beforeblur":case"afterblur":nt=Fd;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Vd;break;case $e:case af:case bf:nt=Hd;break;case cf:nt=Xd;break;case"scroll":nt=vd;break;case"wheel":nt=Zd;break;case"copy":case"cut":case"paste":nt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Td}var lt=(i&4)!==0,ut=!lt&&o==="scroll",ct=lt?_e!==null?_e+"Capture":null:_e;lt=[];for(var dt=it,ft;dt!==null;){ft=dt;var ht=ft.stateNode;if(ft.tag===5&&ht!==null&&(ft=ht,ct!==null&&(ht=Kb(dt,ct),ht!=null&&lt.push(tf(dt,ht,ft)))),ut)break;dt=dt.return}0<lt.length&&(_e=new nt(_e,at,null,s,ot),tt.push({event:_e,listeners:lt}))}}if(!(i&7)){e:{if(_e=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",_e&&s!==wb&&(at=s.relatedTarget||s.fromElement)&&(Wc(at)||at[uf]))break e;if((nt||_e)&&(_e=ot.window===ot?ot:(_e=ot.ownerDocument)?_e.defaultView||_e.parentWindow:window,nt?(at=s.relatedTarget||s.toElement,nt=it,at=at?Wc(at):null,at!==null&&(ut=Vb(at),at!==ut||at.tag!==5&&at.tag!==6)&&(at=null)):(nt=null,at=it),nt!==at)){if(lt=Bd,ht="onMouseLeave",ct="onMouseEnter",dt="mouse",(o==="pointerout"||o==="pointerover")&&(lt=Td,ht="onPointerLeave",ct="onPointerEnter",dt="pointer"),ut=nt==null?_e:ue(nt),ft=at==null?_e:ue(at),_e=new lt(ht,dt+"leave",nt,s,ot),_e.target=ut,_e.relatedTarget=ft,ht=null,Wc(ot)===it&&(lt=new lt(ct,dt+"enter",at,s,ot),lt.target=ft,lt.relatedTarget=ut,ht=lt),ut=ht,nt&&at)t:{for(lt=nt,ct=at,dt=0,ft=lt;ft;ft=vf(ft))dt++;for(ft=0,ht=ct;ht;ht=vf(ht))ft++;for(;0<dt-ft;)lt=vf(lt),dt--;for(;0<ft-dt;)ct=vf(ct),ft--;for(;dt--;){if(lt===ct||ct!==null&&lt===ct.alternate)break t;lt=vf(lt),ct=vf(ct)}lt=null}else lt=null;nt!==null&&wf(tt,_e,nt,lt,!1),at!==null&&ut!==null&&wf(tt,ut,at,lt,!0)}}e:{if(_e=it?ue(it):window,nt=_e.nodeName&&_e.nodeName.toLowerCase(),nt==="select"||nt==="input"&&_e.type==="file")var gt=ve;else if(me(_e))if(we)gt=Fe;else{gt=De;var yt=Ce}else(nt=_e.nodeName)&&nt.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(gt=Ee);if(gt&&(gt=gt(o,it))){ne(tt,gt,s,ot);break e}yt&&yt(o,_e,it),o==="focusout"&&(yt=_e._wrapperState)&&yt.controlled&&_e.type==="number"&&cb(_e,"number",_e.value)}switch(yt=it?ue(it):window,o){case"focusin":(me(yt)||yt.contentEditable==="true")&&(Qe=yt,Re=it,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(tt,s,ot);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(tt,s,ot)}var bt;if(ae)e:{switch(o){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else ie?ge(o,s)&&(vt="onCompositionEnd"):o==="keydown"&&s.keyCode===229&&(vt="onCompositionStart");vt&&(de&&s.locale!=="ko"&&(ie||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ie&&(bt=nd()):(kd=ot,ld="value"in kd?kd.value:kd.textContent,ie=!0)),yt=oe(it,vt),0<yt.length&&(vt=new Ld(vt,o,null,s,ot),tt.push({event:vt,listeners:yt}),bt?vt.data=bt:(bt=he(s),bt!==null&&(vt.data=bt)))),(bt=ce?je(o,s):ke(o,s))&&(it=oe(it,"onBeforeInput"),0<it.length&&(ot=new Ld("onBeforeInput","beforeinput",null,s,ot),tt.push({event:ot,listeners:it}),ot.data=bt))}se(tt,i)})}function tf(o,i,s){return{instance:o,listener:i,currentTarget:s}}function oe(o,i){for(var s=i+"Capture",a=[];o!==null;){var $=o,j=$.stateNode;$.tag===5&&j!==null&&($=j,j=Kb(o,s),j!=null&&a.unshift(tf(o,j,$)),j=Kb(o,i),j!=null&&a.push(tf(o,j,$))),o=o.return}return a}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,i,s,a,$){for(var j=i._reactName,et=[];s!==null&&s!==a;){var rt=s,st=rt.alternate,it=rt.stateNode;if(st!==null&&st===a)break;rt.tag===5&&it!==null&&(rt=it,$?(st=Kb(s,j),st!=null&&et.unshift(tf(s,st,rt))):$||(st=Kb(s,j),st!=null&&et.push(tf(s,st,rt)))),s=s.return}et.length!==0&&o.push({event:i,listeners:et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,i,s){if(i=zf(i),zf(o)!==i&&s)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,i){var s=i,a=0;do{var $=s.nextSibling;if(o.removeChild(s),$&&$.nodeType===8)if(s=$.data,s==="/$"){if(a===0){o.removeChild($),bd(i);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=$}while(s);bd(i)}function Lf(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var s=o.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return o;i--}else s==="/$"&&i++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(o){var i=o[Of];if(i)return i;for(var s=o.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(o=Mf(o);o!==null;){if(s=o[Of])return s;o=Mf(o)}return i}o=s,s=o.parentNode}return null}function Cb(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$1(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E$1(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(o,i){Tf++,Sf[Tf]=o.current,o.current=i}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,i){var s=o.type.contextTypes;if(!s)return Vf;var a=o.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var $={},j;for(j in s)$[j]=i[j];return a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=$),$}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(o,i,s){if(H$1.current!==Vf)throw Error(p$1(168));G(H$1,i),G(Wf,s)}function bg(o,i,s){var a=o.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var $ in a)if(!($ in i))throw Error(p$1(108,Ra(o)||"Unknown",$));return A$1({},s,a)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,o),G(Wf,Wf.current),!0}function dg(o,i,s){var a=o.stateNode;if(!a)throw Error(p$1(169));s?(o=bg(o,i,Xf),a.__reactInternalMemoizedMergedChildContext=o,E$1(Wf),E$1(H$1),G(H$1,o)):E$1(Wf),G(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,i=C;try{var s=eg;for(C=1;o<s.length;o++){var a=s[o];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch($){throw eg!==null&&(eg=eg.slice(o+1)),ac(fc,jg),$}finally{C=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,i){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=i}function ug(o,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var a=rg;o=sg;var $=32-oc(a)-1;a&=~(1<<$),s+=1;var j=32-oc(i)+$;if(30<j){var et=$-$%5;j=(a&(1<<et)-1).toString(32),a>>=et,$-=et,rg=1<<32-oc(i)+$|s<<$|a,sg=j+o}else rg=1<<j|s<<$|a,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(o,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=o,i=o.deletions,i===null?(o.deletions=[s],o.flags|=16):i.push(s)}function Cg(o,i){switch(o.tag){case 5:var s=o.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,xg=o,yg=Lf(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,xg=o,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=o,o.child=s,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I$1){var i=yg;if(i){var s=i;if(!Cg(o,i)){if(Dg(o))throw Error(p$1(418));i=Lf(s.nextSibling);var a=xg;i&&Cg(o,i)?Ag(a,s):(o.flags=o.flags&-4097|2,I$1=!1,xg=o)}}else{if(Dg(o))throw Error(p$1(418));o.flags=o.flags&-4097|2,I$1=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I$1)return Fg(o),I$1=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!Ef(o.type,o.memoizedProps)),i&&(i=yg)){if(Dg(o))throw Hg(),Error(p$1(418));for(;i;)Ag(o,i),i=Lf(i.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$1(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var s=o.data;if(s==="/$"){if(i===0){yg=Lf(o.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(o,i,s){if(o=s.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$1(309));var a=s.stateNode}if(!a)throw Error(p$1(147,o));var $=a,j=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===j?i.ref:(i=function(et){var rt=$.refs;et===null?delete rt[j]:rt[j]=et},i._stringRef=j,i)}if(typeof o!="string")throw Error(p$1(284));if(!s._owner)throw Error(p$1(290,o))}return o}function Mg(o,i){throw o=Object.prototype.toString.call(i),Error(p$1(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function Ng(o){var i=o._init;return i(o._payload)}function Og(o){function i(ct,dt){if(o){var ft=ct.deletions;ft===null?(ct.deletions=[dt],ct.flags|=16):ft.push(dt)}}function s(ct,dt){if(!o)return null;for(;dt!==null;)i(ct,dt),dt=dt.sibling;return null}function a(ct,dt){for(ct=new Map;dt!==null;)dt.key!==null?ct.set(dt.key,dt):ct.set(dt.index,dt),dt=dt.sibling;return ct}function $(ct,dt){return ct=Pg(ct,dt),ct.index=0,ct.sibling=null,ct}function j(ct,dt,ft){return ct.index=ft,o?(ft=ct.alternate,ft!==null?(ft=ft.index,ft<dt?(ct.flags|=2,dt):ft):(ct.flags|=2,dt)):(ct.flags|=1048576,dt)}function et(ct){return o&&ct.alternate===null&&(ct.flags|=2),ct}function rt(ct,dt,ft,ht){return dt===null||dt.tag!==6?(dt=Qg(ft,ct.mode,ht),dt.return=ct,dt):(dt=$(dt,ft),dt.return=ct,dt)}function st(ct,dt,ft,ht){var gt=ft.type;return gt===ya?ot(ct,dt,ft.props.children,ht,ft.key):dt!==null&&(dt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===dt.type)?(ht=$(dt,ft.props),ht.ref=Lg(ct,dt,ft),ht.return=ct,ht):(ht=Rg(ft.type,ft.key,ft.props,null,ct.mode,ht),ht.ref=Lg(ct,dt,ft),ht.return=ct,ht)}function it(ct,dt,ft,ht){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==ft.containerInfo||dt.stateNode.implementation!==ft.implementation?(dt=Sg(ft,ct.mode,ht),dt.return=ct,dt):(dt=$(dt,ft.children||[]),dt.return=ct,dt)}function ot(ct,dt,ft,ht,gt){return dt===null||dt.tag!==7?(dt=Tg(ft,ct.mode,ht,gt),dt.return=ct,dt):(dt=$(dt,ft),dt.return=ct,dt)}function tt(ct,dt,ft){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return dt=Qg(""+dt,ct.mode,ft),dt.return=ct,dt;if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case va:return ft=Rg(dt.type,dt.key,dt.props,null,ct.mode,ft),ft.ref=Lg(ct,null,dt),ft.return=ct,ft;case wa:return dt=Sg(dt,ct.mode,ft),dt.return=ct,dt;case Ha:var ht=dt._init;return tt(ct,ht(dt._payload),ft)}if(eb(dt)||Ka(dt))return dt=Tg(dt,ct.mode,ft,null),dt.return=ct,dt;Mg(ct,dt)}return null}function _e(ct,dt,ft,ht){var gt=dt!==null?dt.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number")return gt!==null?null:rt(ct,dt,""+ft,ht);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:return ft.key===gt?st(ct,dt,ft,ht):null;case wa:return ft.key===gt?it(ct,dt,ft,ht):null;case Ha:return gt=ft._init,_e(ct,dt,gt(ft._payload),ht)}if(eb(ft)||Ka(ft))return gt!==null?null:ot(ct,dt,ft,ht,null);Mg(ct,ft)}return null}function nt(ct,dt,ft,ht,gt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return ct=ct.get(ft)||null,rt(dt,ct,""+ht,gt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case va:return ct=ct.get(ht.key===null?ft:ht.key)||null,st(dt,ct,ht,gt);case wa:return ct=ct.get(ht.key===null?ft:ht.key)||null,it(dt,ct,ht,gt);case Ha:var yt=ht._init;return nt(ct,dt,ft,yt(ht._payload),gt)}if(eb(ht)||Ka(ht))return ct=ct.get(ft)||null,ot(dt,ct,ht,gt,null);Mg(dt,ht)}return null}function at(ct,dt,ft,ht){for(var gt=null,yt=null,bt=dt,vt=dt=0,mt=null;bt!==null&&vt<ft.length;vt++){bt.index>vt?(mt=bt,bt=null):mt=bt.sibling;var xt=_e(ct,bt,ft[vt],ht);if(xt===null){bt===null&&(bt=mt);break}o&&bt&&xt.alternate===null&&i(ct,bt),dt=j(xt,dt,vt),yt===null?gt=xt:yt.sibling=xt,yt=xt,bt=mt}if(vt===ft.length)return s(ct,bt),I$1&&tg(ct,vt),gt;if(bt===null){for(;vt<ft.length;vt++)bt=tt(ct,ft[vt],ht),bt!==null&&(dt=j(bt,dt,vt),yt===null?gt=bt:yt.sibling=bt,yt=bt);return I$1&&tg(ct,vt),gt}for(bt=a(ct,bt);vt<ft.length;vt++)mt=nt(bt,ct,vt,ft[vt],ht),mt!==null&&(o&&mt.alternate!==null&&bt.delete(mt.key===null?vt:mt.key),dt=j(mt,dt,vt),yt===null?gt=mt:yt.sibling=mt,yt=mt);return o&&bt.forEach(function(wt){return i(ct,wt)}),I$1&&tg(ct,vt),gt}function lt(ct,dt,ft,ht){var gt=Ka(ft);if(typeof gt!="function")throw Error(p$1(150));if(ft=gt.call(ft),ft==null)throw Error(p$1(151));for(var yt=gt=null,bt=dt,vt=dt=0,mt=null,xt=ft.next();bt!==null&&!xt.done;vt++,xt=ft.next()){bt.index>vt?(mt=bt,bt=null):mt=bt.sibling;var wt=_e(ct,bt,xt.value,ht);if(wt===null){bt===null&&(bt=mt);break}o&&bt&&wt.alternate===null&&i(ct,bt),dt=j(wt,dt,vt),yt===null?gt=wt:yt.sibling=wt,yt=wt,bt=mt}if(xt.done)return s(ct,bt),I$1&&tg(ct,vt),gt;if(bt===null){for(;!xt.done;vt++,xt=ft.next())xt=tt(ct,xt.value,ht),xt!==null&&(dt=j(xt,dt,vt),yt===null?gt=xt:yt.sibling=xt,yt=xt);return I$1&&tg(ct,vt),gt}for(bt=a(ct,bt);!xt.done;vt++,xt=ft.next())xt=nt(bt,ct,vt,xt.value,ht),xt!==null&&(o&&xt.alternate!==null&&bt.delete(xt.key===null?vt:xt.key),dt=j(xt,dt,vt),yt===null?gt=xt:yt.sibling=xt,yt=xt);return o&&bt.forEach(function(Ct){return i(ct,Ct)}),I$1&&tg(ct,vt),gt}function ut(ct,dt,ft,ht){if(typeof ft=="object"&&ft!==null&&ft.type===ya&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:e:{for(var gt=ft.key,yt=dt;yt!==null;){if(yt.key===gt){if(gt=ft.type,gt===ya){if(yt.tag===7){s(ct,yt.sibling),dt=$(yt,ft.props.children),dt.return=ct,ct=dt;break e}}else if(yt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ha&&Ng(gt)===yt.type){s(ct,yt.sibling),dt=$(yt,ft.props),dt.ref=Lg(ct,yt,ft),dt.return=ct,ct=dt;break e}s(ct,yt);break}else i(ct,yt);yt=yt.sibling}ft.type===ya?(dt=Tg(ft.props.children,ct.mode,ht,ft.key),dt.return=ct,ct=dt):(ht=Rg(ft.type,ft.key,ft.props,null,ct.mode,ht),ht.ref=Lg(ct,dt,ft),ht.return=ct,ct=ht)}return et(ct);case wa:e:{for(yt=ft.key;dt!==null;){if(dt.key===yt)if(dt.tag===4&&dt.stateNode.containerInfo===ft.containerInfo&&dt.stateNode.implementation===ft.implementation){s(ct,dt.sibling),dt=$(dt,ft.children||[]),dt.return=ct,ct=dt;break e}else{s(ct,dt);break}else i(ct,dt);dt=dt.sibling}dt=Sg(ft,ct.mode,ht),dt.return=ct,ct=dt}return et(ct);case Ha:return yt=ft._init,ut(ct,dt,yt(ft._payload),ht)}if(eb(ft))return at(ct,dt,ft,ht);if(Ka(ft))return lt(ct,dt,ft,ht);Mg(ct,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"?(ft=""+ft,dt!==null&&dt.tag===6?(s(ct,dt.sibling),dt=$(dt,ft),dt.return=ct,ct=dt):(s(ct,dt),dt=Qg(ft,ct.mode,ht),dt.return=ct,ct=dt),et(ct)):s(ct,dt)}return ut}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(o){var i=Wg.current;E$1(Wg),o._currentValue=i}function bh(o,i,s){for(;o!==null;){var a=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),o===s)break;o=o.return}}function ch(o,i){Xg=o,Zg=Yg=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(dh=!0),o.firstContext=null)}function eh(o){var i=o._currentValue;if(Zg!==o)if(o={context:o,memoizedValue:i,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=o,Xg.dependencies={lanes:0,firstContext:o}}else Yg=Yg.next=o;return i}var fh=null;function gh(o){fh===null?fh=[o]:fh.push(o)}function hh(o,i,s,a){var $=i.interleaved;return $===null?(s.next=s,gh(i)):(s.next=$.next,$.next=s),i.interleaved=s,ih(o,a)}function ih(o,i){o.lanes|=i;var s=o.alternate;for(s!==null&&(s.lanes|=i),s=o,o=o.return;o!==null;)o.childLanes|=i,s=o.alternate,s!==null&&(s.childLanes|=i),s=o,o=o.return;return s.tag===3?s.stateNode:null}var jh=!1;function kh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function mh(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function nh(o,i,s){var a=o.updateQueue;if(a===null)return null;if(a=a.shared,K&2){var $=a.pending;return $===null?i.next=i:(i.next=$.next,$.next=i),a.pending=i,ih(o,s)}return $=a.interleaved,$===null?(i.next=i,gh(a)):(i.next=$.next,$.next=i),a.interleaved=i,ih(o,s)}function oh(o,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var a=i.lanes;a&=o.pendingLanes,s|=a,i.lanes=s,Cc(o,s)}}function ph(o,i){var s=o.updateQueue,a=o.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var $=null,j=null;if(s=s.firstBaseUpdate,s!==null){do{var et={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};j===null?$=j=et:j=j.next=et,s=s.next}while(s!==null);j===null?$=j=i:j=j.next=i}else $=j=i;s={baseState:a.baseState,firstBaseUpdate:$,lastBaseUpdate:j,shared:a.shared,effects:a.effects},o.updateQueue=s;return}o=s.lastBaseUpdate,o===null?s.firstBaseUpdate=i:o.next=i,s.lastBaseUpdate=i}function qh(o,i,s,a){var $=o.updateQueue;jh=!1;var j=$.firstBaseUpdate,et=$.lastBaseUpdate,rt=$.shared.pending;if(rt!==null){$.shared.pending=null;var st=rt,it=st.next;st.next=null,et===null?j=it:et.next=it,et=st;var ot=o.alternate;ot!==null&&(ot=ot.updateQueue,rt=ot.lastBaseUpdate,rt!==et&&(rt===null?ot.firstBaseUpdate=it:rt.next=it,ot.lastBaseUpdate=st))}if(j!==null){var tt=$.baseState;et=0,ot=it=st=null,rt=j;do{var _e=rt.lane,nt=rt.eventTime;if((a&_e)===_e){ot!==null&&(ot=ot.next={eventTime:nt,lane:0,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null});e:{var at=o,lt=rt;switch(_e=i,nt=s,lt.tag){case 1:if(at=lt.payload,typeof at=="function"){tt=at.call(nt,tt,_e);break e}tt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=lt.payload,_e=typeof at=="function"?at.call(nt,tt,_e):at,_e==null)break e;tt=A$1({},tt,_e);break e;case 2:jh=!0}}rt.callback!==null&&rt.lane!==0&&(o.flags|=64,_e=$.effects,_e===null?$.effects=[rt]:_e.push(rt))}else nt={eventTime:nt,lane:_e,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null},ot===null?(it=ot=nt,st=tt):ot=ot.next=nt,et|=_e;if(rt=rt.next,rt===null){if(rt=$.shared.pending,rt===null)break;_e=rt,rt=_e.next,_e.next=null,$.lastBaseUpdate=_e,$.shared.pending=null}}while(!0);if(ot===null&&(st=tt),$.baseState=st,$.firstBaseUpdate=it,$.lastBaseUpdate=ot,i=$.shared.interleaved,i!==null){$=i;do et|=$.lane,$=$.next;while($!==i)}else j===null&&($.shared.lanes=0);rh|=et,o.lanes=et,o.memoizedState=tt}}function sh(o,i,s){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var a=o[i],$=a.callback;if($!==null){if(a.callback=null,a=s,typeof $!="function")throw Error(p$1(191,$));$.call(a)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(o){if(o===th)throw Error(p$1(174));return o}function yh(o,i){switch(G(wh,i),G(vh,o),G(uh,th),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=lb(i,o)}E$1(uh),G(uh,i)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(o){xh(wh.current);var i=xh(uh.current),s=lb(i,o.type);i!==s&&(G(vh,o),G(uh,s))}function Bh(o){vh.current===o&&(E$1(uh),E$1(vh))}var L=Uf(0);function Ch(o){for(var i=o;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dh=[];function Eh(){for(var o=0;o<Dh.length;o++)Dh[o]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$1.ReactCurrentDispatcher,Gh=ua$1.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$1(321))}function Mh(o,i){if(i===null)return!1;for(var s=0;s<i.length&&s<o.length;s++)if(!He(o[s],i[s]))return!1;return!0}function Nh(o,i,s,a,$,j){if(Hh=j,M$1=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fh.current=o===null||o.memoizedState===null?Oh:Ph,o=s(a,$),Jh){j=0;do{if(Jh=!1,Kh=0,25<=j)throw Error(p$1(301));j+=1,O$1=N$1=null,i.updateQueue=null,Fh.current=Qh,o=s(a,$)}while(Jh)}if(Fh.current=Rh,i=N$1!==null&&N$1.next!==null,Hh=0,O$1=N$1=M$1=null,Ih=!1,i)throw Error(p$1(300));return o}function Sh(){var o=Kh!==0;return Kh=0,o}function Th(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=o:O$1=O$1.next=o,O$1}function Uh(){if(N$1===null){var o=M$1.alternate;o=o!==null?o.memoizedState:null}else o=N$1.next;var i=O$1===null?M$1.memoizedState:O$1.next;if(i!==null)O$1=i,N$1=o;else{if(o===null)throw Error(p$1(310));N$1=o,o={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$1===null?M$1.memoizedState=O$1=o:O$1=O$1.next=o}return O$1}function Vh(o,i){return typeof i=="function"?i(o):i}function Wh(o){var i=Uh(),s=i.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=o;var a=N$1,$=a.baseQueue,j=s.pending;if(j!==null){if($!==null){var et=$.next;$.next=j.next,j.next=et}a.baseQueue=$=j,s.pending=null}if($!==null){j=$.next,a=a.baseState;var rt=et=null,st=null,it=j;do{var ot=it.lane;if((Hh&ot)===ot)st!==null&&(st=st.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),a=it.hasEagerState?it.eagerState:o(a,it.action);else{var tt={lane:ot,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};st===null?(rt=st=tt,et=a):st=st.next=tt,M$1.lanes|=ot,rh|=ot}it=it.next}while(it!==null&&it!==j);st===null?et=a:st.next=rt,He(a,i.memoizedState)||(dh=!0),i.memoizedState=a,i.baseState=et,i.baseQueue=st,s.lastRenderedState=a}if(o=s.interleaved,o!==null){$=o;do j=$.lane,M$1.lanes|=j,rh|=j,$=$.next;while($!==o)}else $===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function Xh(o){var i=Uh(),s=i.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=o;var a=s.dispatch,$=s.pending,j=i.memoizedState;if($!==null){s.pending=null;var et=$=$.next;do j=o(j,et.action),et=et.next;while(et!==$);He(j,i.memoizedState)||(dh=!0),i.memoizedState=j,i.baseQueue===null&&(i.baseState=j),s.lastRenderedState=j}return[j,a]}function Yh(){}function Zh(o,i){var s=M$1,a=Uh(),$=i(),j=!He(a.memoizedState,$);if(j&&(a.memoizedState=$,dh=!0),a=a.queue,$h(ai.bind(null,s,a,o),[o]),a.getSnapshot!==i||j||O$1!==null&&O$1.memoizedState.tag&1){if(s.flags|=2048,bi(9,ci.bind(null,s,a,$,i),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(s,i,$)}return $}function di(o,i,s){o.flags|=16384,o={getSnapshot:i,value:s},i=M$1.updateQueue,i===null?(i={lastEffect:null,stores:null},M$1.updateQueue=i,i.stores=[o]):(s=i.stores,s===null?i.stores=[o]:s.push(o))}function ci(o,i,s,a){i.value=s,i.getSnapshot=a,ei(i)&&fi(o)}function ai(o,i,s){return s(function(){ei(i)&&fi(o)})}function ei(o){var i=o.getSnapshot;o=o.value;try{var s=i();return!He(o,s)}catch{return!0}}function fi(o){var i=ih(o,1);i!==null&&gi(i,o,1,-1)}function hi(o){var i=Th();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:o},i.queue=o,o=o.dispatch=ii.bind(null,M$1,o),[i.memoizedState,o]}function bi(o,i,s,a){return o={tag:o,create:i,destroy:s,deps:a,next:null},i=M$1.updateQueue,i===null?(i={lastEffect:null,stores:null},M$1.updateQueue=i,i.lastEffect=o.next=o):(s=i.lastEffect,s===null?i.lastEffect=o.next=o:(a=s.next,s.next=o,o.next=a,i.lastEffect=o)),o}function ji(){return Uh().memoizedState}function ki(o,i,s,a){var $=Th();M$1.flags|=o,$.memoizedState=bi(1|i,s,void 0,a===void 0?null:a)}function li(o,i,s,a){var $=Uh();a=a===void 0?null:a;var j=void 0;if(N$1!==null){var et=N$1.memoizedState;if(j=et.destroy,a!==null&&Mh(a,et.deps)){$.memoizedState=bi(i,s,j,a);return}}M$1.flags|=o,$.memoizedState=bi(1|i,s,j,a)}function mi(o,i){return ki(8390656,8,o,i)}function $h(o,i){return li(2048,8,o,i)}function ni(o,i){return li(4,2,o,i)}function oi(o,i){return li(4,4,o,i)}function pi(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function qi(o,i,s){return s=s!=null?s.concat([o]):null,li(4,4,pi.bind(null,i,o),s)}function ri(){}function si(o,i){var s=Uh();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(s.memoizedState=[o,i],o)}function ti(o,i){var s=Uh();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Mh(i,a[1])?a[0]:(o=o(),s.memoizedState=[o,i],o)}function ui(o,i,s){return Hh&21?(He(s,i)||(s=yc(),M$1.lanes|=s,rh|=s,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,dh=!0),o.memoizedState=s)}function vi(o,i){var s=C;C=s!==0&&4>s?s:4,o(!0);var a=Gh.transition;Gh.transition={};try{o(!1),i()}finally{C=s,Gh.transition=a}}function wi(){return Uh().memoizedState}function xi(o,i,s){var a=yi(o);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},zi(o))Ai(i,s);else if(s=hh(o,i,s,a),s!==null){var $=R();gi(s,o,a,$),Bi(s,i,a)}}function ii(o,i,s){var a=yi(o),$={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(o))Ai(i,$);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=i.lastRenderedReducer,j!==null))try{var et=i.lastRenderedState,rt=j(et,s);if($.hasEagerState=!0,$.eagerState=rt,He(rt,et)){var st=i.interleaved;st===null?($.next=$,gh(i)):($.next=st.next,st.next=$),i.interleaved=$;return}}catch{}finally{}s=hh(o,i,$,a),s!==null&&($=R(),gi(s,o,a,$),Bi(s,i,a))}}function zi(o){var i=o.alternate;return o===M$1||i!==null&&i===M$1}function Ai(o,i){Jh=Ih=!0;var s=o.pending;s===null?i.next=i:(i.next=s.next,s.next=i),o.pending=i}function Bi(o,i,s){if(s&4194240){var a=i.lanes;a&=o.pendingLanes,s|=a,i.lanes=s,Cc(o,s)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(o,i){return Th().memoizedState=[o,i===void 0?null:i],o},useContext:eh,useEffect:mi,useImperativeHandle:function(o,i,s){return s=s!=null?s.concat([o]):null,ki(4194308,4,pi.bind(null,i,o),s)},useLayoutEffect:function(o,i){return ki(4194308,4,o,i)},useInsertionEffect:function(o,i){return ki(4,2,o,i)},useMemo:function(o,i){var s=Th();return i=i===void 0?null:i,o=o(),s.memoizedState=[o,i],o},useReducer:function(o,i,s){var a=Th();return i=s!==void 0?s(i):i,a.memoizedState=a.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},a.queue=o,o=o.dispatch=xi.bind(null,M$1,o),[a.memoizedState,o]},useRef:function(o){var i=Th();return o={current:o},i.memoizedState=o},useState:hi,useDebugValue:ri,useDeferredValue:function(o){return Th().memoizedState=o},useTransition:function(){var o=hi(!1),i=o[0];return o=vi.bind(null,o[1]),Th().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,s){var a=M$1,$=Th();if(I$1){if(s===void 0)throw Error(p$1(407));s=s()}else{if(s=i(),Q===null)throw Error(p$1(349));Hh&30||di(a,i,s)}$.memoizedState=s;var j={value:s,getSnapshot:i};return $.queue=j,mi(ai.bind(null,a,j,o),[o]),a.flags|=2048,bi(9,ci.bind(null,a,j,s,i),void 0,null),s},useId:function(){var o=Th(),i=Q.identifierPrefix;if(I$1){var s=sg,a=rg;s=(a&~(1<<32-oc(a)-1)).toString(32)+s,i=":"+i+"R"+s,s=Kh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Lh++,i=":"+i+"r"+s.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var i=Uh();return ui(i,N$1.memoizedState,o)},useTransition:function(){var o=Wh(Vh)[0],i=Uh().memoizedState;return[o,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(o){var i=Uh();return N$1===null?i.memoizedState=o:ui(i,N$1.memoizedState,o)},useTransition:function(){var o=Xh(Vh)[0],i=Uh().memoizedState;return[o,i]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(o,i){if(o&&o.defaultProps){i=A$1({},i),o=o.defaultProps;for(var s in o)i[s]===void 0&&(i[s]=o[s]);return i}return i}function Di(o,i,s,a){i=o.memoizedState,s=s(a,i),s=s==null?i:A$1({},i,s),o.memoizedState=s,o.lanes===0&&(o.updateQueue.baseState=s)}var Ei={isMounted:function(o){return(o=o._reactInternals)?Vb(o)===o:!1},enqueueSetState:function(o,i,s){o=o._reactInternals;var a=R(),$=yi(o),j=mh(a,$);j.payload=i,s!=null&&(j.callback=s),i=nh(o,j,$),i!==null&&(gi(i,o,$,a),oh(i,o,$))},enqueueReplaceState:function(o,i,s){o=o._reactInternals;var a=R(),$=yi(o),j=mh(a,$);j.tag=1,j.payload=i,s!=null&&(j.callback=s),i=nh(o,j,$),i!==null&&(gi(i,o,$,a),oh(i,o,$))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var s=R(),a=yi(o),$=mh(s,a);$.tag=2,i!=null&&($.callback=i),i=nh(o,$,a),i!==null&&(gi(i,o,a,s),oh(i,o,a))}};function Fi(o,i,s,a,$,j,et){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(a,j,et):i.prototype&&i.prototype.isPureReactComponent?!Ie(s,a)||!Ie($,j):!0}function Gi(o,i,s){var a=!1,$=Vf,j=i.contextType;return typeof j=="object"&&j!==null?j=eh(j):($=Zf(i)?Xf:H$1.current,a=i.contextTypes,j=(a=a!=null)?Yf(o,$):Vf),i=new i(s,j),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ei,o.stateNode=i,i._reactInternals=o,a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=$,o.__reactInternalMemoizedMaskedChildContext=j),i}function Hi(o,i,s,a){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==o&&Ei.enqueueReplaceState(i,i.state,null)}function Ii(o,i,s,a){var $=o.stateNode;$.props=s,$.state=o.memoizedState,$.refs={},kh(o);var j=i.contextType;typeof j=="object"&&j!==null?$.context=eh(j):(j=Zf(i)?Xf:H$1.current,$.context=Yf(o,j)),$.state=o.memoizedState,j=i.getDerivedStateFromProps,typeof j=="function"&&(Di(o,i,j,s),$.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(i=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),i!==$.state&&Ei.enqueueReplaceState($,$.state,null),qh(o,s,$,a),$.state=o.memoizedState),typeof $.componentDidMount=="function"&&(o.flags|=4194308)}function Ji(o,i){try{var s="",a=i;do s+=Pa(a),a=a.return;while(a);var $=s}catch(j){$=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:i,stack:$,digest:null}}function Ki(o,i,s){return{value:o,source:null,stack:s??null,digest:i??null}}function Li(o,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(o,i,s){s=mh(-1,s),s.tag=3,s.payload={element:null};var a=i.value;return s.callback=function(){Oi||(Oi=!0,Pi=a),Li(o,i)},s}function Qi(o,i,s){s=mh(-1,s),s.tag=3;var a=o.type.getDerivedStateFromError;if(typeof a=="function"){var $=i.value;s.payload=function(){return a($)},s.callback=function(){Li(o,i)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(s.callback=function(){Li(o,i),typeof a!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var et=i.stack;this.componentDidCatch(i.value,{componentStack:et!==null?et:""})}),s}function Si(o,i,s){var a=o.pingCache;if(a===null){a=o.pingCache=new Mi;var $=new Set;a.set(i,$)}else $=a.get(i),$===void 0&&($=new Set,a.set(i,$));$.has(s)||($.add(s),o=Ti.bind(null,o,i,s),i.then(o,o))}function Ui(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Vi(o,i,s,a,$){return o.mode&1?(o.flags|=65536,o.lanes=$,o):(o===i?o.flags|=65536:(o.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=mh(-1,1),i.tag=2,nh(s,i,1))),s.lanes|=1),o)}var Wi=ua$1.ReactCurrentOwner,dh=!1;function Xi(o,i,s,a){i.child=o===null?Vg(i,null,s,a):Ug(i,o.child,s,a)}function Yi(o,i,s,a,$){s=s.render;var j=i.ref;return ch(i,$),a=Nh(o,i,s,a,j,$),s=Sh(),o!==null&&!dh?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~$,Zi(o,i,$)):(I$1&&s&&vg(i),i.flags|=1,Xi(o,i,a,$),i.child)}function $i(o,i,s,a,$){if(o===null){var j=s.type;return typeof j=="function"&&!aj(j)&&j.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=j,bj(o,i,j,a,$)):(o=Rg(s.type,null,a,i,i.mode,$),o.ref=i.ref,o.return=i,i.child=o)}if(j=o.child,!(o.lanes&$)){var et=j.memoizedProps;if(s=s.compare,s=s!==null?s:Ie,s(et,a)&&o.ref===i.ref)return Zi(o,i,$)}return i.flags|=1,o=Pg(j,a),o.ref=i.ref,o.return=i,i.child=o}function bj(o,i,s,a,$){if(o!==null){var j=o.memoizedProps;if(Ie(j,a)&&o.ref===i.ref)if(dh=!1,i.pendingProps=a=j,(o.lanes&$)!==0)o.flags&131072&&(dh=!0);else return i.lanes=o.lanes,Zi(o,i,$)}return cj(o,i,s,a,$)}function dj(o,i,s){var a=i.pendingProps,$=a.children,j=o!==null?o.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=s;else{if(!(s&1073741824))return o=j!==null?j.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,G(ej,fj),fj|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=j!==null?j.baseLanes:s,G(ej,fj),fj|=a}else j!==null?(a=j.baseLanes|s,i.memoizedState=null):a=s,G(ej,fj),fj|=a;return Xi(o,i,$,s),i.child}function gj(o,i){var s=i.ref;(o===null&&s!==null||o!==null&&o.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function cj(o,i,s,a,$){var j=Zf(s)?Xf:H$1.current;return j=Yf(i,j),ch(i,$),s=Nh(o,i,s,a,j,$),a=Sh(),o!==null&&!dh?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~$,Zi(o,i,$)):(I$1&&a&&vg(i),i.flags|=1,Xi(o,i,s,$),i.child)}function hj(o,i,s,a,$){if(Zf(s)){var j=!0;cg(i)}else j=!1;if(ch(i,$),i.stateNode===null)ij(o,i),Gi(i,s,a),Ii(i,s,a,$),a=!0;else if(o===null){var et=i.stateNode,rt=i.memoizedProps;et.props=rt;var st=et.context,it=s.contextType;typeof it=="object"&&it!==null?it=eh(it):(it=Zf(s)?Xf:H$1.current,it=Yf(i,it));var ot=s.getDerivedStateFromProps,tt=typeof ot=="function"||typeof et.getSnapshotBeforeUpdate=="function";tt||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(rt!==a||st!==it)&&Hi(i,et,a,it),jh=!1;var _e=i.memoizedState;et.state=_e,qh(i,a,et,$),st=i.memoizedState,rt!==a||_e!==st||Wf.current||jh?(typeof ot=="function"&&(Di(i,s,ot,a),st=i.memoizedState),(rt=jh||Fi(i,s,rt,a,_e,st,it))?(tt||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(i.flags|=4194308)):(typeof et.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=st),et.props=a,et.state=st,et.context=it,a=rt):(typeof et.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{et=i.stateNode,lh(o,i),rt=i.memoizedProps,it=i.type===i.elementType?rt:Ci(i.type,rt),et.props=it,tt=i.pendingProps,_e=et.context,st=s.contextType,typeof st=="object"&&st!==null?st=eh(st):(st=Zf(s)?Xf:H$1.current,st=Yf(i,st));var nt=s.getDerivedStateFromProps;(ot=typeof nt=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(rt!==tt||_e!==st)&&Hi(i,et,a,st),jh=!1,_e=i.memoizedState,et.state=_e,qh(i,a,et,$);var at=i.memoizedState;rt!==tt||_e!==at||Wf.current||jh?(typeof nt=="function"&&(Di(i,s,nt,a),at=i.memoizedState),(it=jh||Fi(i,s,it,a,_e,at,st)||!1)?(ot||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(a,at,st),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(a,at,st)),typeof et.componentDidUpdate=="function"&&(i.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof et.componentDidUpdate!="function"||rt===o.memoizedProps&&_e===o.memoizedState||(i.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||rt===o.memoizedProps&&_e===o.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=at),et.props=a,et.state=at,et.context=st,a=it):(typeof et.componentDidUpdate!="function"||rt===o.memoizedProps&&_e===o.memoizedState||(i.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||rt===o.memoizedProps&&_e===o.memoizedState||(i.flags|=1024),a=!1)}return jj(o,i,s,a,j,$)}function jj(o,i,s,a,$,j){gj(o,i);var et=(i.flags&128)!==0;if(!a&&!et)return $&&dg(i,s,!1),Zi(o,i,j);a=i.stateNode,Wi.current=i;var rt=et&&typeof s.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,o!==null&&et?(i.child=Ug(i,o.child,null,j),i.child=Ug(i,null,rt,j)):Xi(o,i,rt,j),i.memoizedState=a.state,$&&dg(i,s,!0),i.child}function kj(o){var i=o.stateNode;i.pendingContext?ag(o,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(o,i.context,!1),yh(o,i.containerInfo)}function lj(o,i,s,a,$){return Ig(),Jg($),i.flags|=256,Xi(o,i,s,a),i.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(o){return{baseLanes:o,cachePool:null,transitions:null}}function oj(o,i,s){var a=i.pendingProps,$=L.current,j=!1,et=(i.flags&128)!==0,rt;if((rt=et)||(rt=o!==null&&o.memoizedState===null?!1:($&2)!==0),rt?(j=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&($|=1),G(L,$&1),o===null)return Eg(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?o.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(et=a.children,o=a.fallback,j?(a=i.mode,j=i.child,et={mode:"hidden",children:et},!(a&1)&&j!==null?(j.childLanes=0,j.pendingProps=et):j=pj(et,a,0,null),o=Tg(o,a,s,null),j.return=i,o.return=i,j.sibling=o,i.child=j,i.child.memoizedState=nj(s),i.memoizedState=mj,o):qj(i,et));if($=o.memoizedState,$!==null&&(rt=$.dehydrated,rt!==null))return rj(o,i,et,a,rt,$,s);if(j){j=a.fallback,et=i.mode,$=o.child,rt=$.sibling;var st={mode:"hidden",children:a.children};return!(et&1)&&i.child!==$?(a=i.child,a.childLanes=0,a.pendingProps=st,i.deletions=null):(a=Pg($,st),a.subtreeFlags=$.subtreeFlags&14680064),rt!==null?j=Pg(rt,j):(j=Tg(j,et,s,null),j.flags|=2),j.return=i,a.return=i,a.sibling=j,i.child=a,a=j,j=i.child,et=o.child.memoizedState,et=et===null?nj(s):{baseLanes:et.baseLanes|s,cachePool:null,transitions:et.transitions},j.memoizedState=et,j.childLanes=o.childLanes&~s,i.memoizedState=mj,a}return j=o.child,o=j.sibling,a=Pg(j,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=s),a.return=i,a.sibling=null,o!==null&&(s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)),i.child=a,i.memoizedState=null,a}function qj(o,i){return i=pj({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function sj(o,i,s,a){return a!==null&&Jg(a),Ug(i,o.child,null,s),o=qj(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function rj(o,i,s,a,$,j,et){if(s)return i.flags&256?(i.flags&=-257,a=Ki(Error(p$1(422))),sj(o,i,et,a)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(j=a.fallback,$=i.mode,a=pj({mode:"visible",children:a.children},$,0,null),j=Tg(j,$,et,null),j.flags|=2,a.return=i,j.return=i,a.sibling=j,i.child=a,i.mode&1&&Ug(i,o.child,null,et),i.child.memoizedState=nj(et),i.memoizedState=mj,j);if(!(i.mode&1))return sj(o,i,et,null);if($.data==="$!"){if(a=$.nextSibling&&$.nextSibling.dataset,a)var rt=a.dgst;return a=rt,j=Error(p$1(419)),a=Ki(j,a,void 0),sj(o,i,et,a)}if(rt=(et&o.childLanes)!==0,dh||rt){if(a=Q,a!==null){switch(et&-et){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(a.suspendedLanes|et)?0:$,$!==0&&$!==j.retryLane&&(j.retryLane=$,ih(o,$),gi(a,o,$,-1))}return tj(),a=Ki(Error(p$1(421))),sj(o,i,et,a)}return $.data==="$?"?(i.flags|=128,i.child=o.child,i=uj.bind(null,o),$._reactRetry=i,null):(o=j.treeContext,yg=Lf($.nextSibling),xg=i,I$1=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=i),i=qj(i,a.children),i.flags|=4096,i)}function vj(o,i,s){o.lanes|=i;var a=o.alternate;a!==null&&(a.lanes|=i),bh(o.return,i,s)}function wj(o,i,s,a,$){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:$}:(j.isBackwards=i,j.rendering=null,j.renderingStartTime=0,j.last=a,j.tail=s,j.tailMode=$)}function xj(o,i,s){var a=i.pendingProps,$=a.revealOrder,j=a.tail;if(Xi(o,i,a.children,s),a=L.current,a&2)a=a&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vj(o,s,i);else if(o.tag===19)vj(o,s,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}a&=1}if(G(L,a),!(i.mode&1))i.memoizedState=null;else switch($){case"forwards":for(s=i.child,$=null;s!==null;)o=s.alternate,o!==null&&Ch(o)===null&&($=s),s=s.sibling;s=$,s===null?($=i.child,i.child=null):($=s.sibling,s.sibling=null),wj(i,!1,$,s,j);break;case"backwards":for(s=null,$=i.child,i.child=null;$!==null;){if(o=$.alternate,o!==null&&Ch(o)===null){i.child=$;break}o=$.sibling,$.sibling=s,s=$,$=o}wj(i,!0,s,null,j);break;case"together":wj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ij(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function Zi(o,i,s){if(o!==null&&(i.dependencies=o.dependencies),rh|=i.lanes,!(s&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(p$1(153));if(i.child!==null){for(o=i.child,s=Pg(o,o.pendingProps),i.child=s,s.return=i;o.sibling!==null;)o=o.sibling,s=s.sibling=Pg(o,o.pendingProps),s.return=i;s.sibling=null}return i.child}function yj(o,i,s){switch(i.tag){case 3:kj(i),Ig();break;case 5:Ah(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:yh(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,$=i.memoizedProps.value;G(Wg,a._currentValue),a._currentValue=$;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(G(L,L.current&1),i.flags|=128,null):s&i.child.childLanes?oj(o,i,s):(G(L,L.current&1),o=Zi(o,i,s),o!==null?o.sibling:null);G(L,L.current&1);break;case 19:if(a=(s&i.childLanes)!==0,o.flags&128){if(a)return xj(o,i,s);i.flags|=128}if($=i.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),G(L,L.current),a)break;return null;case 22:case 23:return i.lanes=0,dj(o,i,s)}return Zi(o,i,s)}var zj,Aj,Bj,Cj;zj=function(o,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Aj=function(){};Bj=function(o,i,s,a){var $=o.memoizedProps;if($!==a){o=i.stateNode,xh(uh.current);var j=null;switch(s){case"input":$=Ya(o,$),a=Ya(o,a),j=[];break;case"select":$=A$1({},$,{value:void 0}),a=A$1({},a,{value:void 0}),j=[];break;case"textarea":$=gb(o,$),a=gb(o,a),j=[];break;default:typeof $.onClick!="function"&&typeof a.onClick=="function"&&(o.onclick=Bf)}ub(s,a);var et;s=null;for(it in $)if(!a.hasOwnProperty(it)&&$.hasOwnProperty(it)&&$[it]!=null)if(it==="style"){var rt=$[it];for(et in rt)rt.hasOwnProperty(et)&&(s||(s={}),s[et]="")}else it!=="dangerouslySetInnerHTML"&&it!=="children"&&it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?j||(j=[]):(j=j||[]).push(it,null));for(it in a){var st=a[it];if(rt=$!=null?$[it]:void 0,a.hasOwnProperty(it)&&st!==rt&&(st!=null||rt!=null))if(it==="style")if(rt){for(et in rt)!rt.hasOwnProperty(et)||st&&st.hasOwnProperty(et)||(s||(s={}),s[et]="");for(et in st)st.hasOwnProperty(et)&&rt[et]!==st[et]&&(s||(s={}),s[et]=st[et])}else s||(j||(j=[]),j.push(it,s)),s=st;else it==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,rt=rt?rt.__html:void 0,st!=null&&rt!==st&&(j=j||[]).push(it,st)):it==="children"?typeof st!="string"&&typeof st!="number"||(j=j||[]).push(it,""+st):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&(ea.hasOwnProperty(it)?(st!=null&&it==="onScroll"&&D("scroll",o),j||rt===st||(j=[])):(j=j||[]).push(it,st))}s&&(j=j||[]).push("style",s);var it=j;(i.updateQueue=it)&&(i.flags|=4)}};Cj=function(o,i,s,a){s!==a&&(i.flags|=4)};function Dj(o,i){if(!I$1)switch(o.tailMode){case"hidden":i=o.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?o.tail=null:s.sibling=null;break;case"collapsed":s=o.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:a.sibling=null}}function S(o){var i=o.alternate!==null&&o.alternate.child===o.child,s=0,a=0;if(i)for(var $=o.child;$!==null;)s|=$.lanes|$.childLanes,a|=$.subtreeFlags&14680064,a|=$.flags&14680064,$.return=o,$=$.sibling;else for($=o.child;$!==null;)s|=$.lanes|$.childLanes,a|=$.subtreeFlags,a|=$.flags,$.return=o,$=$.sibling;return o.subtreeFlags|=a,o.childLanes=s,i}function Ej(o,i,s){var a=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(i),null;case 1:return Zf(i.type)&&$f(),S(i),null;case 3:return a=i.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(o===null||o.child===null)&&(Gg(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(o,i),S(i),null;case 5:Bh(i);var $=xh(wh.current);if(s=i.type,o!==null&&i.stateNode!=null)Bj(o,i,s,a,$),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(p$1(166));return S(i),null}if(o=xh(uh.current),Gg(i)){a=i.stateNode,s=i.type;var j=i.memoizedProps;switch(a[Of]=i,a[Pf]=j,o=(i.mode&1)!==0,s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,j),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!j.multiple},D("invalid",a);break;case"textarea":hb(a,j),D("invalid",a)}ub(s,j),$=null;for(var et in j)if(j.hasOwnProperty(et)){var rt=j[et];et==="children"?typeof rt=="string"?a.textContent!==rt&&(j.suppressHydrationWarning!==!0&&Af(a.textContent,rt,o),$=["children",rt]):typeof rt=="number"&&a.textContent!==""+rt&&(j.suppressHydrationWarning!==!0&&Af(a.textContent,rt,o),$=["children",""+rt]):ea.hasOwnProperty(et)&&rt!=null&&et==="onScroll"&&D("scroll",a)}switch(s){case"input":Va(a),db(a,j,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(a.onclick=Bf)}a=$,i.updateQueue=a,a!==null&&(i.flags|=4)}else{et=$.nodeType===9?$:$.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb(s)),o==="http://www.w3.org/1999/xhtml"?s==="script"?(o=et.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof a.is=="string"?o=et.createElement(s,{is:a.is}):(o=et.createElement(s),s==="select"&&(et=o,a.multiple?et.multiple=!0:a.size&&(et.size=a.size))):o=et.createElementNS(o,s),o[Of]=i,o[Pf]=a,zj(o,i,!1,!1),i.stateNode=o;e:{switch(et=vb(s,a),s){case"dialog":D("cancel",o),D("close",o),$=a;break;case"iframe":case"object":case"embed":D("load",o),$=a;break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],o);$=a;break;case"source":D("error",o),$=a;break;case"img":case"image":case"link":D("error",o),D("load",o),$=a;break;case"details":D("toggle",o),$=a;break;case"input":Za(o,a),$=Ya(o,a),D("invalid",o);break;case"option":$=a;break;case"select":o._wrapperState={wasMultiple:!!a.multiple},$=A$1({},a,{value:void 0}),D("invalid",o);break;case"textarea":hb(o,a),$=gb(o,a),D("invalid",o);break;default:$=a}ub(s,$),rt=$;for(j in rt)if(rt.hasOwnProperty(j)){var st=rt[j];j==="style"?sb(o,st):j==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(o,st)):j==="children"?typeof st=="string"?(s!=="textarea"||st!=="")&&ob(o,st):typeof st=="number"&&ob(o,""+st):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?st!=null&&j==="onScroll"&&D("scroll",o):st!=null&&ta(o,j,st,et))}switch(s){case"input":Va(o),db(o,a,!1);break;case"textarea":Va(o),jb(o);break;case"option":a.value!=null&&o.setAttribute("value",""+Sa(a.value));break;case"select":o.multiple=!!a.multiple,j=a.value,j!=null?fb(o,!!a.multiple,j,!1):a.defaultValue!=null&&fb(o,!!a.multiple,a.defaultValue,!0);break;default:typeof $.onClick=="function"&&(o.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S(i),null;case 6:if(o&&i.stateNode!=null)Cj(o,i,o.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(p$1(166));if(s=xh(wh.current),xh(uh.current),Gg(i)){if(a=i.stateNode,s=i.memoizedProps,a[Of]=i,(j=a.nodeValue!==s)&&(o=xg,o!==null))switch(o.tag){case 3:Af(a.nodeValue,s,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(o.mode&1)!==0)}j&&(i.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=i,i.stateNode=a}return S(i),null;case 13:if(E$1(L),a=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,j=!1;else if(j=Gg(i),a!==null&&a.dehydrated!==null){if(o===null){if(!j)throw Error(p$1(318));if(j=i.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(p$1(317));j[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S(i),j=!1}else zg!==null&&(Fj(zg),zg=null),j=!0;if(!j)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(a=a!==null,a!==(o!==null&&o.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(o===null||L.current&1?T===0&&(T=3):tj())),i.updateQueue!==null&&(i.flags|=4),S(i),null);case 4:return zh(),Aj(o,i),o===null&&sf(i.stateNode.containerInfo),S(i),null;case 10:return ah(i.type._context),S(i),null;case 17:return Zf(i.type)&&$f(),S(i),null;case 19:if(E$1(L),j=i.memoizedState,j===null)return S(i),null;if(a=(i.flags&128)!==0,et=j.rendering,et===null)if(a)Dj(j,!1);else{if(T!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(et=Ch(o),et!==null){for(i.flags|=128,Dj(j,!1),a=et.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=s,s=i.child;s!==null;)j=s,o=a,j.flags&=14680066,et=j.alternate,et===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=et.childLanes,j.lanes=et.lanes,j.child=et.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=et.memoizedProps,j.memoizedState=et.memoizedState,j.updateQueue=et.updateQueue,j.type=et.type,o=et.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s=s.sibling;return G(L,L.current&1|2),i.child}o=o.sibling}j.tail!==null&&B()>Gj&&(i.flags|=128,a=!0,Dj(j,!1),i.lanes=4194304)}else{if(!a)if(o=Ch(et),o!==null){if(i.flags|=128,a=!0,s=o.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Dj(j,!0),j.tail===null&&j.tailMode==="hidden"&&!et.alternate&&!I$1)return S(i),null}else 2*B()-j.renderingStartTime>Gj&&s!==1073741824&&(i.flags|=128,a=!0,Dj(j,!1),i.lanes=4194304);j.isBackwards?(et.sibling=i.child,i.child=et):(s=j.last,s!==null?s.sibling=et:i.child=et,j.last=et)}return j.tail!==null?(i=j.tail,j.rendering=i,j.tail=i.sibling,j.renderingStartTime=B(),i.sibling=null,s=L.current,G(L,a?s&1|2:s&1),i):(S(i),null);case 22:case 23:return Hj(),a=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?fj&1073741824&&(S(i),i.subtreeFlags&6&&(i.flags|=8192)):S(i),null;case 24:return null;case 25:return null}throw Error(p$1(156,i.tag))}function Ij(o,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return Bh(i),null;case 13:if(E$1(L),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(p$1(340));Ig()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return E$1(L),null;case 4:return zh(),null;case 10:return ah(i.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(o,i){var s=o.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W$1(o,i,a)}else s.current=null}function Mj(o,i,s){try{s()}catch(a){W$1(o,i,a)}}var Nj=!1;function Oj(o,i){if(Cf=dd,o=Me(),Ne(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{s=(s=o.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var $=a.anchorOffset,j=a.focusNode;a=a.focusOffset;try{s.nodeType,j.nodeType}catch{s=null;break e}var et=0,rt=-1,st=-1,it=0,ot=0,tt=o,_e=null;t:for(;;){for(var nt;tt!==s||$!==0&&tt.nodeType!==3||(rt=et+$),tt!==j||a!==0&&tt.nodeType!==3||(st=et+a),tt.nodeType===3&&(et+=tt.nodeValue.length),(nt=tt.firstChild)!==null;)_e=tt,tt=nt;for(;;){if(tt===o)break t;if(_e===s&&++it===$&&(rt=et),_e===j&&++ot===a&&(st=et),(nt=tt.nextSibling)!==null)break;tt=_e,_e=tt.parentNode}tt=nt}s=rt===-1||st===-1?null:{start:rt,end:st}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:o,selectionRange:s},dd=!1,V$1=i;V$1!==null;)if(i=V$1,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,V$1=o;else for(;V$1!==null;){i=V$1;try{var at=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var lt=at.memoizedProps,ut=at.memoizedState,ct=i.stateNode,dt=ct.getSnapshotBeforeUpdate(i.elementType===i.type?lt:Ci(i.type,lt),ut);ct.__reactInternalSnapshotBeforeUpdate=dt}break;case 3:var ft=i.stateNode.containerInfo;ft.nodeType===1?ft.textContent="":ft.nodeType===9&&ft.documentElement&&ft.removeChild(ft.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(ht){W$1(i,i.return,ht)}if(o=i.sibling,o!==null){o.return=i.return,V$1=o;break}V$1=i.return}return at=Nj,Nj=!1,at}function Pj(o,i,s){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var $=a=a.next;do{if(($.tag&o)===o){var j=$.destroy;$.destroy=void 0,j!==void 0&&Mj(i,s,j)}$=$.next}while($!==a)}}function Qj(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&o)===o){var a=s.create;s.destroy=a()}s=s.next}while(s!==i)}}function Rj(o){var i=o.ref;if(i!==null){var s=o.stateNode;switch(o.tag){case 5:o=s;break;default:o=s}typeof i=="function"?i(o):i.current=o}}function Sj(o){var i=o.alternate;i!==null&&(o.alternate=null,Sj(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Tj(o){return o.tag===5||o.tag===3||o.tag===4}function Uj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Tj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vj(o,i,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(o,i):s.insertBefore(o,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(o,s)):(i=s,i.appendChild(o)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(a!==4&&(o=o.child,o!==null))for(Vj(o,i,s),o=o.sibling;o!==null;)Vj(o,i,s),o=o.sibling}function Wj(o,i,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,i?s.insertBefore(o,i):s.appendChild(o);else if(a!==4&&(o=o.child,o!==null))for(Wj(o,i,s),o=o.sibling;o!==null;)Wj(o,i,s),o=o.sibling}var X$1=null,Xj=!1;function Yj(o,i,s){for(s=s.child;s!==null;)Zj(o,i,s),s=s.sibling}function Zj(o,i,s){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,s)}catch{}switch(s.tag){case 5:U$1||Lj(s,i);case 6:var a=X$1,$=Xj;X$1=null,Yj(o,i,s),X$1=a,Xj=$,X$1!==null&&(Xj?(o=X$1,s=s.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):X$1.removeChild(s.stateNode));break;case 18:X$1!==null&&(Xj?(o=X$1,s=s.stateNode,o.nodeType===8?Kf(o.parentNode,s):o.nodeType===1&&Kf(o,s),bd(o)):Kf(X$1,s.stateNode));break;case 4:a=X$1,$=Xj,X$1=s.stateNode.containerInfo,Xj=!0,Yj(o,i,s),X$1=a,Xj=$;break;case 0:case 11:case 14:case 15:if(!U$1&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){$=a=a.next;do{var j=$,et=j.destroy;j=j.tag,et!==void 0&&(j&2||j&4)&&Mj(s,i,et),$=$.next}while($!==a)}Yj(o,i,s);break;case 1:if(!U$1&&(Lj(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(rt){W$1(s,i,rt)}Yj(o,i,s);break;case 21:Yj(o,i,s);break;case 22:s.mode&1?(U$1=(a=U$1)||s.memoizedState!==null,Yj(o,i,s),U$1=a):Yj(o,i,s);break;default:Yj(o,i,s)}}function ak(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var s=o.stateNode;s===null&&(s=o.stateNode=new Kj),i.forEach(function(a){var $=bk.bind(null,o,a);s.has(a)||(s.add(a),a.then($,$))})}}function ck(o,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var $=s[a];try{var j=o,et=i,rt=et;e:for(;rt!==null;){switch(rt.tag){case 5:X$1=rt.stateNode,Xj=!1;break e;case 3:X$1=rt.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=rt.stateNode.containerInfo,Xj=!0;break e}rt=rt.return}if(X$1===null)throw Error(p$1(160));Zj(j,et,$),X$1=null,Xj=!1;var st=$.alternate;st!==null&&(st.return=null),$.return=null}catch(it){W$1($,i,it)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dk(i,o),i=i.sibling}function dk(o,i){var s=o.alternate,a=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ck(i,o),ek(o),a&4){try{Pj(3,o,o.return),Qj(3,o)}catch(lt){W$1(o,o.return,lt)}try{Pj(5,o,o.return)}catch(lt){W$1(o,o.return,lt)}}break;case 1:ck(i,o),ek(o),a&512&&s!==null&&Lj(s,s.return);break;case 5:if(ck(i,o),ek(o),a&512&&s!==null&&Lj(s,s.return),o.flags&32){var $=o.stateNode;try{ob($,"")}catch(lt){W$1(o,o.return,lt)}}if(a&4&&($=o.stateNode,$!=null)){var j=o.memoizedProps,et=s!==null?s.memoizedProps:j,rt=o.type,st=o.updateQueue;if(o.updateQueue=null,st!==null)try{rt==="input"&&j.type==="radio"&&j.name!=null&&ab($,j),vb(rt,et);var it=vb(rt,j);for(et=0;et<st.length;et+=2){var ot=st[et],tt=st[et+1];ot==="style"?sb($,tt):ot==="dangerouslySetInnerHTML"?nb($,tt):ot==="children"?ob($,tt):ta($,ot,tt,it)}switch(rt){case"input":bb($,j);break;case"textarea":ib($,j);break;case"select":var _e=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!j.multiple;var nt=j.value;nt!=null?fb($,!!j.multiple,nt,!1):_e!==!!j.multiple&&(j.defaultValue!=null?fb($,!!j.multiple,j.defaultValue,!0):fb($,!!j.multiple,j.multiple?[]:"",!1))}$[Pf]=j}catch(lt){W$1(o,o.return,lt)}}break;case 6:if(ck(i,o),ek(o),a&4){if(o.stateNode===null)throw Error(p$1(162));$=o.stateNode,j=o.memoizedProps;try{$.nodeValue=j}catch(lt){W$1(o,o.return,lt)}}break;case 3:if(ck(i,o),ek(o),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd(i.containerInfo)}catch(lt){W$1(o,o.return,lt)}break;case 4:ck(i,o),ek(o);break;case 13:ck(i,o),ek(o),$=o.child,$.flags&8192&&(j=$.memoizedState!==null,$.stateNode.isHidden=j,!j||$.alternate!==null&&$.alternate.memoizedState!==null||(fk=B())),a&4&&ak(o);break;case 22:if(ot=s!==null&&s.memoizedState!==null,o.mode&1?(U$1=(it=U$1)||ot,ck(i,o),U$1=it):ck(i,o),ek(o),a&8192){if(it=o.memoizedState!==null,(o.stateNode.isHidden=it)&&!ot&&o.mode&1)for(V$1=o,ot=o.child;ot!==null;){for(tt=V$1=ot;V$1!==null;){switch(_e=V$1,nt=_e.child,_e.tag){case 0:case 11:case 14:case 15:Pj(4,_e,_e.return);break;case 1:Lj(_e,_e.return);var at=_e.stateNode;if(typeof at.componentWillUnmount=="function"){a=_e,s=_e.return;try{i=a,at.props=i.memoizedProps,at.state=i.memoizedState,at.componentWillUnmount()}catch(lt){W$1(a,s,lt)}}break;case 5:Lj(_e,_e.return);break;case 22:if(_e.memoizedState!==null){gk(tt);continue}}nt!==null?(nt.return=_e,V$1=nt):gk(tt)}ot=ot.sibling}e:for(ot=null,tt=o;;){if(tt.tag===5){if(ot===null){ot=tt;try{$=tt.stateNode,it?(j=$.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(rt=tt.stateNode,st=tt.memoizedProps.style,et=st!=null&&st.hasOwnProperty("display")?st.display:null,rt.style.display=rb("display",et))}catch(lt){W$1(o,o.return,lt)}}}else if(tt.tag===6){if(ot===null)try{tt.stateNode.nodeValue=it?"":tt.memoizedProps}catch(lt){W$1(o,o.return,lt)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===o)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===o)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===o)break e;ot===tt&&(ot=null),tt=tt.return}ot===tt&&(ot=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:ck(i,o),ek(o),a&4&&ak(o);break;case 21:break;default:ck(i,o),ek(o)}}function ek(o){var i=o.flags;if(i&2){try{e:{for(var s=o.return;s!==null;){if(Tj(s)){var a=s;break e}s=s.return}throw Error(p$1(160))}switch(a.tag){case 5:var $=a.stateNode;a.flags&32&&(ob($,""),a.flags&=-33);var j=Uj(o);Wj(o,j,$);break;case 3:case 4:var et=a.stateNode.containerInfo,rt=Uj(o);Vj(o,rt,et);break;default:throw Error(p$1(161))}}catch(st){W$1(o,o.return,st)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function hk(o,i,s){V$1=o,ik(o)}function ik(o,i,s){for(var a=(o.mode&1)!==0;V$1!==null;){var $=V$1,j=$.child;if($.tag===22&&a){var et=$.memoizedState!==null||Jj;if(!et){var rt=$.alternate,st=rt!==null&&rt.memoizedState!==null||U$1;rt=Jj;var it=U$1;if(Jj=et,(U$1=st)&&!it)for(V$1=$;V$1!==null;)et=V$1,st=et.child,et.tag===22&&et.memoizedState!==null?jk($):st!==null?(st.return=et,V$1=st):jk($);for(;j!==null;)V$1=j,ik(j),j=j.sibling;V$1=$,Jj=rt,U$1=it}kk(o)}else $.subtreeFlags&8772&&j!==null?(j.return=$,V$1=j):kk(o)}}function kk(o){for(;V$1!==null;){var i=V$1;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U$1||Qj(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!U$1)if(s===null)a.componentDidMount();else{var $=i.elementType===i.type?s.memoizedProps:Ci(i.type,s.memoizedProps);a.componentDidUpdate($,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var j=i.updateQueue;j!==null&&sh(i,j,a);break;case 3:var et=i.updateQueue;if(et!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}sh(i,et,s)}break;case 5:var rt=i.stateNode;if(s===null&&i.flags&4){s=rt;var st=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&s.focus();break;case"img":st.src&&(s.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var it=i.alternate;if(it!==null){var ot=it.memoizedState;if(ot!==null){var tt=ot.dehydrated;tt!==null&&bd(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||i.flags&512&&Rj(i)}catch(_e){W$1(i,i.return,_e)}}if(i===o){V$1=null;break}if(s=i.sibling,s!==null){s.return=i.return,V$1=s;break}V$1=i.return}}function gk(o){for(;V$1!==null;){var i=V$1;if(i===o){V$1=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V$1=s;break}V$1=i.return}}function jk(o){for(;V$1!==null;){var i=V$1;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Qj(4,i)}catch(st){W$1(i,s,st)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var $=i.return;try{a.componentDidMount()}catch(st){W$1(i,$,st)}}var j=i.return;try{Rj(i)}catch(st){W$1(i,j,st)}break;case 5:var et=i.return;try{Rj(i)}catch(st){W$1(i,et,st)}}}catch(st){W$1(i,i.return,st)}if(i===o){V$1=null;break}var rt=i.sibling;if(rt!==null){rt.return=i.return,V$1=rt;break}V$1=i.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K=0,Q=null,Y$1=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(o){return o.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(o=C,o!==0||(o=window.event,o=o===void 0?16:jd(o.type)),o):1}function gi(o,i,s,a){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(o,s,a),(!(K&2)||o!==Q)&&(o===Q&&(!(K&2)&&(qk|=s),T===4&&Ck(o,Z)),Dk(o,a),s===1&&K===0&&!(i.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(o,i){var s=o.callbackNode;wc(o,i);var a=uc(o,o===Q?Z:0);if(a===0)s!==null&&bc(s),o.callbackNode=null,o.callbackPriority=0;else if(i=a&-a,o.callbackPriority!==i){if(s!=null&&bc(s),i===1)o.tag===0?ig(Ek.bind(null,o)):hg(Ek.bind(null,o)),Jf(function(){!(K&6)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=fc;break;case 4:s=gc;break;case 16:s=hc;break;case 536870912:s=jc;break;default:s=hc}s=Fk(s,Gk.bind(null,o))}o.callbackPriority=i,o.callbackNode=s}}function Gk(o,i){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var s=o.callbackNode;if(Hk()&&o.callbackNode!==s)return null;var a=uc(o,o===Q?Z:0);if(a===0)return null;if(a&30||a&o.expiredLanes||i)i=Ik(o,a);else{i=a;var $=K;K|=2;var j=Jk();(Q!==o||Z!==i)&&(uk=null,Gj=B()+500,Kk(o,i));do try{Lk();break}catch(rt){Mk(o,rt)}while(!0);$g(),mk.current=j,K=$,Y$1!==null?i=0:(Q=null,Z=0,i=T)}if(i!==0){if(i===2&&($=xc(o),$!==0&&(a=$,i=Nk(o,$))),i===1)throw s=pk,Kk(o,0),Ck(o,a),Dk(o,B()),s;if(i===6)Ck(o,a);else{if($=o.current.alternate,!(a&30)&&!Ok($)&&(i=Ik(o,a),i===2&&(j=xc(o),j!==0&&(a=j,i=Nk(o,j))),i===1))throw s=pk,Kk(o,0),Ck(o,a),Dk(o,B()),s;switch(o.finishedWork=$,o.finishedLanes=a,i){case 0:case 1:throw Error(p$1(345));case 2:Pk(o,tk,uk);break;case 3:if(Ck(o,a),(a&130023424)===a&&(i=fk+500-B(),10<i)){if(uc(o,0)!==0)break;if($=o.suspendedLanes,($&a)!==a){R(),o.pingedLanes|=o.suspendedLanes&$;break}o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),i);break}Pk(o,tk,uk);break;case 4:if(Ck(o,a),(a&4194240)===a)break;for(i=o.eventTimes,$=-1;0<a;){var et=31-oc(a);j=1<<et,et=i[et],et>$&&($=et),a&=~j}if(a=$,a=B()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lk(a/1960))-a,10<a){o.timeoutHandle=Ff(Pk.bind(null,o,tk,uk),a);break}Pk(o,tk,uk);break;case 5:Pk(o,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(o,B()),o.callbackNode===s?Gk.bind(null,o):null}function Nk(o,i){var s=sk;return o.current.memoizedState.isDehydrated&&(Kk(o,i).flags|=256),o=Ik(o,i),o!==2&&(i=tk,tk=s,i!==null&&Fj(i)),o}function Fj(o){tk===null?tk=o:tk.push.apply(tk,o)}function Ok(o){for(var i=o;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var $=s[a],j=$.getSnapshot;$=$.value;try{if(!He(j(),$))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ck(o,i){for(i&=~rk,i&=~qk,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var s=31-oc(i),a=1<<s;o[s]=-1,i&=~a}}function Ek(o){if(K&6)throw Error(p$1(327));Hk();var i=uc(o,0);if(!(i&1))return Dk(o,B()),null;var s=Ik(o,i);if(o.tag!==0&&s===2){var a=xc(o);a!==0&&(i=a,s=Nk(o,a))}if(s===1)throw s=pk,Kk(o,0),Ck(o,i),Dk(o,B()),s;if(s===6)throw Error(p$1(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Pk(o,tk,uk),Dk(o,B()),null}function Qk(o,i){var s=K;K|=1;try{return o(i)}finally{K=s,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(o){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var i=K;K|=1;var s=ok.transition,a=C;try{if(ok.transition=null,C=1,o)return o()}finally{C=a,ok.transition=s,K=i,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(o,i){o.finishedWork=null,o.finishedLanes=0;var s=o.timeoutHandle;if(s!==-1&&(o.timeoutHandle=-1,Gf(s)),Y$1!==null)for(s=Y$1.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E$1(L);break;case 19:E$1(L);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}s=s.return}if(Q=o,Y$1=o=Pg(o.current,null),Z=fj=i,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(i=0;i<fh.length;i++)if(s=fh[i],a=s.interleaved,a!==null){s.interleaved=null;var $=a.next,j=s.pending;if(j!==null){var et=j.next;j.next=$,a.next=et}s.pending=a}fh=null}return o}function Mk(o,i){do{var s=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var a=M$1.memoizedState;a!==null;){var $=a.queue;$!==null&&($.pending=null),a=a.next}Ih=!1}if(Hh=0,O$1=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,s===null||s.return===null){T=1,pk=i,Y$1=null;break}e:{var j=o,et=s.return,rt=s,st=i;if(i=Z,rt.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var it=st,ot=rt,tt=ot.tag;if(!(ot.mode&1)&&(tt===0||tt===11||tt===15)){var _e=ot.alternate;_e?(ot.updateQueue=_e.updateQueue,ot.memoizedState=_e.memoizedState,ot.lanes=_e.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var nt=Ui(et);if(nt!==null){nt.flags&=-257,Vi(nt,et,rt,j,i),nt.mode&1&&Si(j,it,i),i=nt,st=it;var at=i.updateQueue;if(at===null){var lt=new Set;lt.add(st),i.updateQueue=lt}else at.add(st);break e}else{if(!(i&1)){Si(j,it,i),tj();break e}st=Error(p$1(426))}}else if(I$1&&rt.mode&1){var ut=Ui(et);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Vi(ut,et,rt,j,i),Jg(Ji(st,rt));break e}}j=st=Ji(st,rt),T!==4&&(T=2),sk===null?sk=[j]:sk.push(j),j=et;do{switch(j.tag){case 3:j.flags|=65536,i&=-i,j.lanes|=i;var ct=Ni(j,st,i);ph(j,ct);break e;case 1:rt=st;var dt=j.type,ft=j.stateNode;if(!(j.flags&128)&&(typeof dt.getDerivedStateFromError=="function"||ft!==null&&typeof ft.componentDidCatch=="function"&&(Ri===null||!Ri.has(ft)))){j.flags|=65536,i&=-i,j.lanes|=i;var ht=Qi(j,rt,i);ph(j,ht);break e}}j=j.return}while(j!==null)}Sk(s)}catch(gt){i=gt,Y$1===s&&s!==null&&(Y$1=s=s.return);continue}break}while(!0)}function Jk(){var o=mk.current;return mk.current=Rh,o===null?Rh:o}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(o,i){var s=K;K|=2;var a=Jk();(Q!==o||Z!==i)&&(uk=null,Kk(o,i));do try{Tk();break}catch($){Mk(o,$)}while(!0);if($g(),K=s,mk.current=a,Y$1!==null)throw Error(p$1(261));return Q=null,Z=0,T}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(o){var i=Vk(o.alternate,o,fj);o.memoizedProps=o.pendingProps,i===null?Sk(o):Y$1=i,nk.current=null}function Sk(o){var i=o;do{var s=i.alternate;if(o=i.return,i.flags&32768){if(s=Ij(s,i),s!==null){s.flags&=32767,Y$1=s;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T=6,Y$1=null;return}}else if(s=Ej(s,i,fj),s!==null){Y$1=s;return}if(i=i.sibling,i!==null){Y$1=i;return}Y$1=i=o}while(i!==null);T===0&&(T=5)}function Pk(o,i,s){var a=C,$=ok.transition;try{ok.transition=null,C=1,Wk(o,i,s,a)}finally{ok.transition=$,C=a}return null}function Wk(o,i,s,a){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));s=o.finishedWork;var $=o.finishedLanes;if(s===null)return null;if(o.finishedWork=null,o.finishedLanes=0,s===o.current)throw Error(p$1(177));o.callbackNode=null,o.callbackPriority=0;var j=s.lanes|s.childLanes;if(Bc(o,j),o===Q&&(Y$1=Q=null,Z=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),j=(s.flags&15990)!==0,s.subtreeFlags&15990||j){j=ok.transition,ok.transition=null;var et=C;C=1;var rt=K;K|=4,nk.current=null,Oj(o,s),dk(s,o),Oe(Df),dd=!!Cf,Df=Cf=null,o.current=s,hk(s),dc(),K=rt,C=et,ok.transition=j}else o.current=s;if(vk&&(vk=!1,wk=o,xk=$),j=o.pendingLanes,j===0&&(Ri=null),mc(s.stateNode),Dk(o,B()),i!==null)for(a=o.onRecoverableError,s=0;s<i.length;s++)$=i[s],a($.value,{componentStack:$.stack,digest:$.digest});if(Oi)throw Oi=!1,o=Pi,Pi=null,o;return xk&1&&o.tag!==0&&Hk(),j=o.pendingLanes,j&1?o===zk?yk++:(yk=0,zk=o):yk=0,jg(),null}function Hk(){if(wk!==null){var o=Dc(xk),i=ok.transition,s=C;try{if(ok.transition=null,C=16>o?16:o,wk===null)var a=!1;else{if(o=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var $=K;for(K|=4,V$1=o.current;V$1!==null;){var j=V$1,et=j.child;if(V$1.flags&16){var rt=j.deletions;if(rt!==null){for(var st=0;st<rt.length;st++){var it=rt[st];for(V$1=it;V$1!==null;){var ot=V$1;switch(ot.tag){case 0:case 11:case 15:Pj(8,ot,j)}var tt=ot.child;if(tt!==null)tt.return=ot,V$1=tt;else for(;V$1!==null;){ot=V$1;var _e=ot.sibling,nt=ot.return;if(Sj(ot),ot===it){V$1=null;break}if(_e!==null){_e.return=nt,V$1=_e;break}V$1=nt}}}var at=j.alternate;if(at!==null){var lt=at.child;if(lt!==null){at.child=null;do{var ut=lt.sibling;lt.sibling=null,lt=ut}while(lt!==null)}}V$1=j}}if(j.subtreeFlags&2064&&et!==null)et.return=j,V$1=et;else e:for(;V$1!==null;){if(j=V$1,j.flags&2048)switch(j.tag){case 0:case 11:case 15:Pj(9,j,j.return)}var ct=j.sibling;if(ct!==null){ct.return=j.return,V$1=ct;break e}V$1=j.return}}var dt=o.current;for(V$1=dt;V$1!==null;){et=V$1;var ft=et.child;if(et.subtreeFlags&2064&&ft!==null)ft.return=et,V$1=ft;else e:for(et=dt;V$1!==null;){if(rt=V$1,rt.flags&2048)try{switch(rt.tag){case 0:case 11:case 15:Qj(9,rt)}}catch(gt){W$1(rt,rt.return,gt)}if(rt===et){V$1=null;break e}var ht=rt.sibling;if(ht!==null){ht.return=rt.return,V$1=ht;break e}V$1=rt.return}}if(K=$,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,o)}catch{}a=!0}return a}finally{C=s,ok.transition=i}}return!1}function Xk(o,i,s){i=Ji(s,i),i=Ni(o,i,1),o=nh(o,i,1),i=R(),o!==null&&(Ac(o,1,i),Dk(o,i))}function W$1(o,i,s){if(o.tag===3)Xk(o,o,s);else for(;i!==null;){if(i.tag===3){Xk(i,o,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ri===null||!Ri.has(a))){o=Ji(s,o),o=Qi(i,o,1),i=nh(i,o,1),o=R(),i!==null&&(Ac(i,1,o),Dk(i,o));break}}i=i.return}}function Ti(o,i,s){var a=o.pingCache;a!==null&&a.delete(i),i=R(),o.pingedLanes|=o.suspendedLanes&s,Q===o&&(Z&s)===s&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(o,0):rk|=s),Dk(o,i)}function Yk(o,i){i===0&&(o.mode&1?(i=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):i=1);var s=R();o=ih(o,i),o!==null&&(Ac(o,i,s),Dk(o,s))}function uj(o){var i=o.memoizedState,s=0;i!==null&&(s=i.retryLane),Yk(o,s)}function bk(o,i){var s=0;switch(o.tag){case 13:var a=o.stateNode,$=o.memoizedState;$!==null&&(s=$.retryLane);break;case 19:a=o.stateNode;break;default:throw Error(p$1(314))}a!==null&&a.delete(i),Yk(o,s)}var Vk;Vk=function(o,i,s){if(o!==null)if(o.memoizedProps!==i.pendingProps||Wf.current)dh=!0;else{if(!(o.lanes&s)&&!(i.flags&128))return dh=!1,yj(o,i,s);dh=!!(o.flags&131072)}else dh=!1,I$1&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;ij(o,i),o=i.pendingProps;var $=Yf(i,H$1.current);ch(i,s),$=Nh(null,i,a,o,$,s);var j=Sh();return i.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(a)?(j=!0,cg(i)):j=!1,i.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,kh(i),$.updater=Ei,i.stateNode=$,$._reactInternals=i,Ii(i,a,o,s),i=jj(null,i,a,!0,j,s)):(i.tag=0,I$1&&j&&vg(i),Xi(null,i,$,s),i=i.child),i;case 16:a=i.elementType;e:{switch(ij(o,i),o=i.pendingProps,$=a._init,a=$(a._payload),i.type=a,$=i.tag=Zk(a),o=Ci(a,o),$){case 0:i=cj(null,i,a,o,s);break e;case 1:i=hj(null,i,a,o,s);break e;case 11:i=Yi(null,i,a,o,s);break e;case 14:i=$i(null,i,a,Ci(a.type,o),s);break e}throw Error(p$1(306,a,""))}return i;case 0:return a=i.type,$=i.pendingProps,$=i.elementType===a?$:Ci(a,$),cj(o,i,a,$,s);case 1:return a=i.type,$=i.pendingProps,$=i.elementType===a?$:Ci(a,$),hj(o,i,a,$,s);case 3:e:{if(kj(i),o===null)throw Error(p$1(387));a=i.pendingProps,j=i.memoizedState,$=j.element,lh(o,i),qh(i,a,null,s);var et=i.memoizedState;if(a=et.element,j.isDehydrated)if(j={element:a,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},i.updateQueue.baseState=j,i.memoizedState=j,i.flags&256){$=Ji(Error(p$1(423)),i),i=lj(o,i,a,s,$);break e}else if(a!==$){$=Ji(Error(p$1(424)),i),i=lj(o,i,a,s,$);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I$1=!0,zg=null,s=Vg(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===$){i=Zi(o,i,s);break e}Xi(o,i,a,s)}i=i.child}return i;case 5:return Ah(i),o===null&&Eg(i),a=i.type,$=i.pendingProps,j=o!==null?o.memoizedProps:null,et=$.children,Ef(a,$)?et=null:j!==null&&Ef(a,j)&&(i.flags|=32),gj(o,i),Xi(o,i,et,s),i.child;case 6:return o===null&&Eg(i),null;case 13:return oj(o,i,s);case 4:return yh(i,i.stateNode.containerInfo),a=i.pendingProps,o===null?i.child=Ug(i,null,a,s):Xi(o,i,a,s),i.child;case 11:return a=i.type,$=i.pendingProps,$=i.elementType===a?$:Ci(a,$),Yi(o,i,a,$,s);case 7:return Xi(o,i,i.pendingProps,s),i.child;case 8:return Xi(o,i,i.pendingProps.children,s),i.child;case 12:return Xi(o,i,i.pendingProps.children,s),i.child;case 10:e:{if(a=i.type._context,$=i.pendingProps,j=i.memoizedProps,et=$.value,G(Wg,a._currentValue),a._currentValue=et,j!==null)if(He(j.value,et)){if(j.children===$.children&&!Wf.current){i=Zi(o,i,s);break e}}else for(j=i.child,j!==null&&(j.return=i);j!==null;){var rt=j.dependencies;if(rt!==null){et=j.child;for(var st=rt.firstContext;st!==null;){if(st.context===a){if(j.tag===1){st=mh(-1,s&-s),st.tag=2;var it=j.updateQueue;if(it!==null){it=it.shared;var ot=it.pending;ot===null?st.next=st:(st.next=ot.next,ot.next=st),it.pending=st}}j.lanes|=s,st=j.alternate,st!==null&&(st.lanes|=s),bh(j.return,s,i),rt.lanes|=s;break}st=st.next}}else if(j.tag===10)et=j.type===i.type?null:j.child;else if(j.tag===18){if(et=j.return,et===null)throw Error(p$1(341));et.lanes|=s,rt=et.alternate,rt!==null&&(rt.lanes|=s),bh(et,s,i),et=j.sibling}else et=j.child;if(et!==null)et.return=j;else for(et=j;et!==null;){if(et===i){et=null;break}if(j=et.sibling,j!==null){j.return=et.return,et=j;break}et=et.return}j=et}Xi(o,i,$.children,s),i=i.child}return i;case 9:return $=i.type,a=i.pendingProps.children,ch(i,s),$=eh($),a=a($),i.flags|=1,Xi(o,i,a,s),i.child;case 14:return a=i.type,$=Ci(a,i.pendingProps),$=Ci(a.type,$),$i(o,i,a,$,s);case 15:return bj(o,i,i.type,i.pendingProps,s);case 17:return a=i.type,$=i.pendingProps,$=i.elementType===a?$:Ci(a,$),ij(o,i),i.tag=1,Zf(a)?(o=!0,cg(i)):o=!1,ch(i,s),Gi(i,a,$),Ii(i,a,$,s),jj(null,i,a,!0,o,s);case 19:return xj(o,i,s);case 22:return dj(o,i,s)}throw Error(p$1(156,i.tag))};function Fk(o,i){return ac(o,i)}function $k(o,i,s,a){this.tag=o,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,i,s,a){return new $k(o,i,s,a)}function aj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zk(o){if(typeof o=="function")return aj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da)return 11;if(o===Ga)return 14}return 2}function Pg(o,i){var s=o.alternate;return s===null?(s=Bg(o.tag,i,o.key,o.mode),s.elementType=o.elementType,s.type=o.type,s.stateNode=o.stateNode,s.alternate=o,o.alternate=s):(s.pendingProps=i,s.type=o.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=o.flags&14680064,s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=o.sibling,s.index=o.index,s.ref=o.ref,s}function Rg(o,i,s,a,$,j){var et=2;if(a=o,typeof o=="function")aj(o)&&(et=1);else if(typeof o=="string")et=5;else e:switch(o){case ya:return Tg(s.children,$,j,i);case za:et=8,$|=8;break;case Aa:return o=Bg(12,s,i,$|2),o.elementType=Aa,o.lanes=j,o;case Ea:return o=Bg(13,s,i,$),o.elementType=Ea,o.lanes=j,o;case Fa:return o=Bg(19,s,i,$),o.elementType=Fa,o.lanes=j,o;case Ia:return pj(s,$,j,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba:et=10;break e;case Ca:et=9;break e;case Da:et=11;break e;case Ga:et=14;break e;case Ha:et=16,a=null;break e}throw Error(p$1(130,o==null?o:typeof o,""))}return i=Bg(et,s,i,$),i.elementType=o,i.type=a,i.lanes=j,i}function Tg(o,i,s,a){return o=Bg(7,o,a,i),o.lanes=s,o}function pj(o,i,s,a){return o=Bg(22,o,a,i),o.elementType=Ia,o.lanes=s,o.stateNode={isHidden:!1},o}function Qg(o,i,s){return o=Bg(6,o,null,i),o.lanes=s,o}function Sg(o,i,s){return i=Bg(4,o.children!==null?o.children:[],o.key,i),i.lanes=s,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function al(o,i,s,a,$){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function bl(o,i,s,a,$,j,et,rt,st){return o=new al(o,i,s,rt,st),i===1?(i=1,j===!0&&(i|=8)):i=0,j=Bg(3,null,null,i),o.current=j,j.stateNode=o,j.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(j),o}function cl(o,i,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:a==null?null:""+a,children:o,containerInfo:i,implementation:s}}function dl(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb(o)!==o||o.tag!==1)throw Error(p$1(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$1(171))}if(o.tag===1){var s=o.type;if(Zf(s))return bg(o,s,i)}return i}function el(o,i,s,a,$,j,et,rt,st){return o=bl(s,a,!0,o,$,j,et,rt,st),o.context=dl(null),s=o.current,a=R(),$=yi(s),j=mh(a,$),j.callback=i??null,nh(s,j,$),o.current.lanes=$,Ac(o,$,a),Dk(o,a),o}function fl(o,i,s,a){var $=i.current,j=R(),et=yi($);return s=dl(s),i.context===null?i.context=s:i.pendingContext=s,i=mh(j,et),i.payload={element:o},a=a===void 0?null:a,a!==null&&(i.callback=a),o=nh($,i,et),o!==null&&(gi(o,$,et,j),oh(o,$,et)),et}function gl$1(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function hl(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var s=o.retryLane;o.retryLane=s!==0&&s<i?s:i}}function il(o,i){hl(o,i),(o=o.alternate)&&hl(o,i)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(o){console.error(o)};function ll(o){this._internalRoot=o}ml.prototype.render=ll.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(p$1(409));fl(o,i,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;Rk(function(){fl(null,o,null,null)}),i[uf]=null}};function ml(o){this._internalRoot=o}ml.prototype.unstable_scheduleHydration=function(o){if(o){var i=Hc();o={blockedOn:null,target:o,priority:i};for(var s=0;s<Qc.length&&i!==0&&i<Qc[s].priority;s++);Qc.splice(s,0,o),s===0&&Vc(o)}};function nl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(o,i,s,a,$){if($){if(typeof a=="function"){var j=a;a=function(){var it=gl$1(et);j.call(it)}}var et=el(i,a,o,0,null,!1,!1,"",pl);return o._reactRootContainer=et,o[uf]=et.current,sf(o.nodeType===8?o.parentNode:o),Rk(),et}for(;$=o.lastChild;)o.removeChild($);if(typeof a=="function"){var rt=a;a=function(){var it=gl$1(st);rt.call(it)}}var st=bl(o,0,!1,null,null,!1,!1,"",pl);return o._reactRootContainer=st,o[uf]=st.current,sf(o.nodeType===8?o.parentNode:o),Rk(function(){fl(i,st,s,a)}),st}function rl(o,i,s,a,$){var j=s._reactRootContainer;if(j){var et=j;if(typeof $=="function"){var rt=$;$=function(){var st=gl$1(et);rt.call(st)}}fl(i,et,o,$)}else et=ql(s,i,o,$,a);return gl$1(et)}Ec=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc(i.pendingLanes);s!==0&&(Cc(i,s|1),Dk(i,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var a=ih(o,1);if(a!==null){var $=R();gi(a,o,1,$)}}),il(o,1)}};Fc=function(o){if(o.tag===13){var i=ih(o,134217728);if(i!==null){var s=R();gi(i,o,134217728,s)}il(o,134217728)}};Gc=function(o){if(o.tag===13){var i=yi(o),s=ih(o,i);if(s!==null){var a=R();gi(s,o,i,a)}il(o,i)}};Hc=function(){return C};Ic=function(o,i){var s=C;try{return C=o,i()}finally{C=s}};yb=function(o,i,s){switch(i){case"input":if(bb(o,s),i=s.name,s.type==="radio"&&i!=null){for(s=o;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==o&&a.form===o.form){var $=Db(a);if(!$)throw Error(p$1(90));Wa(a),bb(a,$)}}}break;case"textarea":ib(o,s);break;case"select":i=s.value,i!=null&&fb(o,!!s.multiple,i,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb(o),o===null?null:o.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(o,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i))throw Error(p$1(200));return cl(o,i,null,s)};reactDom_production_min.createRoot=function(o,i){if(!nl(o))throw Error(p$1(299));var s=!1,a="",$=kl;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&($=i.onRecoverableError)),i=bl(o,1,!1,null,null,s,!1,a,$),o[uf]=i.current,sf(o.nodeType===8?o.parentNode:o),new ll(i)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(p$1(188)):(o=Object.keys(o).join(","),Error(p$1(268,o)));return o=Zb(i),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Rk(o)};reactDom_production_min.hydrate=function(o,i,s){if(!ol(i))throw Error(p$1(200));return rl(null,o,i,!0,s)};reactDom_production_min.hydrateRoot=function(o,i,s){if(!nl(o))throw Error(p$1(405));var a=s!=null&&s.hydratedSources||null,$=!1,j="",et=kl;if(s!=null&&(s.unstable_strictMode===!0&&($=!0),s.identifierPrefix!==void 0&&(j=s.identifierPrefix),s.onRecoverableError!==void 0&&(et=s.onRecoverableError)),i=el(i,null,o,1,s??null,$,!1,j,et),o[uf]=i.current,sf(o),a)for(o=0;o<a.length;o++)s=a[o],$=s._getVersion,$=$(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,$]:i.mutableSourceEagerHydrationData.push(s,$);return new ml(i)};reactDom_production_min.render=function(o,i,s){if(!ol(i))throw Error(p$1(200));return rl(null,o,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(o){if(!ol(o))throw Error(p$1(40));return o._reactRootContainer?(Rk(function(){rl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,i,s,a){if(!ol(s))throw Error(p$1(200));if(o==null||o._reactInternals===void 0)throw Error(p$1(38));return rl(o,i,s,!1,a)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;const cx=(...o)=>o.filter(Boolean).map(i=>i.trim()).join(" ");function getErrorMessage$1(o,i){return`${o} returned \`undefined\`. Seems you forgot to wrap component within ${i}`}function createContext$1(o={}){const{name:i,strict:s=!0,hookName:a="useContext",providerName:$="Provider",errorMessage:j,defaultValue:et}=o,rt=reactExports.createContext(et);rt.displayName=i;function st(){var ot;const it=reactExports.useContext(rt);if(!it&&s){const tt=new Error(j??getErrorMessage$1(a,$));throw tt.name="ContextError",(ot=Error.captureStackTrace)==null||ot.call(Error,tt,st),tt}return it}return[rt.Provider,st,rt]}function callAll$1(...o){return function(...s){o.forEach(a=>a==null?void 0:a(...s))}}const clsx$1=(...o)=>o.map(i=>{var s;return(s=i==null?void 0:i.trim)==null?void 0:s.call(i)}).filter(Boolean).join(" "),eventRegex=/^on[A-Z]/;function mergeProps$1(...o){let i={};for(let s of o){for(let a in i){if(eventRegex.test(a)&&typeof i[a]=="function"&&typeof s[a]=="function"){i[a]=callAll$1(i[a],s[a]);continue}if(a==="className"||a==="class"){i[a]=clsx$1(i[a],s[a]);continue}if(a==="style"){i[a]=Object.assign({},i[a]??{},s[a]??{});continue}i[a]=s[a]!==void 0?s[a]:i[a]}for(let a in s)i[a]===void 0&&(i[a]=s[a])}return i}const EMPTY_STYLES=Object.freeze({}),EMPTY_SLOT_STYLES=Object.freeze({});function memoize(o){var i=Object.create(null);return function(s){return i[s]===void 0&&(i[s]=o(s)),i[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid$1=memoize(function(o){return reactPropsRegex.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91});function sheetForTag(o){if(o.sheet)return o.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===o)return document.styleSheets[i]}function createStyleElement(o){var i=document.createElement("style");return i.setAttribute("data-emotion",o.key),o.nonce!==void 0&&i.setAttribute("nonce",o.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var StyleSheet=function(){function o(s){var a=this;this._insertTag=function($){var j;a.tags.length===0?a.insertionPoint?j=a.insertionPoint.nextSibling:a.prepend?j=a.container.firstChild:j=a.before:j=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore($,j),a.tags.push($)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var i=o.prototype;return i.hydrate=function(a){a.forEach(this._insertTag)},i.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var $=this.tags[this.tags.length-1];if(this.isSpeedy){var j=sheetForTag($);try{j.insertRule(a,j.cssRules.length)}catch{}}else $.appendChild(document.createTextNode(a));this.ctr++},i.flush=function(){this.tags.forEach(function(a){var $;return($=a.parentNode)==null?void 0:$.removeChild(a)}),this.tags=[],this.ctr=0},o}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(o,i){return charat(o,0)^45?(((i<<2^charat(o,0))<<2^charat(o,1))<<2^charat(o,2))<<2^charat(o,3):0}function trim(o){return o.trim()}function match$3(o,i){return(o=i.exec(o))?o[0]:o}function replace(o,i,s){return o.replace(i,s)}function indexof(o,i){return o.indexOf(i)}function charat(o,i){return o.charCodeAt(i)|0}function substr(o,i,s){return o.slice(i,s)}function strlen(o){return o.length}function sizeof(o){return o.length}function append(o,i){return i.push(o),o}function combine(o,i){return o.map(i).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(o,i,s,a,$,j,et){return{value:o,root:i,parent:s,type:a,props:$,children:j,line,column,length:et,return:""}}function copy$1(o,i){return assign(node("",null,null,"",null,null,0),o,{length:-o.length},i)}function char(){return character}function prev$1(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next$1(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$1(o,i){return substr(characters,o,i)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(o){return line=column=1,length=strlen(characters=o),position=0,[]}function dealloc(o){return characters="",o}function delimit(o){return trim(slice$1(position-1,delimiter(o===91?o+2:o===40?o+1:o)))}function whitespace(o){for(;(character=peek())&&character<33;)next$1();return token(o)>2||token(character)>3?"":" "}function escaping(o,i){for(;--i&&next$1()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(o,caret()+(i<6&&peek()==32&&next$1()==32))}function delimiter(o){for(;next$1();)switch(character){case o:return position;case 34:case 39:o!==34&&o!==39&&delimiter(character);break;case 40:o===41&&delimiter(o);break;case 92:next$1();break}return position}function commenter(o,i){for(;next$1()&&o+character!==57;)if(o+character===84&&peek()===47)break;return"/*"+slice$1(i,position-1)+"*"+from(o===47?o:next$1())}function identifier(o){for(;!token(peek());)next$1();return slice$1(o,position)}function compile(o){return dealloc(parse$1("",null,null,null,[""],o=alloc(o),0,[0],o))}function parse$1(o,i,s,a,$,j,et,rt,st){for(var it=0,ot=0,tt=et,_e=0,nt=0,at=0,lt=1,ut=1,ct=1,dt=0,ft="",ht=$,gt=j,yt=a,bt=ft;ut;)switch(at=dt,dt=next$1()){case 40:if(at!=108&&charat(bt,tt-1)==58){indexof(bt+=replace(delimit(dt),"&","&\f"),"&\f")!=-1&&(ct=-1);break}case 34:case 39:case 91:bt+=delimit(dt);break;case 9:case 10:case 13:case 32:bt+=whitespace(at);break;case 92:bt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next$1(),caret()),i,s),st);break;default:bt+="/"}break;case 123*lt:rt[it++]=strlen(bt)*ct;case 125*lt:case 59:case 0:switch(dt){case 0:case 125:ut=0;case 59+ot:ct==-1&&(bt=replace(bt,/\f/g,"")),nt>0&&strlen(bt)-tt&&append(nt>32?declaration(bt+";",a,s,tt-1):declaration(replace(bt," ","")+";",a,s,tt-2),st);break;case 59:bt+=";";default:if(append(yt=ruleset(bt,i,s,it,ot,$,rt,ft,ht=[],gt=[],tt),j),dt===123)if(ot===0)parse$1(bt,i,yt,yt,ht,j,tt,rt,gt);else switch(_e===99&&charat(bt,3)===110?100:_e){case 100:case 108:case 109:case 115:parse$1(o,yt,yt,a&&append(ruleset(o,yt,yt,0,0,$,rt,ft,$,ht=[],tt),gt),$,gt,tt,rt,a?ht:gt);break;default:parse$1(bt,yt,yt,yt,[""],gt,0,rt,gt)}}it=ot=nt=0,lt=ct=1,ft=bt="",tt=et;break;case 58:tt=1+strlen(bt),nt=at;default:if(lt<1){if(dt==123)--lt;else if(dt==125&&lt++==0&&prev$1()==125)continue}switch(bt+=from(dt),dt*lt){case 38:ct=ot>0?1:(bt+="\f",-1);break;case 44:rt[it++]=(strlen(bt)-1)*ct,ct=1;break;case 64:peek()===45&&(bt+=delimit(next$1())),_e=peek(),ot=tt=strlen(ft=bt+=identifier(caret())),dt++;break;case 45:at===45&&strlen(bt)==2&&(lt=0)}}return j}function ruleset(o,i,s,a,$,j,et,rt,st,it,ot){for(var tt=$-1,_e=$===0?j:[""],nt=sizeof(_e),at=0,lt=0,ut=0;at<a;++at)for(var ct=0,dt=substr(o,tt+1,tt=abs(lt=et[at])),ft=o;ct<nt;++ct)(ft=trim(lt>0?_e[ct]+" "+dt:replace(dt,/&\f/g,_e[ct])))&&(st[ut++]=ft);return node(o,i,s,$===0?RULESET:rt,st,it,ot)}function comment(o,i,s){return node(o,i,s,COMMENT,from(char()),substr(o,2,-2),0)}function declaration(o,i,s,a){return node(o,i,s,DECLARATION,substr(o,0,a),substr(o,a+1,-1),a)}function serialize$1(o,i){for(var s="",a=sizeof(o),$=0;$<a;$++)s+=i(o[$],$,o,i)||"";return s}function stringify$2(o,i,s,a){switch(o.type){case LAYER:if(o.children.length)break;case IMPORT:case DECLARATION:return o.return=o.return||o.value;case COMMENT:return"";case KEYFRAMES:return o.return=o.value+"{"+serialize$1(o.children,a)+"}";case RULESET:o.value=o.props.join(",")}return strlen(s=serialize$1(o.children,a))?o.return=o.value+"{"+s+"}":""}function middleware(o){var i=sizeof(o);return function(s,a,$,j){for(var et="",rt=0;rt<i;rt++)et+=o[rt](s,a,$,j)||"";return et}}function rulesheet(o){return function(i){i.root||(i=i.return)&&o(i)}}var identifierWithPointTracking=function(i,s,a){for(var $=0,j=0;$=j,j=peek(),$===38&&j===12&&(s[a]=1),!token(j);)next$1();return slice$1(i,position)},toRules=function(i,s){var a=-1,$=44;do switch(token($)){case 0:$===38&&peek()===12&&(s[a]=1),i[a]+=identifierWithPointTracking(position-1,s,a);break;case 2:i[a]+=delimit($);break;case 4:if($===44){i[++a]=peek()===58?"&\f":"",s[a]=i[a].length;break}default:i[a]+=from($)}while($=next$1());return i},getRules=function(i,s){return dealloc(toRules(alloc(i),s))},fixedElements=new WeakMap,compat=function(i){if(!(i.type!=="rule"||!i.parent||i.length<1)){for(var s=i.value,a=i.parent,$=i.column===a.column&&i.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(i.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(a))&&!$){fixedElements.set(i,!0);for(var j=[],et=getRules(s,j),rt=a.props,st=0,it=0;st<et.length;st++)for(var ot=0;ot<rt.length;ot++,it++)i.props[it]=j[st]?et[st].replace(/&\f/g,rt[ot]):rt[ot]+" "+et[st]}}},removeLabel=function(i){if(i.type==="decl"){var s=i.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(i.return="",i.value="")}};function prefix$1(o,i){switch(hash(o,i)){case 5103:return WEBKIT+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+o+MOZ+o+MS+o+o;case 6828:case 4268:return WEBKIT+o+MS+o+o;case 6165:return WEBKIT+o+MS+"flex-"+o+o;case 5187:return WEBKIT+o+replace(o,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+o;case 5443:return WEBKIT+o+MS+"flex-item-"+replace(o,/flex-|-self/,"")+o;case 4675:return WEBKIT+o+MS+"flex-line-pack"+replace(o,/align-content|flex-|-self/,"")+o;case 5548:return WEBKIT+o+MS+replace(o,"shrink","negative")+o;case 5292:return WEBKIT+o+MS+replace(o,"basis","preferred-size")+o;case 6060:return WEBKIT+"box-"+replace(o,"-grow","")+WEBKIT+o+MS+replace(o,"grow","positive")+o;case 4554:return WEBKIT+replace(o,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+o;case 6187:return replace(replace(replace(o,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),o,"")+o;case 5495:case 3959:return replace(o,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(o,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+o+o;case 4095:case 3583:case 4068:case 2532:return replace(o,/(.+)-inline(.+)/,WEBKIT+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(o)-1-i>6)switch(charat(o,i+1)){case 109:if(charat(o,i+4)!==45)break;case 102:return replace(o,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(o,i+3)==108?"$3":"$2-$3"))+o;case 115:return~indexof(o,"stretch")?prefix$1(replace(o,"stretch","fill-available"),i)+o:o}break;case 4949:if(charat(o,i+1)!==115)break;case 6444:switch(charat(o,strlen(o)-3-(~indexof(o,"!important")&&10))){case 107:return replace(o,":",":"+WEBKIT)+o;case 101:return replace(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(o,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+o}break;case 5936:switch(charat(o,i+11)){case 114:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return WEBKIT+o+MS+o+o}return o}var prefixer=function(i,s,a,$){if(i.length>-1&&!i.return)switch(i.type){case DECLARATION:i.return=prefix$1(i.value,i.length);break;case KEYFRAMES:return serialize$1([copy$1(i,{value:replace(i.value,"@","@"+WEBKIT)})],$);case RULESET:if(i.length)return combine(i.props,function(j){switch(match$3(j,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$1([copy$1(i,{props:[replace(j,/:(read-\w+)/,":"+MOZ+"$1")]})],$);case"::placeholder":return serialize$1([copy$1(i,{props:[replace(j,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$1(i,{props:[replace(j,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$1(i,{props:[replace(j,/:(plac\w+)/,MS+"input-$1")]})],$)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(i){var s=i.key;if(s==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(lt){var ut=lt.getAttribute("data-emotion");ut.indexOf(" ")!==-1&&(document.head.appendChild(lt),lt.setAttribute("data-s",""))})}var $=i.stylisPlugins||defaultStylisPlugins,j={},et,rt=[];et=i.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(lt){for(var ut=lt.getAttribute("data-emotion").split(" "),ct=1;ct<ut.length;ct++)j[ut[ct]]=!0;rt.push(lt)});var st,it=[compat,removeLabel];{var ot,tt=[stringify$2,rulesheet(function(lt){ot.insert(lt)})],_e=middleware(it.concat($,tt)),nt=function(ut){return serialize$1(compile(ut),_e)};st=function(ut,ct,dt,ft){ot=dt,nt(ut?ut+"{"+ct.styles+"}":ct.styles),ft&&(at.inserted[ct.name]=!0)}}var at={key:s,sheet:new StyleSheet({key:s,container:et,nonce:i.nonce,speedy:i.speedy,prepend:i.prepend,insertionPoint:i.insertionPoint}),nonce:i.nonce,inserted:j,registered:{},insert:st};return at.sheet.hydrate(rt),at},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f=b$1?Symbol.for("react.strict_mode"):60108,g=b$1?Symbol.for("react.profiler"):60114,h=b$1?Symbol.for("react.provider"):60109,k=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p=b$1?Symbol.for("react.suspense"):60113,q=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y=b$1?Symbol.for("react.scope"):60119;function z$1(o){if(typeof o=="object"&&o!==null){var i=o.$$typeof;switch(i){case c:switch(o=o.type,o){case l:case m:case e:case g:case f:case p:return o;default:switch(o=o&&o.$$typeof,o){case k:case n:case t:case r:case h:return o;default:return i}}case d:return i}}}function A(o){return z$1(o)===m}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m;reactIs_production_min.ContextConsumer=k;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(o){return A(o)||z$1(o)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(o){return z$1(o)===k};reactIs_production_min.isContextProvider=function(o){return z$1(o)===h};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c};reactIs_production_min.isForwardRef=function(o){return z$1(o)===n};reactIs_production_min.isFragment=function(o){return z$1(o)===e};reactIs_production_min.isLazy=function(o){return z$1(o)===t};reactIs_production_min.isMemo=function(o){return z$1(o)===r};reactIs_production_min.isPortal=function(o){return z$1(o)===d};reactIs_production_min.isProfiler=function(o){return z$1(o)===g};reactIs_production_min.isStrictMode=function(o){return z$1(o)===f};reactIs_production_min.isSuspense=function(o){return z$1(o)===p};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e||o===m||o===g||o===f||o===p||o===q||typeof o=="object"&&o!==null&&(o.$$typeof===t||o.$$typeof===r||o.$$typeof===h||o.$$typeof===k||o.$$typeof===n||o.$$typeof===w$1||o.$$typeof===x$1||o.$$typeof===y||o.$$typeof===v)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(o,i,s){var a="";return s.split(" ").forEach(function($){o[$]!==void 0?i.push(o[$]+";"):$&&(a+=$+" ")}),a}var registerStyles=function(i,s,a){var $=i.key+"-"+s.name;(a===!1||isBrowser$1===!1)&&i.registered[$]===void 0&&(i.registered[$]=s.styles)},insertStyles=function(i,s,a){registerStyles(i,s,a);var $=i.key+"-"+s.name;if(i.inserted[s.name]===void 0){var j=s;do i.insert(s===j?"."+$:"",j,i.sheet,!0),j=j.next;while(j!==void 0)}};function murmur2(o){for(var i=0,s,a=0,$=o.length;$>=4;++a,$-=4)s=o.charCodeAt(a)&255|(o.charCodeAt(++a)&255)<<8|(o.charCodeAt(++a)&255)<<16|(o.charCodeAt(++a)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,i=(s&65535)*1540483477+((s>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch($){case 3:i^=(o.charCodeAt(a+2)&255)<<16;case 2:i^=(o.charCodeAt(a+1)&255)<<8;case 1:i^=o.charCodeAt(a)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(i){return i.charCodeAt(1)===45},isProcessableValue=function(i){return i!=null&&typeof i!="boolean"},processStyleName=memoize(function(o){return isCustomProperty(o)?o:o.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(i,s){switch(i){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function(a,$,j){return cursor$1={name:$,styles:j,next:cursor$1},$})}return unitlessKeys[i]!==1&&!isCustomProperty(i)&&typeof s=="number"&&s!==0?s+"px":s};function handleInterpolation(o,i,s){if(s==null)return"";var a=s;if(a.__emotion_styles!==void 0)return a;switch(typeof s){case"boolean":return"";case"object":{var $=s;if($.anim===1)return cursor$1={name:$.name,styles:$.styles,next:cursor$1},$.name;var j=s;if(j.styles!==void 0){var et=j.next;if(et!==void 0)for(;et!==void 0;)cursor$1={name:et.name,styles:et.styles,next:cursor$1},et=et.next;var rt=j.styles+";";return rt}return createStringFromObject(o,i,s)}case"function":{if(o!==void 0){var st=cursor$1,it=s(o);return cursor$1=st,handleInterpolation(o,i,it)}break}}var ot=s;if(i==null)return ot;var tt=i[ot];return tt!==void 0?tt:ot}function createStringFromObject(o,i,s){var a="";if(Array.isArray(s))for(var $=0;$<s.length;$++)a+=handleInterpolation(o,i,s[$])+";";else for(var j in s){var et=s[j];if(typeof et!="object"){var rt=et;i!=null&&i[rt]!==void 0?a+=j+"{"+i[rt]+"}":isProcessableValue(rt)&&(a+=processStyleName(j)+":"+processStyleValue(j,rt)+";")}else if(Array.isArray(et)&&typeof et[0]=="string"&&(i==null||i[et[0]]===void 0))for(var st=0;st<et.length;st++)isProcessableValue(et[st])&&(a+=processStyleName(j)+":"+processStyleValue(j,et[st])+";");else{var it=handleInterpolation(o,i,et);switch(j){case"animation":case"animationName":{a+=processStyleName(j)+":"+it+";";break}default:a+=j+"{"+it+"}"}}}return a}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor$1;function serializeStyles(o,i,s){if(o.length===1&&typeof o[0]=="object"&&o[0]!==null&&o[0].styles!==void 0)return o[0];var a=!0,$="";cursor$1=void 0;var j=o[0];if(j==null||j.raw===void 0)a=!1,$+=handleInterpolation(s,i,j);else{var et=j;$+=et[0]}for(var rt=1;rt<o.length;rt++)if($+=handleInterpolation(s,i,o[rt]),a){var st=j;$+=st[rt]}labelPattern.lastIndex=0;for(var it="",ot;(ot=labelPattern.exec($))!==null;)it+="-"+ot[1];var tt=murmur2($)+it;return{name:tt,styles:$,next:cursor$1}}var syncFallback=function(i){return i()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(i){return reactExports.forwardRef(function(s,a){var $=reactExports.useContext(EmotionCacheContext);return i(s,$,a)})},ThemeContext=reactExports.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(i,s){var a={};for(var $ in s)hasOwn.call(s,$)&&(a[$]=s[$]);return a[typePropName]=i,a},Insertion$1=function(i){var s=i.cache,a=i.serialized,$=i.isStringTag;return registerStyles(s,a,$),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,a,$)}),null},Emotion=withEmotionCache(function(o,i,s){var a=o.css;typeof a=="string"&&i.registered[a]!==void 0&&(a=i.registered[a]);var $=o[typePropName],j=[a],et="";typeof o.className=="string"?et=getRegisteredStyles(i.registered,j,o.className):o.className!=null&&(et=o.className+" ");var rt=serializeStyles(j,void 0,reactExports.useContext(ThemeContext));et+=i.key+"-"+rt.name;var st={};for(var it in o)hasOwn.call(o,it)&&it!=="css"&&it!==typePropName&&(st[it]=o[it]);return st.className=et,s&&(st.ref=s),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:i,serialized:rt,isStringTag:typeof $=="string"}),reactExports.createElement($,st))}),Emotion$1=Emotion,jsx=function(i,s){var a=arguments;if(s==null||!hasOwn.call(s,"css"))return reactExports.createElement.apply(void 0,a);var $=a.length,j=new Array($);j[0]=Emotion$1,j[1]=createEmotionProps(i,s);for(var et=2;et<$;et++)j[et]=a[et];return reactExports.createElement.apply(null,j)};(function(o){var i;i||(i=o.JSX||(o.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(o,i){var s=o.styles,a=serializeStyles([s],void 0,reactExports.useContext(ThemeContext)),$=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var j=i.key+"-global",et=new i.sheet.constructor({key:j,nonce:i.sheet.nonce,container:i.sheet.container,speedy:i.sheet.isSpeedy}),rt=!1,st=document.querySelector('style[data-emotion="'+j+" "+a.name+'"]');return i.sheet.tags.length&&(et.before=i.sheet.tags[0]),st!==null&&(rt=!0,st.setAttribute("data-emotion",j),et.hydrate([st])),$.current=[et,rt],function(){et.flush()}},[i]),useInsertionEffectWithLayoutFallback(function(){var j=$.current,et=j[0],rt=j[1];if(rt){j[1]=!1;return}if(a.next!==void 0&&insertStyles(i,a.next,!0),et.tags.length){var st=et.tags[et.tags.length-1].nextElementSibling;et.before=st,et.flush()}i.insert("",a,et,!1)},[i,a.name]),null});function css$2(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return serializeStyles(i)}function assignRef(o,i){if(o!=null){if(typeof o=="function"){o(i);return}try{o.current=i}catch{throw new Error(`Cannot assign value '${i}' to ref '${o}'`)}}}function mergeRefs(...o){return i=>{o.forEach(s=>{assignRef(s,i)})}}function compact$1(o){const i=Object.assign({},o);for(let s in i)i[s]===void 0&&delete i[s];return i}function interopDefault(o){return o.default||o}const isObject$4=o=>o!=null&&typeof o=="object"&&!Array.isArray(o),isString$3=o=>typeof o=="string",isFunction$2=o=>typeof o=="function";function getElementRef(o){var s;const i=reactExports.version;return!isString$3(i)||i.startsWith("18.")?o==null?void 0:o.ref:(s=o==null?void 0:o.props)==null?void 0:s.ref}const[ChakraContextProvider,useChakraContext]=createContext$1({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function ChakraProvider(o){const{value:i,children:s}=o;return jsxRuntimeExports.jsxs(ChakraContextProvider,{value:i,children:[!i._config.disableLayers&&jsxRuntimeExports.jsx(Global,{styles:i.layers.atRule}),jsxRuntimeExports.jsx(Global,{styles:i._global}),s]})}const splitPropFn=(o,i)=>{const s={},a={},$=Object.keys(o);for(const j of $)i(j)?a[j]=o[j]:s[j]=o[j];return[a,s]},splitProps=(o,i)=>{const s=isFunction$2(i)?i:a=>i.includes(a);return splitPropFn(o,s)},htmlProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function isHtmlProp(o){return typeof o=="string"&&htmlProps.has(o)}function useResolvedProps(o,i,s){const{css:a,isValidProperty:$}=useChakraContext(),{children:j,...et}=o,rt=reactExports.useMemo(()=>{const[_e,nt]=splitProps(et,dt=>s(dt,i.variantKeys)),[at,lt]=splitProps(nt,i.variantKeys),[ut,ct]=splitProps(lt,$);return{forwardedProps:_e,variantProps:at,styleProps:ut,elementProps:ct}},[i.variantKeys,s,et,$]),{css:st,...it}=rt.styleProps,ot=reactExports.useMemo(()=>{const _e={...rt.variantProps};return i.variantKeys.includes("colorPalette")||(_e.colorPalette=et.colorPalette),i.variantKeys.includes("orientation")||(_e.orientation=et.orientation),i(_e)},[i,rt.variantProps,et.colorPalette,et.orientation]);return{styles:reactExports.useMemo(()=>a(ot,...toArray$1(st),it),[a,ot,st,it]),props:{...rt.forwardedProps,...rt.elementProps,children:j}}}const toArray$1=o=>(Array.isArray(o)?o:[o]).filter(Boolean).flat(),isPropValid=interopDefault(isPropValid$1),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=o=>o!=="theme",composeShouldForwardProps=(o,i,s)=>{let a;if(i){const $=i.shouldForwardProp;a=o.__emotion_forwardProp&&$?j=>o.__emotion_forwardProp(j)&&$(j):$}return typeof a!="function"&&s&&(a=o.__emotion_forwardProp),a};let isBrowser=typeof document<"u";const Insertion=({cache:o,serialized:i,isStringTag:s})=>{registerStyles(o,i,s);const a=useInsertionEffectAlwaysWithSyncFallback(()=>insertStyles(o,i,s));if(!isBrowser&&a!==void 0){let $=i.name,j=i.next;for(;j!==void 0;)$=cx($,j.name),j=j.next;return jsxRuntimeExports.jsx("style",{"data-emotion":cx(o.key,$),dangerouslySetInnerHTML:{__html:a},nonce:o.sheet.nonce})}return null},createStyled=(o,i={},s={})=>{const a=o.__emotion_real===o,$=a&&o.__emotion_base||o;let j,et;s!==void 0&&(j=s.label,et=s.target);let rt=[];const st=withEmotionCache((it,ot,tt)=>{var It;const{cva:_e,isValidProperty:nt}=useChakraContext(),at=i.__cva__?i:_e(i),lt=mergeCva$1(o.__emotion_cva,at),ut=Pt=>(St,Ot)=>Pt.includes(St)?!0:!(Ot!=null&&Ot.includes(St))&&!nt(St);!s.shouldForwardProp&&s.forwardProps&&(s.shouldForwardProp=ut(s.forwardProps));const ct=(Pt,St)=>{const Ot=typeof o=="string"&&o.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent,At=!(St!=null&&St.includes(Pt))&&!nt(Pt);return Ot(Pt)&&At},dt=composeShouldForwardProps(o,s,a)||ct,ft=reactExports.useMemo(()=>Object.assign({},s.defaultProps,compact$1(it)),[it]),{props:ht,styles:gt}=useResolvedProps(ft,lt,dt);let yt="",bt=[gt],vt=ht;if(ht.theme==null){vt={};for(let Pt in ht)vt[Pt]=ht[Pt];vt.theme=reactExports.useContext(ThemeContext)}typeof ht.className=="string"?yt=getRegisteredStyles(ot.registered,bt,ht.className):ht.className!=null&&(yt=cx(yt,ht.className));const mt=serializeStyles(rt.concat(bt),ot.registered,vt);yt=cx(yt,`${ot.key}-${mt.name}`),et!==void 0&&(yt=cx(yt,et));const xt=!dt("as");let wt=xt&&ht.as||$,Ct={};for(let Pt in ht)if(!(xt&&Pt==="as")){if(isHtmlProp(Pt)){const St=Pt.replace("html","").toLowerCase();Ct[St]=ht[Pt];continue}dt(Pt)&&(Ct[Pt]=ht[Pt])}Ct.className=yt.trim(),Ct.ref=tt;const kt=s.forwardAsChild||((It=s.forwardProps)==null?void 0:It.includes("asChild"));if(ht.asChild&&!kt){const Pt=reactExports.Children.only(ht.children);wt=Pt.type,Ct.children=null,Reflect.deleteProperty(Ct,"asChild"),Ct=mergeProps$1(Ct,Pt.props),Ct.ref=mergeRefs(tt,getElementRef(Pt))}return Ct.as&&kt?(Ct.as=void 0,jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Insertion,{cache:ot,serialized:mt,isStringTag:typeof wt=="string"}),jsxRuntimeExports.jsx(wt,{asChild:!0,...Ct,children:jsxRuntimeExports.jsx(ht.as,{children:Ct.children})})]})):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Insertion,{cache:ot,serialized:mt,isStringTag:typeof wt=="string"}),jsxRuntimeExports.jsx(wt,{...Ct})]})});return st.displayName=j!==void 0?j:`chakra(${typeof $=="string"?$:$.displayName||$.name||"Component"})`,st.__emotion_real=st,st.__emotion_base=$,st.__emotion_forwardProp=s.shouldForwardProp,st.__emotion_cva=i,Object.defineProperty(st,"toString",{value(){return`.${et}`}}),st},styledFn=createStyled.bind(),cache=new Map,chakraImpl=new Proxy(styledFn,{apply(o,i,s){return styledFn(...s)},get(o,i){return cache.has(i)||cache.set(i,styledFn(i)),cache.get(i)}}),chakra=chakraImpl,mergeCva$1=(o,i)=>o&&!i?o:!o&&i?i:o.merge(i);function useRecipe(o){const{key:i,recipe:s}=o,a=useChakraContext();return reactExports.useMemo(()=>{const $=s||(i!=null?a.getRecipe(i):{});return a.cva(structuredClone($))},[i,s,a])}const upperFirst$1=o=>o.charAt(0).toUpperCase()+o.slice(1);function createRecipeContext(o){const{key:i,recipe:s}=o,a=upperFirst$1(i||s.className||"Component"),[$,j]=createContext$1({strict:!1,name:`${a}PropsContext`,providerName:`${a}PropsContext`});function et(it){const{unstyled:ot,...tt}=it,_e=useRecipe({key:i,recipe:tt.recipe||s}),[nt,at]=reactExports.useMemo(()=>_e.splitVariantProps(tt),[_e,tt]);return{styles:ot?EMPTY_STYLES:_e(nt),className:_e.className,props:at}}const rt=(it,ot)=>{const tt=chakra(it,{},ot),_e=reactExports.forwardRef((nt,at)=>{const lt=j(),ut=reactExports.useMemo(()=>mergeProps$1(lt,nt),[nt,lt]),{styles:ct,className:dt,props:ft}=et(ut);return jsxRuntimeExports.jsx(tt,{...ft,ref:at,css:[ct,ut.css],className:cx(dt,ut.className)})});return _e.displayName=it.displayName||it.name,_e};function st(){return $}return{withContext:rt,PropsProvider:$,withPropsProvider:st,usePropsContext:j,useRecipeResult:et}}var wrap$3=(o,i)=>o.map((s,a)=>o[(Math.max(i,0)+a)%o.length]),pipe=(...o)=>i=>o.reduce((s,a)=>a(s),i),noop$5=()=>{},isObject$3=o=>typeof o=="object"&&o!==null,MAX_Z_INDEX=2147483647,dataAttr$1=o=>o?"":void 0,ariaAttr=o=>o?"true":void 0,ELEMENT_NODE=1,DOCUMENT_NODE=9,DOCUMENT_FRAGMENT_NODE=11,isHTMLElement$1=o=>isObject$3(o)&&o.nodeType===ELEMENT_NODE&&typeof o.nodeName=="string",isDocument=o=>isObject$3(o)&&o.nodeType===DOCUMENT_NODE,isWindow=o=>isObject$3(o)&&o===o.window,getNodeName$1=o=>isHTMLElement$1(o)?o.localName||"":"#document";function isRootElement(o){return["html","body","#document"].includes(getNodeName$1(o))}var isNode$2=o=>isObject$3(o)&&o.nodeType!==void 0,isShadowRoot$1=o=>isNode$2(o)&&o.nodeType===DOCUMENT_FRAGMENT_NODE&&"host"in o,isInputElement=o=>isHTMLElement$1(o)&&o.localName==="input",isAnchorElement=o=>!!(o!=null&&o.matches("a[href]")),isElementVisible=o=>isHTMLElement$1(o)?o.offsetWidth>0||o.offsetHeight>0||o.getClientRects().length>0:!1,TEXTAREA_SELECT_REGEX=/(textarea|select)/;function isEditableElement(o){if(o==null||!isHTMLElement$1(o))return!1;try{return isInputElement(o)&&o.selectionStart!=null||TEXTAREA_SELECT_REGEX.test(o.localName)||o.isContentEditable||o.getAttribute("contenteditable")==="true"||o.getAttribute("contenteditable")===""}catch{return!1}}function contains(o,i){var a;if(!o||!i||!isHTMLElement$1(o)||!isHTMLElement$1(i))return!1;const s=(a=i.getRootNode)==null?void 0:a.call(i);if(o===i||o.contains(i))return!0;if(s&&isShadowRoot$1(s)){let $=i;for(;$;){if(o===$)return!0;$=$.parentNode||$.host}}return!1}function getDocument(o){return isDocument(o)?o:isWindow(o)?o.document:(o==null?void 0:o.ownerDocument)??document}function getDocumentElement$1(o){return getDocument(o).documentElement}function getWindow$1(o){var i;return isShadowRoot$1(o)?getWindow$1(o.host):isDocument(o)?o.defaultView??window:isHTMLElement$1(o)?((i=o.ownerDocument)==null?void 0:i.defaultView)??window:window}function getActiveElement(o){let i=o.activeElement;for(;i!=null&&i.shadowRoot;){const s=i.shadowRoot.activeElement;if(s===i)break;i=s}return i}function getParentNode$2(o){if(getNodeName$1(o)==="html")return o;const i=o.assignedSlot||o.parentNode||isShadowRoot$1(o)&&o.host||getDocumentElement$1(o);return isShadowRoot$1(i)?i.host:i}var styleCache=new WeakMap;function getComputedStyle$2(o){return styleCache.has(o)||styleCache.set(o,getWindow$1(o).getComputedStyle(o)),styleCache.get(o)}var isDom=()=>typeof document<"u";function getPlatform(){const o=navigator.userAgentData;return(o==null?void 0:o.platform)??navigator.platform}function getUserAgent(){const o=navigator.userAgentData;return o&&Array.isArray(o.brands)?o.brands.map(({brand:i,version:s})=>`${i}/${s}`).join(" "):navigator.userAgent}var pt=o=>isDom()&&o.test(getPlatform()),ua=o=>isDom()&&o.test(getUserAgent()),vn=o=>isDom()&&o.test(navigator.vendor),isTouchDevice=()=>isDom()&&!!navigator.maxTouchPoints,isIPhone=()=>pt(/^iPhone/i),isIPad=()=>pt(/^iPad/i)||isMac()&&navigator.maxTouchPoints>1,isIos=()=>isIPhone()||isIPad(),isApple=()=>isMac()||isIos(),isMac=()=>pt(/^Mac/i),isSafari=()=>isApple()&&vn(/apple/i),isFirefox=()=>ua(/Firefox/i),isAndroid=()=>ua(/Android/i);function getComposedPath(o){var i,s,a;return((i=o.composedPath)==null?void 0:i.call(o))??((a=(s=o.nativeEvent)==null?void 0:s.composedPath)==null?void 0:a.call(s))}function getEventTarget(o){const i=getComposedPath(o);return(i==null?void 0:i[0])??o.target}var isSelfTarget=o=>contains(o.currentTarget,getEventTarget(o));function isOpeningInNewTab(o){const i=o.currentTarget;if(!i)return!1;const s=isApple();if(s&&!o.metaKey||!s&&!o.ctrlKey)return!1;const a=i.localName;return a==="a"||a==="button"&&i.type==="submit"||a==="input"&&i.type==="submit"}function isDownloadingEvent(o){const i=o.currentTarget;if(!i)return!1;const s=i.localName;return o.altKey?s==="a"||s==="button"&&i.type==="submit"||s==="input"&&i.type==="submit":!1}function isComposingEvent(o){return getNativeEvent(o).isComposing||o.keyCode===229}function isPrintableKey(o){return o.key.length===1&&!o.ctrlKey&&!o.metaKey}function isVirtualClick(o){return o.mozInputSource===0&&o.isTrusted?!0:isAndroid()&&o.pointerType?o.type==="click"&&o.buttons===1:o.detail===0&&!o.pointerType}var isLeftClick=o=>o.button===0,isContextMenuEvent=o=>o.button===2||isMac()&&o.ctrlKey&&o.button===0,isModifierKey=o=>o.ctrlKey||o.altKey||o.metaKey,isTouchEvent=o=>"touches"in o&&o.touches.length>0,keyMap={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},rtlKeyMap={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function getEventKey(o,i={}){const{dir:s="ltr",orientation:a="horizontal"}=i;let $=o.key;return $=keyMap[$]??$,s==="rtl"&&a==="horizontal"&&$ in rtlKeyMap&&($=rtlKeyMap[$]),$}function getNativeEvent(o){return o.nativeEvent??o}var pageKeys=new Set(["PageUp","PageDown"]),arrowKeys=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function getEventStep(o){return o.ctrlKey||o.metaKey?.1:pageKeys.has(o.key)||o.shiftKey&&arrowKeys.has(o.key)?10:1}function getEventPoint(o,i="client"){const s=isTouchEvent(o)?o.touches[0]||o.changedTouches[0]:o;return{x:s[`${i}X`],y:s[`${i}Y`]}}var addDomEvent=(o,i,s,a)=>{const $=typeof o=="function"?o():o;return $==null||$.addEventListener(i,s,a),()=>{$==null||$.removeEventListener(i,s,a)}};function getDescriptor(o,i){const{type:s="HTMLInputElement",property:a="value"}=i,$=getWindow$1(o)[s].prototype;return Object.getOwnPropertyDescriptor($,a)??{}}function getElementType(o){if(o.localName==="input")return"HTMLInputElement";if(o.localName==="textarea")return"HTMLTextAreaElement";if(o.localName==="select")return"HTMLSelectElement"}function setElementValue(o,i,s="value"){var $;if(!o)return;const a=getElementType(o);a&&(($=getDescriptor(o,{type:a,property:s}).set)==null||$.call(o,i)),o.setAttribute(s,i)}function setElementChecked(o,i){var a;if(!o)return;(a=getDescriptor(o,{type:"HTMLInputElement",property:"checked"}).set)==null||a.call(o,i),i?o.setAttribute("checked",""):o.removeAttribute("checked")}function dispatchInputCheckedEvent(o,i){const{checked:s,bubbles:a=!0}=i;if(!o)return;const $=getWindow$1(o);o instanceof $.HTMLInputElement&&(setElementChecked(o,s),o.dispatchEvent(new $.Event("click",{bubbles:a})))}function getClosestForm(o){return isFormElement(o)?o.form:o.closest("form")}function isFormElement(o){return o.matches("textarea, input, select, button")}function trackFormReset(o,i){if(!o)return;const s=getClosestForm(o),a=$=>{$.defaultPrevented||i()};return s==null||s.addEventListener("reset",a,{passive:!0}),()=>s==null?void 0:s.removeEventListener("reset",a)}function trackFieldsetDisabled(o,i){const s=o==null?void 0:o.closest("fieldset");if(!s)return;i(s.disabled);const a=getWindow$1(s),$=new a.MutationObserver(()=>i(s.disabled));return $.observe(s,{attributes:!0,attributeFilter:["disabled"]}),()=>$.disconnect()}function trackFormControl(o,i){if(!o)return;const{onFieldsetDisabledChange:s,onFormReset:a}=i,$=[trackFormReset(o,a),trackFieldsetDisabled(o,s)];return()=>$.forEach(j=>j==null?void 0:j())}var isFrame=o=>isHTMLElement$1(o)&&o.tagName==="IFRAME",hasTabIndex=o=>!Number.isNaN(parseInt(o.getAttribute("tabindex")||"0",10)),hasNegativeTabIndex=o=>parseInt(o.getAttribute("tabindex")||"0",10)<0,focusableSelector="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",getFocusables=(o,i=!1)=>{if(!o)return[];const s=Array.from(o.querySelectorAll(focusableSelector));(i==!0||i=="if-empty"&&s.length===0)&&isHTMLElement$1(o)&&isFocusable(o)&&s.unshift(o);const $=s.filter(isFocusable);return $.forEach((j,et)=>{if(isFrame(j)&&j.contentDocument){const rt=j.contentDocument.body;$.splice(et,1,...getFocusables(rt))}}),$};function isFocusable(o){return!o||o.closest("[inert]")?!1:o.matches(focusableSelector)&&isElementVisible(o)}function getTabbables(o,i){if(!o)return[];const a=Array.from(o.querySelectorAll(focusableSelector)).filter(isTabbable);return a.forEach(($,j)=>{if(isFrame($)&&$.contentDocument){const et=$.contentDocument.body,rt=getTabbables(et);a.splice(j,1,...rt)}}),a.length,a}function isTabbable(o){return o!=null&&o.tabIndex>0?!0:isFocusable(o)&&!hasNegativeTabIndex(o)}function getTabbableEdges(o,i){const s=getTabbables(o,i),a=s[0]||null,$=s[s.length-1]||null;return[a,$]}function getTabIndex(o){return o.tabIndex<0&&(/^(audio|video|details)$/.test(o.localName)||isEditableElement(o))&&!hasTabIndex(o)?0:o.tabIndex}function getInitialFocus(o){const{root:i,getInitialEl:s,filter:a,enabled:$=!0}=o;if(!$)return;let j=null;if(j||(j=typeof s=="function"?s():s),j||(j=i==null?void 0:i.querySelector("[data-autofocus],[autofocus]")),!j){const et=getTabbables(i);j=a?et.filter(a)[0]:et[0]}return j||i||void 0}function isValidTabEvent(o){const i=o.currentTarget;if(!i)return!1;const[s,a]=getTabbableEdges(i),$=i.ownerDocument||document;return!($.activeElement===s&&o.shiftKey||$.activeElement===a&&!o.shiftKey||!s&&!a)}function nextTick(o){const i=new Set;function s(a){const $=globalThis.requestAnimationFrame(a);i.add(()=>globalThis.cancelAnimationFrame($))}return s(()=>s(o)),function(){i.forEach($=>$())}}function raf$1(o){let i;const s=globalThis.requestAnimationFrame(()=>{i=o()});return()=>{globalThis.cancelAnimationFrame(s),i==null||i()}}function queueBeforeEvent(o,i,s){const a=raf$1(()=>{o.removeEventListener(i,$,!0),s()}),$=()=>{a(),s()};return o.addEventListener(i,$,{once:!0,capture:!0}),a}function observeAttributesImpl(o,i){if(!o)return;const{attributes:s,callback:a}=i,$=o.ownerDocument.defaultView||window,j=new $.MutationObserver(et=>{for(const rt of et)rt.type==="attributes"&&rt.attributeName&&s.includes(rt.attributeName)&&a(rt)});return j.observe(o,{attributes:!0,attributeFilter:s}),()=>j.disconnect()}function observeAttributes(o,i){const{defer:s}=i,a=s?raf$1:j=>j(),$=[];return $.push(a(()=>{const j=typeof o=="function"?o():o;$.push(observeAttributesImpl(j,i))})),()=>{$.forEach(j=>j==null?void 0:j())}}function clickIfLink(o){const i=()=>o.click();isFirefox()?queueBeforeEvent(o,"keyup",i):queueMicrotask(i)}function getNearestOverflowAncestor$1(o){const i=getParentNode$2(o);return isRootElement(i)?getDocument(i).body:isHTMLElement$1(i)&&isOverflowElement$1(i)?i:getNearestOverflowAncestor$1(i)}function getOverflowAncestors$1(o,i=[]){const s=getNearestOverflowAncestor$1(o),a=s===o.ownerDocument.body,$=getWindow$1(s);return a?i.concat($,$.visualViewport||[],isOverflowElement$1(s)?s:[]):i.concat(s,getOverflowAncestors$1(s,[]))}var OVERFLOW_RE=/auto|scroll|overlay|hidden|clip/;function isOverflowElement$1(o){const i=getWindow$1(o),{overflow:s,overflowX:a,overflowY:$,display:j}=i.getComputedStyle(o);return OVERFLOW_RE.test(s+$+a)&&!["inline","contents"].includes(j)}function isScrollable(o){return o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth}function scrollIntoView(o,i){const{rootEl:s,...a}=i||{};!o||!s||!isOverflowElement$1(s)||!isScrollable(s)||o.scrollIntoView(a)}function requestPointerLock(o,i){const s=o.body,a="pointerLockElement"in o||"mozPointerLockElement"in o,$=()=>!!o.pointerLockElement;function j(){}function et(st){$(),console.error("PointerLock error occurred:",st),o.exitPointerLock()}if(!a)return;try{s.requestPointerLock()}catch{}const rt=[addDomEvent(o,"pointerlockchange",j,!1),addDomEvent(o,"pointerlockerror",et,!1)];return()=>{rt.forEach(st=>st()),o.exitPointerLock()}}function trackPress(o){const{pointerNode:i,keyboardNode:s=i,onPress:a,onPressStart:$,onPressEnd:j,isValidKey:et=ft=>ft.key==="Enter"}=o;if(!i)return noop$5;const rt=getWindow$1(i),st=getDocument(i);let it=noop$5,ot=noop$5,tt=noop$5;const _e=ft=>({point:getEventPoint(ft),event:ft});function nt(ft){$==null||$(_e(ft))}function at(ft){j==null||j(_e(ft))}const ut=addDomEvent(i,"pointerdown",ft=>{ot();const gt=addDomEvent(rt,"pointerup",bt=>{const vt=getEventTarget(bt);contains(i,vt)?a==null||a(_e(bt)):j==null||j(_e(bt))},{passive:!a,once:!0}),yt=addDomEvent(rt,"pointercancel",at,{passive:!j,once:!0});ot=pipe(gt,yt),st.activeElement===s&&ft.pointerType==="mouse"&&ft.preventDefault(),nt(ft)},{passive:!$}),ct=addDomEvent(s,"focus",dt);it=pipe(ut,ct);function dt(){const ft=bt=>{if(!et(bt))return;const vt=xt=>{if(!et(xt))return;const wt=new rt.PointerEvent("pointerup"),Ct=_e(wt);a==null||a(Ct),j==null||j(Ct)};ot(),ot=addDomEvent(s,"keyup",vt);const mt=new rt.PointerEvent("pointerdown");nt(mt)},ht=()=>{const bt=new rt.PointerEvent("pointercancel");at(bt)},gt=addDomEvent(s,"keydown",ft),yt=addDomEvent(s,"blur",ht);tt=pipe(gt,yt)}return()=>{it(),ot(),tt()}}function queryAll(o,i){return Array.from((o==null?void 0:o.querySelectorAll(i))??[])}var defaultItemToId=o=>o.id;function itemById(o,i,s=defaultItemToId){return o.find(a=>s(a)===i)}function indexOfId(o,i,s=defaultItemToId){const a=itemById(o,i,s);return a?o.indexOf(a):-1}function nextById(o,i,s=!0){let a=indexOfId(o,i);return a=s?(a+1)%o.length:Math.min(a+1,o.length-1),o[a]}function prevById(o,i,s=!0){let a=indexOfId(o,i);return a===-1?s?o[o.length-1]:null:(a=s?(a-1+o.length)%o.length:Math.max(0,a-1),o[a])}function trackElementRect(o,i){const{onEntry:s,measure:a,box:$="border-box"}=i,j=(Array.isArray(o)?o:[o]).filter(isHTMLElement$1),et=getWindow$1(j[0]),rt=it=>{const ot=j.map(tt=>a(tt));s({rects:ot,entries:it})};rt([]);const st=new et.ResizeObserver(rt);return j.forEach(it=>st.observe(it,{box:$})),()=>st.disconnect()}var sanitize=o=>o.split("").map(i=>{const s=i.charCodeAt(0);return s>0&&s<128?i:s>=128&&s<=255?`/x${s.toString(16)}`.replace("/","\\"):""}).join("").trim(),getValueText=o=>{var i;return sanitize(((i=o.dataset)==null?void 0:i.valuetext)??o.textContent??"")},match$2=(o,i)=>o.trim().toLowerCase().startsWith(i.toLowerCase());function getByText(o,i,s,a=defaultItemToId){const $=s?indexOfId(o,s,a):-1;let j=s?wrap$3(o,$):o;return i.length===1&&(j=j.filter(rt=>a(rt)!==s)),j.find(rt=>match$2(getValueText(rt),i))}function setStyle(o,i){if(!o)return noop$5;const s=Object.keys(i).reduce((a,$)=>(a[$]=o.style.getPropertyValue($),a),{});return Object.assign(o.style,i),()=>{Object.assign(o.style,s),o.style.length===0&&o.removeAttribute("style")}}function setStyleProperty(o,i,s){if(!o)return noop$5;const a=o.style.getPropertyValue(i);return o.style.setProperty(i,s),()=>{o.style.setProperty(i,a),o.style.length===0&&o.removeAttribute("style")}}function getByTypeaheadImpl(o,i){const{state:s,activeId:a,key:$,timeout:j=350,itemToId:et}=i,rt=s.keysSoFar+$,it=rt.length>1&&Array.from(rt).every(at=>at===rt[0])?rt[0]:rt;let ot=o.slice();const tt=getByText(ot,it,a,et);function _e(){clearTimeout(s.timer),s.timer=-1}function nt(at){s.keysSoFar=at,_e(),at!==""&&(s.timer=+setTimeout(()=>{nt(""),_e()},j))}return nt(rt),tt}var getByTypeahead=Object.assign(getByTypeaheadImpl,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:isValidTypeaheadEvent});function isValidTypeaheadEvent(o){return o.key.length===1&&!o.ctrlKey&&!o.metaKey}var visuallyHiddenStyle={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},fps=1e3/60;function waitForElement(o,i){const s=o();if(isHTMLElement$1(s)&&s.isConnected)return i(s),()=>{};{const a=setInterval(()=>{const $=o();isHTMLElement$1($)&&$.isConnected&&(i($),clearInterval(a))},fps);return()=>clearInterval(a)}}function waitForElements(o,i){const s=[];return o==null||o.forEach(a=>{const $=waitForElement(a,i);s.push($)}),()=>{s.forEach(a=>a())}}function getErrorMessage(o,i){return`${o} returned \`undefined\`. Seems you forgot to wrap component within ${i}`}function createContext(o={}){const{name:i,strict:s=!0,hookName:a="useContext",providerName:$="Provider",errorMessage:j,defaultValue:et}=o,rt=reactExports.createContext(et);rt.displayName=i;function st(){var ot;const it=reactExports.useContext(rt);if(!it&&s){const tt=new Error(j??getErrorMessage(a,$));throw tt.name="ContextError",(ot=Error.captureStackTrace)==null||ot.call(Error,tt,st),tt}return it}return[rt.Provider,st,rt]}const[LocaleContextProvider,useLocaleContext]=createContext({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function composeRefs(...o){return i=>{const s=[];for(const a of o)if(typeof a=="function"){const $=a(i);typeof $=="function"&&s.push($)}else a&&(a.current=i);if(s.length)return()=>{for(const a of s)a()}}}function toArray(o){return o?Array.isArray(o)?o:[o]:[]}var first=o=>o[0],last=o=>o[o.length-1],has=(o,i)=>o.indexOf(i)!==-1,add$1=(o,...i)=>o.concat(i),remove$1=(o,...i)=>o.filter(s=>!i.includes(s)),addOrRemove=(o,i)=>has(o,i)?remove$1(o,i):add$1(o,i);function nextIndex(o,i,s={}){const{step:a=1,loop:$=!0}=s,j=i+a,et=o.length,rt=et-1;return i===-1?a>0?0:rt:j<0?$?rt:0:j>=et?$?0:i>et?et:i:j}function next(o,i,s={}){return o[nextIndex(o,i,s)]}function prevIndex(o,i,s={}){const{step:a=1,loop:$=!0}=s;return nextIndex(o,i,{step:-a,loop:$})}function prev(o,i,s={}){return o[prevIndex(o,i,s)]}var isArrayLike=o=>(o==null?void 0:o.constructor.name)==="Array",isArrayEqual=(o,i)=>{if(o.length!==i.length)return!1;for(let s=0;s<o.length;s++)if(!isEqual(o[s],i[s]))return!1;return!0},isEqual=(o,i)=>{if(Object.is(o,i))return!0;if(o==null&&i!=null||o!=null&&i==null)return!1;if(typeof(o==null?void 0:o.isEqual)=="function"&&typeof(i==null?void 0:i.isEqual)=="function")return o.isEqual(i);if(typeof o=="function"&&typeof i=="function")return o.toString()===i.toString();if(isArrayLike(o)&&isArrayLike(i))return isArrayEqual(Array.from(o),Array.from(i));if(typeof o!="object"||typeof i!="object")return!1;const s=Object.keys(i??Object.create(null)),a=s.length;for(let $=0;$<a;$++)if(!Reflect.has(o,s[$]))return!1;for(let $=0;$<a;$++){const j=s[$];if(!isEqual(o[j],i[j]))return!1}return!0},isArray=o=>Array.isArray(o),isObjectLike=o=>o!=null&&typeof o=="object",isObject$2=o=>isObjectLike(o)&&!isArray(o),isString$2=o=>typeof o=="string",isFunction$1=o=>typeof o=="function",isNull=o=>o==null,hasProp=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),fnToString=Function.prototype.toString;fnToString.call(Object);var runIfFn=(o,...i)=>(typeof o=="function"?o(...i):o)??void 0,identity$2=o=>o(),noop$4=()=>{},callAll=(...o)=>(...i)=>{o.forEach(function(s){s==null||s(...i)})},uuid=(()=>{let o=0;return()=>(o++,o.toString(36))})(),{floor:floor$1,round:round$1,min:min$1,max:max$1}=Math,isNaN$1=o=>Number.isNaN(o),nan=o=>isNaN$1(o)?0:o,wrap$2=(o,i)=>(o%i+i)%i,isValueAtMax=(o,i)=>nan(o)>=i,isValueAtMin=(o,i)=>nan(o)<=i,isValueWithinRange=(o,i,s)=>nan(o)>=i&&nan(o)<=s,clampValue=(o,i,s)=>min$1(max$1(nan(o),i),s),roundToDpr=(o,i)=>typeof i=="number"?floor$1(o*i+.5)/i:round$1(o),countDecimals=o=>{if(!Number.isFinite(o))return 0;let i=1,s=0;for(;Math.round(o*i)/i!==o;)i*=10,s+=1;return s},decimalOp=(o,i,s)=>{let a=i==="+"?o+s:o-s;if(o%1!==0||s%1!==0){const $=10**Math.max(countDecimals(o),countDecimals(s));o=Math.round(o*$),s=Math.round(s*$),a=i==="+"?o+s:o-s,a/=$}return a},incrementValue=(o,i)=>decimalOp(nan(o),"+",i),decrementValue=(o,i)=>decimalOp(nan(o),"-",i);function compact(o){if(!isPlainObject2(o)||o===void 0)return o;const i=Reflect.ownKeys(o).filter(a=>typeof a=="string"),s={};for(const a of i){const $=o[a];$!==void 0&&(s[a]=compact($))}return s}var isPlainObject2=o=>o&&typeof o=="object"&&o.constructor===Object;function setRafTimeout(o,i){const s=performance.now();let a;function $(j){a=requestAnimationFrame($),j-s>=i&&o()}return a=requestAnimationFrame($),()=>cancelAnimationFrame(a)}function warn$1(...o){o.length===1?o[0]:o[1],o.length===2&&o[0]}function ensure(o,i){if(o==null)throw new Error(i())}function ensureProps(o,i,s){let a=[];for(const $ of i)o[$]==null&&a.push($);if(a.length>0)throw new Error(`[zag-js${` > ${s}`}] missing required props: ${a.join(", ")}`)}var clsx=(...o)=>o.map(i=>{var s;return(s=i==null?void 0:i.trim)==null?void 0:s.call(i)}).filter(Boolean).join(" "),CSS_REGEX=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,serialize=o=>{const i={};let s;for(;s=CSS_REGEX.exec(o);)i[s[1]]=s[2];return i},css$1=(o,i)=>{if(isString$2(o)){if(isString$2(i))return`${o};${i}`;o=serialize(o)}else isString$2(i)&&(i=serialize(i));return Object.assign({},o??{},i??{})};function mergeProps(...o){let i={};for(let s of o){for(let a in i){if(a.startsWith("on")&&typeof i[a]=="function"&&typeof s[a]=="function"){i[a]=callAll(s[a],i[a]);continue}if(a==="className"||a==="class"){i[a]=clsx(i[a],s[a]);continue}if(a==="style"){i[a]=css$1(i[a],s[a]);continue}i[a]=s[a]!==void 0?s[a]:i[a]}for(let a in s)i[a]===void 0&&(i[a]=s[a])}return i}function memo$2(o,i,s){let a=[],$;return j=>{const et=o(j);return(et.length!==a.length||et.some((st,it)=>!isEqual(a[it],st)))&&(a=et,$=i(...et)),$}}function createGuards(){return{and:(...o)=>function(s){return o.every(a=>s.guard(a))},or:(...o)=>function(s){return o.some(a=>s.guard(a))},not:o=>function(s){return!s.guard(o)}}}function createMachine$1(o){return o}function setup(){return{guards:createGuards(),createMachine:o=>o,choose:o=>function({choose:s}){var a;return(a=s(o))==null?void 0:a.actions}}}var MachineStatus=(o=>(o.NotStarted="Not Started",o.Started="Started",o.Stopped="Stopped",o))(MachineStatus||{}),INIT_STATE="__init__";function createScope(o){const i=()=>{var rt;return((rt=o.getRootNode)==null?void 0:rt.call(o))??document},s=()=>getDocument(i()),a=()=>s().defaultView??window,$=()=>getActiveElement(i());return{...o,getRootNode:i,getDoc:s,getWin:a,getActiveElement:$,isActiveElement:rt=>rt===$(),getById:rt=>i().getElementById(rt)}}function getRef(o){var a,$;let i=(a=Object.getOwnPropertyDescriptor(o.props,"ref"))==null?void 0:a.get,s=i&&"isReactWarning"in i&&i.isReactWarning;return s?o.ref:(i=($=Object.getOwnPropertyDescriptor(o,"ref"))==null?void 0:$.get,s=i&&"isReactWarning"in i&&i.isReactWarning,s?o.props.ref:o.props.ref||o.ref)}const withAsChild=o=>{const i=reactExports.memo(reactExports.forwardRef((s,a)=>{const{asChild:$,children:j,...et}=s;if(!$)return reactExports.createElement(o,{...et,ref:a},j);const rt=reactExports.Children.only(j);if(!reactExports.isValidElement(rt))return null;const st=getRef(rt);return reactExports.cloneElement(rt,{...mergeProps(et,rt.props),ref:a?composeRefs(a,st):st})}));return i.displayName=o.displayName||o.name,i},jsxFactory=()=>{const o=new Map;return new Proxy(withAsChild,{apply(i,s,a){return withAsChild(a[0])},get(i,s){const a=s;return o.has(a)||o.set(a,withAsChild(a)),o.get(a)}})},ark=jsxFactory(),createSplitProps=()=>(o,i)=>i.reduce((s,a)=>{const[$,j]=s,et=a;return j[et]!==void 0&&($[et]=j[et]),delete j[et],[$,j]},[{},{...o}]),splitPresenceProps=o=>createSplitProps()(o,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function createNormalizer(o){return new Proxy({},{get(i,s){return s==="style"?a=>o({style:a}).style:o}})}var createProps$1=()=>o=>Array.from(new Set(o));function connect$9(o,i){const{state:s,send:a,context:$}=o,j=s.matches("mounted","unmountSuspended");return{skip:!$.get("initial"),present:j,setNode(et){et&&a({type:"NODE.SET",node:et})},unmount(){a({type:"UNMOUNT"})}}}var machine$9={props({props:o}){return{...o,present:!!o.present}},initialState({prop:o}){return o("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:o}){return{unmountAnimationName:o(()=>({defaultValue:null})),prevAnimationName:o(()=>({defaultValue:null})),present:o(()=>({defaultValue:!1})),initial:o(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:o,action:i,prop:s}){o([()=>s("present")],()=>{i(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:o})=>{o.get("initial")||queueMicrotask(()=>{o.set("initial",!0)})},clearInitial:({context:o})=>{o.set("initial",!1)},cleanupNode:({refs:o})=>{o.set("node",null),o.set("styles",null)},invokeOnExitComplete:({prop:o})=>{var i;(i=o("onExitComplete"))==null||i()},setNode:({refs:o,event:i})=>{o.set("node",i.node)},setStyles:({refs:o,event:i})=>{o.set("styles",getComputedStyle$2(i.node))},syncPresence:({context:o,refs:i,send:s,prop:a})=>{const $=a("present");if($)return s({type:"MOUNT",src:"presence.changed"});const j=i.get("node");if(!$&&(j==null?void 0:j.ownerDocument.visibilityState)==="hidden")return s({type:"UNMOUNT",src:"visibilitychange"});raf$1(()=>{var rt,st;const et=getAnimationName(i.get("styles"));o.set("unmountAnimationName",et),et==="none"||et===o.get("prevAnimationName")||((rt=i.get("styles"))==null?void 0:rt.display)==="none"||((st=i.get("styles"))==null?void 0:st.animationDuration)==="0s"?s({type:"UNMOUNT",src:"presence.changed"}):s({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:o,refs:i})=>{raf$1(()=>{o.set("prevAnimationName",getAnimationName(i.get("styles")))})},clearPrevAnimationName:({context:o})=>{o.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:o,refs:i,send:s})=>{const a=i.get("node");if(!a)return;const $=rt=>{var it,ot;(((ot=(it=rt.composedPath)==null?void 0:it.call(rt))==null?void 0:ot[0])??rt.target)===a&&o.set("prevAnimationName",getAnimationName(i.get("styles")))},j=rt=>{const st=getAnimationName(i.get("styles"));getEventTarget(rt)===a&&st===o.get("unmountAnimationName")&&s({type:"UNMOUNT",src:"animationend"})};a.addEventListener("animationstart",$),a.addEventListener("animationcancel",j),a.addEventListener("animationend",j);const et=setStyle(a,{animationFillMode:"forwards"});return()=>{a.removeEventListener("animationstart",$),a.removeEventListener("animationcancel",j),a.removeEventListener("animationend",j),nextTick(()=>et())}}}}};function getAnimationName(o){return(o==null?void 0:o.animationName)||"none"}createProps$1()(["onExitComplete","present","immediate"]);var useSafeLayoutEffect$1=typeof globalThis.document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useBindable(o){const i=o().value??o().defaultValue,s=o().isEqual??Object.is,[a]=reactExports.useState(i),[$,j]=reactExports.useState(a),et=o().value!==void 0,rt=reactExports.useRef($);rt.current=et?o().value:$;const st=reactExports.useRef(rt.current);useSafeLayoutEffect$1(()=>{st.current=rt.current},[$,o().value]);const it=tt=>{var at,lt;const _e=st.current,nt=isFunction$1(tt)?tt(_e):tt;o().debug&&console.log(`[bindable > ${o().debug}] setValue`,{next:nt,prev:_e}),et||j(nt),s(nt,_e)||(lt=(at=o()).onChange)==null||lt.call(at,nt,_e)};function ot(){return et?o().value:$}return{initial:a,ref:rt,get:ot,set(tt){(o().sync?reactDomExports.flushSync:identity$2)(()=>it(tt))},invoke(tt,_e){var nt,at;(at=(nt=o()).onChange)==null||at.call(nt,tt,_e)},hash(tt){var _e,nt;return((nt=(_e=o()).hash)==null?void 0:nt.call(_e,tt))??String(tt)}}}useBindable.cleanup=o=>{reactExports.useEffect(()=>o,[])};useBindable.ref=o=>{const i=reactExports.useRef(o);return{get:()=>i.current,set:s=>{i.current=s}}};function useRefs(o){const i=reactExports.useRef(o);return{get(s){return i.current[s]},set(s,a){i.current[s]=a}}}var useTrack=(o,i)=>{const s=reactExports.useRef(!1),a=reactExports.useRef(!1);reactExports.useEffect(()=>{if(s.current&&a.current)return i();a.current=!0},[...(o??[]).map($=>typeof $=="function"?$():$)]),reactExports.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[])};function useMachine(o,i={}){var wt,Ct,kt,It;const s=reactExports.useMemo(()=>{const{id:Pt,ids:St,getRootNode:Ot}=i;return createScope({id:Pt,ids:St,getRootNode:Ot})},[i]),a=(...Pt)=>{o.debug&&console.log(...Pt)},$=((wt=o.props)==null?void 0:wt.call(o,{props:compact(i),scope:s}))??i,j=useProp($),et=(Ct=o.context)==null?void 0:Ct.call(o,{prop:j,bindable:useBindable,scope:s,flush,getContext(){return st},getComputed(){return gt},getRefs(){return lt}}),rt=useLiveRef(et),st={get(Pt){var St;return(St=rt.current)==null?void 0:St[Pt].ref.current},set(Pt,St){var Ot;(Ot=rt.current)==null||Ot[Pt].set(St)},initial(Pt){var St;return(St=rt.current)==null?void 0:St[Pt].initial},hash(Pt){var Ot,At;const St=(Ot=rt.current)==null?void 0:Ot[Pt].get();return(At=rt.current)==null?void 0:At[Pt].hash(St)}},it=reactExports.useRef(new Map),ot=reactExports.useRef(null),tt=reactExports.useRef(null),_e=reactExports.useRef({type:""}),nt=()=>({..._e.current,current(){return _e.current},previous(){return tt.current}}),at=()=>({...yt,matches(...Pt){return Pt.includes(yt.ref.current)},hasTag(Pt){var St,Ot;return!!((Ot=(St=o.states[yt.ref.current])==null?void 0:St.tags)!=null&&Ot.includes(Pt))}}),lt=useRefs(((kt=o.refs)==null?void 0:kt.call(o,{prop:j,context:st}))??{}),ut=()=>({state:at(),context:st,event:nt(),prop:j,send:xt,action:ct,guard:dt,track:useTrack,refs:lt,computed:gt,flush,scope:s,choose:ht}),ct=Pt=>{const St=isFunction$1(Pt)?Pt(ut()):Pt;if(!St)return;const Ot=St.map(At=>{var jt,zt;const $t=(zt=(jt=o.implementations)==null?void 0:jt.actions)==null?void 0:zt[At];return $t||warn$1(`[zag-js] No implementation found for action "${JSON.stringify(At)}"`),$t});for(const At of Ot)At==null||At(ut())},dt=Pt=>{var St,Ot;return isFunction$1(Pt)?Pt(ut()):(Ot=(St=o.implementations)==null?void 0:St.guards)==null?void 0:Ot[Pt](ut())},ft=Pt=>{const St=isFunction$1(Pt)?Pt(ut()):Pt;if(!St)return;const Ot=St.map($t=>{var zt,Xt;const jt=(Xt=(zt=o.implementations)==null?void 0:zt.effects)==null?void 0:Xt[$t];return jt||warn$1(`[zag-js] No implementation found for effect "${JSON.stringify($t)}"`),jt}),At=[];for(const $t of Ot){const jt=$t==null?void 0:$t(ut());jt&&At.push(jt)}return()=>At.forEach($t=>$t==null?void 0:$t())},ht=Pt=>toArray(Pt).find(St=>{let Ot=!St.guard;return isString$2(St.guard)?Ot=!!dt(St.guard):isFunction$1(St.guard)&&(Ot=St.guard(ut())),Ot}),gt=Pt=>{ensure(o.computed,()=>"[zag-js] No computed object found on machine");const St=o.computed[Pt];return St({context:st,event:nt(),prop:j,refs:lt,scope:s,computed:gt})},yt=useBindable(()=>({defaultValue:o.initialState({prop:j}),onChange(Pt,St){var At,$t,jt,zt;if(St){const Xt=it.current.get(St);Xt==null||Xt(),it.current.delete(St)}St&&ct((At=o.states[St])==null?void 0:At.exit),ct(($t=ot.current)==null?void 0:$t.actions);const Ot=ft((jt=o.states[Pt])==null?void 0:jt.effects);if(Ot&&it.current.set(Pt,Ot),St===INIT_STATE){ct(o.entry);const Xt=ft(o.effects);Xt&&it.current.set(INIT_STATE,Xt)}ct((zt=o.states[Pt])==null?void 0:zt.entry)}})),bt=reactExports.useRef(void 0),vt=reactExports.useRef(MachineStatus.NotStarted);useSafeLayoutEffect$1(()=>{queueMicrotask(()=>{const Ot=vt.current===MachineStatus.Started;vt.current=MachineStatus.Started,a(Ot?"rehydrating...":"initializing...");const At=bt.current??yt.initial;yt.invoke(At,Ot?yt.get():INIT_STATE)});const Pt=it.current,St=yt.ref.current;return()=>{a("unmounting..."),bt.current=St,vt.current=MachineStatus.Stopped,Pt.forEach(Ot=>Ot==null?void 0:Ot()),it.current=new Map,ot.current=null,queueMicrotask(()=>{ct(o.exit)})}},[]);const mt=()=>"ref"in yt?yt.ref.current:yt.get(),xt=Pt=>{queueMicrotask(()=>{var zt,Xt;if(vt.current!==MachineStatus.Started)return;tt.current=_e.current,_e.current=Pt,a("send",Pt);let St=mt();const Ot=((zt=o.states[St].on)==null?void 0:zt[Pt.type])??((Xt=o.on)==null?void 0:Xt[Pt.type]),At=ht(Ot);if(!At)return;ot.current=At;const $t=At.target??St;a("transition",At);const jt=$t!==St;jt?reactDomExports.flushSync(()=>yt.set($t)):At.reenter&&!jt?yt.invoke(St,St):ct(At.actions??[])})};return(It=o.watch)==null||It.call(o,ut()),{state:at(),send:xt,context:st,prop:j,scope:s,refs:lt,computed:gt,event:nt(),getStatus:()=>vt.current}}function useLiveRef(o){const i=reactExports.useRef(o);return i.current=o,i}function useProp(o){const i=useLiveRef(o);return function(a){return i.current[a]}}function flush(o){queueMicrotask(()=>{reactDomExports.flushSync(()=>o())})}var normalizeProps=createNormalizer(o=>o);function useEvent(o,i={}){const{sync:s=!1}=i,a=useLatestRef(o);return reactExports.useCallback((...$)=>{var j;return s?queueMicrotask(()=>{var et;return(et=a.current)==null?void 0:et.call(a,...$)}):(j=a.current)==null?void 0:j.call(a,...$)},[s,a])}function useLatestRef(o){const i=reactExports.useRef(o);return i.current=o,i}const usePresence=(o={})=>{const{lazyMount:i,unmountOnExit:s,present:a,skipAnimationOnMount:$=!1,...j}=o,et=reactExports.useRef(!1),rt={...j,present:a,onExitComplete:useEvent(o.onExitComplete)},st=useMachine(machine$9,rt),it=connect$9(st);it.present&&(et.current=!0);const ot=!it.present&&!et.current&&i||s&&!it.present&&et.current,tt=()=>({"data-state":it.skip&&$?void 0:a?"open":"closed",hidden:!it.present});return{ref:it.setNode,getPresenceProps:tt,present:it.present,unmounted:ot}},[PresenceProvider,usePresenceContext]=createContext({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});function useSlotRecipe(o){const{key:i,recipe:s}=o,a=useChakraContext();return reactExports.useMemo(()=>{const $=s||(i!=null?a.getSlotRecipe(i):{});return a.sva(structuredClone($))},[i,s,a])}const upperFirst=o=>o.charAt(0).toUpperCase()+o.slice(1),createSlotRecipeContext=o=>{const{key:i,recipe:s}=o,a=upperFirst(i||s.className||"Component"),[$,j]=createContext$1({name:`${a}StylesContext`,errorMessage:`use${a}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${a}.Root />" `}),[et,rt]=createContext$1({name:`${a}ClassNameContext`,errorMessage:`use${a}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${a}.Root />" `,strict:!1}),[st,it]=createContext$1({strict:!1,name:`${a}PropsContext`,providerName:`${a}PropsContext`,defaultValue:{}});function ot(at){const{unstyled:lt,...ut}=at,ct=useSlotRecipe({key:i,recipe:ut.recipe||s}),[dt,ft]=reactExports.useMemo(()=>ct.splitVariantProps(ut),[ut,ct]);return{styles:reactExports.useMemo(()=>lt?EMPTY_SLOT_STYLES:ct(dt),[lt,dt,ct]),classNames:ct.classNameMap,props:ft}}function tt(at,lt={}){const{defaultProps:ut}=lt,ct=dt=>{const ft=it(),ht=reactExports.useMemo(()=>mergeProps$1(ut,ft,dt),[ft,dt]),{styles:gt,classNames:yt,props:bt}=ot(ht);return jsxRuntimeExports.jsx($,{value:gt,children:jsxRuntimeExports.jsx(et,{value:yt,children:jsxRuntimeExports.jsx(at,{...bt})})})};return ct.displayName=at.displayName||at.name,ct}return{StylesProvider:$,ClassNamesProvider:et,PropsProvider:st,usePropsContext:it,useRecipeResult:ot,withProvider:(at,lt,ut)=>{const{defaultProps:ct,...dt}=ut??{},ft=chakra(at,{},dt),ht=reactExports.forwardRef((gt,yt)=>{var It;const bt=it(),vt=reactExports.useMemo(()=>mergeProps$1(ct??{},bt,gt),[bt,gt]),{styles:mt,props:xt,classNames:wt}=ot(vt),Ct=wt[lt],kt=jsxRuntimeExports.jsx($,{value:mt,children:jsxRuntimeExports.jsx(et,{value:wt,children:jsxRuntimeExports.jsx(ft,{ref:yt,...xt,css:[mt[lt],vt.css],className:cx(vt.className,Ct)})})});return((It=ut==null?void 0:ut.wrapElement)==null?void 0:It.call(ut,kt,vt))??kt});return ht.displayName=at.displayName||at.name,ht},withContext:(at,lt,ut)=>{const ct=chakra(at,{},ut),dt=reactExports.forwardRef((ft,ht)=>{const gt=j(),yt=rt(),bt=yt==null?void 0:yt[lt];return jsxRuntimeExports.jsx(ct,{...ft,css:[lt?gt[lt]:void 0,ft.css],ref:ht,className:cx(ft.className,bt)})});return dt.displayName=at.displayName||at.name,dt},withRootProvider:tt,useStyles:j,useClassNames:rt}},CheckIcon=o=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...o,children:jsxRuntimeExports.jsx("path",{d:"M20 6 9 17l-5-5"})}),ChevronUpIcon=o=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...o,children:jsxRuntimeExports.jsx("path",{d:"m18 15-6-6-6 6"})}),ChevronDownIcon=o=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...o,children:jsxRuntimeExports.jsx("path",{d:"m6 9 6 6 6-6"})}),CheckCircleIcon=o=>jsxRuntimeExports.jsx(chakra.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...o,children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"})}),WarningIcon=o=>jsxRuntimeExports.jsx(chakra.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",...o,children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"})}),CloseIcon=o=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"currentColor",...o,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),CopyIcon=o=>jsxRuntimeExports.jsxs(chakra.svg,{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",...o,children:[jsxRuntimeExports.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),jsxRuntimeExports.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]});function useCallbackRef(o,i=[]){const s=reactExports.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return reactExports.useInsertionEffect(()=>{s.current=o}),reactExports.useCallback((...a)=>{var $;return($=s.current)==null?void 0:$.call(s,...a)},i)}function useDisclosure(o={}){const i=useCallbackRef(o.onOpen),s=useCallbackRef(o.onClose),[a,$]=reactExports.useState(o.defaultOpen||!1),j=o.open!==void 0?o.open:a,et=o.open!==void 0,rt=reactExports.useCallback(()=>{et||$(!1),s==null||s()},[et,s]),st=reactExports.useCallback(()=>{et||$(!0),i==null||i()},[et,i]),it=reactExports.useCallback(()=>{j?rt():st()},[j,st,rt]);return{open:j,onOpen:st,onClose:rt,onToggle:it,setOpen:$}}var createAnatomy=(o,i=[])=>({parts:(...s)=>{if(isEmpty(i))return createAnatomy(o,s);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...s)=>createAnatomy(o,[...i,...s]),rename:s=>createAnatomy(s,i),keys:()=>i,build:()=>[...new Set(i)].reduce((s,a)=>Object.assign(s,{[a]:{selector:[`&[data-scope="${toKebabCase(o)}"][data-part="${toKebabCase(a)}"]`,`& [data-scope="${toKebabCase(o)}"][data-part="${toKebabCase(a)}"]`].join(", "),attrs:{"data-scope":toKebabCase(o),"data-part":toKebabCase(a)}}}),{})}),toKebabCase=o=>o.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),isEmpty=o=>o.length===0,anatomy$n=createAnatomy("collapsible").parts("root","trigger","content","indicator");anatomy$n.build();createProps$1()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);const[EnvironmentContextProvider,useEnvironmentContext]=createContext({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=o=>({x:o,y:o}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(o,i,s){return max(o,min(i,s))}function evaluate(o,i){return typeof o=="function"?o(i):o}function getSide(o){return o.split("-")[0]}function getAlignment(o){return o.split("-")[1]}function getOppositeAxis(o){return o==="x"?"y":"x"}function getAxisLength(o){return o==="y"?"height":"width"}function getSideAxis(o){return["top","bottom"].includes(getSide(o))?"y":"x"}function getAlignmentAxis(o){return getOppositeAxis(getSideAxis(o))}function getAlignmentSides(o,i,s){s===void 0&&(s=!1);const a=getAlignment(o),$=getAlignmentAxis(o),j=getAxisLength($);let et=$==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return i.reference[j]>i.floating[j]&&(et=getOppositePlacement(et)),[et,getOppositePlacement(et)]}function getExpandedPlacements(o){const i=getOppositePlacement(o);return[getOppositeAlignmentPlacement(o),i,getOppositeAlignmentPlacement(i)]}function getOppositeAlignmentPlacement(o){return o.replace(/start|end/g,i=>oppositeAlignmentMap[i])}function getSideList(o,i,s){const a=["left","right"],$=["right","left"],j=["top","bottom"],et=["bottom","top"];switch(o){case"top":case"bottom":return s?i?$:a:i?a:$;case"left":case"right":return i?j:et;default:return[]}}function getOppositeAxisPlacements(o,i,s,a){const $=getAlignment(o);let j=getSideList(getSide(o),s==="start",a);return $&&(j=j.map(et=>et+"-"+$),i&&(j=j.concat(j.map(getOppositeAlignmentPlacement)))),j}function getOppositePlacement(o){return o.replace(/left|right|bottom|top/g,i=>oppositeSideMap[i])}function expandPaddingObject(o){return{top:0,right:0,bottom:0,left:0,...o}}function getPaddingObject(o){return typeof o!="number"?expandPaddingObject(o):{top:o,right:o,bottom:o,left:o}}function rectToClientRect(o){const{x:i,y:s,width:a,height:$}=o;return{width:a,height:$,top:s,left:i,right:i+a,bottom:s+$,x:i,y:s}}function computeCoordsFromPlacement(o,i,s){let{reference:a,floating:$}=o;const j=getSideAxis(i),et=getAlignmentAxis(i),rt=getAxisLength(et),st=getSide(i),it=j==="y",ot=a.x+a.width/2-$.width/2,tt=a.y+a.height/2-$.height/2,_e=a[rt]/2-$[rt]/2;let nt;switch(st){case"top":nt={x:ot,y:a.y-$.height};break;case"bottom":nt={x:ot,y:a.y+a.height};break;case"right":nt={x:a.x+a.width,y:tt};break;case"left":nt={x:a.x-$.width,y:tt};break;default:nt={x:a.x,y:a.y}}switch(getAlignment(i)){case"start":nt[et]-=_e*(s&&it?-1:1);break;case"end":nt[et]+=_e*(s&&it?-1:1);break}return nt}const computePosition$1=async(o,i,s)=>{const{placement:a="bottom",strategy:$="absolute",middleware:j=[],platform:et}=s,rt=j.filter(Boolean),st=await(et.isRTL==null?void 0:et.isRTL(i));let it=await et.getElementRects({reference:o,floating:i,strategy:$}),{x:ot,y:tt}=computeCoordsFromPlacement(it,a,st),_e=a,nt={},at=0;for(let lt=0;lt<rt.length;lt++){const{name:ut,fn:ct}=rt[lt],{x:dt,y:ft,data:ht,reset:gt}=await ct({x:ot,y:tt,initialPlacement:a,placement:_e,strategy:$,middlewareData:nt,rects:it,platform:et,elements:{reference:o,floating:i}});ot=dt??ot,tt=ft??tt,nt={...nt,[ut]:{...nt[ut],...ht}},gt&&at<=50&&(at++,typeof gt=="object"&&(gt.placement&&(_e=gt.placement),gt.rects&&(it=gt.rects===!0?await et.getElementRects({reference:o,floating:i,strategy:$}):gt.rects),{x:ot,y:tt}=computeCoordsFromPlacement(it,_e,st)),lt=-1)}return{x:ot,y:tt,placement:_e,strategy:$,middlewareData:nt}};async function detectOverflow(o,i){var s;i===void 0&&(i={});const{x:a,y:$,platform:j,rects:et,elements:rt,strategy:st}=o,{boundary:it="clippingAncestors",rootBoundary:ot="viewport",elementContext:tt="floating",altBoundary:_e=!1,padding:nt=0}=evaluate(i,o),at=getPaddingObject(nt),ut=rt[_e?tt==="floating"?"reference":"floating":tt],ct=rectToClientRect(await j.getClippingRect({element:(s=await(j.isElement==null?void 0:j.isElement(ut)))==null||s?ut:ut.contextElement||await(j.getDocumentElement==null?void 0:j.getDocumentElement(rt.floating)),boundary:it,rootBoundary:ot,strategy:st})),dt=tt==="floating"?{x:a,y:$,width:et.floating.width,height:et.floating.height}:et.reference,ft=await(j.getOffsetParent==null?void 0:j.getOffsetParent(rt.floating)),ht=await(j.isElement==null?void 0:j.isElement(ft))?await(j.getScale==null?void 0:j.getScale(ft))||{x:1,y:1}:{x:1,y:1},gt=rectToClientRect(j.convertOffsetParentRelativeRectToViewportRelativeRect?await j.convertOffsetParentRelativeRectToViewportRelativeRect({elements:rt,rect:dt,offsetParent:ft,strategy:st}):dt);return{top:(ct.top-gt.top+at.top)/ht.y,bottom:(gt.bottom-ct.bottom+at.bottom)/ht.y,left:(ct.left-gt.left+at.left)/ht.x,right:(gt.right-ct.right+at.right)/ht.x}}const arrow$1=o=>({name:"arrow",options:o,async fn(i){const{x:s,y:a,placement:$,rects:j,platform:et,elements:rt,middlewareData:st}=i,{element:it,padding:ot=0}=evaluate(o,i)||{};if(it==null)return{};const tt=getPaddingObject(ot),_e={x:s,y:a},nt=getAlignmentAxis($),at=getAxisLength(nt),lt=await et.getDimensions(it),ut=nt==="y",ct=ut?"top":"left",dt=ut?"bottom":"right",ft=ut?"clientHeight":"clientWidth",ht=j.reference[at]+j.reference[nt]-_e[nt]-j.floating[at],gt=_e[nt]-j.reference[nt],yt=await(et.getOffsetParent==null?void 0:et.getOffsetParent(it));let bt=yt?yt[ft]:0;(!bt||!await(et.isElement==null?void 0:et.isElement(yt)))&&(bt=rt.floating[ft]||j.floating[at]);const vt=ht/2-gt/2,mt=bt/2-lt[at]/2-1,xt=min(tt[ct],mt),wt=min(tt[dt],mt),Ct=xt,kt=bt-lt[at]-wt,It=bt/2-lt[at]/2+vt,Pt=clamp(Ct,It,kt),St=!st.arrow&&getAlignment($)!=null&&It!==Pt&&j.reference[at]/2-(It<Ct?xt:wt)-lt[at]/2<0,Ot=St?It<Ct?It-Ct:It-kt:0;return{[nt]:_e[nt]+Ot,data:{[nt]:Pt,centerOffset:It-Pt-Ot,...St&&{alignmentOffset:Ot}},reset:St}}}),flip$1=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(i){var s,a;const{placement:$,middlewareData:j,rects:et,initialPlacement:rt,platform:st,elements:it}=i,{mainAxis:ot=!0,crossAxis:tt=!0,fallbackPlacements:_e,fallbackStrategy:nt="bestFit",fallbackAxisSideDirection:at="none",flipAlignment:lt=!0,...ut}=evaluate(o,i);if((s=j.arrow)!=null&&s.alignmentOffset)return{};const ct=getSide($),dt=getSideAxis(rt),ft=getSide(rt)===rt,ht=await(st.isRTL==null?void 0:st.isRTL(it.floating)),gt=_e||(ft||!lt?[getOppositePlacement(rt)]:getExpandedPlacements(rt)),yt=at!=="none";!_e&&yt&&gt.push(...getOppositeAxisPlacements(rt,lt,at,ht));const bt=[rt,...gt],vt=await detectOverflow(i,ut),mt=[];let xt=((a=j.flip)==null?void 0:a.overflows)||[];if(ot&&mt.push(vt[ct]),tt){const It=getAlignmentSides($,et,ht);mt.push(vt[It[0]],vt[It[1]])}if(xt=[...xt,{placement:$,overflows:mt}],!mt.every(It=>It<=0)){var wt,Ct;const It=(((wt=j.flip)==null?void 0:wt.index)||0)+1,Pt=bt[It];if(Pt)return{data:{index:It,overflows:xt},reset:{placement:Pt}};let St=(Ct=xt.filter(Ot=>Ot.overflows[0]<=0).sort((Ot,At)=>Ot.overflows[1]-At.overflows[1])[0])==null?void 0:Ct.placement;if(!St)switch(nt){case"bestFit":{var kt;const Ot=(kt=xt.filter(At=>{if(yt){const $t=getSideAxis(At.placement);return $t===dt||$t==="y"}return!0}).map(At=>[At.placement,At.overflows.filter($t=>$t>0).reduce(($t,jt)=>$t+jt,0)]).sort((At,$t)=>At[1]-$t[1])[0])==null?void 0:kt[0];Ot&&(St=Ot);break}case"initialPlacement":St=rt;break}if($!==St)return{reset:{placement:St}}}return{}}}};function getSideOffsets(o,i){return{top:o.top-i.height,right:o.right-i.width,bottom:o.bottom-i.height,left:o.left-i.width}}function isAnySideFullyClipped(o){return sides.some(i=>o[i]>=0)}const hide$1=function(o){return o===void 0&&(o={}),{name:"hide",options:o,async fn(i){const{rects:s}=i,{strategy:a="referenceHidden",...$}=evaluate(o,i);switch(a){case"referenceHidden":{const j=await detectOverflow(i,{...$,elementContext:"reference"}),et=getSideOffsets(j,s.reference);return{data:{referenceHiddenOffsets:et,referenceHidden:isAnySideFullyClipped(et)}}}case"escaped":{const j=await detectOverflow(i,{...$,altBoundary:!0}),et=getSideOffsets(j,s.floating);return{data:{escapedOffsets:et,escaped:isAnySideFullyClipped(et)}}}default:return{}}}}};async function convertValueToCoords(o,i){const{placement:s,platform:a,elements:$}=o,j=await(a.isRTL==null?void 0:a.isRTL($.floating)),et=getSide(s),rt=getAlignment(s),st=getSideAxis(s)==="y",it=["left","top"].includes(et)?-1:1,ot=j&&st?-1:1,tt=evaluate(i,o);let{mainAxis:_e,crossAxis:nt,alignmentAxis:at}=typeof tt=="number"?{mainAxis:tt,crossAxis:0,alignmentAxis:null}:{mainAxis:tt.mainAxis||0,crossAxis:tt.crossAxis||0,alignmentAxis:tt.alignmentAxis};return rt&&typeof at=="number"&&(nt=rt==="end"?at*-1:at),st?{x:nt*ot,y:_e*it}:{x:_e*it,y:nt*ot}}const offset$1=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(i){var s,a;const{x:$,y:j,placement:et,middlewareData:rt}=i,st=await convertValueToCoords(i,o);return et===((s=rt.offset)==null?void 0:s.placement)&&(a=rt.arrow)!=null&&a.alignmentOffset?{}:{x:$+st.x,y:j+st.y,data:{...st,placement:et}}}}},shift$1=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(i){const{x:s,y:a,placement:$}=i,{mainAxis:j=!0,crossAxis:et=!1,limiter:rt={fn:ut=>{let{x:ct,y:dt}=ut;return{x:ct,y:dt}}},...st}=evaluate(o,i),it={x:s,y:a},ot=await detectOverflow(i,st),tt=getSideAxis(getSide($)),_e=getOppositeAxis(tt);let nt=it[_e],at=it[tt];if(j){const ut=_e==="y"?"top":"left",ct=_e==="y"?"bottom":"right",dt=nt+ot[ut],ft=nt-ot[ct];nt=clamp(dt,nt,ft)}if(et){const ut=tt==="y"?"top":"left",ct=tt==="y"?"bottom":"right",dt=at+ot[ut],ft=at-ot[ct];at=clamp(dt,at,ft)}const lt=rt.fn({...i,[_e]:nt,[tt]:at});return{...lt,data:{x:lt.x-s,y:lt.y-a,enabled:{[_e]:j,[tt]:et}}}}}},limitShift$1=function(o){return o===void 0&&(o={}),{options:o,fn(i){const{x:s,y:a,placement:$,rects:j,middlewareData:et}=i,{offset:rt=0,mainAxis:st=!0,crossAxis:it=!0}=evaluate(o,i),ot={x:s,y:a},tt=getSideAxis($),_e=getOppositeAxis(tt);let nt=ot[_e],at=ot[tt];const lt=evaluate(rt,i),ut=typeof lt=="number"?{mainAxis:lt,crossAxis:0}:{mainAxis:0,crossAxis:0,...lt};if(st){const ft=_e==="y"?"height":"width",ht=j.reference[_e]-j.floating[ft]+ut.mainAxis,gt=j.reference[_e]+j.reference[ft]-ut.mainAxis;nt<ht?nt=ht:nt>gt&&(nt=gt)}if(it){var ct,dt;const ft=_e==="y"?"width":"height",ht=["top","left"].includes(getSide($)),gt=j.reference[tt]-j.floating[ft]+(ht&&((ct=et.offset)==null?void 0:ct[tt])||0)+(ht?0:ut.crossAxis),yt=j.reference[tt]+j.reference[ft]+(ht?0:((dt=et.offset)==null?void 0:dt[tt])||0)-(ht?ut.crossAxis:0);at<gt?at=gt:at>yt&&(at=yt)}return{[_e]:nt,[tt]:at}}}},size$1=function(o){return o===void 0&&(o={}),{name:"size",options:o,async fn(i){var s,a;const{placement:$,rects:j,platform:et,elements:rt}=i,{apply:st=()=>{},...it}=evaluate(o,i),ot=await detectOverflow(i,it),tt=getSide($),_e=getAlignment($),nt=getSideAxis($)==="y",{width:at,height:lt}=j.floating;let ut,ct;tt==="top"||tt==="bottom"?(ut=tt,ct=_e===(await(et.isRTL==null?void 0:et.isRTL(rt.floating))?"start":"end")?"left":"right"):(ct=tt,ut=_e==="end"?"top":"bottom");const dt=lt-ot.top-ot.bottom,ft=at-ot.left-ot.right,ht=min(lt-ot[ut],dt),gt=min(at-ot[ct],ft),yt=!i.middlewareData.shift;let bt=ht,vt=gt;if((s=i.middlewareData.shift)!=null&&s.enabled.x&&(vt=ft),(a=i.middlewareData.shift)!=null&&a.enabled.y&&(bt=dt),yt&&!_e){const xt=max(ot.left,0),wt=max(ot.right,0),Ct=max(ot.top,0),kt=max(ot.bottom,0);nt?vt=at-2*(xt!==0||wt!==0?xt+wt:max(ot.left,ot.right)):bt=lt-2*(Ct!==0||kt!==0?Ct+kt:max(ot.top,ot.bottom))}await st({...i,availableWidth:vt,availableHeight:bt});const mt=await et.getDimensions(rt.floating);return at!==mt.width||lt!==mt.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(o){return isNode$1(o)?(o.nodeName||"").toLowerCase():"#document"}function getWindow(o){var i;return(o==null||(i=o.ownerDocument)==null?void 0:i.defaultView)||window}function getDocumentElement(o){var i;return(i=(isNode$1(o)?o.ownerDocument:o.document)||window.document)==null?void 0:i.documentElement}function isNode$1(o){return hasWindow()?o instanceof Node||o instanceof getWindow(o).Node:!1}function isElement$1(o){return hasWindow()?o instanceof Element||o instanceof getWindow(o).Element:!1}function isHTMLElement(o){return hasWindow()?o instanceof HTMLElement||o instanceof getWindow(o).HTMLElement:!1}function isShadowRoot(o){return!hasWindow()||typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof getWindow(o).ShadowRoot}function isOverflowElement(o){const{overflow:i,overflowX:s,overflowY:a,display:$}=getComputedStyle$1(o);return/auto|scroll|overlay|hidden|clip/.test(i+a+s)&&!["inline","contents"].includes($)}function isTableElement(o){return["table","td","th"].includes(getNodeName(o))}function isTopLayer(o){return[":popover-open",":modal"].some(i=>{try{return o.matches(i)}catch{return!1}})}function isContainingBlock(o){const i=isWebKit(),s=isElement$1(o)?getComputedStyle$1(o):o;return["transform","translate","scale","rotate","perspective"].some(a=>s[a]?s[a]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!i&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!i&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function getContainingBlock(o){let i=getParentNode$1(o);for(;isHTMLElement(i)&&!isLastTraversableNode(i);){if(isContainingBlock(i))return i;if(isTopLayer(i))return null;i=getParentNode$1(i)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(o){return["html","body","#document"].includes(getNodeName(o))}function getComputedStyle$1(o){return getWindow(o).getComputedStyle(o)}function getNodeScroll(o){return isElement$1(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.scrollX,scrollTop:o.scrollY}}function getParentNode$1(o){if(getNodeName(o)==="html")return o;const i=o.assignedSlot||o.parentNode||isShadowRoot(o)&&o.host||getDocumentElement(o);return isShadowRoot(i)?i.host:i}function getNearestOverflowAncestor(o){const i=getParentNode$1(o);return isLastTraversableNode(i)?o.ownerDocument?o.ownerDocument.body:o.body:isHTMLElement(i)&&isOverflowElement(i)?i:getNearestOverflowAncestor(i)}function getOverflowAncestors(o,i,s){var a;i===void 0&&(i=[]),s===void 0&&(s=!0);const $=getNearestOverflowAncestor(o),j=$===((a=o.ownerDocument)==null?void 0:a.body),et=getWindow($);if(j){const rt=getFrameElement(et);return i.concat(et,et.visualViewport||[],isOverflowElement($)?$:[],rt&&s?getOverflowAncestors(rt):[])}return i.concat($,getOverflowAncestors($,[],s))}function getFrameElement(o){return o.parent&&Object.getPrototypeOf(o.parent)?o.frameElement:null}function getCssDimensions(o){const i=getComputedStyle$1(o);let s=parseFloat(i.width)||0,a=parseFloat(i.height)||0;const $=isHTMLElement(o),j=$?o.offsetWidth:s,et=$?o.offsetHeight:a,rt=round(s)!==j||round(a)!==et;return rt&&(s=j,a=et),{width:s,height:a,$:rt}}function unwrapElement(o){return isElement$1(o)?o:o.contextElement}function getScale(o){const i=unwrapElement(o);if(!isHTMLElement(i))return createCoords(1);const s=i.getBoundingClientRect(),{width:a,height:$,$:j}=getCssDimensions(i);let et=(j?round(s.width):s.width)/a,rt=(j?round(s.height):s.height)/$;return(!et||!Number.isFinite(et))&&(et=1),(!rt||!Number.isFinite(rt))&&(rt=1),{x:et,y:rt}}const noOffsets=createCoords(0);function getVisualOffsets(o){const i=getWindow(o);return!isWebKit()||!i.visualViewport?noOffsets:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function shouldAddVisualOffsets(o,i,s){return i===void 0&&(i=!1),!s||i&&s!==getWindow(o)?!1:i}function getBoundingClientRect(o,i,s,a){i===void 0&&(i=!1),s===void 0&&(s=!1);const $=o.getBoundingClientRect(),j=unwrapElement(o);let et=createCoords(1);i&&(a?isElement$1(a)&&(et=getScale(a)):et=getScale(o));const rt=shouldAddVisualOffsets(j,s,a)?getVisualOffsets(j):createCoords(0);let st=($.left+rt.x)/et.x,it=($.top+rt.y)/et.y,ot=$.width/et.x,tt=$.height/et.y;if(j){const _e=getWindow(j),nt=a&&isElement$1(a)?getWindow(a):a;let at=_e,lt=getFrameElement(at);for(;lt&&a&&nt!==at;){const ut=getScale(lt),ct=lt.getBoundingClientRect(),dt=getComputedStyle$1(lt),ft=ct.left+(lt.clientLeft+parseFloat(dt.paddingLeft))*ut.x,ht=ct.top+(lt.clientTop+parseFloat(dt.paddingTop))*ut.y;st*=ut.x,it*=ut.y,ot*=ut.x,tt*=ut.y,st+=ft,it+=ht,at=getWindow(lt),lt=getFrameElement(at)}}return rectToClientRect({width:ot,height:tt,x:st,y:it})}function getWindowScrollBarX(o,i){const s=getNodeScroll(o).scrollLeft;return i?i.left+s:getBoundingClientRect(getDocumentElement(o)).left+s}function getHTMLOffset(o,i,s){s===void 0&&(s=!1);const a=o.getBoundingClientRect(),$=a.left+i.scrollLeft-(s?0:getWindowScrollBarX(o,a)),j=a.top+i.scrollTop;return{x:$,y:j}}function convertOffsetParentRelativeRectToViewportRelativeRect(o){let{elements:i,rect:s,offsetParent:a,strategy:$}=o;const j=$==="fixed",et=getDocumentElement(a),rt=i?isTopLayer(i.floating):!1;if(a===et||rt&&j)return s;let st={scrollLeft:0,scrollTop:0},it=createCoords(1);const ot=createCoords(0),tt=isHTMLElement(a);if((tt||!tt&&!j)&&((getNodeName(a)!=="body"||isOverflowElement(et))&&(st=getNodeScroll(a)),isHTMLElement(a))){const nt=getBoundingClientRect(a);it=getScale(a),ot.x=nt.x+a.clientLeft,ot.y=nt.y+a.clientTop}const _e=et&&!tt&&!j?getHTMLOffset(et,st,!0):createCoords(0);return{width:s.width*it.x,height:s.height*it.y,x:s.x*it.x-st.scrollLeft*it.x+ot.x+_e.x,y:s.y*it.y-st.scrollTop*it.y+ot.y+_e.y}}function getClientRects(o){return Array.from(o.getClientRects())}function getDocumentRect(o){const i=getDocumentElement(o),s=getNodeScroll(o),a=o.ownerDocument.body,$=max(i.scrollWidth,i.clientWidth,a.scrollWidth,a.clientWidth),j=max(i.scrollHeight,i.clientHeight,a.scrollHeight,a.clientHeight);let et=-s.scrollLeft+getWindowScrollBarX(o);const rt=-s.scrollTop;return getComputedStyle$1(a).direction==="rtl"&&(et+=max(i.clientWidth,a.clientWidth)-$),{width:$,height:j,x:et,y:rt}}function getViewportRect(o,i){const s=getWindow(o),a=getDocumentElement(o),$=s.visualViewport;let j=a.clientWidth,et=a.clientHeight,rt=0,st=0;if($){j=$.width,et=$.height;const it=isWebKit();(!it||it&&i==="fixed")&&(rt=$.offsetLeft,st=$.offsetTop)}return{width:j,height:et,x:rt,y:st}}function getInnerBoundingClientRect(o,i){const s=getBoundingClientRect(o,!0,i==="fixed"),a=s.top+o.clientTop,$=s.left+o.clientLeft,j=isHTMLElement(o)?getScale(o):createCoords(1),et=o.clientWidth*j.x,rt=o.clientHeight*j.y,st=$*j.x,it=a*j.y;return{width:et,height:rt,x:st,y:it}}function getClientRectFromClippingAncestor(o,i,s){let a;if(i==="viewport")a=getViewportRect(o,s);else if(i==="document")a=getDocumentRect(getDocumentElement(o));else if(isElement$1(i))a=getInnerBoundingClientRect(i,s);else{const $=getVisualOffsets(o);a={x:i.x-$.x,y:i.y-$.y,width:i.width,height:i.height}}return rectToClientRect(a)}function hasFixedPositionAncestor(o,i){const s=getParentNode$1(o);return s===i||!isElement$1(s)||isLastTraversableNode(s)?!1:getComputedStyle$1(s).position==="fixed"||hasFixedPositionAncestor(s,i)}function getClippingElementAncestors(o,i){const s=i.get(o);if(s)return s;let a=getOverflowAncestors(o,[],!1).filter(rt=>isElement$1(rt)&&getNodeName(rt)!=="body"),$=null;const j=getComputedStyle$1(o).position==="fixed";let et=j?getParentNode$1(o):o;for(;isElement$1(et)&&!isLastTraversableNode(et);){const rt=getComputedStyle$1(et),st=isContainingBlock(et);!st&&rt.position==="fixed"&&($=null),(j?!st&&!$:!st&&rt.position==="static"&&!!$&&["absolute","fixed"].includes($.position)||isOverflowElement(et)&&!st&&hasFixedPositionAncestor(o,et))?a=a.filter(ot=>ot!==et):$=rt,et=getParentNode$1(et)}return i.set(o,a),a}function getClippingRect(o){let{element:i,boundary:s,rootBoundary:a,strategy:$}=o;const et=[...s==="clippingAncestors"?isTopLayer(i)?[]:getClippingElementAncestors(i,this._c):[].concat(s),a],rt=et[0],st=et.reduce((it,ot)=>{const tt=getClientRectFromClippingAncestor(i,ot,$);return it.top=max(tt.top,it.top),it.right=min(tt.right,it.right),it.bottom=min(tt.bottom,it.bottom),it.left=max(tt.left,it.left),it},getClientRectFromClippingAncestor(i,rt,$));return{width:st.right-st.left,height:st.bottom-st.top,x:st.left,y:st.top}}function getDimensions(o){const{width:i,height:s}=getCssDimensions(o);return{width:i,height:s}}function getRectRelativeToOffsetParent(o,i,s){const a=isHTMLElement(i),$=getDocumentElement(i),j=s==="fixed",et=getBoundingClientRect(o,!0,j,i);let rt={scrollLeft:0,scrollTop:0};const st=createCoords(0);if(a||!a&&!j)if((getNodeName(i)!=="body"||isOverflowElement($))&&(rt=getNodeScroll(i)),a){const _e=getBoundingClientRect(i,!0,j,i);st.x=_e.x+i.clientLeft,st.y=_e.y+i.clientTop}else $&&(st.x=getWindowScrollBarX($));const it=$&&!a&&!j?getHTMLOffset($,rt):createCoords(0),ot=et.left+rt.scrollLeft-st.x-it.x,tt=et.top+rt.scrollTop-st.y-it.y;return{x:ot,y:tt,width:et.width,height:et.height}}function isStaticPositioned(o){return getComputedStyle$1(o).position==="static"}function getTrueOffsetParent(o,i){if(!isHTMLElement(o)||getComputedStyle$1(o).position==="fixed")return null;if(i)return i(o);let s=o.offsetParent;return getDocumentElement(o)===s&&(s=s.ownerDocument.body),s}function getOffsetParent(o,i){const s=getWindow(o);if(isTopLayer(o))return s;if(!isHTMLElement(o)){let $=getParentNode$1(o);for(;$&&!isLastTraversableNode($);){if(isElement$1($)&&!isStaticPositioned($))return $;$=getParentNode$1($)}return s}let a=getTrueOffsetParent(o,i);for(;a&&isTableElement(a)&&isStaticPositioned(a);)a=getTrueOffsetParent(a,i);return a&&isLastTraversableNode(a)&&isStaticPositioned(a)&&!isContainingBlock(a)?s:a||getContainingBlock(o)||s}const getElementRects=async function(o){const i=this.getOffsetParent||getOffsetParent,s=this.getDimensions,a=await s(o.floating);return{reference:getRectRelativeToOffsetParent(o.reference,await i(o.floating),o.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function isRTL(o){return getComputedStyle$1(o).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function rectsAreEqual(o,i){return o.x===i.x&&o.y===i.y&&o.width===i.width&&o.height===i.height}function observeMove(o,i){let s=null,a;const $=getDocumentElement(o);function j(){var rt;clearTimeout(a),(rt=s)==null||rt.disconnect(),s=null}function et(rt,st){rt===void 0&&(rt=!1),st===void 0&&(st=1),j();const it=o.getBoundingClientRect(),{left:ot,top:tt,width:_e,height:nt}=it;if(rt||i(),!_e||!nt)return;const at=floor(tt),lt=floor($.clientWidth-(ot+_e)),ut=floor($.clientHeight-(tt+nt)),ct=floor(ot),ft={rootMargin:-at+"px "+-lt+"px "+-ut+"px "+-ct+"px",threshold:max(0,min(1,st))||1};let ht=!0;function gt(yt){const bt=yt[0].intersectionRatio;if(bt!==st){if(!ht)return et();bt?et(!1,bt):a=setTimeout(()=>{et(!1,1e-7)},1e3)}bt===1&&!rectsAreEqual(it,o.getBoundingClientRect())&&et(),ht=!1}try{s=new IntersectionObserver(gt,{...ft,root:$.ownerDocument})}catch{s=new IntersectionObserver(gt,ft)}s.observe(o)}return et(!0),j}function autoUpdate(o,i,s,a){a===void 0&&(a={});const{ancestorScroll:$=!0,ancestorResize:j=!0,elementResize:et=typeof ResizeObserver=="function",layoutShift:rt=typeof IntersectionObserver=="function",animationFrame:st=!1}=a,it=unwrapElement(o),ot=$||j?[...it?getOverflowAncestors(it):[],...getOverflowAncestors(i)]:[];ot.forEach(ct=>{$&&ct.addEventListener("scroll",s,{passive:!0}),j&&ct.addEventListener("resize",s)});const tt=it&&rt?observeMove(it,s):null;let _e=-1,nt=null;et&&(nt=new ResizeObserver(ct=>{let[dt]=ct;dt&&dt.target===it&&nt&&(nt.unobserve(i),cancelAnimationFrame(_e),_e=requestAnimationFrame(()=>{var ft;(ft=nt)==null||ft.observe(i)})),s()}),it&&!st&&nt.observe(it),nt.observe(i));let at,lt=st?getBoundingClientRect(o):null;st&&ut();function ut(){const ct=getBoundingClientRect(o);lt&&!rectsAreEqual(lt,ct)&&s(),lt=ct,at=requestAnimationFrame(ut)}return s(),()=>{var ct;ot.forEach(dt=>{$&&dt.removeEventListener("scroll",s),j&&dt.removeEventListener("resize",s)}),tt==null||tt(),(ct=nt)==null||ct.disconnect(),nt=null,st&&cancelAnimationFrame(at)}}const offset=offset$1,shift=shift$1,flip=flip$1,size=size$1,hide=hide$1,arrow=arrow$1,limitShift=limitShift$1,computePosition=(o,i,s)=>{const a=new Map,$={platform,...s},j={...$.platform,_c:a};return computePosition$1(o,i,{...$,platform:j})};function createDOMRect(o=0,i=0,s=0,a=0){if(typeof DOMRect=="function")return new DOMRect(o,i,s,a);const $={x:o,y:i,width:s,height:a,top:i,right:o+s,bottom:i+a,left:o};return{...$,toJSON:()=>$}}function getDOMRect(o){if(!o)return createDOMRect();const{x:i,y:s,width:a,height:$}=o;return createDOMRect(i,s,a,$)}function getAnchorElement(o,i){return{contextElement:isHTMLElement$1(o)?o:void 0,getBoundingClientRect:()=>{const s=o,a=i==null?void 0:i(s);return a||!s?getDOMRect(a):s.getBoundingClientRect()}}}var toVar=o=>({variable:o,reference:`var(${o})`}),cssVars={arrowSize:toVar("--arrow-size"),arrowSizeHalf:toVar("--arrow-size-half"),arrowBg:toVar("--arrow-background"),transformOrigin:toVar("--transform-origin"),arrowOffset:toVar("--arrow-offset")},getTransformOrigin=o=>({top:"bottom center","top-start":o?`${o.x}px bottom`:"left bottom","top-end":o?`${o.x}px bottom`:"right bottom",bottom:"top center","bottom-start":o?`${o.x}px top`:"top left","bottom-end":o?`${o.x}px top`:"top right",left:"right center","left-start":o?`right ${o.y}px`:"right top","left-end":o?`right ${o.y}px`:"right bottom",right:"left center","right-start":o?`left ${o.y}px`:"left top","right-end":o?`left ${o.y}px`:"left bottom"}),transformOriginMiddleware={name:"transformOrigin",fn({placement:o,elements:i,middlewareData:s}){const{arrow:a}=s,$=getTransformOrigin(a)[o],{floating:j}=i;return j.style.setProperty(cssVars.transformOrigin.variable,$),{data:{transformOrigin:$}}}},rectMiddleware={name:"rects",fn({rects:o}){return{data:o}}},shiftArrowMiddleware=o=>{if(o)return{name:"shiftArrow",fn({placement:i,middlewareData:s}){if(!s.arrow)return{};const{x:a,y:$}=s.arrow,j=i.split("-")[0];return Object.assign(o.style,{left:a!=null?`${a}px`:"",top:$!=null?`${$}px`:"",[j]:`calc(100% + ${cssVars.arrowOffset.reference})`}),{}}}};function getPlacementDetails(o){const[i,s]=o.split("-");return{side:i,align:s,hasAlign:s!=null}}function getPlacementSide(o){return o.split("-")[0]}var defaultOptions$3={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function roundByDpr(o,i){const s=o.devicePixelRatio||1;return Math.round(i*s)/s}function getBoundaryMiddleware(o){return runIfFn(o.boundary)}function getArrowMiddleware(o,i){if(o)return arrow({element:o,padding:i.arrowPadding})}function getOffsetMiddleware(o,i){if(!isNull(i.offset??i.gutter))return offset(({placement:s})=>{var it,ot;const a=((o==null?void 0:o.clientHeight)||0)/2,$=((it=i.offset)==null?void 0:it.mainAxis)??i.gutter,j=typeof $=="number"?$+a:$??a,{hasAlign:et}=getPlacementDetails(s),rt=et?void 0:i.shift,st=((ot=i.offset)==null?void 0:ot.crossAxis)??rt;return compact({crossAxis:st,mainAxis:j,alignmentAxis:i.shift})})}function getFlipMiddleware(o){if(o.flip)return flip({boundary:getBoundaryMiddleware(o),padding:o.overflowPadding,fallbackPlacements:o.flip===!0?void 0:o.flip})}function getShiftMiddleware(o){if(!(!o.slide&&!o.overlap))return shift({boundary:getBoundaryMiddleware(o),mainAxis:o.slide,crossAxis:o.overlap,padding:o.overflowPadding,limiter:limitShift()})}function getSizeMiddleware(o){return size({padding:o.overflowPadding,apply({elements:i,rects:s,availableHeight:a,availableWidth:$}){const j=i.floating,et=Math.round(s.reference.width);$=Math.floor($),a=Math.floor(a),j.style.setProperty("--reference-width",`${et}px`),j.style.setProperty("--available-width",`${$}px`),j.style.setProperty("--available-height",`${a}px`)}})}function hideWhenDetachedMiddleware(o){var i;if(o.hideWhenDetached)return hide({strategy:"referenceHidden",boundary:((i=o.boundary)==null?void 0:i.call(o))??"clippingAncestors"})}function getAutoUpdateOptions(o){return o?o===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:o:{}}function getPlacementImpl(o,i,s={}){const a=getAnchorElement(o,s.getAnchorRect);if(!i||!a)return;const $=Object.assign({},defaultOptions$3,s),j=i.querySelector("[data-part=arrow]"),et=[getOffsetMiddleware(j,$),getFlipMiddleware($),getShiftMiddleware($),getArrowMiddleware(j,$),shiftArrowMiddleware(j),transformOriginMiddleware,getSizeMiddleware($),hideWhenDetachedMiddleware($),rectMiddleware],{placement:rt,strategy:st,onComplete:it,onPositioned:ot}=$,tt=async()=>{var ht;if(!a||!i)return;const lt=await computePosition(a,i,{placement:rt,middleware:et,strategy:st});it==null||it(lt),ot==null||ot({placed:!0});const ut=getWindow$1(i),ct=roundByDpr(ut,lt.x),dt=roundByDpr(ut,lt.y);i.style.setProperty("--x",`${ct}px`),i.style.setProperty("--y",`${dt}px`),$.hideWhenDetached&&(((ht=lt.middlewareData.hide)==null?void 0:ht.referenceHidden)?(i.style.setProperty("visibility","hidden"),i.style.setProperty("pointer-events","none")):(i.style.removeProperty("visibility"),i.style.removeProperty("pointer-events")));const ft=i.firstElementChild;if(ft){const gt=getComputedStyle$2(ft);i.style.setProperty("--z-index",gt.zIndex)}},_e=async()=>{s.updatePosition?(await s.updatePosition({updatePosition:tt}),ot==null||ot({placed:!0})):await tt()},nt=getAutoUpdateOptions($.listeners),at=$.listeners?autoUpdate(a,i,_e,nt):noop$4;return _e(),()=>{at==null||at(),ot==null||ot({placed:!1})}}function getPlacement(o,i,s={}){const{defer:a,...$}=s,j=a?raf$1:rt=>rt(),et=[];return et.push(j(()=>{const rt=typeof o=="function"?o():o,st=typeof i=="function"?i():i;et.push(getPlacementImpl(rt,st,$))})),()=>{et.forEach(rt=>rt==null?void 0:rt())}}var ARROW_FLOATING_STYLE={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function getPlacementStyles(o={}){const{placement:i,sameWidth:s,fitViewport:a,strategy:$="absolute"}=o;return{arrow:{position:"absolute",width:cssVars.arrowSize.reference,height:cssVars.arrowSize.reference,[cssVars.arrowSizeHalf.variable]:`calc(${cssVars.arrowSize.reference} / 2)`,[cssVars.arrowOffset.variable]:`calc(${cssVars.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:i?ARROW_FLOATING_STYLE[i.split("-")[0]]:void 0,background:cssVars.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:$,isolation:"isolate",minWidth:s?void 0:"max-content",width:s?"var(--reference-width)":void 0,maxWidth:a?"var(--available-width)":void 0,maxHeight:a?"var(--available-height)":void 0,pointerEvents:i?void 0:"none",top:"0px",left:"0px",transform:i?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function getWindowFrames(o){const i={each(s){var a;for(let $=0;$<((a=o.frames)==null?void 0:a.length);$+=1){const j=o.frames[$];j&&s(j)}},addEventListener(s,a,$){return i.each(j=>{try{j.document.addEventListener(s,a,$)}catch{}}),()=>{try{i.removeEventListener(s,a,$)}catch{}}},removeEventListener(s,a,$){i.each(j=>{try{j.document.removeEventListener(s,a,$)}catch{}})}};return i}function getParentWindow(o){const i=o.frameElement!=null?o.parent:null;return{addEventListener:(s,a,$)=>{try{i==null||i.addEventListener(s,a,$)}catch{}return()=>{try{i==null||i.removeEventListener(s,a,$)}catch{}}},removeEventListener:(s,a,$)=>{try{i==null||i.removeEventListener(s,a,$)}catch{}}}}var POINTER_OUTSIDE_EVENT="pointerdown.outside",FOCUS_OUTSIDE_EVENT="focus.outside";function isComposedPathFocusable(o){for(const i of o)if(isHTMLElement$1(i)&&isFocusable(i))return!0;return!1}var isPointerEvent=o=>"clientY"in o;function isEventPointWithin(o,i){if(!isPointerEvent(i)||!o)return!1;const s=o.getBoundingClientRect();return s.width===0||s.height===0?!1:s.top<=i.clientY&&i.clientY<=s.top+s.height&&s.left<=i.clientX&&i.clientX<=s.left+s.width}function isPointInRect(o,i){return o.y<=i.y&&i.y<=o.y+o.height&&o.x<=i.x&&i.x<=o.x+o.width}function isEventWithinScrollbar(o,i){if(!i||!isPointerEvent(o))return!1;const s=i.scrollHeight>i.clientHeight,a=s&&o.clientX>i.offsetLeft+i.clientWidth,$=i.scrollWidth>i.clientWidth,j=$&&o.clientY>i.offsetTop+i.clientHeight,et={x:i.offsetLeft,y:i.offsetTop,width:i.clientWidth+(s?16:0),height:i.clientHeight+($?16:0)},rt={x:o.clientX,y:o.clientY};return isPointInRect(et,rt)?a||j:!1}function trackInteractOutsideImpl(o,i){const{exclude:s,onFocusOutside:a,onPointerDownOutside:$,onInteractOutside:j,defer:et}=i;if(!o)return;const rt=getDocument(o),st=getWindow$1(o),it=getWindowFrames(st),ot=getParentWindow(st);function tt(dt,ft){if(!isHTMLElement$1(ft)||!ft.isConnected||contains(o,ft)||isEventPointWithin(o,dt))return!1;const ht=rt.querySelector(`[aria-controls="${o.id}"]`);if(ht){const yt=getNearestOverflowAncestor$1(ht);if(isEventWithinScrollbar(dt,yt))return!1}const gt=getNearestOverflowAncestor$1(o);return isEventWithinScrollbar(dt,gt)?!1:!(s!=null&&s(ft))}const _e=new Set,nt=isShadowRoot$1(o==null?void 0:o.getRootNode());function at(dt){function ft(ht){var vt;const gt=et&&!isTouchDevice()?raf$1:mt=>mt(),yt=ht??dt,bt=((vt=yt==null?void 0:yt.composedPath)==null?void 0:vt.call(yt))??[yt==null?void 0:yt.target];gt(()=>{const mt=nt?bt[0]:getEventTarget(dt);if(!(!o||!tt(dt,mt))){if($||j){const xt=callAll($,j);o.addEventListener(POINTER_OUTSIDE_EVENT,xt,{once:!0})}fireCustomEvent(o,POINTER_OUTSIDE_EVENT,{bubbles:!1,cancelable:!0,detail:{originalEvent:yt,contextmenu:isContextMenuEvent(yt),focusable:isComposedPathFocusable(bt),target:mt}})}})}dt.pointerType==="touch"?(_e.forEach(ht=>ht()),_e.add(addDomEvent(rt,"click",ft,{once:!0})),_e.add(ot.addEventListener("click",ft,{once:!0})),_e.add(it.addEventListener("click",ft,{once:!0}))):ft()}const lt=new Set,ut=setTimeout(()=>{lt.add(addDomEvent(rt,"pointerdown",at,!0)),lt.add(ot.addEventListener("pointerdown",at,!0)),lt.add(it.addEventListener("pointerdown",at,!0))},0);function ct(dt){(et?raf$1:ht=>ht())(()=>{const ht=getEventTarget(dt);if(!(!o||!tt(dt,ht))){if(a||j){const gt=callAll(a,j);o.addEventListener(FOCUS_OUTSIDE_EVENT,gt,{once:!0})}fireCustomEvent(o,FOCUS_OUTSIDE_EVENT,{bubbles:!1,cancelable:!0,detail:{originalEvent:dt,contextmenu:!1,focusable:isFocusable(ht),target:ht}})}})}return isTouchDevice()||(lt.add(addDomEvent(rt,"focusin",ct,!0)),lt.add(ot.addEventListener("focusin",ct,!0)),lt.add(it.addEventListener("focusin",ct,!0))),()=>{clearTimeout(ut),_e.forEach(dt=>dt()),lt.forEach(dt=>dt())}}function trackInteractOutside(o,i){const{defer:s}=i,a=s?raf$1:j=>j(),$=[];return $.push(a(()=>{const j=typeof o=="function"?o():o;$.push(trackInteractOutsideImpl(j,i))})),()=>{$.forEach(j=>j==null?void 0:j())}}function fireCustomEvent(o,i,s){const a=o.ownerDocument.defaultView||window,$=new a.CustomEvent(i,s);return o.dispatchEvent($)}function trackEscapeKeydown(o,i){const s=a=>{a.key==="Escape"&&(a.isComposing||i==null||i(a))};return addDomEvent(getDocument(o),"keydown",s,{capture:!0})}var layerStack={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(o=>o.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(o){var a;const i=this.indexOf(o),s=this.topMostPointerBlockingLayer()?this.indexOf((a=this.topMostPointerBlockingLayer())==null?void 0:a.node):-1;return i<s},isTopMost(o){const i=this.layers[this.count()-1];return(i==null?void 0:i.node)===o},getNestedLayers(o){return Array.from(this.layers).slice(this.indexOf(o)+1)},isInNestedLayer(o,i){return this.getNestedLayers(o).some(s=>contains(s.node,i))},isInBranch(o){return Array.from(this.branches).some(i=>contains(i,o))},add(o){const i=this.layers.push(o);o.node.style.setProperty("--layer-index",`${i}`)},addBranch(o){this.branches.push(o)},remove(o){const i=this.indexOf(o);i<0||(i<this.count()-1&&this.getNestedLayers(o).forEach(a=>a.dismiss()),this.layers.splice(i,1),o.style.removeProperty("--layer-index"))},removeBranch(o){const i=this.branches.indexOf(o);i>=0&&this.branches.splice(i,1)},indexOf(o){return this.layers.findIndex(i=>i.node===o)},dismiss(o){var i;(i=this.layers[this.indexOf(o)])==null||i.dismiss()},clear(){this.remove(this.layers[0].node)}},originalBodyPointerEvents;function assignPointerEventToLayers(){layerStack.layers.forEach(({node:o})=>{o.style.pointerEvents=layerStack.isBelowPointerBlockingLayer(o)?"none":"auto"})}function clearPointerEvent(o){o.style.pointerEvents=""}function disablePointerEventsOutside(o,i){const s=getDocument(o),a=[];if(layerStack.hasPointerBlockingLayer()&&!s.body.hasAttribute("data-inert")&&(originalBodyPointerEvents=document.body.style.pointerEvents,queueMicrotask(()=>{s.body.style.pointerEvents="none",s.body.setAttribute("data-inert","")})),i){const $=waitForElements(i,j=>{a.push(setStyle(j,{pointerEvents:"auto"}))});a.push($)}return()=>{layerStack.hasPointerBlockingLayer()||(queueMicrotask(()=>{s.body.style.pointerEvents=originalBodyPointerEvents,s.body.removeAttribute("data-inert"),s.body.style.length===0&&s.body.removeAttribute("style")}),a.forEach($=>$()))}}function trackDismissableElementImpl(o,i){const{warnOnMissingNode:s=!0}=i;if(s&&!o){warn$1("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!o)return;const{onDismiss:a,pointerBlocking:$,exclude:j,debug:et}=i,rt={dismiss:a,node:o,pointerBlocking:$};layerStack.add(rt),assignPointerEventToLayers();function st(nt){var lt,ut;const at=getEventTarget(nt.detail.originalEvent);layerStack.isBelowPointerBlockingLayer(o)||layerStack.isInBranch(at)||((lt=i.onPointerDownOutside)==null||lt.call(i,nt),(ut=i.onInteractOutside)==null||ut.call(i,nt),!nt.defaultPrevented&&(et&&console.log("onPointerDownOutside:",nt.detail.originalEvent),a==null||a()))}function it(nt){var lt,ut;const at=getEventTarget(nt.detail.originalEvent);layerStack.isInBranch(at)||((lt=i.onFocusOutside)==null||lt.call(i,nt),(ut=i.onInteractOutside)==null||ut.call(i,nt),!nt.defaultPrevented&&(et&&console.log("onFocusOutside:",nt.detail.originalEvent),a==null||a()))}function ot(nt){var at;layerStack.isTopMost(o)&&((at=i.onEscapeKeyDown)==null||at.call(i,nt),!nt.defaultPrevented&&a&&(nt.preventDefault(),a()))}function tt(nt){var ct;if(!o)return!1;const at=typeof j=="function"?j():j,lt=Array.isArray(at)?at:[at],ut=(ct=i.persistentElements)==null?void 0:ct.map(dt=>dt()).filter(isHTMLElement$1);return ut&&lt.push(...ut),lt.some(dt=>contains(dt,nt))||layerStack.isInNestedLayer(o,nt)}const _e=[$?disablePointerEventsOutside(o,i.persistentElements):void 0,trackEscapeKeydown(o,ot),trackInteractOutside(o,{exclude:tt,onFocusOutside:it,onPointerDownOutside:st,defer:i.defer})];return()=>{layerStack.remove(o),assignPointerEventToLayers(),clearPointerEvent(o),_e.forEach(nt=>nt==null?void 0:nt())}}function trackDismissableElement(o,i){const{defer:s}=i,a=s?raf$1:j=>j(),$=[];return $.push(a(()=>{const j=isFunction$1(o)?o():o;$.push(trackDismissableElementImpl(j,i))})),()=>{$.forEach(j=>j==null?void 0:j())}}function trackDismissableBranch(o,i={}){const{defer:s}=i,a=s?raf$1:j=>j(),$=[];return $.push(a(()=>{const j=isFunction$1(o)?o():o;if(!j){warn$1("[@zag-js/dismissable] branch node is `null` or `undefined`");return}layerStack.addBranch(j),$.push(()=>{layerStack.removeBranch(j)})})),()=>{$.forEach(j=>j==null?void 0:j())}}var anatomy$m=createAnatomy("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);anatomy$m.build();createProps$1()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);createProps$1()(["xChannel","yChannel"]);createProps$1()(["channel","orientation"]);createProps$1()(["value","disabled"]);createProps$1()(["value","respectAlpha"]);createProps$1()(["size"]);const[RenderStrategyPropsProvider,useRenderStrategyPropsContext]=createContext({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),splitRenderStrategyProps=o=>createSplitProps()(o,["lazyMount","unmountOnExit"]);var anatomy$l=createAnatomy("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");anatomy$l.build();createProps$1()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);createProps$1()(["value","disabled"]);var anatomy$k=createAnatomy("avatar").parts("root","image","fallback");anatomy$k.build();createProps$1()(["dir","id","ids","onStatusChange","getRootNode"]);function isValidKey(o){return!(o.metaKey||!isMac()&&o.altKey||o.ctrlKey||o.key==="Control"||o.key==="Shift"||o.key==="Meta")}var nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function isKeyboardFocusEvent(o,i,s){const a=s?getEventTarget(s):null,$=getWindow$1(a);return o=o||a instanceof $.HTMLInputElement&&!nonTextInputTypes.has(a==null?void 0:a.type)||a instanceof $.HTMLTextAreaElement||a instanceof $.HTMLElement&&a.isContentEditable,!(o&&i==="keyboard"&&s instanceof $.KeyboardEvent&&!Reflect.has(FOCUS_VISIBLE_INPUT_KEYS,s.key))}var currentModality=null,changeHandlers=new Set,listenerMap=new Map,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function triggerChangeHandlers(o,i){for(let s of changeHandlers)s(o,i)}function handleKeyboardEvent(o){hasEventBeforeFocus=!0,isValidKey(o)&&(currentModality="keyboard",triggerChangeHandlers("keyboard",o))}function handlePointerEvent(o){currentModality="pointer",(o.type==="mousedown"||o.type==="pointerdown")&&(hasEventBeforeFocus=!0,triggerChangeHandlers("pointer",o))}function handleClickEvent(o){isVirtualClick(o)&&(hasEventBeforeFocus=!0,currentModality="virtual")}function handleFocusEvent(o){const i=getEventTarget(o);i===getWindow$1(i)||i===getDocument(i)||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(currentModality="virtual",triggerChangeHandlers("virtual",o)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function handleWindowBlur(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function setupGlobalFocusEvents(o){if(typeof window>"u"||listenerMap.get(getWindow$1(o)))return;const i=getWindow$1(o),s=getDocument(o);let a=i.HTMLElement.prototype.focus;i.HTMLElement.prototype.focus=function(){currentModality="virtual",triggerChangeHandlers("virtual",null),hasEventBeforeFocus=!0,a.apply(this,arguments)},s.addEventListener("keydown",handleKeyboardEvent,!0),s.addEventListener("keyup",handleKeyboardEvent,!0),s.addEventListener("click",handleClickEvent,!0),i.addEventListener("focus",handleFocusEvent,!0),i.addEventListener("blur",handleWindowBlur,!1),typeof i.PointerEvent<"u"?(s.addEventListener("pointerdown",handlePointerEvent,!0),s.addEventListener("pointermove",handlePointerEvent,!0),s.addEventListener("pointerup",handlePointerEvent,!0)):(s.addEventListener("mousedown",handlePointerEvent,!0),s.addEventListener("mousemove",handlePointerEvent,!0),s.addEventListener("mouseup",handlePointerEvent,!0)),i.addEventListener("beforeunload",()=>{tearDownWindowFocusTracking(o)},{once:!0}),listenerMap.set(i,{focus:a})}var tearDownWindowFocusTracking=(o,i)=>{const s=getWindow$1(o),a=getDocument(o);listenerMap.has(s)&&(s.HTMLElement.prototype.focus=listenerMap.get(s).focus,a.removeEventListener("keydown",handleKeyboardEvent,!0),a.removeEventListener("keyup",handleKeyboardEvent,!0),a.removeEventListener("click",handleClickEvent,!0),s.removeEventListener("focus",handleFocusEvent,!0),s.removeEventListener("blur",handleWindowBlur,!1),typeof s.PointerEvent<"u"?(a.removeEventListener("pointerdown",handlePointerEvent,!0),a.removeEventListener("pointermove",handlePointerEvent,!0),a.removeEventListener("pointerup",handlePointerEvent,!0)):(a.removeEventListener("mousedown",handlePointerEvent,!0),a.removeEventListener("mousemove",handlePointerEvent,!0),a.removeEventListener("mouseup",handlePointerEvent,!0)),listenerMap.delete(s))};function isFocusVisible(){return currentModality==="keyboard"}function trackFocusVisible(o={}){const{isTextInput:i,autoFocus:s,onChange:a,root:$}=o;setupGlobalFocusEvents($),a==null||a({isFocusVisible:s||isFocusVisible(),modality:currentModality});const j=(et,rt)=>{isKeyboardFocusEvent(!!i,et,rt)&&(a==null||a({isFocusVisible:isFocusVisible(),modality:et}))};return changeHandlers.add(j),()=>{changeHandlers.delete(j)}}var anatomy$j=createAnatomy("checkbox").parts("root","label","control","indicator");anatomy$j.build();createProps$1()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const checkboxAnatomy=anatomy$j.extendWith("group"),[FieldProvider,useFieldContext]=createContext({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),[ClipboardProvider,useClipboardContext]=createContext({name:"ClipboardContext",hookName:"useClipboardContext",providerName:"<ClipboardProvider />"}),ClipboardControl=reactExports.forwardRef((o,i)=>{const s=useClipboardContext(),a=mergeProps(s.getControlProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});ClipboardControl.displayName="ClipboardControl";const ClipboardIndicator$1=reactExports.forwardRef((o,i)=>{const{children:s,copied:a,...$}=o,j=useClipboardContext(),et=mergeProps(j.getIndicatorProps({copied:j.copied}),$);return jsxRuntimeExports.jsx(ark.div,{...et,ref:i,children:j.copied?a:s})});ClipboardIndicator$1.displayName="ClipboardIndicator";const ClipboardInput$1=reactExports.forwardRef((o,i)=>{const s=useClipboardContext(),a=mergeProps(s.getInputProps(),o);return jsxRuntimeExports.jsx(ark.input,{...a,ref:i})});ClipboardInput$1.displayName="ClipboardInput";const ClipboardLabel$1=reactExports.forwardRef((o,i)=>{const s=useClipboardContext(),a=mergeProps(s.getLabelProps(),o);return jsxRuntimeExports.jsx(ark.label,{...a,ref:i})});ClipboardLabel$1.displayName="ClipboardLabel";var anatomy$i=createAnatomy("clipboard").parts("root","control","trigger","indicator","input","label"),parts$9=anatomy$i.build(),getRootId$5=o=>{var i;return((i=o.ids)==null?void 0:i.root)??`clip:${o.id}`},getInputId$1=o=>{var i;return((i=o.ids)==null?void 0:i.input)??`clip:${o.id}:input`},getLabelId$3=o=>{var i;return((i=o.ids)==null?void 0:i.label)??`clip:${o.id}:label`},getInputEl$1=o=>o.getById(getInputId$1(o)),writeToClipboard=(o,i)=>copyText(o.getDoc(),i);function createNode(o,i){const s=o.createElement("pre");return Object.assign(s.style,{width:"1px",height:"1px",position:"fixed",top:"5px"}),s.textContent=i,s}function copyNode(o){const s=getWindow$1(o).getSelection();if(s==null)return Promise.reject(new Error);s.removeAllRanges();const a=o.ownerDocument,$=a.createRange();return $.selectNodeContents(o),s.addRange($),a.execCommand("copy"),s.removeAllRanges(),Promise.resolve()}function copyText(o,i){var $;const s=o.defaultView||window;if((($=s.navigator.clipboard)==null?void 0:$.writeText)!==void 0)return s.navigator.clipboard.writeText(i);if(!o.body)return Promise.reject(new Error);const a=createNode(o,i);return o.body.appendChild(a),copyNode(a),o.body.removeChild(a),Promise.resolve()}function connect$8(o,i){const{state:s,send:a,context:$,scope:j}=o,et=s.matches("copied");return{copied:et,value:$.get("value"),setValue(rt){a({type:"VALUE.SET",value:rt})},copy(){a({type:"COPY"})},getRootProps(){return i.element({...parts$9.root.attrs,"data-copied":dataAttr$1(et),id:getRootId$5(j)})},getLabelProps(){return i.label({...parts$9.label.attrs,htmlFor:getInputId$1(j),"data-copied":dataAttr$1(et),id:getLabelId$3(j)})},getControlProps(){return i.element({...parts$9.control.attrs,"data-copied":dataAttr$1(et)})},getInputProps(){return i.input({...parts$9.input.attrs,defaultValue:$.get("value"),"data-copied":dataAttr$1(et),readOnly:!0,"data-readonly":"true",id:getInputId$1(j),onFocus(rt){rt.currentTarget.select()},onCopy(){a({type:"INPUT.COPY"})}})},getTriggerProps(){return i.button({...parts$9.trigger.attrs,type:"button","aria-label":et?"Copied to clipboard":"Copy to clipboard","data-copied":dataAttr$1(et),onClick(){a({type:"COPY"})}})},getIndicatorProps(rt){return i.element({...parts$9.indicator.attrs,hidden:rt.copied!==et})}}}var machine$8={props({props:o}){return{timeout:3e3,defaultValue:"",...o}},initialState(){return"idle"},context({prop:o,bindable:i}){return{value:i(()=>({defaultValue:o("defaultValue"),value:o("value"),onChange(s){var a;(a=o("onValueChange"))==null||a({value:s})}}))}},watch({track:o,context:i,action:s}){o([()=>i.get("value")],()=>{s(["syncInputElement"])})},on:{"VALUE.SET":{actions:["setValue"]},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]}},states:{idle:{on:{"INPUT.COPY":{target:"copied",actions:["invokeOnCopy"]}}},copied:{effects:["waitForTimeout"],on:{"COPY.DONE":{target:"idle"},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]},"INPUT.COPY":{actions:["invokeOnCopy"]}}}},implementations:{effects:{waitForTimeout({prop:o,send:i}){return setRafTimeout(()=>{i({type:"COPY.DONE"})},o("timeout"))}},actions:{setValue({context:o,event:i}){o.set("value",i.value)},copyToClipboard({context:o,scope:i}){writeToClipboard(i,o.get("value"))},invokeOnCopy({prop:o}){var i;(i=o("onStatusChange"))==null||i({copied:!0})},syncInputElement({context:o,scope:i}){const s=getInputEl$1(i);s&&setElementValue(s,o.get("value"))}}}};createProps$1()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]);createProps$1()(["copied"]);const useClipboard=o=>{const i=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),a={id:i,getRootNode:s,...o},$=useMachine(machine$8,a);return connect$8($,normalizeProps)},ClipboardRoot$2=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["defaultValue","id","ids","onStatusChange","onValueChange","timeout","value"]),$=useClipboard(s),j=mergeProps($.getRootProps(),a);return jsxRuntimeExports.jsx(ClipboardProvider,{value:$,children:jsxRuntimeExports.jsx(ark.div,{ref:i,...j})})});ClipboardRoot$2.displayName="ClipboardRoot";const ClipboardRootProvider=reactExports.forwardRef((o,i)=>{const[{value:s},a]=createSplitProps()(o,["value"]),$=mergeProps(s.getRootProps(),a);return jsxRuntimeExports.jsx(ClipboardProvider,{value:s,children:jsxRuntimeExports.jsx(ark.div,{ref:i,...$})})});ClipboardRootProvider.displayName="ClipboardRootProvider";const ClipboardTrigger$1=reactExports.forwardRef((o,i)=>{const s=useClipboardContext(),a=mergeProps(s.getTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});ClipboardTrigger$1.displayName="ClipboardTrigger";const ClipboardValueText=reactExports.forwardRef((o,i)=>{const s=useClipboardContext();return jsxRuntimeExports.jsx(ark.span,{...o,ref:i,children:o.children||s.value})});ClipboardValueText.displayName="ClipboardValueText";const colorPickerAnatomy$1=anatomy$m.extendWith("view");var __defProp$1=Object.defineProperty,__defNormalProp$1=(o,i,s)=>i in o?__defProp$1(o,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[i]=s,__publicField$1=(o,i,s)=>__defNormalProp$1(o,typeof i!="symbol"?i+"":i,s),fallback$1={itemToValue(o){return typeof o=="string"?o:isObject$2(o)&&hasProp(o,"value")?o.value:""},itemToString(o){return typeof o=="string"?o:isObject$2(o)&&hasProp(o,"label")?o.label:fallback$1.itemToValue(o)},isItemDisabled(o){return isObject$2(o)&&hasProp(o,"disabled")?!!o.disabled:!1}},ListCollection=class Ss{constructor(i){this.options=i,__publicField$1(this,"items"),__publicField$1(this,"copy",s=>new Ss({...this.options,items:s??[...this.items]})),__publicField$1(this,"isEqual",s=>isEqual(this.items,s.items)),__publicField$1(this,"setItems",s=>this.copy(s)),__publicField$1(this,"getValues",(s=this.items)=>Array.from(s).map(a=>this.getItemValue(a)).filter(Boolean)),__publicField$1(this,"find",s=>{if(s==null)return null;const a=this.items.findIndex($=>this.getItemValue($)===s);return a!=null?this.items[a]:null}),__publicField$1(this,"findMany",s=>Array.from(s).map(a=>this.find(a)).filter(a=>a!=null)),__publicField$1(this,"at",s=>this.items[s]??null),__publicField$1(this,"sortFn",(s,a)=>{const $=this.indexOf(s),j=this.indexOf(a);return($??0)-(j??0)}),__publicField$1(this,"sort",s=>[...s].sort(this.sortFn.bind(this))),__publicField$1(this,"getItemValue",s=>{var a,$;return s==null?null:(($=(a=this.options).itemToValue)==null?void 0:$.call(a,s))??fallback$1.itemToValue(s)}),__publicField$1(this,"getItemDisabled",s=>{var a,$;return s==null?!1:(($=(a=this.options).isItemDisabled)==null?void 0:$.call(a,s))??fallback$1.isItemDisabled(s)}),__publicField$1(this,"stringifyItem",s=>{var a,$;return s==null?null:(($=(a=this.options).itemToString)==null?void 0:$.call(a,s))??fallback$1.itemToString(s)}),__publicField$1(this,"stringify",s=>s==null?null:this.stringifyItem(this.find(s))),__publicField$1(this,"stringifyItems",(s,a=", ")=>Array.from(s).map($=>this.stringifyItem($)).filter(Boolean).join(a)),__publicField$1(this,"stringifyMany",(s,a)=>this.stringifyItems(this.findMany(s),a)),__publicField$1(this,"has",s=>this.indexOf(s)!==-1),__publicField$1(this,"hasItem",s=>s==null?!1:this.has(this.getItemValue(s))),__publicField$1(this,"getNextValue",(s,a=1,$=!1)=>{let j=this.indexOf(s);if(j===-1)return null;for(j=$?Math.min(j+a,this.size-1):j+a;j<=this.size&&this.getItemDisabled(this.at(j));)j++;return this.getItemValue(this.at(j))}),__publicField$1(this,"getPreviousValue",(s,a=1,$=!1)=>{let j=this.indexOf(s);if(j===-1)return null;for(j=$?Math.max(j-a,0):j-a;j>=0&&this.getItemDisabled(this.at(j));)j--;return this.getItemValue(this.at(j))}),__publicField$1(this,"indexOf",s=>s==null?-1:this.items.findIndex(a=>this.getItemValue(a)===s)),__publicField$1(this,"getByText",(s,a)=>{let $=a!=null?wrap$1(this.items,this.indexOf(a)):this.items;return s.length===1&&($=$.filter(et=>this.getItemValue(et)!==a)),$.find(et=>match$1(this.stringifyItem(et),s))}),__publicField$1(this,"search",(s,a)=>{const{state:$,currentValue:j,timeout:et=350}=a,rt=$.keysSoFar+s,it=rt.length>1&&Array.from(rt).every(at=>at===rt[0])?rt[0]:rt,ot=this.getByText(it,j),tt=this.getItemValue(ot);function _e(){clearTimeout($.timer),$.timer=-1}function nt(at){$.keysSoFar=at,_e(),at!==""&&($.timer=+setTimeout(()=>{nt(""),_e()},et))}return nt(rt),tt}),__publicField$1(this,"update",(s,a)=>{let $=this.items.findIndex(j=>this.getItemValue(j)===s);return $===-1?this:this.copy([...this.items.slice(0,$),a,...this.items.slice($+1)])}),__publicField$1(this,"insert",(s,...a)=>this.copy(insert(this.items,s,...a))),__publicField$1(this,"insertBefore",(s,...a)=>{let $=this.indexOf(s);if($===-1)if(this.items.length===0)$=0;else return this;return this.copy(insert(this.items,$,...a))}),__publicField$1(this,"insertAfter",(s,...a)=>{let $=this.indexOf(s);if($===-1)if(this.items.length===0)$=0;else return this;return this.copy(insert(this.items,$+1,...a))}),__publicField$1(this,"prepend",(...s)=>this.copy(insert(this.items,0,...s))),__publicField$1(this,"append",(...s)=>this.copy(insert(this.items,this.items.length,...s))),__publicField$1(this,"remove",(...s)=>{const a=s.map($=>typeof $=="string"?$:this.getItemValue($));return this.copy(this.items.filter($=>{const j=this.getItemValue($);return j==null?!1:!a.includes(j)}))}),__publicField$1(this,"move",(s,a)=>{const $=this.indexOf(s);return $===-1?this:this.copy(move(this.items,[$],a))}),__publicField$1(this,"reorder",(s,a)=>this.copy(move(this.items,[s],a))),__publicField$1(this,"compareValue",(s,a)=>{const $=this.indexOf(s),j=this.indexOf(a);return $<j?-1:$>j?1:0}),__publicField$1(this,"range",(s,a)=>{let $=[],j=s;for(;j!=null;){if(this.find(j)&&$.push(j),j===a)return $;j=this.getNextValue(j)}return[]}),__publicField$1(this,"getValueRange",(s,a)=>s&&a?this.compareValue(s,a)<=0?this.range(s,a):this.range(a,s):[]),__publicField$1(this,"toString",()=>{let s="";for(const a of this.items){const $=this.getItemValue(a),j=this.stringifyItem(a),et=this.getItemDisabled(a),rt=[$,j,et].filter(Boolean).join(":");s+=rt+","}return s}),__publicField$1(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...i.items]}get size(){return this.items.length}get firstValue(){let i=0;for(;this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}get lastValue(){let i=this.size-1;for(;this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}*[Symbol.iterator](){yield*this.items}},match$1=(o,i)=>!!(o!=null&&o.toLowerCase().startsWith(i.toLowerCase())),wrap$1=(o,i)=>o.map((s,a)=>o[(Math.max(i,0)+a)%o.length]);function insert(o,i,...s){return[...o.slice(0,i),...s,...o.slice(i)]}function move(o,i,s){i=[...i].sort(($,j)=>$-j);const a=i.map($=>o[$]);for(let $=i.length-1;$>=0;$--)o=[...o.slice(0,i[$]),...o.slice(i[$]+1)];return s=Math.max(0,s-i.filter($=>$<s).length),[...o.slice(0,s),...a,...o.slice(s)]}const createListCollection=o=>new ListCollection(o);var counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=o=>o&&(o.host||unwrapHost(o.parentNode)),correctTargets=(o,i)=>i.map(s=>{if(o.contains(s))return s;const a=unwrapHost(s);return a&&o.contains(a)?a:(console.error("[zag-js > ariaHidden] target",s,"in not contained inside",o,". Doing nothing"),null)}).filter(s=>!!s),isIgnoredNode=o=>o.localName==="next-route-announcer"||o.localName==="script"||o.hasAttribute("aria-live")?!0:o.matches("[data-live-announcer]"),walkTreeOutside=(o,i)=>{const{parentNode:s,markerName:a,controlAttribute:$}=i,j=correctTargets(s,Array.isArray(o)?o:[o]);markerMap[a]||(markerMap[a]=new WeakMap);const et=markerMap[a],rt=[],st=new Set,it=new Set(j),ot=_e=>{!_e||st.has(_e)||(st.add(_e),ot(_e.parentNode))};j.forEach(ot);const tt=_e=>{!_e||it.has(_e)||Array.prototype.forEach.call(_e.children,nt=>{if(st.has(nt))tt(nt);else try{if(isIgnoredNode(nt))return;const lt=nt.getAttribute($)==="true",ut=(counterMap.get(nt)||0)+1,ct=(et.get(nt)||0)+1;counterMap.set(nt,ut),et.set(nt,ct),rt.push(nt),ut===1&&lt&&uncontrolledNodes.set(nt,!0),ct===1&&nt.setAttribute(a,""),lt||nt.setAttribute($,"true")}catch(at){console.error("[zag-js > ariaHidden] cannot operate on ",nt,at)}})};return tt(s),st.clear(),lockCount++,()=>{rt.forEach(_e=>{const nt=counterMap.get(_e)-1,at=et.get(_e)-1;counterMap.set(_e,nt),et.set(_e,at),nt||(uncontrolledNodes.has(_e)||_e.removeAttribute($),uncontrolledNodes.delete(_e)),at||_e.removeAttribute(a)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},getParentNode=o=>(Array.isArray(o)?o[0]:o).ownerDocument.body,hideOthers=(o,i=getParentNode(o),s="data-aria-hidden")=>{if(i)return walkTreeOutside(o,{parentNode:i,markerName:s,controlAttribute:"aria-hidden"})},raf=o=>{const i=requestAnimationFrame(()=>o());return()=>cancelAnimationFrame(i)};function ariaHidden(o,i={}){const{defer:s=!0}=i,a=s?raf:j=>j(),$=[];return $.push(a(()=>{const et=(typeof o=="function"?o():o).filter(Boolean);et.length!==0&&$.push(hideOthers(et))})),()=>{$.forEach(j=>j==null?void 0:j())}}const[DialogProvider,useDialogContext]=createContext({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),DialogBackdrop=reactExports.forwardRef((o,i)=>{const s=useDialogContext(),a=useRenderStrategyPropsContext(),$=usePresence({...a,present:s.open}),j=mergeProps(s.getBackdropProps(),$.getPresenceProps(),o);return $.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...j,ref:composeRefs($.ref,i)})});DialogBackdrop.displayName="DialogBackdrop";const DialogCloseTrigger=reactExports.forwardRef((o,i)=>{const s=useDialogContext(),a=mergeProps(s.getCloseTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});DialogCloseTrigger.displayName="DialogCloseTrigger";const DialogContent=reactExports.forwardRef((o,i)=>{const s=useDialogContext(),a=usePresenceContext(),$=mergeProps(s.getContentProps(),a.getPresenceProps(),o);return a.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...$,ref:composeRefs(a.ref,i)})});DialogContent.displayName="DialogContent";const DialogDescription=reactExports.forwardRef((o,i)=>{const s=useDialogContext(),a=mergeProps(s.getDescriptionProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});DialogDescription.displayName="DialogDescription";const DialogPositioner=reactExports.forwardRef((o,i)=>{const s=useDialogContext(),a=mergeProps(s.getPositionerProps(),o);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});DialogPositioner.displayName="DialogPositioner";var __defProp=Object.defineProperty,__defNormalProp=(o,i,s)=>i in o?__defProp(o,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[i]=s,__publicField=(o,i,s)=>__defNormalProp(o,typeof i!="symbol"?i+"":i,s),activeFocusTraps={activateTrap(o,i){if(o.length>0){const a=o[o.length-1];a!==i&&a.pause()}const s=o.indexOf(i);s===-1||o.splice(s,1),o.push(i)},deactivateTrap(o,i){const s=o.indexOf(i);s!==-1&&o.splice(s,1),o.length>0&&o[o.length-1].unpause()}},sharedTrapStack=[],FocusTrap=class{constructor(o,i){__publicField(this,"trapStack"),__publicField(this,"config"),__publicField(this,"doc"),__publicField(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),__publicField(this,"listenerCleanups",[]),__publicField(this,"handleFocus",a=>{const $=getEventTarget(a),j=this.findContainerIndex($,a)>=0;if(j||isDocument($))j&&(this.state.mostRecentlyFocusedNode=$);else{a.stopImmediatePropagation();let et,rt=!0;if(this.state.mostRecentlyFocusedNode)if(getTabIndex(this.state.mostRecentlyFocusedNode)>0){const st=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:it}=this.state.containerGroups[st];if(it.length>0){const ot=it.findIndex(tt=>tt===this.state.mostRecentlyFocusedNode);ot>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?ot+1<it.length&&(et=it[ot+1],rt=!1):ot-1>=0&&(et=it[ot-1],rt=!1))}}else this.state.containerGroups.some(st=>st.tabbableNodes.some(it=>getTabIndex(it)>0))||(rt=!1);else rt=!1;rt&&(et=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),et?this.tryFocus(et):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),__publicField(this,"handlePointerDown",a=>{const $=getEventTarget(a);if(!(this.findContainerIndex($,a)>=0)){if(valueOrHandler(this.config.clickOutsideDeactivates,a)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}valueOrHandler(this.config.allowOutsideClick,a)||a.preventDefault()}}),__publicField(this,"handleClick",a=>{const $=getEventTarget(a);this.findContainerIndex($,a)>=0||valueOrHandler(this.config.clickOutsideDeactivates,a)||valueOrHandler(this.config.allowOutsideClick,a)||(a.preventDefault(),a.stopImmediatePropagation())}),__publicField(this,"handleTabKey",a=>{if(this.config.isKeyForward(a)||this.config.isKeyBackward(a)){this.state.recentNavEvent=a;const $=this.config.isKeyBackward(a),j=this.findNextNavNode({event:a,isBackward:$});if(!j)return;isTabEvent(a)&&a.preventDefault(),this.tryFocus(j)}}),__publicField(this,"handleEscapeKey",a=>{isEscapeEvent(a)&&valueOrHandler(this.config.escapeDeactivates,a)!==!1&&(a.preventDefault(),this.deactivate())}),__publicField(this,"_mutationObserver"),__publicField(this,"setupMutationObserver",()=>{const a=this.doc.defaultView||window;this._mutationObserver=new a.MutationObserver($=>{$.some(et=>Array.from(et.removedNodes).some(st=>st===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),__publicField(this,"updateObservedNodes",()=>{var a;(a=this._mutationObserver)==null||a.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map($=>{var j;(j=this._mutationObserver)==null||j.observe($,{subtree:!0,childList:!0})})}),__publicField(this,"getInitialFocusNode",()=>{let a=this.getNodeForOption("initialFocus",{hasFallback:!0});if(a===!1)return!1;if(a===void 0||a&&!isFocusable(a))if(this.findContainerIndex(this.doc.activeElement)>=0)a=this.doc.activeElement;else{const $=this.state.tabbableGroups[0];a=$&&$.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else a===null&&(a=this.getNodeForOption("fallbackFocus"));if(!a)throw new Error("Your focus-trap needs to have at least one focusable element");return a.isConnected||(a=this.getNodeForOption("fallbackFocus")),a}),__publicField(this,"tryFocus",a=>{if(a!==!1&&a!==getActiveElement(this.doc)){if(!a||!a.focus){this.tryFocus(this.getInitialFocusNode());return}a.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=a,isSelectableInput(a)&&a.select()}}),__publicField(this,"deactivate",a=>{if(!this.state.active)return this;const $={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...a};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),activeFocusTraps.deactivateTrap(this.trapStack,this);const j=this.getOption($,"onDeactivate"),et=this.getOption($,"onPostDeactivate"),rt=this.getOption($,"checkCanReturnFocus"),st=this.getOption($,"returnFocus","returnFocusOnDeactivate");j==null||j();const it=()=>{delay(()=>{if(st){const ot=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(ot)}et==null||et()})};if(st&&rt){const ot=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return rt(ot).then(it,it),this}return it(),this}),__publicField(this,"pause",a=>{if(this.state.paused||!this.state.active)return this;const $=this.getOption(a,"onPause"),j=this.getOption(a,"onPostPause");return this.state.paused=!0,$==null||$(),this.removeListeners(),this.updateObservedNodes(),j==null||j(),this}),__publicField(this,"unpause",a=>{if(!this.state.paused||!this.state.active)return this;const $=this.getOption(a,"onUnpause"),j=this.getOption(a,"onPostUnpause");return this.state.paused=!1,$==null||$(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),j==null||j(),this}),__publicField(this,"updateContainerElements",a=>(this.state.containers=Array.isArray(a)?a.filter(Boolean):[a].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),__publicField(this,"getReturnFocusNode",a=>{const $=this.getNodeForOption("setReturnFocus",{params:[a]});return $||($===!1?!1:a)}),__publicField(this,"getOption",(a,$,j)=>a&&a[$]!==void 0?a[$]:this.config[j||$]),__publicField(this,"getNodeForOption",(a,{hasFallback:$=!1,params:j=[]}={})=>{let et=this.config[a];if(typeof et=="function"&&(et=et(...j)),et===!0&&(et=void 0),!et){if(et===void 0||et===!1)return et;throw new Error(`\`${a}\` was specified but was not a node, or did not return a node`)}let rt=et;if(typeof et=="string"){try{rt=this.doc.querySelector(et)}catch(st){throw new Error(`\`${a}\` appears to be an invalid selector; error="${st.message}"`)}if(!rt&&!$)throw new Error(`\`${a}\` as selector refers to no known node`)}return rt}),__publicField(this,"findNextNavNode",a=>{const{event:$,isBackward:j=!1}=a,et=a.target||getEventTarget($);this.updateTabbableNodes();let rt=null;if(this.state.tabbableGroups.length>0){const st=this.findContainerIndex(et,$),it=st>=0?this.state.containerGroups[st]:void 0;if(st<0)j?rt=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:rt=this.state.tabbableGroups[0].firstTabbableNode;else if(j){let ot=this.state.tabbableGroups.findIndex(({firstTabbableNode:tt})=>et===tt);if(ot<0&&((it==null?void 0:it.container)===et||isFocusable(et)&&!isTabbable(et)&&!(it!=null&&it.nextTabbableNode(et,!1)))&&(ot=st),ot>=0){const tt=ot===0?this.state.tabbableGroups.length-1:ot-1,_e=this.state.tabbableGroups[tt];rt=getTabIndex(et)>=0?_e.lastTabbableNode:_e.lastDomTabbableNode}else isTabEvent($)||(rt=it==null?void 0:it.nextTabbableNode(et,!1))}else{let ot=this.state.tabbableGroups.findIndex(({lastTabbableNode:tt})=>et===tt);if(ot<0&&((it==null?void 0:it.container)===et||isFocusable(et)&&!isTabbable(et)&&!(it!=null&&it.nextTabbableNode(et)))&&(ot=st),ot>=0){const tt=ot===this.state.tabbableGroups.length-1?0:ot+1,_e=this.state.tabbableGroups[tt];rt=getTabIndex(et)>=0?_e.firstTabbableNode:_e.firstDomTabbableNode}else isTabEvent($)||(rt=it==null?void 0:it.nextTabbableNode(et))}}else rt=this.getNodeForOption("fallbackFocus");return rt}),this.trapStack=i.trapStack||sharedTrapStack;const s={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(a){return isTabEvent(a)&&!a.shiftKey},isKeyBackward(a){return isTabEvent(a)&&a.shiftKey},...i};this.doc=s.document||getDocument(Array.isArray(o)?o[0]:o),this.config=s,this.updateContainerElements(o),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(o,i){const s=typeof(i==null?void 0:i.composedPath)=="function"?i.composedPath():void 0;return this.state.containerGroups.findIndex(({container:a,tabbableNodes:$})=>a.contains(o)||(s==null?void 0:s.includes(a))||$.find(j=>j===o))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(o=>{const i=getTabbables(o),s=getFocusables(o),a=i.length>0?i[0]:void 0,$=i.length>0?i[i.length-1]:void 0,j=s.find(it=>isTabbable(it)),et=s.slice().reverse().find(it=>isTabbable(it)),rt=!!i.find(it=>getTabIndex(it)>0);function st(it,ot=!0){const tt=i.indexOf(it);return tt<0?ot?s.slice(s.indexOf(it)+1).find(_e=>isTabbable(_e)):s.slice(0,s.indexOf(it)).reverse().find(_e=>isTabbable(_e)):i[tt+(ot?1:-1)]}return{container:o,tabbableNodes:i,focusableNodes:s,posTabIndexesFound:rt,firstTabbableNode:a,lastTabbableNode:$,firstDomTabbableNode:j,lastDomTabbableNode:et,nextTabbableNode:st}}),this.state.tabbableGroups=this.state.containerGroups.filter(o=>o.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(o=>o.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return activeFocusTraps.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?delay(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(addDomEvent(this.doc,"focusin",this.handleFocus,!0),addDomEvent(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),addDomEvent(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),addDomEvent(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),addDomEvent(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),addDomEvent(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(o=>o()),this.listenerCleanups=[],this}activate(o){if(this.state.active)return this;const i=this.getOption(o,"onActivate"),s=this.getOption(o,"onPostActivate"),a=this.getOption(o,"checkCanFocusTrap");a||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,i==null||i();const $=()=>{a&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s()};return a?(a(this.state.containers.concat()).then($,$),this):($(),this)}},isTabEvent=o=>o.key==="Tab",valueOrHandler=(o,...i)=>typeof o=="function"?o(...i):o,isEscapeEvent=o=>!o.isComposing&&o.key==="Escape",delay=o=>setTimeout(o,0),isSelectableInput=o=>o.localName==="input"&&"select"in o&&typeof o.select=="function";function trapFocus(o,i={}){let s;const a=raf$1(()=>{const $=typeof o=="function"?o():o;if($){s=new FocusTrap($,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:$,...i,document:getDocument($)});try{s.activate()}catch{}}});return function(){s==null||s.deactivate(),a()}}var LOCK_CLASSNAME="data-scroll-lock";function getPaddingProperty(o){const i=o.getBoundingClientRect().left;return Math.round(i)+o.scrollLeft?"paddingLeft":"paddingRight"}function preventBodyScroll(o){const i=o??document,s=i.defaultView??window,{documentElement:a,body:$}=i;if($.hasAttribute(LOCK_CLASSNAME))return;$.setAttribute(LOCK_CLASSNAME,"");const et=s.innerWidth-a.clientWidth,rt=()=>setStyleProperty(a,"--scrollbar-width",`${et}px`),st=getPaddingProperty(a),it=()=>setStyle($,{overflow:"hidden",[st]:`${et}px`}),ot=()=>{const{scrollX:_e,scrollY:nt,visualViewport:at}=s,lt=(at==null?void 0:at.offsetLeft)??0,ut=(at==null?void 0:at.offsetTop)??0,ct=setStyle($,{position:"fixed",overflow:"hidden",top:`${-(nt-Math.floor(ut))}px`,left:`${-(_e-Math.floor(lt))}px`,right:"0",[st]:`${et}px`});return()=>{ct==null||ct(),s.scrollTo({left:_e,top:nt,behavior:"instant"})}},tt=[rt(),isIos()?ot():it()];return()=>{tt.forEach(_e=>_e==null?void 0:_e()),$.removeAttribute(LOCK_CLASSNAME)}}var anatomy$h=createAnatomy("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),parts$8=anatomy$h.build(),getPositionerId$3=o=>{var i;return((i=o.ids)==null?void 0:i.positioner)??`dialog:${o.id}:positioner`},getBackdropId=o=>{var i;return((i=o.ids)==null?void 0:i.backdrop)??`dialog:${o.id}:backdrop`},getContentId$4=o=>{var i;return((i=o.ids)==null?void 0:i.content)??`dialog:${o.id}:content`},getTriggerId$4=o=>{var i;return((i=o.ids)==null?void 0:i.trigger)??`dialog:${o.id}:trigger`},getTitleId$1=o=>{var i;return((i=o.ids)==null?void 0:i.title)??`dialog:${o.id}:title`},getDescriptionId$1=o=>{var i;return((i=o.ids)==null?void 0:i.description)??`dialog:${o.id}:description`},getCloseTriggerId$1=o=>{var i;return((i=o.ids)==null?void 0:i.closeTrigger)??`dialog:${o.id}:close`},getContentEl$3=o=>o.getById(getContentId$4(o)),getPositionerEl$3=o=>o.getById(getPositionerId$3(o)),getBackdropEl=o=>o.getById(getBackdropId(o)),getTriggerEl$4=o=>o.getById(getTriggerId$4(o)),getTitleEl=o=>o.getById(getTitleId$1(o)),getDescriptionEl=o=>o.getById(getDescriptionId$1(o)),getCloseTriggerEl=o=>o.getById(getCloseTriggerId$1(o));function connect$7(o,i){const{state:s,send:a,context:$,prop:j,scope:et}=o,rt=j("aria-label"),st=s.matches("open");return{open:st,setOpen(it){s.matches("open")!==it&&a({type:it?"OPEN":"CLOSE"})},getTriggerProps(){return i.button({...parts$8.trigger.attrs,dir:j("dir"),id:getTriggerId$4(et),"aria-haspopup":"dialog",type:"button","aria-expanded":st,"data-state":st?"open":"closed","aria-controls":getContentId$4(et),onClick(it){it.defaultPrevented||a({type:"TOGGLE"})}})},getBackdropProps(){return i.element({...parts$8.backdrop.attrs,dir:j("dir"),hidden:!st,id:getBackdropId(et),"data-state":st?"open":"closed"})},getPositionerProps(){return i.element({...parts$8.positioner.attrs,dir:j("dir"),id:getPositionerId$3(et),style:{pointerEvents:st?void 0:"none"}})},getContentProps(){const it=$.get("rendered");return i.element({...parts$8.content.attrs,dir:j("dir"),role:j("role"),hidden:!st,id:getContentId$4(et),tabIndex:-1,"data-state":st?"open":"closed","aria-modal":!0,"aria-label":rt||void 0,"aria-labelledby":rt||!it.title?void 0:getTitleId$1(et),"aria-describedby":it.description?getDescriptionId$1(et):void 0})},getTitleProps(){return i.element({...parts$8.title.attrs,dir:j("dir"),id:getTitleId$1(et)})},getDescriptionProps(){return i.element({...parts$8.description.attrs,dir:j("dir"),id:getDescriptionId$1(et)})},getCloseTriggerProps(){return i.button({...parts$8.closeTrigger.attrs,dir:j("dir"),id:getCloseTriggerId$1(et),type:"button",onClick(it){it.defaultPrevented||(it.stopPropagation(),a({type:"CLOSE"}))}})}}}var machine$7={props({props:o,scope:i}){const s=o.role==="alertdialog";return{role:"dialog",modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!s,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:s?()=>getCloseTriggerEl(i):void 0,...o}},initialState({prop:o}){return o("open")||o("defaultOpen")?"open":"closed"},context({bindable:o}){return{rendered:o(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:o,action:i,prop:s}){o([()=>s("open")],()=>{i(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:o})=>o("open")!=null},effects:{trackDismissableElement({scope:o,send:i,prop:s}){return trackDismissableElement(()=>getContentEl$3(o),{defer:!0,pointerBlocking:s("modal"),exclude:[getTriggerEl$4(o)],onInteractOutside($){var j;(j=s("onInteractOutside"))==null||j($),s("closeOnInteractOutside")||$.preventDefault()},persistentElements:s("persistentElements"),onFocusOutside:s("onFocusOutside"),onPointerDownOutside:s("onPointerDownOutside"),onEscapeKeyDown($){var j;(j=s("onEscapeKeyDown"))==null||j($),s("closeOnEscape")||$.preventDefault()},onDismiss(){i({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:o,prop:i}){if(i("preventScroll"))return preventBodyScroll(o.getDoc())},trapFocus({scope:o,prop:i}){return!i("trapFocus")||!i("modal")?void 0:trapFocus(()=>getContentEl$3(o),{preventScroll:!0,returnFocusOnDeactivate:!!i("restoreFocus"),initialFocus:i("initialFocusEl"),setReturnFocus:a=>{var $;return(($=i("finalFocusEl"))==null?void 0:$())??a}})},hideContentBelow({scope:o,prop:i}){return i("modal")?ariaHidden(()=>[getContentEl$3(o)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:o,scope:i}){raf$1(()=>{o.set("rendered",{title:!!getTitleEl(i),description:!!getDescriptionEl(i)})})},syncZIndex({scope:o}){raf$1(()=>{const i=getContentEl$3(o);if(!i)return;const s=getComputedStyle$2(i);[getPositionerEl$3(o),getBackdropEl(o)].forEach($=>{$==null||$.style.setProperty("--z-index",s.zIndex)})})},invokeOnClose({prop:o}){var i;(i=o("onOpenChange"))==null||i({open:!1})},invokeOnOpen({prop:o}){var i;(i=o("onOpenChange"))==null||i({open:!0})},toggleVisibility({prop:o,send:i,event:s}){i({type:o("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:s})}}}};createProps$1()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const useDialog=o=>{const i=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),$={id:i,getRootNode:s,dir:a,...o},j=useMachine(machine$7,$);return connect$7(j,normalizeProps)},DialogRoot=o=>{const[i,{children:s,...a}]=splitPresenceProps(o),[$]=splitRenderStrategyProps(i),j=useDialog(a),et=usePresence(mergeProps({present:j.open},i));return jsxRuntimeExports.jsx(DialogProvider,{value:j,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:$,children:jsxRuntimeExports.jsx(PresenceProvider,{value:et,children:s})})})},DialogRootProvider=o=>{const[i,{value:s,children:a}]=splitPresenceProps(o),[$]=splitRenderStrategyProps(i),j=usePresence(mergeProps({present:s.open},i));return jsxRuntimeExports.jsx(DialogProvider,{value:s,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:$,children:jsxRuntimeExports.jsx(PresenceProvider,{value:j,children:a})})})},DialogTitle=reactExports.forwardRef((o,i)=>{const s=useDialogContext(),a=mergeProps(s.getTitleProps(),o);return jsxRuntimeExports.jsx(ark.h2,{...a,ref:i})});DialogTitle.displayName="DialogTitle";const DialogTrigger=reactExports.forwardRef((o,i)=>{const s=useDialogContext(),a=usePresenceContext(),$=mergeProps({...s.getTriggerProps(),"aria-controls":a.unmounted?void 0:s.getTriggerProps()["aria-controls"]},o);return jsxRuntimeExports.jsx(ark.button,{...$,ref:i})});DialogTrigger.displayName="DialogTrigger";var anatomy$g=createAnatomy("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");anatomy$g.build();createProps$1()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]);const FieldErrorText$1=reactExports.forwardRef((o,i)=>{const s=useFieldContext(),a=mergeProps(s.getErrorTextProps(),o);return s!=null&&s.invalid?jsxRuntimeExports.jsx(ark.span,{...a,ref:i}):null});FieldErrorText$1.displayName="FieldErrorText";const FieldHelperText$1=reactExports.forwardRef((o,i)=>{const s=useFieldContext(),a=mergeProps(s==null?void 0:s.getHelperTextProps(),o);return jsxRuntimeExports.jsx(ark.span,{...a,ref:i})});FieldHelperText$1.displayName="FieldHelperText";const FieldInput=reactExports.forwardRef((o,i)=>{const s=useFieldContext(),a=mergeProps(s==null?void 0:s.getInputProps(),o);return jsxRuntimeExports.jsx(ark.input,{...a,ref:i})});FieldInput.displayName="FieldInput";const FieldLabel$1=reactExports.forwardRef((o,i)=>{const s=useFieldContext(),a=mergeProps(s==null?void 0:s.getLabelProps(),o);return jsxRuntimeExports.jsx(ark.label,{...a,ref:i})});FieldLabel$1.displayName="FieldLabel";const useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,[FieldsetProvider,useFieldsetContext]=createContext({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),fieldAnatomy$1=createAnatomy("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),parts$7=fieldAnatomy$1.build(),useField=(o={})=>{const i=useFieldsetContext(),{ids:s,disabled:a=!!(i!=null&&i.disabled),invalid:$=!1,readOnly:j=!1,required:et=!1}=o,[rt,st]=reactExports.useState(!1),[it,ot]=reactExports.useState(!1),tt=o.id??reactExports.useId(),_e=reactExports.useRef(null),nt=(s==null?void 0:s.control)??`field::${tt}`,at=(s==null?void 0:s.errorText)??`field::${tt}::error-text`,lt=(s==null?void 0:s.helperText)??`field::${tt}::helper-text`,ut=(s==null?void 0:s.label)??`field::${tt}::label`;useSafeLayoutEffect(()=>{const wt=_e.current;if(!wt)return;const Ct=getWindow$1(wt),kt=Ct.document,It=()=>{st(!!kt.getElementById(at)),ot(!!kt.getElementById(lt))};It();const Pt=new Ct.MutationObserver(It);return Pt.observe(wt,{childList:!0,subtree:!0}),()=>Pt.disconnect()},[at,lt]);const ct=reactExports.useMemo(()=>{const wt=[];return rt&&$&&wt.push(at),it&&wt.push(lt),wt.join(" ")||void 0},[$,at,lt,rt,it]),dt=reactExports.useMemo(()=>()=>({...parts$7.root.attrs,id:nt,ref:_e,role:"group","data-disabled":dataAttr$1(a),"data-invalid":dataAttr$1($),"data-readonly":dataAttr$1(j)}),[a,$,j,nt]),ft=reactExports.useMemo(()=>()=>({...parts$7.label.attrs,id:ut,"data-disabled":dataAttr$1(a),"data-invalid":dataAttr$1($),"data-readonly":dataAttr$1(j),htmlFor:tt}),[a,$,j,tt,ut]),ht=reactExports.useMemo(()=>()=>({"aria-describedby":ct,"aria-invalid":ariaAttr($),"data-invalid":dataAttr$1($),"data-required":dataAttr$1(et),"data-readonly":dataAttr$1(j),id:tt,required:et,disabled:a,readOnly:j}),[ct,$,et,j,tt,a]),gt=reactExports.useMemo(()=>()=>({...ht(),...parts$7.input.attrs}),[ht]),yt=reactExports.useMemo(()=>()=>({...ht(),...parts$7.textarea.attrs}),[ht]),bt=reactExports.useMemo(()=>()=>({...ht(),...parts$7.select.attrs}),[ht]),vt=reactExports.useMemo(()=>()=>({id:lt,...parts$7.helperText.attrs,"data-disabled":dataAttr$1(a)}),[a,lt]),mt=reactExports.useMemo(()=>()=>({id:at,...parts$7.errorText.attrs,"aria-live":"polite"}),[at]),xt=reactExports.useMemo(()=>()=>({"aria-hidden":!0,...parts$7.requiredIndicator.attrs}),[]);return{ariaDescribedby:ct,ids:{root:nt,control:tt,label:ut,errorText:at,helperText:lt},refs:{rootRef:_e},disabled:a,invalid:$,readOnly:j,required:et,getLabelProps:ft,getRootProps:dt,getInputProps:gt,getTextareaProps:yt,getSelectProps:bt,getHelperTextProps:vt,getErrorTextProps:mt,getRequiredIndicatorProps:xt}},FieldRoot$1=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["id","ids","disabled","invalid","readOnly","required"]),$=useField(s),j=mergeProps($.getRootProps(),a);return jsxRuntimeExports.jsx(FieldProvider,{value:$,children:jsxRuntimeExports.jsx(ark.div,{...j,ref:composeRefs(i,$.refs.rootRef)})})});FieldRoot$1.displayName="FieldRoot";var autoresizeTextarea=o=>{var it,ot;if(!o)return;const i=getComputedStyle$2(o),s=getWindow$1(o),a=getDocument(o),$=()=>{requestAnimationFrame(()=>{o.style.height="auto";let tt;i.boxSizing==="content-box"?tt=o.scrollHeight-(parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)):tt=o.scrollHeight+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),i.maxHeight!=="none"&&tt>parseFloat(i.maxHeight)?(i.overflowY==="hidden"&&(o.style.overflowY="scroll"),tt=parseFloat(i.maxHeight)):i.overflowY!=="hidden"&&(o.style.overflowY="hidden"),o.style.height=`${tt}px`})};o.addEventListener("input",$),(it=o.form)==null||it.addEventListener("reset",$);const j=Object.getPrototypeOf(o),et=Object.getOwnPropertyDescriptor(j,"value");Object.defineProperty(o,"value",{...et,set(){var tt;(tt=et==null?void 0:et.set)==null||tt.apply(this,arguments),$()}});const rt=new s.ResizeObserver(()=>{requestAnimationFrame(()=>$())});rt.observe(o);const st=new s.MutationObserver(()=>$());return st.observe(o,{attributes:!0,attributeFilter:["rows","placeholder"]}),(ot=a.fonts)==null||ot.addEventListener("loadingdone",$),()=>{var tt,_e;o.removeEventListener("input",$),(tt=o.form)==null||tt.removeEventListener("reset",$),(_e=a.fonts)==null||_e.removeEventListener("loadingdone",$),rt.disconnect(),st.disconnect()}};const FieldTextarea=reactExports.forwardRef((o,i)=>{const{autoresize:s,...a}=o,$=reactExports.useRef(null),j=useFieldContext(),et=mergeProps(j==null?void 0:j.getTextareaProps(),{style:{resize:s?"none":void 0}},a);return reactExports.useEffect(()=>{if(s)return autoresizeTextarea($.current)},[s]),jsxRuntimeExports.jsx(ark.textarea,{...et,ref:composeRefs(i,$)})});FieldTextarea.displayName="FieldTextarea";const fieldsetAnatomy$1=createAnatomy("fieldset").parts("root","errorText","helperText","legend");fieldsetAnatomy$1.build();var anatomy$f=createAnatomy("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");anatomy$f.build();createProps$1()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);createProps$1()(["file"]);var anatomy$e=createAnatomy("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");anatomy$e.build();createProps$1()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","defaultOpen","open","openDelay","positioning","onInteractOutside","onPointerDownOutside","onFocusOutside"]);const[MenuProvider,useMenuContext]=createContext({name:"MenuContext",hookName:"useMenuContext",providerName:"<MenuProvider />",strict:!1}),MenuArrow=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=mergeProps(s.getArrowProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});MenuArrow.displayName="MenuArrow";const MenuArrowTip$1=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=mergeProps(s.getArrowTipProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});MenuArrowTip$1.displayName="MenuArrowTip";const[MenuItemProvider,useMenuItemContext]=createContext({name:"MenuItemContext",hookName:"useMenuItemContext",providerName:"<MenuItemProvider />"}),[MenuOptionItemPropsProvider,useMenuOptionItemPropsContext]=createContext({name:"MenuOptionItemPropsContext",hookName:"useMenuOptionItemPropsContext",providerName:"<MenuOptionItemPropsProvider />"}),MenuCheckboxItem=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["checked","closeOnSelect","disabled","onCheckedChange","value","valueText"]),$={...s,type:"checkbox"},j=useMenuContext(),et=mergeProps(j.getOptionItemProps($),a),rt=j.getOptionItemState($);return jsxRuntimeExports.jsx(MenuOptionItemPropsProvider,{value:$,children:jsxRuntimeExports.jsx(MenuItemProvider,{value:rt,children:jsxRuntimeExports.jsx(ark.div,{...et,ref:i})})})});MenuCheckboxItem.displayName="MenuCheckboxItem";const MenuContent$1=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=usePresenceContext(),$=mergeProps(s.getContentProps(),a.getPresenceProps(),o);return a.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...$,ref:composeRefs(a.ref,i)})});MenuContent$1.displayName="MenuContent";const MenuContextTrigger=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=mergeProps(s.getContextTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});MenuContextTrigger.displayName="MenuContextTrigger";const MenuIndicator=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=mergeProps(s.getIndicatorProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});MenuIndicator.displayName="MenuIndicator";const MenuItem=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["closeOnSelect","disabled","value","valueText","onSelect"]),$=useMenuContext(),j=mergeProps($.getItemProps(s),a),et=$.getItemState(s);return reactExports.useEffect(()=>$.addItemListener({id:et.id,onSelect:s.onSelect}),[et.id,s.onSelect]),jsxRuntimeExports.jsx(MenuItemProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...j,ref:i})})});MenuItem.displayName="MenuItem";const[MenuItemGroupProvider,useMenuItemGroupContext]=createContext({name:"MenuItemGroupContext",hookName:"useMenuItemGroupContext",providerName:"<MenuItemGroupProvider />"}),MenuItemGroup=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["id"]),$=useMenuContext(),et={id:reactExports.useId(),...s},rt=mergeProps($.getItemGroupProps(et),a);return jsxRuntimeExports.jsx(MenuItemGroupProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...rt,ref:i})})});MenuItemGroup.displayName="MenuItemGroup";const MenuItemGroupLabel=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=useMenuItemGroupContext(),$=mergeProps(s.getItemGroupLabelProps({htmlFor:a.id}),o);return jsxRuntimeExports.jsx(ark.div,{...$,ref:i})});MenuItemGroupLabel.displayName="MenuItemGroupLabel";const MenuItemIndicator$1=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=useMenuOptionItemPropsContext(),$=mergeProps(s.getItemIndicatorProps(a),o);return jsxRuntimeExports.jsx(ark.div,{...$,ref:i})});MenuItemIndicator$1.displayName="MenuItemIndicator";const MenuItemText=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=useMenuOptionItemPropsContext(),$=mergeProps(s.getItemTextProps(a),o);return jsxRuntimeExports.jsx(ark.div,{...$,ref:i})});MenuItemText.displayName="MenuItemText";const MenuPositioner$1=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=mergeProps(s.getPositionerProps(),o);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});MenuPositioner$1.displayName="MenuPositioner";const MenuRadioItem$1=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["closeOnSelect","disabled","value","valueText"]),$=useMenuContext(),j=useMenuItemGroupContext(),et={...s,checked:j.value===s.value,type:"radio",onCheckedChange:()=>{var it;return(it=j.onValueChange)==null?void 0:it.call(j,{value:s.value})}},rt=mergeProps($.getOptionItemProps(et),a),st=$.getOptionItemState(et);return jsxRuntimeExports.jsx(MenuOptionItemPropsProvider,{value:et,children:jsxRuntimeExports.jsx(MenuItemProvider,{value:st,children:jsxRuntimeExports.jsx(ark.div,{...rt,ref:i})})})});MenuRadioItem$1.displayName="MenuRadioItem";const MenuRadioItemGroup$1=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["id","onValueChange","value"]),$=useMenuContext(),et={id:reactExports.useId(),...s},rt=mergeProps($.getItemGroupProps({id:et.id}),a);return jsxRuntimeExports.jsx(MenuItemGroupProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...rt,ref:i})})});MenuRadioItemGroup$1.displayName="MenuRadioItemGroup";const useEffectOnce=o=>{const i=reactExports.useRef(o),s=reactExports.useRef(!1);reactExports.useEffect(()=>{i.current=o}),reactExports.useEffect(()=>{s.current!==!0&&(s.current=!0,i.current())},[])};var createPoint=(o,i)=>({x:o,y:i});function createRect(o){const{x:i,y:s,width:a,height:$}=o,j=i+a/2,et=s+$/2;return{x:i,y:s,width:a,height:$,minX:i,minY:s,maxX:i+a,maxY:s+$,midX:j,midY:et,center:createPoint(j,et)}}function getRectCorners(o){const i=createPoint(o.minX,o.minY),s=createPoint(o.maxX,o.minY),a=createPoint(o.maxX,o.maxY),$=createPoint(o.minX,o.maxY);return{top:i,right:s,bottom:a,left:$}}function getElementPolygon(o,i){const s=createRect(o),{top:a,right:$,left:j,bottom:et}=getRectCorners(s),[rt]=i.split("-");return{top:[j,a,$,et],right:[a,$,et,j],bottom:[a,j,et,$],left:[$,a,j,et]}[rt]}function isPointInPolygon(o,i){const{x:s,y:a}=i;let $=!1;for(let j=0,et=o.length-1;j<o.length;et=j++){const rt=o[j].x,st=o[j].y,it=o[et].x,ot=o[et].y;st>a!=ot>a&&s<(it-rt)*(a-st)/(ot-st)+rt&&($=!$)}return $}var anatomy$d=createAnatomy("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),parts$6=anatomy$d.build(),getTriggerId$3=o=>{var i;return((i=o.ids)==null?void 0:i.trigger)??`menu:${o.id}:trigger`},getContextTriggerId=o=>{var i;return((i=o.ids)==null?void 0:i.contextTrigger)??`menu:${o.id}:ctx-trigger`},getContentId$3=o=>{var i;return((i=o.ids)==null?void 0:i.content)??`menu:${o.id}:content`},getArrowId$1=o=>{var i;return((i=o.ids)==null?void 0:i.arrow)??`menu:${o.id}:arrow`},getPositionerId$2=o=>{var i;return((i=o.ids)==null?void 0:i.positioner)??`menu:${o.id}:popper`},getGroupId=(o,i)=>{var s,a;return((a=(s=o.ids)==null?void 0:s.group)==null?void 0:a.call(s,i))??`menu:${o.id}:group:${i}`},getItemId$1=(o,i)=>`${o.id}/${i}`,getItemValue=o=>(o==null?void 0:o.dataset.value)??null,getGroupLabelId=(o,i)=>{var s,a;return((a=(s=o.ids)==null?void 0:s.groupLabel)==null?void 0:a.call(s,i))??`menu:${o.id}:group-label:${i}`},getContentEl$2=o=>o.getById(getContentId$3(o)),getPositionerEl$2=o=>o.getById(getPositionerId$2(o)),getTriggerEl$3=o=>o.getById(getTriggerId$3(o)),getItemEl$1=(o,i)=>i?o.getById(getItemId$1(o,i)):null,getContextTriggerEl=o=>o.getById(getContextTriggerId(o)),getElements$1=o=>{const s=`[role^="menuitem"][data-ownedby=${CSS.escape(getContentId$3(o))}]:not([data-disabled])`;return queryAll(getContentEl$2(o),s)},getFirstEl=o=>first(getElements$1(o)),getLastEl=o=>last(getElements$1(o)),isMatch=(o,i)=>i?o.id===i||o.dataset.value===i:!1,getNextEl=(o,i)=>{const s=getElements$1(o),a=s.findIndex($=>isMatch($,i.value));return next(s,a,{loop:i.loop??i.loopFocus})},getPrevEl=(o,i)=>{const s=getElements$1(o),a=s.findIndex($=>isMatch($,i.value));return prev(s,a,{loop:i.loop??i.loopFocus})},getElemByKey=(o,i)=>{const s=getElements$1(o),a=s.find($=>isMatch($,i.value));return getByTypeahead(s,{state:i.typeaheadState,key:i.key,activeId:(a==null?void 0:a.id)??null})},isTargetDisabled=o=>isHTMLElement$1(o)&&(o.dataset.disabled===""||o.hasAttribute("disabled")),isTriggerItem=o=>{var i;return!!((i=o==null?void 0:o.getAttribute("role"))!=null&&i.startsWith("menuitem"))&&!!(o!=null&&o.hasAttribute("aria-controls"))},itemSelectEvent="menu:select";function dispatchSelectionEvent(o,i){if(!o)return;const s=getWindow$1(o),a=new s.CustomEvent(itemSelectEvent,{detail:{value:i}});o.dispatchEvent(a)}function connect$6(o,i){const{context:s,send:a,state:$,computed:j,prop:et,scope:rt}=o,st=$.hasTag("open"),it=j("isSubmenu"),ot=j("isTypingAhead"),tt=et("composite"),_e=s.get("currentPlacement"),nt=s.get("anchorPoint"),at=s.get("highlightedValue"),lt=getPlacementStyles({...et("positioning"),placement:nt?"bottom":_e});function ut(ht){return{id:getItemId$1(rt,ht.value),disabled:!!ht.disabled,highlighted:at===ht.value}}function ct(ht){const gt=ht.valueText??ht.value;return{...ht,id:ht.value,valueText:gt}}function dt(ht){return{...ut(ct(ht)),checked:!!ht.checked}}function ft(ht){const{closeOnSelect:gt,valueText:yt,value:bt}=ht,vt=ut(ht),mt=getItemId$1(rt,bt);return i.element({...parts$6.item.attrs,id:mt,role:"menuitem","aria-disabled":ariaAttr(vt.disabled),"data-disabled":dataAttr$1(vt.disabled),"data-ownedby":getContentId$3(rt),"data-highlighted":dataAttr$1(vt.highlighted),"data-value":bt,"data-valuetext":yt,onDragStart(xt){xt.currentTarget.matches("a[href]")&&xt.preventDefault()},onPointerMove(xt){if(vt.disabled||xt.pointerType!=="mouse")return;const wt=xt.currentTarget;vt.highlighted||a({type:"ITEM_POINTERMOVE",id:mt,target:wt,closeOnSelect:gt})},onPointerLeave(xt){var kt;if(vt.disabled||xt.pointerType!=="mouse"||!((kt=o.event.previous())==null?void 0:kt.type.includes("POINTER")))return;const Ct=xt.currentTarget;a({type:"ITEM_POINTERLEAVE",id:mt,target:Ct,closeOnSelect:gt})},onPointerDown(xt){if(vt.disabled)return;const wt=xt.currentTarget;a({type:"ITEM_POINTERDOWN",target:wt,id:mt,closeOnSelect:gt})},onClick(xt){if(isDownloadingEvent(xt)||isOpeningInNewTab(xt)||vt.disabled)return;const wt=xt.currentTarget;a({type:"ITEM_CLICK",target:wt,id:mt,closeOnSelect:gt})}})}return{highlightedValue:at,open:st,setOpen(ht){$.hasTag("open")!==ht&&a({type:ht?"OPEN":"CLOSE"})},setHighlightedValue(ht){a({type:"HIGHLIGHTED.SET",value:ht})},setParent(ht){a({type:"PARENT.SET",value:ht,id:ht.prop("id")})},setChild(ht){a({type:"CHILD.SET",value:ht,id:ht.prop("id")})},reposition(ht={}){a({type:"POSITIONING.SET",options:ht})},addItemListener(ht){const gt=rt.getById(ht.id);if(!gt)return;const yt=()=>{var bt;return(bt=ht.onSelect)==null?void 0:bt.call(ht)};return gt.addEventListener(itemSelectEvent,yt),()=>gt.removeEventListener(itemSelectEvent,yt)},getContextTriggerProps(){return i.element({...parts$6.contextTrigger.attrs,dir:et("dir"),id:getContextTriggerId(rt),onPointerDown(ht){if(ht.pointerType==="mouse")return;const gt=getEventPoint(ht);a({type:"CONTEXT_MENU_START",point:gt})},onPointerCancel(ht){ht.pointerType!=="mouse"&&a({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(ht){ht.pointerType!=="mouse"&&a({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(ht){ht.pointerType!=="mouse"&&a({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(ht){const gt=getEventPoint(ht);a({type:"CONTEXT_MENU",point:gt}),ht.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(ht){const gt=ht.getTriggerProps();return mergeProps(ft({value:gt.id}),gt)},getTriggerProps(){return i.button({...it?parts$6.triggerItem.attrs:parts$6.trigger.attrs,"data-placement":s.get("currentPlacement"),type:"button",dir:et("dir"),id:getTriggerId$3(rt),"data-uid":et("id"),"aria-haspopup":tt?"menu":"dialog","aria-controls":getContentId$3(rt),"aria-expanded":st||void 0,"data-state":st?"open":"closed",onPointerMove(ht){if(ht.pointerType!=="mouse"||isTargetDisabled(ht.currentTarget)||!it)return;const yt=getEventPoint(ht);a({type:"TRIGGER_POINTERMOVE",target:ht.currentTarget,point:yt})},onPointerLeave(ht){if(isTargetDisabled(ht.currentTarget)||ht.pointerType!=="mouse"||!it)return;const gt=getEventPoint(ht);a({type:"TRIGGER_POINTERLEAVE",target:ht.currentTarget,point:gt})},onPointerDown(ht){isTargetDisabled(ht.currentTarget)||isContextMenuEvent(ht)||ht.preventDefault()},onClick(ht){ht.defaultPrevented||isTargetDisabled(ht.currentTarget)||a({type:"TRIGGER_CLICK",target:ht.currentTarget})},onBlur(){a({type:"TRIGGER_BLUR"})},onFocus(){a({type:"TRIGGER_FOCUS"})},onKeyDown(ht){if(ht.defaultPrevented)return;const gt={ArrowDown(){a({type:"ARROW_DOWN"})},ArrowUp(){a({type:"ARROW_UP"})},Enter(){a({type:"ARROW_DOWN",src:"enter"})},Space(){a({type:"ARROW_DOWN",src:"space"})}},yt=getEventKey(ht,{orientation:"vertical",dir:et("dir")}),bt=gt[yt];bt&&(ht.preventDefault(),bt(ht))}})},getIndicatorProps(){return i.element({...parts$6.indicator.attrs,dir:et("dir"),"data-state":st?"open":"closed"})},getPositionerProps(){return i.element({...parts$6.positioner.attrs,dir:et("dir"),id:getPositionerId$2(rt),style:lt.floating})},getArrowProps(){return i.element({id:getArrowId$1(rt),...parts$6.arrow.attrs,dir:et("dir"),style:lt.arrow})},getArrowTipProps(){return i.element({...parts$6.arrowTip.attrs,dir:et("dir"),style:lt.arrowTip})},getContentProps(){return i.element({...parts$6.content.attrs,id:getContentId$3(rt),"aria-label":et("aria-label"),hidden:!st,"data-state":st?"open":"closed",role:tt?"menu":"dialog",tabIndex:0,dir:et("dir"),"aria-activedescendant":j("highlightedId")||void 0,"aria-labelledby":getTriggerId$3(rt),"data-placement":_e,onPointerEnter(ht){ht.pointerType==="mouse"&&a({type:"MENU_POINTERENTER"})},onKeyDown(ht){if(ht.defaultPrevented||!isSelfTarget(ht))return;const gt=getEventTarget(ht);if(!((gt==null?void 0:gt.closest("[role=menu]"))===ht.currentTarget||gt===ht.currentTarget))return;if(ht.key==="Tab"&&!isValidTabEvent(ht)){ht.preventDefault();return}const bt=getItemEl$1(rt,at),vt={ArrowDown(){a({type:"ARROW_DOWN"})},ArrowUp(){a({type:"ARROW_UP"})},ArrowLeft(){a({type:"ARROW_LEFT"})},ArrowRight(){a({type:"ARROW_RIGHT"})},Enter(){var wt;a({type:"ENTER"}),isAnchorElement(bt)&&((wt=et("navigate"))==null||wt({value:at,node:bt}))},Space(wt){var Ct;ot?a({type:"TYPEAHEAD",key:wt.key}):(Ct=vt.Enter)==null||Ct.call(vt,wt)},Home(){a({type:"HOME"})},End(){a({type:"END"})}},mt=getEventKey(ht,{dir:et("dir")}),xt=vt[mt];if(xt){xt(ht),ht.stopPropagation(),ht.preventDefault();return}et("typeahead")&&isPrintableKey(ht)&&(isModifierKey(ht)||isEditableElement(gt)||(a({type:"TYPEAHEAD",key:ht.key}),ht.preventDefault()))}})},getSeparatorProps(){return i.element({...parts$6.separator.attrs,role:"separator",dir:et("dir"),"aria-orientation":"horizontal"})},getItemState:ut,getItemProps:ft,getOptionItemState:dt,getOptionItemProps(ht){const{type:gt,disabled:yt,onCheckedChange:bt,closeOnSelect:vt}=ht,mt=ct(ht),xt=dt(ht);return{...ft(mt),...i.element({"data-type":gt,...parts$6.item.attrs,dir:et("dir"),"data-value":mt.value,role:`menuitem${gt}`,"aria-checked":!!xt.checked,"data-state":xt.checked?"checked":"unchecked",onClick(wt){if(yt||isDownloadingEvent(wt)||isOpeningInNewTab(wt))return;const Ct=wt.currentTarget;a({type:"ITEM_CLICK",target:Ct,option:mt,closeOnSelect:vt}),bt==null||bt(!xt.checked)}})}},getItemIndicatorProps(ht){const gt=dt(ht);return i.element({...parts$6.itemIndicator.attrs,dir:et("dir"),"data-disabled":dataAttr$1(gt.disabled),"data-highlighted":dataAttr$1(gt.highlighted),"data-state":gt.checked?"checked":"unchecked",hidden:!gt.checked})},getItemTextProps(ht){const gt=dt(ht);return i.element({...parts$6.itemText.attrs,dir:et("dir"),"data-disabled":dataAttr$1(gt.disabled),"data-highlighted":dataAttr$1(gt.highlighted),"data-state":gt.checked?"checked":"unchecked"})},getItemGroupLabelProps(ht){return i.element({...parts$6.itemGroupLabel.attrs,id:getGroupLabelId(rt,ht.htmlFor),dir:et("dir")})},getItemGroupProps(ht){return i.element({id:getGroupId(rt,ht.id),...parts$6.itemGroup.attrs,dir:et("dir"),"aria-labelledby":getGroupLabelId(rt,ht.id),role:"group"})}}}var{not:not$6,and:and$3,or:or$1}=createGuards(),machine$6={props({props:o}){return{closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(i){clickIfLink(i.node)},...o,positioning:{placement:"bottom-start",gutter:8,...o.positioning}}},initialState({prop:o}){return o("open")||o("defaultOpen")?"open":"idle"},context({bindable:o,prop:i}){return{suspendPointer:o(()=>({defaultValue:!1})),highlightedValue:o(()=>({defaultValue:i("defaultHighlightedValue")||null,value:i("highlightedValue"),onChange(s){var a;(a=i("onHighlightChange"))==null||a({highlightedValue:s})}})),lastHighlightedValue:o(()=>({defaultValue:null})),currentPlacement:o(()=>({defaultValue:void 0})),intentPolygon:o(()=>({defaultValue:null})),anchorPoint:o(()=>({defaultValue:null,hash(s){return`x: ${s==null?void 0:s.x}, y: ${s==null?void 0:s.y}`}}))}},refs(){return{parent:null,children:{},typeaheadState:{...getByTypeahead.defaultOptions},positioningOverride:{}}},computed:{isSubmenu:({refs:o})=>o.get("parent")!=null,isRtl:({prop:o})=>o("dir")==="rtl",isTypingAhead:({refs:o})=>o.get("typeaheadState").keysSoFar!=="",highlightedId:({context:o,scope:i,refs:s})=>resolveItemId(s.get("children"),o.get("highlightedValue"),i)},watch({track:o,action:i,context:s,computed:a,prop:$}){o([()=>a("isSubmenu")],()=>{i(["setSubmenuPlacement"])}),o([()=>s.hash("anchorPoint")],()=>{i(["reposition"])}),o([()=>$("open")],()=>{i(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:not$6("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:or$1("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:and$3(not$6("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:not$6("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:and$3("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:not$6("isPointerSuspended"),actions:["setHighlightedItem","focusMenu"]},{actions:["setLastHighlightedItem"]}],ITEM_POINTERLEAVE:{guard:and$3(not$6("isPointerSuspended"),not$6("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:and$3(not$6("isTriggerItemHighlighted"),not$6("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:and$3(not$6("isTriggerItemHighlighted"),not$6("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:and$3(not$6("isTriggerItemHighlighted"),not$6("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing"},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:o,event:i})=>!!((i==null?void 0:i.closeOnSelect)??o("closeOnSelect")),isTriggerItem:({event:o})=>isTriggerItem(o.target),isTriggerItemHighlighted:({event:o,scope:i,computed:s})=>{const a=o.target??i.getById(s("highlightedId"));return!!(a!=null&&a.hasAttribute("aria-controls"))},isSubmenu:({computed:o})=>o("isSubmenu"),isPointerSuspended:({context:o})=>o.get("suspendPointer"),isHighlightedItemEditable:({scope:o,computed:i})=>isEditableElement(o.getById(i("highlightedId"))),isOpenControlled:({prop:o})=>o("open")!==void 0,isArrowLeftEvent:({event:o})=>{var i;return((i=o.previousEvent)==null?void 0:i.type)==="ARROW_LEFT"},isArrowUpEvent:({event:o})=>{var i;return((i=o.previousEvent)==null?void 0:i.type)==="ARROW_UP"},isArrowDownEvent:({event:o})=>{var i;return((i=o.previousEvent)==null?void 0:i.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:({event:o})=>{var i;return((i=o.previousEvent)==null?void 0:i.type)==="OPEN_AUTOFOCUS"}},effects:{waitForOpenDelay({send:o}){const i=setTimeout(()=>{o({type:"DELAY.OPEN"})},100);return()=>clearTimeout(i)},waitForCloseDelay({send:o}){const i=setTimeout(()=>{o({type:"DELAY.CLOSE"})},300);return()=>clearTimeout(i)},waitForLongPress({send:o}){const i=setTimeout(()=>{o({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(i)},trackPositioning({context:o,prop:i,scope:s,refs:a}){if(getContextTriggerEl(s))return;const $={...i("positioning"),...a.get("positioningOverride")};o.set("currentPlacement",$.placement);const j=()=>getPositionerEl$2(s);return getPlacement(getTriggerEl$3(s),j,{...$,defer:!0,onComplete(et){o.set("currentPlacement",et.placement)}})},trackInteractOutside({refs:o,scope:i,prop:s,computed:a,send:$}){const j=()=>getContentEl$2(i);let et=!0;return trackDismissableElement(j,{defer:!0,exclude:[getTriggerEl$3(i)],onInteractOutside:s("onInteractOutside"),onFocusOutside:s("onFocusOutside"),onEscapeKeyDown(rt){var st;(st=s("onEscapeKeyDown"))==null||st(rt),a("isSubmenu")&&rt.preventDefault(),closeRootMenu({parent:o.get("parent")})},onPointerDownOutside(rt){var ot;const st=getEventTarget(rt.detail.originalEvent);if(contains(getContextTriggerEl(i),st)&&rt.detail.contextmenu){rt.preventDefault();return}et=!rt.detail.focusable,(ot=s("onPointerDownOutside"))==null||ot(rt)},onDismiss(){$({type:"CLOSE",src:"interact-outside",restoreFocus:et})}})},trackPointerMove({context:o,scope:i,send:s,refs:a,flush:$}){const j=a.get("parent");$(()=>{j.context.set("suspendPointer",!0)});const et=i.getDoc();return addDomEvent(et,"pointermove",rt=>{isWithinPolygon(o.get("intentPolygon"),{x:rt.clientX,y:rt.clientY})||(s({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),j.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:o,scope:i,computed:s}){const a=()=>{if(o.type.startsWith("ITEM_POINTER"))return;const j=i.getById(s("highlightedId")),et=getContentEl$2(i);scrollIntoView(j,{rootEl:et,block:"nearest"})};return raf$1(()=>a()),observeAttributes(()=>getContentEl$2(i),{defer:!0,attributes:["aria-activedescendant"],callback:a})}},actions:{setAnchorPoint({context:o,event:i}){o.set("anchorPoint",i.point)},setSubmenuPlacement({computed:o,refs:i}){if(!o("isSubmenu"))return;const s=o("isRtl")?"left-start":"right-start";i.set("positioningOverride",{placement:s,gutter:0})},reposition({context:o,scope:i,prop:s,event:a,refs:$}){const j=()=>getPositionerEl$2(i),et=o.get("anchorPoint"),rt=et?()=>({width:0,height:0,...et}):void 0,st={...s("positioning"),...$.get("positioningOverride")};getPlacement(getTriggerEl$3(i),j,{...st,defer:!0,getAnchorRect:rt,...a.options??{},listeners:!1,onComplete(it){o.set("currentPlacement",it.placement)}})},setOptionState({event:o}){if(!o.option)return;const{checked:i,onCheckedChange:s,type:a}=o.option;a==="radio"?s==null||s(!0):a==="checkbox"&&(s==null||s(!i))},clickHighlightedItem({scope:o,computed:i}){const s=o.getById(i("highlightedId"));!s||s.dataset.disabled||queueMicrotask(()=>s.click())},setIntentPolygon({context:o,scope:i,event:s}){const a=getContentEl$2(i),$=o.get("currentPlacement");if(!a||!$)return;const j=a.getBoundingClientRect(),et=getElementPolygon(j,$);if(!et)return;const st=getPlacementSide($)==="right"?-5:5;o.set("intentPolygon",[{...s.point,x:s.point.x+st},...et])},clearIntentPolygon({context:o}){o.set("intentPolygon",null)},resumePointer({refs:o,flush:i}){const s=o.get("parent");s&&i(()=>{s.context.set("suspendPointer",!1)})},setHighlightedItem({context:o,event:i}){const s=i.value||getItemValue(i.target);o.set("highlightedValue",s)},clearHighlightedItem({context:o}){o.set("highlightedValue",null)},focusMenu({scope:o}){raf$1(()=>{const i=getContentEl$2(o),s=getInitialFocus({root:i,enabled:!contains(i,o.getActiveElement()),filter(a){var $;return!(($=a.role)!=null&&$.startsWith("menuitem"))}});s==null||s.focus({preventScroll:!0})})},highlightFirstItem({context:o,scope:i}){(getContentEl$2(i)?queueMicrotask:raf$1)(()=>{const a=getFirstEl(i);a&&o.set("highlightedValue",getItemValue(a))})},highlightLastItem({context:o,scope:i}){(getContentEl$2(i)?queueMicrotask:raf$1)(()=>{const a=getLastEl(i);a&&o.set("highlightedValue",getItemValue(a))})},highlightNextItem({context:o,scope:i,event:s,prop:a}){const $=getNextEl(i,{loop:s.loop,value:o.get("highlightedValue"),loopFocus:a("loopFocus")});o.set("highlightedValue",getItemValue($))},highlightPrevItem({context:o,scope:i,event:s,prop:a}){const $=getPrevEl(i,{loop:s.loop,value:o.get("highlightedValue"),loopFocus:a("loopFocus")});o.set("highlightedValue",getItemValue($))},invokeOnSelect({context:o,prop:i,scope:s}){var j;const a=o.get("highlightedValue");if(a==null)return;const $=getItemEl$1(s,a);dispatchSelectionEvent($,a),(j=i("onSelect"))==null||j({value:a})},focusTrigger({scope:o,context:i,event:s,computed:a}){a("isSubmenu")||i.get("anchorPoint")||s.restoreFocus===!1||queueMicrotask(()=>{var $;return($=getTriggerEl$3(o))==null?void 0:$.focus({preventScroll:!0})})},highlightMatchedItem({scope:o,context:i,event:s,refs:a}){const $=getElemByKey(o,{key:s.key,value:i.get("highlightedValue"),typeaheadState:a.get("typeaheadState")});$&&i.set("highlightedValue",getItemValue($))},setParentMenu({refs:o,event:i}){o.set("parent",i.value)},setChildMenu({refs:o,event:i}){const s=o.get("children");s[i.id]=i.value,o.set("children",s)},closeRootMenu({refs:o}){closeRootMenu({parent:o.get("parent")})},openSubmenu({refs:o,scope:i,computed:s}){const a=i.getById(s("highlightedId")),$=a==null?void 0:a.getAttribute("data-uid"),j=o.get("children"),et=$?j[$]:null;et==null||et.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:o}){var i;(i=o.get("parent"))==null||i.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:o,event:i}){o.set("lastHighlightedValue",getItemValue(i.target))},restoreHighlightedItem({context:o}){o.get("lastHighlightedValue")&&(o.set("highlightedValue",o.get("lastHighlightedValue")),o.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:o}){var i;(i=o.get("parent"))==null||i.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:o}){var i;(i=o("onOpenChange"))==null||i({open:!0})},invokeOnClose({prop:o}){var i;(i=o("onOpenChange"))==null||i({open:!1})},toggleVisibility({prop:o,event:i,send:s}){s({type:o("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:i})}}}};function closeRootMenu(o){let i=o.parent;for(;i&&i.computed("isSubmenu");)i=i.refs.get("parent");i==null||i.send({type:"CLOSE"})}function isWithinPolygon(o,i){return o?isPointInPolygon(o,i):!1}function resolveItemId(o,i,s){const a=Object.keys(o).length>0;if(!i)return null;if(!a)return getItemId$1(s,i);for(const $ in o){const j=o[$],et=getTriggerId$3(j.scope);if(et===i)return et}return getItemId$1(s,i)}createProps$1()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]);createProps$1()(["closeOnSelect","disabled","value","valueText"]);createProps$1()(["htmlFor"]);createProps$1()(["id"]);createProps$1()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);const useMenu=o=>{const i=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),$={id:i,dir:a,getRootNode:s,...o},j=useMachine(machine$6,$);return{api:connect$6(j,normalizeProps),service:j}},[MenuMachineProvider,useMenuMachineContext]=createContext({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),[MenuTriggerItemProvider,useMenuTriggerItemContext]=createContext({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),MenuRoot$1=o=>{const[i,s]=splitPresenceProps(o),[a,$]=createSplitProps()(s,["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]),j=useMenuContext(),et=useMenuMachineContext(),{api:rt,service:st}=useMenu(a),it=usePresence(mergeProps({present:rt.open},i));useEffectOnce(()=>{et&&j&&(j.setChild(st),rt.setParent(et))});const ot=reactExports.useCallback(()=>j==null?void 0:j.getTriggerItemProps(rt),[rt,j]);return jsxRuntimeExports.jsx(MenuTriggerItemProvider,{value:ot,children:jsxRuntimeExports.jsx(MenuMachineProvider,{value:st,children:jsxRuntimeExports.jsx(MenuProvider,{value:rt,children:jsxRuntimeExports.jsx(PresenceProvider,{value:it,...$})})})})},MenuRootProvider=o=>{const i=useMenuContext(),s=useMenuMachineContext(),[a,{value:$,children:j}]=splitPresenceProps(o),{api:et,service:rt}=$,st=usePresence(mergeProps({present:et.open},a));useEffectOnce(()=>{s&&i&&(i.setChild(rt),et.setParent(s))});const it=reactExports.useCallback(()=>i==null?void 0:i.getTriggerItemProps(et),[et,i]);return jsxRuntimeExports.jsx(MenuTriggerItemProvider,{value:it,children:jsxRuntimeExports.jsx(MenuMachineProvider,{value:rt,children:jsxRuntimeExports.jsx(MenuProvider,{value:et,children:jsxRuntimeExports.jsx(PresenceProvider,{value:st,children:j})})})})},MenuSeparator=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=mergeProps(s.getSeparatorProps(),o);return jsxRuntimeExports.jsx(ark.hr,{...a,ref:i})});MenuSeparator.displayName="MenuSeparator";const MenuTrigger$1=reactExports.forwardRef((o,i)=>{const s=useMenuContext(),a=usePresenceContext(),$=mergeProps({...s.getTriggerProps(),"aria-controls":a.unmounted?void 0:s.getTriggerProps()["aria-controls"]},o);return jsxRuntimeExports.jsx(ark.button,{...$,ref:i})});MenuTrigger$1.displayName="MenuTrigger";const MenuTriggerItem=reactExports.forwardRef((o,i)=>{const s=useMenuTriggerItemContext(),a=mergeProps((s==null?void 0:s())??{},o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});MenuTriggerItem.displayName="MenuTriggerItem";const[NumberInputProvider,useNumberInputContext]=createContext({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),NumberInputControl$1=reactExports.forwardRef((o,i)=>{const s=useNumberInputContext(),a=mergeProps(s.getControlProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});NumberInputControl$1.displayName="NumberInputControl";const NumberInputDecrementTrigger$1=reactExports.forwardRef((o,i)=>{const s=useNumberInputContext(),a=mergeProps(s.getDecrementTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});NumberInputDecrementTrigger$1.displayName="NumberInputDecrementTrigger";const NumberInputIncrementTrigger$1=reactExports.forwardRef((o,i)=>{const s=useNumberInputContext(),a=mergeProps(s.getIncrementTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});NumberInputIncrementTrigger$1.displayName="NumberInputIncrementTrigger";const NumberInputInput$1=reactExports.forwardRef((o,i)=>{const s=useNumberInputContext(),a=mergeProps(s.getInputProps(),o),$=useFieldContext();return jsxRuntimeExports.jsx(ark.input,{"aria-describedby":$==null?void 0:$.ariaDescribedby,...a,ref:i})});NumberInputInput$1.displayName="NumberInputInput";const NumberInputLabel=reactExports.forwardRef((o,i)=>{const s=useNumberInputContext(),a=mergeProps(s.getLabelProps(),o);return jsxRuntimeExports.jsx(ark.label,{...a,ref:i})});NumberInputLabel.displayName="NumberInputLabel";let $488c6ddbf4ef74c2$var$formatterCache=new Map,$488c6ddbf4ef74c2$var$supportsSignDisplay=!1;try{$488c6ddbf4ef74c2$var$supportsSignDisplay=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let $488c6ddbf4ef74c2$var$supportsUnit=!1;try{$488c6ddbf4ef74c2$var$supportsUnit=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const $488c6ddbf4ef74c2$var$UNITS={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5{format(i){let s="";if(!$488c6ddbf4ef74c2$var$supportsSignDisplay&&this.options.signDisplay!=null?s=$488c6ddbf4ef74c2$export$711b50b3c525e0f2(this.numberFormatter,this.options.signDisplay,i):s=this.numberFormatter.format(i),this.options.style==="unit"&&!$488c6ddbf4ef74c2$var$supportsUnit){var a;let{unit:$,unitDisplay:j="short",locale:et}=this.resolvedOptions();if(!$)return s;let rt=(a=$488c6ddbf4ef74c2$var$UNITS[$])===null||a===void 0?void 0:a[j];s+=rt[et]||rt.default}return s}formatToParts(i){return this.numberFormatter.formatToParts(i)}formatRange(i,s){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(i,s);if(s<i)throw new RangeError("End date must be >= start date");return`${this.format(i)}  ${this.format(s)}`}formatRangeToParts(i,s){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(i,s);if(s<i)throw new RangeError("End date must be >= start date");let a=this.numberFormatter.formatToParts(i),$=this.numberFormatter.formatToParts(s);return[...a.map(j=>({...j,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...$.map(j=>({...j,source:"endRange"}))]}resolvedOptions(){let i=this.numberFormatter.resolvedOptions();return!$488c6ddbf4ef74c2$var$supportsSignDisplay&&this.options.signDisplay!=null&&(i={...i,signDisplay:this.options.signDisplay}),!$488c6ddbf4ef74c2$var$supportsUnit&&this.options.style==="unit"&&(i={...i,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),i}constructor(i,s={}){this.numberFormatter=$488c6ddbf4ef74c2$var$getCachedNumberFormatter(i,s),this.options=s}}function $488c6ddbf4ef74c2$var$getCachedNumberFormatter(o,i={}){let{numberingSystem:s}=i;if(s&&o.includes("-nu-")&&(o.includes("-u-")||(o+="-u-"),o+=`-nu-${s}`),i.style==="unit"&&!$488c6ddbf4ef74c2$var$supportsUnit){var a;let{unit:et,unitDisplay:rt="short"}=i;if(!et)throw new Error('unit option must be provided with style: "unit"');if(!(!((a=$488c6ddbf4ef74c2$var$UNITS[et])===null||a===void 0)&&a[rt]))throw new Error(`Unsupported unit ${et} with unitDisplay = ${rt}`);i={...i,style:"decimal"}}let $=o+(i?Object.entries(i).sort((et,rt)=>et[0]<rt[0]?-1:1).join():"");if($488c6ddbf4ef74c2$var$formatterCache.has($))return $488c6ddbf4ef74c2$var$formatterCache.get($);let j=new Intl.NumberFormat(o,i);return $488c6ddbf4ef74c2$var$formatterCache.set($,j),j}function $488c6ddbf4ef74c2$export$711b50b3c525e0f2(o,i,s){if(i==="auto")return o.format(s);if(i==="never")return o.format(Math.abs(s));{let a=!1;if(i==="always"?a=s>0||Object.is(s,0):i==="exceptZero"&&(Object.is(s,-0)||Object.is(s,0)?s=Math.abs(s):a=s>0),a){let $=o.format(-s),j=o.format(s),et=$.replace(j,"").replace(/\u200e|\u061C/,"");return[...et].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),$.replace(j,"!!!").replace(et,"+").replace("!!!",j)}else return o.format(s)}}const $6c7bd7858deea686$var$CURRENCY_SIGN_REGEX=new RegExp("^.*\\(.*\\).*$"),$6c7bd7858deea686$var$NUMBERING_SYSTEMS=["latn","arab","hanidec","deva","beng"];class $6c7bd7858deea686$export$cd11ab140839f11d{parse(i){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,i).parse(i)}isValidPartialNumber(i,s,a){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,i).isValidPartialNumber(i,s,a)}getNumberingSystem(i){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,i).options.numberingSystem}constructor(i,s={}){this.locale=i,this.options=s}}const $6c7bd7858deea686$var$numberParserCache=new Map;function $6c7bd7858deea686$var$getNumberParserImpl(o,i,s){let a=$6c7bd7858deea686$var$getCachedNumberParser(o,i);if(!o.includes("-nu-")&&!a.isValidPartialNumber(s)){for(let $ of $6c7bd7858deea686$var$NUMBERING_SYSTEMS)if($!==a.options.numberingSystem){let j=$6c7bd7858deea686$var$getCachedNumberParser(o+(o.includes("-u-")?"-nu-":"-u-nu-")+$,i);if(j.isValidPartialNumber(s))return j}}return a}function $6c7bd7858deea686$var$getCachedNumberParser(o,i){let s=o+(i?Object.entries(i).sort(($,j)=>$[0]<j[0]?-1:1).join():""),a=$6c7bd7858deea686$var$numberParserCache.get(s);return a||(a=new $6c7bd7858deea686$var$NumberParserImpl(o,i),$6c7bd7858deea686$var$numberParserCache.set(s,a)),a}class $6c7bd7858deea686$var$NumberParserImpl{parse(i){let s=this.sanitize(i);if(this.symbols.group&&(s=$6c7bd7858deea686$var$replaceAll(s,this.symbols.group,"")),this.symbols.decimal&&(s=s.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(s=s.replace(this.symbols.minusSign,"-")),s=s.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let et=s.indexOf("-");s=s.replace("-","");let rt=s.indexOf(".");rt===-1&&(rt=s.length),s=s.replace(".",""),rt-2===0?s=`0.${s}`:rt-2===-1?s=`0.0${s}`:rt-2===-2?s="0.00":s=`${s.slice(0,rt-2)}.${s.slice(rt-2)}`,et>-1&&(s=`-${s}`)}let a=s?+s:NaN;if(isNaN(a))return NaN;if(this.options.style==="percent"){var $,j;let et={...this.options,style:"decimal",minimumFractionDigits:Math.min((($=this.options.minimumFractionDigits)!==null&&$!==void 0?$:0)+2,20),maximumFractionDigits:Math.min(((j=this.options.maximumFractionDigits)!==null&&j!==void 0?j:0)+2,20)};return new $6c7bd7858deea686$export$cd11ab140839f11d(this.locale,et).parse(new $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5(this.locale,et).format(a))}return this.options.currencySign==="accounting"&&$6c7bd7858deea686$var$CURRENCY_SIGN_REGEX.test(i)&&(a=-1*a),a}sanitize(i){return i=i.replace(this.symbols.literals,""),this.symbols.minusSign&&(i=i.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(i=i.replace(",",this.symbols.decimal),i=i.replace("",this.symbols.decimal)),this.symbols.group&&(i=$6c7bd7858deea686$var$replaceAll(i,".",this.symbols.group))),this.options.locale==="fr-FR"&&(i=$6c7bd7858deea686$var$replaceAll(i,".","")),i}isValidPartialNumber(i,s=-1/0,a=1/0){return i=this.sanitize(i),this.symbols.minusSign&&i.startsWith(this.symbols.minusSign)&&s<0?i=i.slice(this.symbols.minusSign.length):this.symbols.plusSign&&i.startsWith(this.symbols.plusSign)&&a>0&&(i=i.slice(this.symbols.plusSign.length)),this.symbols.group&&i.startsWith(this.symbols.group)||this.symbols.decimal&&i.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(i=$6c7bd7858deea686$var$replaceAll(i,this.symbols.group,"")),i=i.replace(this.symbols.numeral,""),this.symbols.decimal&&(i=i.replace(this.symbols.decimal,"")),i.length===0)}constructor(i,s={}){this.locale=i,this.formatter=new Intl.NumberFormat(i,s),this.options=this.formatter.resolvedOptions(),this.symbols=$6c7bd7858deea686$var$getSymbols(i,this.formatter,this.options,s);var a,$;this.options.style==="percent"&&(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)>18||(($=this.options.maximumFractionDigits)!==null&&$!==void 0?$:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const $6c7bd7858deea686$var$nonLiteralParts=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),$6c7bd7858deea686$var$pluralNumbers=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function $6c7bd7858deea686$var$getSymbols(o,i,s,a){var $,j,et,rt;let st=new Intl.NumberFormat(o,{...s,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),it=st.formatToParts(-10000.111),ot=st.formatToParts(10000.111),tt=$6c7bd7858deea686$var$pluralNumbers.map(xt=>st.formatToParts(xt));var _e;let nt=(_e=($=it.find(xt=>xt.type==="minusSign"))===null||$===void 0?void 0:$.value)!==null&&_e!==void 0?_e:"-",at=(j=ot.find(xt=>xt.type==="plusSign"))===null||j===void 0?void 0:j.value;!at&&((a==null?void 0:a.signDisplay)==="exceptZero"||(a==null?void 0:a.signDisplay)==="always")&&(at="+");let ut=(et=new Intl.NumberFormat(o,{...s,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(xt=>xt.type==="decimal"))===null||et===void 0?void 0:et.value,ct=(rt=it.find(xt=>xt.type==="group"))===null||rt===void 0?void 0:rt.value,dt=it.filter(xt=>!$6c7bd7858deea686$var$nonLiteralParts.has(xt.type)).map(xt=>$6c7bd7858deea686$var$escapeRegex(xt.value)),ft=tt.flatMap(xt=>xt.filter(wt=>!$6c7bd7858deea686$var$nonLiteralParts.has(wt.type)).map(wt=>$6c7bd7858deea686$var$escapeRegex(wt.value))),ht=[...new Set([...dt,...ft])].sort((xt,wt)=>wt.length-xt.length),gt=ht.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${ht.join("|")}|[\\p{White_Space}]`,"gu"),yt=[...new Intl.NumberFormat(s.locale,{useGrouping:!1}).format(9876543210)].reverse(),bt=new Map(yt.map((xt,wt)=>[xt,wt])),vt=new RegExp(`[${yt.join("")}]`,"g");return{minusSign:nt,plusSign:at,decimal:ut,group:ct,literals:gt,numeral:vt,index:xt=>String(bt.get(xt))}}function $6c7bd7858deea686$var$replaceAll(o,i,s){return o.replaceAll?o.replaceAll(i,s):o.split(i).join(s)}function $6c7bd7858deea686$var$escapeRegex(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var anatomy$c=createAnatomy("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),parts$5=anatomy$c.build(),getRootId$4=o=>{var i;return((i=o.ids)==null?void 0:i.root)??`number-input:${o.id}`},getInputId=o=>{var i;return((i=o.ids)==null?void 0:i.input)??`number-input:${o.id}:input`},getIncrementTriggerId=o=>{var i;return((i=o.ids)==null?void 0:i.incrementTrigger)??`number-input:${o.id}:inc`},getDecrementTriggerId=o=>{var i;return((i=o.ids)==null?void 0:i.decrementTrigger)??`number-input:${o.id}:dec`},getScrubberId=o=>{var i;return((i=o.ids)==null?void 0:i.scrubber)??`number-input:${o.id}:scrubber`},getCursorId=o=>`number-input:${o.id}:cursor`,getLabelId$2=o=>{var i;return((i=o.ids)==null?void 0:i.label)??`number-input:${o.id}:label`},getInputEl=o=>o.getById(getInputId(o)),getIncrementTriggerEl=o=>o.getById(getIncrementTriggerId(o)),getDecrementTriggerEl=o=>o.getById(getDecrementTriggerId(o)),getCursorEl=o=>o.getDoc().getElementById(getCursorId(o)),getPressedTriggerEl=(o,i)=>{let s=null;return i==="increment"&&(s=getIncrementTriggerEl(o)),i==="decrement"&&(s=getDecrementTriggerEl(o)),s},setupVirtualCursor=(o,i)=>{if(!isSafari())return createVirtualCursor(o,i),()=>{var s;(s=getCursorEl(o))==null||s.remove()}},preventTextSelection=o=>{const i=o.getDoc(),s=i.documentElement,a=i.body;return a.style.pointerEvents="none",s.style.userSelect="none",s.style.cursor="ew-resize",()=>{a.style.pointerEvents="",s.style.userSelect="",s.style.cursor="",s.style.length||s.removeAttribute("style"),a.style.length||a.removeAttribute("style")}},getMousemoveValue=(o,i)=>{const{point:s,isRtl:a,event:$}=i,j=o.getWin(),et=roundToDpr($.movementX,j.devicePixelRatio),rt=roundToDpr($.movementY,j.devicePixelRatio);let st=et>0?"increment":et<0?"decrement":null;a&&st==="increment"&&(st="decrement"),a&&st==="decrement"&&(st="increment");const it={x:s.x+et,y:s.y+rt},ot=j.innerWidth,tt=roundToDpr(7.5,j.devicePixelRatio);return it.x=wrap$2(it.x+tt,ot)-tt,{hint:st,point:it}},createVirtualCursor=(o,i)=>{const s=o.getDoc(),a=s.createElement("div");a.className="scrubber--cursor",a.id=getCursorId(o),Object.assign(a.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:MAX_Z_INDEX,transform:i?`translate3d(${i.x}px, ${i.y}px, 0px)`:void 0,willChange:"transform"}),a.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,s.body.appendChild(a)};function connect$5(o,i){const{state:s,send:a,prop:$,scope:j,computed:et}=o,rt=s.hasTag("focus"),st=et("isDisabled"),it=$("readOnly"),ot=et("isValueEmpty"),tt=et("isOutOfRange")||!!$("invalid"),_e=st||!et("canIncrement")||it,nt=st||!et("canDecrement")||it,at=$("translations");return{focused:rt,invalid:tt,empty:ot,value:et("formattedValue"),valueAsNumber:et("valueAsNumber"),setValue(lt){a({type:"VALUE.SET",value:lt})},clearValue(){a({type:"VALUE.CLEAR"})},increment(){a({type:"VALUE.INCREMENT"})},decrement(){a({type:"VALUE.DECREMENT"})},setToMax(){a({type:"VALUE.SET",value:$("max")})},setToMin(){a({type:"VALUE.SET",value:$("min")})},focus(){var lt;(lt=getInputEl(j))==null||lt.focus()},getRootProps(){return i.element({id:getRootId$4(j),...parts$5.root.attrs,dir:$("dir"),"data-disabled":dataAttr$1(st),"data-focus":dataAttr$1(rt),"data-invalid":dataAttr$1(tt)})},getLabelProps(){return i.label({...parts$5.label.attrs,dir:$("dir"),"data-disabled":dataAttr$1(st),"data-focus":dataAttr$1(rt),"data-invalid":dataAttr$1(tt),id:getLabelId$2(j),htmlFor:getInputId(j)})},getControlProps(){return i.element({...parts$5.control.attrs,dir:$("dir"),role:"group","aria-disabled":st,"data-focus":dataAttr$1(rt),"data-disabled":dataAttr$1(st),"data-invalid":dataAttr$1(tt),"aria-invalid":ariaAttr(tt)})},getValueTextProps(){return i.element({...parts$5.valueText.attrs,dir:$("dir"),"data-disabled":dataAttr$1(st),"data-invalid":dataAttr$1(tt),"data-focus":dataAttr$1(rt)})},getInputProps(){return i.input({...parts$5.input.attrs,dir:$("dir"),name:$("name"),form:$("form"),id:getInputId(j),role:"spinbutton",defaultValue:et("formattedValue"),pattern:$("pattern"),inputMode:$("inputMode"),"aria-invalid":ariaAttr(tt),"data-invalid":dataAttr$1(tt),disabled:st,"data-disabled":dataAttr$1(st),readOnly:it,required:$("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":$("min"),"aria-valuemax":$("max"),"aria-valuenow":Number.isNaN(et("valueAsNumber"))?void 0:et("valueAsNumber"),"aria-valuetext":et("valueText"),onFocus(){a({type:"INPUT.FOCUS"})},onBlur(){a({type:"INPUT.BLUR"})},onInput(lt){a({type:"INPUT.CHANGE",target:lt.currentTarget,hint:"set"})},onBeforeInput(lt){try{const{selectionStart:ut,selectionEnd:ct,value:dt}=lt.currentTarget,ft=dt.slice(0,ut)+(lt.data??"")+dt.slice(ct);et("parser").isValidPartialNumber(ft)||lt.preventDefault()}catch{}},onKeyDown(lt){if(lt.defaultPrevented||it||isComposingEvent(lt))return;const ut=getEventStep(lt)*$("step"),dt={ArrowUp(){a({type:"INPUT.ARROW_UP",step:ut}),lt.preventDefault()},ArrowDown(){a({type:"INPUT.ARROW_DOWN",step:ut}),lt.preventDefault()},Home(){isModifierKey(lt)||(a({type:"INPUT.HOME"}),lt.preventDefault())},End(){isModifierKey(lt)||(a({type:"INPUT.END"}),lt.preventDefault())},Enter(){a({type:"INPUT.ENTER"})}}[lt.key];dt==null||dt(lt)}})},getDecrementTriggerProps(){return i.button({...parts$5.decrementTrigger.attrs,dir:$("dir"),id:getDecrementTriggerId(j),disabled:nt,"data-disabled":dataAttr$1(nt),"aria-label":at.decrementLabel,type:"button",tabIndex:-1,"aria-controls":getInputId(j),onPointerDown(lt){var ut;nt||!isLeftClick(lt)||(a({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:lt.pointerType}),lt.pointerType==="mouse"&&lt.preventDefault(),lt.pointerType==="touch"&&((ut=lt.currentTarget)==null||ut.focus({preventScroll:!0})))},onPointerUp(lt){a({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:lt.pointerType})},onPointerLeave(){nt||a({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return i.button({...parts$5.incrementTrigger.attrs,dir:$("dir"),id:getIncrementTriggerId(j),disabled:_e,"data-disabled":dataAttr$1(_e),"aria-label":at.incrementLabel,type:"button",tabIndex:-1,"aria-controls":getInputId(j),onPointerDown(lt){var ut;_e||!isLeftClick(lt)||(a({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:lt.pointerType}),lt.pointerType==="mouse"&&lt.preventDefault(),lt.pointerType==="touch"&&((ut=lt.currentTarget)==null||ut.focus({preventScroll:!0})))},onPointerUp(lt){a({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:lt.pointerType})},onPointerLeave(lt){a({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:lt.pointerType})}})},getScrubberProps(){return i.element({...parts$5.scrubber.attrs,dir:$("dir"),"data-disabled":dataAttr$1(st),id:getScrubberId(j),role:"presentation",onMouseDown(lt){if(st)return;const ut=getEventPoint(lt),dt=getWindow$1(lt.currentTarget).devicePixelRatio;ut.x=ut.x-roundToDpr(7.5,dt),ut.y=ut.y-roundToDpr(7.5,dt),a({type:"SCRUBBER.PRESS_DOWN",point:ut}),lt.preventDefault()},style:{cursor:st?void 0:"ew-resize"}})}}}function recordCursor(o){if(!(!o||o.ownerDocument.activeElement!==o))try{const{selectionStart:i,selectionEnd:s,value:a}=o,$=a.substring(0,i),j=a.substring(s);return{start:i,end:s,value:a,beforeTxt:$,afterTxt:j}}catch{}}function restoreCursor(o,i){if(!(!o||o.ownerDocument.activeElement!==o)){if(!i){o.setSelectionRange(o.value.length,o.value.length);return}try{const{value:s}=o,{beforeTxt:a="",afterTxt:$="",start:j}=i;let et=s.length;if(s.endsWith($))et=s.length-$.length;else if(s.startsWith(a))et=a.length;else if(j!=null){const rt=a[j-1],st=s.indexOf(rt,j-1);st!==-1&&(et=st+1)}o.setSelectionRange(et,et)}catch{}}}var createFormatter=(o,i={})=>new Intl.NumberFormat(o,i),createParser=(o,i={})=>new $6c7bd7858deea686$export$cd11ab140839f11d(o,i),parseValue=(o,i)=>{const{prop:s,computed:a}=i;return s("formatOptions")?a("parser").parse(String(o)):parseFloat(o)},formatValue=(o,i)=>{const{prop:s,computed:a}=i;return Number.isNaN(o)?"":s("formatOptions")?a("formatter").format(o):o.toString()},getDefaultStep=(o,i)=>{let s=o!==void 0&&!Number.isNaN(o)?o:1;return(i==null?void 0:i.style)==="percent"&&(o===void 0||Number.isNaN(o))&&(s=.01),s},{choose,guards,createMachine}=setup(),{not:not$5,and:and$2}=guards,machine$5=createMachine({props({props:o}){const i=getDefaultStep(o.step,o.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!o.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:i,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...o,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...o.translations}}},initialState(){return"idle"},context({prop:o,bindable:i,getComputed:s}){return{value:i(()=>({defaultValue:o("defaultValue"),value:o("value"),onChange(a){var et;const $=s(),j=parseValue(a,{computed:$,prop:o});(et=o("onValueChange"))==null||et({value:a,valueAsNumber:j})}})),hint:i(()=>({defaultValue:null})),scrubberCursorPoint:i(()=>({defaultValue:null,hash(a){return a?`x:${a.x}, y:${a.y}`:""}})),fieldsetDisabled:i(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:o})=>o("dir")==="rtl",valueAsNumber:({context:o,computed:i,prop:s})=>parseValue(o.get("value"),{computed:i,prop:s}),formattedValue:({computed:o,prop:i})=>formatValue(o("valueAsNumber"),{computed:o,prop:i}),isAtMin:({computed:o,prop:i})=>isValueAtMin(o("valueAsNumber"),i("min")),isAtMax:({computed:o,prop:i})=>isValueAtMax(o("valueAsNumber"),i("max")),isOutOfRange:({computed:o,prop:i})=>!isValueWithinRange(o("valueAsNumber"),i("min"),i("max")),isValueEmpty:({context:o})=>o.get("value")==="",isDisabled:({prop:o,context:i})=>!!o("disabled")||i.get("fieldsetDisabled"),canIncrement:({prop:o,computed:i})=>o("allowOverflow")||!i("isAtMax"),canDecrement:({prop:o,computed:i})=>o("allowOverflow")||!i("isAtMin"),valueText:({prop:o,context:i})=>{var s,a;return(a=(s=o("translations")).valueText)==null?void 0:a.call(s,i.get("value"))},formatter:memo$2(({prop:o})=>[o("locale"),o("formatOptions")],(o,i)=>createFormatter(o,i)),parser:memo$2(({prop:o})=>[o("locale"),o("formatOptions")],(o,i)=>createParser(o,i))},watch({track:o,action:i,context:s,computed:a,prop:$}){o([()=>s.get("value"),()=>$("locale")],()=>{i(["syncInputElement"])}),o([()=>a("isOutOfRange")],()=>{i(["invokeOnInvalid"])}),o([()=>s.hash("scrubberCursorPoint")],()=>{i(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:and$2("clampValueOnBlur",not$5("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:not$5("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:choose([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:and$2("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:o})=>o("clampValueOnBlur"),spinOnPress:({prop:o})=>!!o("spinOnPress"),isInRange:({computed:o})=>!o("isOutOfRange"),isDecrementHint:({context:o,event:i})=>(i.hint??o.get("hint"))==="decrement",isIncrementHint:({context:o,event:i})=>(i.hint??o.get("hint"))==="increment",isTouchPointer:({event:o})=>o.pointerType==="touch"},effects:{waitForChangeDelay({send:o}){const i=setTimeout(()=>{o({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(i)},spinValue({send:o}){const i=setInterval(()=>{o({type:"SPIN"})},50);return()=>clearInterval(i)},trackFormControl({context:o,scope:i}){const s=getInputEl(i);return trackFormControl(s,{onFieldsetDisabledChange(a){o.set("fieldsetDisabled",a)},onFormReset(){o.set("value",o.initial("value"))}})},setupVirtualCursor({context:o,scope:i}){const s=o.get("scrubberCursorPoint");return setupVirtualCursor(i,s)},preventTextSelection({scope:o}){return preventTextSelection(o)},trackButtonDisabled({context:o,scope:i,send:s}){const a=o.get("hint"),$=getPressedTriggerEl(i,a);return observeAttributes($,{attributes:["disabled"],callback(){s({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:o,send:i,prop:s}){const a=getInputEl(o);if(!a||!o.isActiveElement(a)||!s("allowMouseWheel"))return;function $(j){j.preventDefault();const et=Math.sign(j.deltaY)*-1;et===1?i({type:"VALUE.INCREMENT"}):et===-1&&i({type:"VALUE.DECREMENT"})}return addDomEvent(a,"wheel",$,{passive:!1})},activatePointerLock({scope:o}){if(!isSafari())return requestPointerLock(o.getDoc())},trackMousemove({scope:o,send:i,context:s,computed:a}){const $=o.getDoc();function j(rt){const st=s.get("scrubberCursorPoint"),it=a("isRtl"),ot=getMousemoveValue(o,{point:st,isRtl:it,event:rt});ot.hint&&i({type:"SCRUBBER.POINTER_MOVE",hint:ot.hint,point:ot.point})}function et(){i({type:"SCRUBBER.POINTER_UP"})}return callAll(addDomEvent($,"mousemove",j,!1),addDomEvent($,"mouseup",et,!1))}},actions:{focusInput({scope:o,prop:i}){if(!i("focusInputOnChange"))return;const s=getInputEl(o);o.isActiveElement(s)||raf$1(()=>s==null?void 0:s.focus({preventScroll:!0}))},increment({context:o,event:i,prop:s,computed:a}){let $=incrementValue(a("valueAsNumber"),i.step??s("step"));s("allowOverflow")||($=clampValue($,s("min"),s("max"))),o.set("value",formatValue($,{computed:a,prop:s}))},decrement({context:o,event:i,prop:s,computed:a}){let $=decrementValue(a("valueAsNumber"),i.step??s("step"));s("allowOverflow")||($=clampValue($,s("min"),s("max"))),o.set("value",formatValue($,{computed:a,prop:s}))},setClampedValue({context:o,prop:i,computed:s}){const a=clampValue(s("valueAsNumber"),i("min"),i("max"));o.set("value",formatValue(a,{computed:s,prop:i}))},setRawValue({context:o,event:i,prop:s,computed:a}){let $=parseValue(i.value,{computed:a,prop:s});s("allowOverflow")||($=clampValue($,s("min"),s("max"))),o.set("value",formatValue($,{computed:a,prop:s}))},setValue({context:o,event:i}){var a;const s=((a=i.target)==null?void 0:a.value)??i.value;o.set("value",s)},clearValue({context:o}){o.set("value","")},incrementToMax({context:o,prop:i,computed:s}){const a=formatValue(i("max"),{computed:s,prop:i});o.set("value",a)},decrementToMin({context:o,prop:i,computed:s}){const a=formatValue(i("min"),{computed:s,prop:i});o.set("value",a)},setHint({context:o,event:i}){o.set("hint",i.hint)},clearHint({context:o}){o.set("hint",null)},invokeOnFocus({computed:o,prop:i}){var s;(s=i("onFocusChange"))==null||s({focused:!0,value:o("formattedValue"),valueAsNumber:o("valueAsNumber")})},invokeOnBlur({computed:o,prop:i}){var s;(s=i("onFocusChange"))==null||s({focused:!1,value:o("formattedValue"),valueAsNumber:o("valueAsNumber")})},invokeOnInvalid({computed:o,prop:i,event:s}){var $;if(s.type==="INPUT.CHANGE")return;const a=o("valueAsNumber")>i("max")?"rangeOverflow":"rangeUnderflow";($=i("onValueInvalid"))==null||$({reason:a,value:o("formattedValue"),valueAsNumber:o("valueAsNumber")})},syncInputElement({context:o,event:i,computed:s,scope:a}){const $=i.type.endsWith("CHANGE")?o.get("value"):s("formattedValue"),j=getInputEl(a),et=recordCursor(j);raf$1(()=>{setElementValue(j,$),restoreCursor(j,et)})},setFormattedValue({context:o,computed:i}){o.set("value",i("formattedValue"))},setCursorPoint({context:o,event:i}){o.set("scrubberCursorPoint",i.point)},clearCursorPoint({context:o}){o.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:o,scope:i}){const s=getCursorEl(i),a=o.get("scrubberCursorPoint");!s||!a||(s.style.transform=`translate3d(${a.x}px, ${a.y}px, 0px)`)}}}});createProps$1()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const useNumberInput=o=>{const i=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a,locale:$}=useLocaleContext(),j=useFieldContext(),et={id:i,ids:{label:j==null?void 0:j.ids.label,input:j==null?void 0:j.ids.control},disabled:j==null?void 0:j.disabled,readOnly:j==null?void 0:j.readOnly,required:j==null?void 0:j.required,invalid:j==null?void 0:j.invalid,dir:a,locale:$,getRootNode:s,...o},rt=useMachine(machine$5,et);return connect$5(rt,normalizeProps)},NumberInputRoot$1=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),$=useNumberInput(s),j=mergeProps($.getRootProps(),a);return jsxRuntimeExports.jsx(NumberInputProvider,{value:$,children:jsxRuntimeExports.jsx(ark.div,{...j,ref:i})})});NumberInputRoot$1.displayName="NumberInputRoot";const NumberInputRootProvider=reactExports.forwardRef((o,i)=>{const[{value:s},a]=createSplitProps()(o,["value"]),$=mergeProps(s.getRootProps(),a);return jsxRuntimeExports.jsx(NumberInputProvider,{value:s,children:jsxRuntimeExports.jsx(ark.div,{...$,ref:i})})});NumberInputRootProvider.displayName="NumberInputRootProvider";const NumberInputScrubber=reactExports.forwardRef((o,i)=>{const s=useNumberInputContext(),a=mergeProps(s.getScrubberProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});NumberInputScrubber.displayName="NumberInputScrubber";const NumberInputValueText=reactExports.forwardRef((o,i)=>{const{children:s,...a}=o,$=useNumberInputContext(),j=mergeProps($.getValueTextProps(),a);return jsxRuntimeExports.jsx(ark.span,{...j,ref:i,children:s||$.value})});NumberInputValueText.displayName="NumberInputValueText";var anatomy$b=createAnatomy("pinInput").parts("root","label","input","control");anatomy$b.build();createProps$1()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var anatomy$a=createAnatomy("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");anatomy$a.build();createProps$1()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);const Portal=o=>{var st;const{children:i,disabled:s}=o,[a,$]=reactExports.useState((st=o.container)==null?void 0:st.current),j=reactExports.useSyncExternalStore(subscribe$1,()=>!1,()=>!0),{getRootNode:et}=useEnvironmentContext();if(reactExports.useEffect(()=>{$(()=>{var it;return(it=o.container)==null?void 0:it.current})},[o.container]),j||s)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i});const rt=a??getPortalNode(et);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reactExports.Children.map(i,it=>reactDomExports.createPortal(it,rt))})},getPortalNode=o=>{const i=o==null?void 0:o(),s=i.getRootNode();return isShadowRoot$1(s)?s:getDocument(i).body},subscribe$1=()=>()=>{};var anatomy$9=createAnatomy("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");anatomy$9.build();createProps$1()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var anatomy$8=createAnatomy("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");anatomy$8.build();createProps$1()(["ids","defaultValue","value","id","encoding","dir","getRootNode","onValueChange","pixelSize"]);var anatomy$7=createAnatomy("radio-group").parts("root","label","item","itemText","itemControl","indicator");anatomy$7.build();createProps$1()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);createProps$1()(["value","disabled","invalid"]);var anatomy$6=createAnatomy("rating-group").parts("root","label","item","control");anatomy$6.build();createProps$1()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value","defaultValue"]);createProps$1()(["index"]);const segmentGroupAnatomy=anatomy$7.rename("segment-group");segmentGroupAnatomy.build();const[SelectProvider,useSelectContext]=createContext({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),SelectClearTrigger$2=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=mergeProps(s.getClearTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});SelectClearTrigger$2.displayName="SelectClearTrigger";const SelectContent$2=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=usePresenceContext(),$=mergeProps(s.getContentProps(),a.getPresenceProps(),o);return a.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...$,ref:composeRefs(a.ref,i)})});SelectContent$2.displayName="SelectContent";const SelectContext$1=o=>o.children(useSelectContext()),SelectControl$1=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=mergeProps(s.getControlProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});SelectControl$1.displayName="SelectControl";const SelectHiddenSelect$1=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=mergeProps(s.getHiddenSelectProps(),o),$=s.value.length===0,j=useFieldContext();return jsxRuntimeExports.jsxs(ark.select,{"aria-describedby":j==null?void 0:j.ariaDescribedby,...a,ref:i,children:[$&&jsxRuntimeExports.jsx("option",{value:""}),s.collection.items.map((et,rt)=>jsxRuntimeExports.jsx("option",{value:s.collection.getItemValue(et)??"",disabled:s.collection.getItemDisabled(et),children:s.collection.stringifyItem(et)},rt))]})});SelectHiddenSelect$1.displayName="SelectHiddenSelect";const SelectIndicator$1=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=mergeProps(s.getIndicatorProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});SelectIndicator$1.displayName="SelectIndicator";const[SelectItemProvider,useSelectItemContext]=createContext({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[SelectItemPropsProvider,useSelectItemPropsContext]=createContext({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),SelectItem$2=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["item","persistFocus"]),$=useSelectContext(),j=mergeProps($.getItemProps(s),a),et=$.getItemState(s);return jsxRuntimeExports.jsx(SelectItemPropsProvider,{value:s,children:jsxRuntimeExports.jsx(SelectItemProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...j,ref:i})})})});SelectItem$2.displayName="SelectItem";const[SelectItemGroupPropsProvider,useSelectItemGroupPropsContext]=createContext({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),SelectItemGroup$1=reactExports.forwardRef((o,i)=>{const s=reactExports.useId(),[a,$]=createSplitProps()(o,["id"]),j={id:s,...a},et=useSelectContext(),rt=mergeProps(et.getItemGroupProps(j),$);return jsxRuntimeExports.jsx(SelectItemGroupPropsProvider,{value:j,children:jsxRuntimeExports.jsx(ark.div,{...rt,ref:i})})});SelectItemGroup$1.displayName="SelectItemGroup";const SelectItemGroupLabel$1=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=useSelectItemGroupPropsContext(),$=mergeProps(s.getItemGroupLabelProps({htmlFor:a.id}),o);return jsxRuntimeExports.jsx(ark.div,{...$,ref:i})});SelectItemGroupLabel$1.displayName="SelectItemGroupLabel";const SelectItemIndicator$1=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=useSelectItemPropsContext(),$=mergeProps(s.getItemIndicatorProps(a),o);return jsxRuntimeExports.jsx(ark.div,{...$,ref:i})});SelectItemIndicator$1.displayName="SelectItemIndicator";const SelectItemText=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=useSelectItemPropsContext(),$=mergeProps(s.getItemTextProps(a),o);return jsxRuntimeExports.jsx(ark.span,{...$,ref:i})});SelectItemText.displayName="SelectItemText";const SelectLabel=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=mergeProps(s.getLabelProps(),o);return jsxRuntimeExports.jsx(ark.label,{...a,ref:i})});SelectLabel.displayName="SelectLabel";const SelectPositioner$1=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=mergeProps(s.getPositionerProps(),o);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});SelectPositioner$1.displayName="SelectPositioner";var anatomy$5=createAnatomy("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),parts$4=anatomy$5.build(),collection=o=>new ListCollection(o);collection.empty=()=>new ListCollection({items:[]});var getRootId$3=o=>{var i;return((i=o.ids)==null?void 0:i.root)??`select:${o.id}`},getContentId$2=o=>{var i;return((i=o.ids)==null?void 0:i.content)??`select:${o.id}:content`},getTriggerId$2=o=>{var i;return((i=o.ids)==null?void 0:i.trigger)??`select:${o.id}:trigger`},getClearTriggerId=o=>{var i;return((i=o.ids)==null?void 0:i.clearTrigger)??`select:${o.id}:clear-trigger`},getLabelId$1=o=>{var i;return((i=o.ids)==null?void 0:i.label)??`select:${o.id}:label`},getControlId$1=o=>{var i;return((i=o.ids)==null?void 0:i.control)??`select:${o.id}:control`},getItemId=(o,i)=>{var s,a;return((a=(s=o.ids)==null?void 0:s.item)==null?void 0:a.call(s,i))??`select:${o.id}:option:${i}`},getHiddenSelectId=o=>{var i;return((i=o.ids)==null?void 0:i.hiddenSelect)??`select:${o.id}:select`},getPositionerId$1=o=>{var i;return((i=o.ids)==null?void 0:i.positioner)??`select:${o.id}:positioner`},getItemGroupId=(o,i)=>{var s,a;return((a=(s=o.ids)==null?void 0:s.itemGroup)==null?void 0:a.call(s,i))??`select:${o.id}:optgroup:${i}`},getItemGroupLabelId=(o,i)=>{var s,a;return((a=(s=o.ids)==null?void 0:s.itemGroupLabel)==null?void 0:a.call(s,i))??`select:${o.id}:optgroup-label:${i}`},getHiddenSelectEl=o=>o.getById(getHiddenSelectId(o)),getContentEl$1=o=>o.getById(getContentId$2(o)),getTriggerEl$2=o=>o.getById(getTriggerId$2(o)),getClearTriggerEl=o=>o.getById(getClearTriggerId(o)),getPositionerEl$1=o=>o.getById(getPositionerId$1(o)),getItemEl=(o,i)=>o.getById(getItemId(o,i));function connect$4(o,i){const{context:s,prop:a,scope:$,state:j,computed:et,send:rt}=o,st=a("disabled")||s.get("fieldsetDisabled"),it=a("invalid"),ot=a("readOnly"),tt=a("composite"),_e=a("collection"),nt=j.hasTag("open"),at=j.matches("focused"),lt=s.get("highlightedValue"),ut=s.get("highlightedItem"),ct=s.get("selectedItems"),dt=s.get("currentPlacement"),ft=et("isTypingAhead"),ht=et("isInteractive"),gt=lt?getItemId($,lt):void 0;function yt(vt){const mt=_e.getItemDisabled(vt.item),xt=_e.getItemValue(vt.item);return ensure(xt,()=>`[zag-js] No value found for item ${JSON.stringify(vt.item)}`),{value:xt,disabled:!!(st||mt),highlighted:lt===xt,selected:s.get("value").includes(xt)}}const bt=getPlacementStyles({...a("positioning"),placement:dt});return{open:nt,focused:at,empty:s.get("value").length===0,highlightedItem:ut,highlightedValue:lt,selectedItems:ct,hasSelectedItems:et("hasSelectedItems"),value:s.get("value"),valueAsString:s.get("valueAsString"),collection:_e,multiple:!!a("multiple"),disabled:!!st,reposition(vt={}){rt({type:"POSITIONING.SET",options:vt})},focus(){var vt;(vt=getTriggerEl$2($))==null||vt.focus({preventScroll:!0})},setOpen(vt){j.hasTag("open")!==vt&&rt({type:vt?"OPEN":"CLOSE"})},selectValue(vt){rt({type:"ITEM.SELECT",value:vt})},setValue(vt){rt({type:"VALUE.SET",value:vt})},selectAll(){rt({type:"VALUE.SET",value:_e.getValues()})},highlightValue(vt){rt({type:"HIGHLIGHTED_VALUE.SET",value:vt})},clearValue(vt){rt(vt?{type:"ITEM.CLEAR",value:vt}:{type:"VALUE.CLEAR"})},getItemState:yt,getRootProps(){return i.element({...parts$4.root.attrs,dir:a("dir"),id:getRootId$3($),"data-invalid":dataAttr$1(it),"data-readonly":dataAttr$1(ot)})},getLabelProps(){return i.label({dir:a("dir"),id:getLabelId$1($),...parts$4.label.attrs,"data-disabled":dataAttr$1(st),"data-invalid":dataAttr$1(it),"data-readonly":dataAttr$1(ot),htmlFor:getHiddenSelectId($),onClick(vt){var mt;vt.defaultPrevented||st||(mt=getTriggerEl$2($))==null||mt.focus({preventScroll:!0})}})},getControlProps(){return i.element({...parts$4.control.attrs,dir:a("dir"),id:getControlId$1($),"data-state":nt?"open":"closed","data-focus":dataAttr$1(at),"data-disabled":dataAttr$1(st),"data-invalid":dataAttr$1(it)})},getValueTextProps(){return i.element({...parts$4.valueText.attrs,dir:a("dir"),"data-disabled":dataAttr$1(st),"data-invalid":dataAttr$1(it),"data-focus":dataAttr$1(at)})},getTriggerProps(){return i.button({id:getTriggerId$2($),disabled:st,dir:a("dir"),type:"button",role:"combobox","aria-controls":getContentId$2($),"aria-expanded":nt,"aria-haspopup":"listbox","data-state":nt?"open":"closed","aria-invalid":it,"aria-labelledby":getLabelId$1($),...parts$4.trigger.attrs,"data-disabled":dataAttr$1(st),"data-invalid":dataAttr$1(it),"data-readonly":dataAttr$1(ot),"data-placement":dt,"data-placeholder-shown":dataAttr$1(!et("hasSelectedItems")),onClick(vt){ht&&(vt.defaultPrevented||rt({type:"TRIGGER.CLICK"}))},onFocus(){rt({type:"TRIGGER.FOCUS"})},onBlur(){rt({type:"TRIGGER.BLUR"})},onKeyDown(vt){if(vt.defaultPrevented||!ht)return;const xt={ArrowUp(){rt({type:"TRIGGER.ARROW_UP"})},ArrowDown(wt){rt({type:wt.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){rt({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){rt({type:"TRIGGER.ARROW_RIGHT"})},Home(){rt({type:"TRIGGER.HOME"})},End(){rt({type:"TRIGGER.END"})},Enter(){rt({type:"TRIGGER.ENTER"})},Space(wt){rt(ft?{type:"TRIGGER.TYPEAHEAD",key:wt.key}:{type:"TRIGGER.ENTER"})}}[getEventKey(vt,{dir:a("dir"),orientation:"vertical"})];if(xt){xt(vt),vt.preventDefault();return}getByTypeahead.isValidEvent(vt)&&(rt({type:"TRIGGER.TYPEAHEAD",key:vt.key}),vt.preventDefault())}})},getIndicatorProps(){return i.element({...parts$4.indicator.attrs,dir:a("dir"),"aria-hidden":!0,"data-state":nt?"open":"closed","data-disabled":dataAttr$1(st),"data-invalid":dataAttr$1(it),"data-readonly":dataAttr$1(ot)})},getItemProps(vt){const mt=yt(vt);return i.element({id:getItemId($,mt.value),role:"option",...parts$4.item.attrs,dir:a("dir"),"data-value":mt.value,"aria-selected":mt.selected,"data-state":mt.selected?"checked":"unchecked","data-highlighted":dataAttr$1(mt.highlighted),"data-disabled":dataAttr$1(mt.disabled),"aria-disabled":ariaAttr(mt.disabled),onPointerMove(xt){mt.disabled||xt.pointerType!=="mouse"||mt.value!==lt&&rt({type:"ITEM.POINTER_MOVE",value:mt.value})},onClick(xt){xt.defaultPrevented||mt.disabled||rt({type:"ITEM.CLICK",src:"pointerup",value:mt.value})},onPointerLeave(xt){var Ct;mt.disabled||vt.persistFocus||xt.pointerType!=="mouse"||!((Ct=o.event.previous())!=null&&Ct.type.includes("POINTER"))||rt({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(vt){const mt=yt(vt);return i.element({...parts$4.itemText.attrs,"data-state":mt.selected?"checked":"unchecked","data-disabled":dataAttr$1(mt.disabled),"data-highlighted":dataAttr$1(mt.highlighted)})},getItemIndicatorProps(vt){const mt=yt(vt);return i.element({"aria-hidden":!0,...parts$4.itemIndicator.attrs,"data-state":mt.selected?"checked":"unchecked",hidden:!mt.selected})},getItemGroupLabelProps(vt){const{htmlFor:mt}=vt;return i.element({...parts$4.itemGroupLabel.attrs,id:getItemGroupLabelId($,mt),dir:a("dir"),role:"presentation"})},getItemGroupProps(vt){const{id:mt}=vt;return i.element({...parts$4.itemGroup.attrs,"data-disabled":dataAttr$1(st),id:getItemGroupId($,mt),"aria-labelledby":getItemGroupLabelId($,mt),role:"group",dir:a("dir")})},getClearTriggerProps(){return i.button({...parts$4.clearTrigger.attrs,id:getClearTriggerId($),type:"button","aria-label":"Clear value","data-invalid":dataAttr$1(it),disabled:st,hidden:!et("hasSelectedItems"),dir:a("dir"),onClick(vt){vt.defaultPrevented||rt({type:"CLEAR.CLICK"})}})},getHiddenSelectProps(){const vt=s.get("value"),mt=a("multiple")?vt:vt==null?void 0:vt[0];return i.select({name:a("name"),form:a("form"),disabled:st,multiple:a("multiple"),required:a("required"),"aria-hidden":!0,id:getHiddenSelectId($),defaultValue:mt,style:visuallyHiddenStyle,tabIndex:-1,onFocus(){var xt;(xt=getTriggerEl$2($))==null||xt.focus({preventScroll:!0})},"aria-labelledby":getLabelId$1($)})},getPositionerProps(){return i.element({...parts$4.positioner.attrs,dir:a("dir"),id:getPositionerId$1($),style:bt.floating})},getContentProps(){return i.element({hidden:!nt,dir:a("dir"),id:getContentId$2($),role:tt?"listbox":"dialog",...parts$4.content.attrs,"data-state":nt?"open":"closed","data-placement":dt,"data-activedescendant":gt,"aria-activedescendant":tt?gt:void 0,"aria-multiselectable":a("multiple")&&tt?!0:void 0,"aria-labelledby":getLabelId$1($),tabIndex:0,onKeyDown(vt){if(!ht||!isSelfTarget(vt))return;if(vt.key==="Tab"&&!isValidTabEvent(vt)){vt.preventDefault();return}const mt={ArrowUp(){rt({type:"CONTENT.ARROW_UP"})},ArrowDown(){rt({type:"CONTENT.ARROW_DOWN"})},Home(){rt({type:"CONTENT.HOME"})},End(){rt({type:"CONTENT.END"})},Enter(){rt({type:"ITEM.CLICK",src:"keydown.enter"})},Space(Ct){var kt;ft?rt({type:"CONTENT.TYPEAHEAD",key:Ct.key}):(kt=mt.Enter)==null||kt.call(mt,Ct)}},xt=mt[getEventKey(vt)];if(xt){xt(vt),vt.preventDefault();return}const wt=getEventTarget(vt);isEditableElement(wt)||getByTypeahead.isValidEvent(vt)&&(rt({type:"CONTENT.TYPEAHEAD",key:vt.key}),vt.preventDefault())}})},getListProps(){return i.element({...parts$4.list.attrs,tabIndex:0,role:tt?void 0:"listbox","aria-labelledby":getTriggerId$2($),"aria-activedescendant":tt?void 0:gt,"aria-multiselectable":!tt&&a("multiple")?!0:void 0})}}}var{and:and$1,not:not$4,or}=createGuards(),machine$4={props({props:o}){return{loopFocus:!1,closeOnSelect:!o.multiple,composite:!0,defaultValue:[],...o,collection:o.collection??collection.empty(),positioning:{placement:"bottom-start",gutter:8,...o.positioning}}},context({prop:o,bindable:i}){return{value:i(()=>({defaultValue:o("defaultValue"),value:o("value"),isEqual,onChange(s){var $;const a=o("collection").findMany(s);return($=o("onValueChange"))==null?void 0:$({value:s,items:a})}})),highlightedValue:i(()=>({defaultValue:o("defaultHighlightedValue")||null,value:o("highlightedValue"),onChange(s){var a;(a=o("onHighlightChange"))==null||a({highlightedValue:s,highlightedItem:o("collection").find(s),highlightedIndex:o("collection").indexOf(s)})}})),currentPlacement:i(()=>({defaultValue:void 0})),fieldsetDisabled:i(()=>({defaultValue:!1})),highlightedItem:i(()=>({defaultValue:null})),selectedItems:i(()=>{const s=o("value")??o("defaultValue")??[];return{defaultValue:o("collection").findMany(s)}}),valueAsString:i(()=>{const s=o("value")??o("defaultValue")??[];return{defaultValue:o("collection").stringifyMany(s)}})}},refs(){return{typeahead:{...getByTypeahead.defaultOptions}}},computed:{hasSelectedItems:({context:o})=>o.get("value").length>0,isTypingAhead:({refs:o})=>o.get("typeahead").keysSoFar!=="",isDisabled:({prop:o,context:i})=>!!o("disabled")||!!i.get("fieldsetDisabled"),isInteractive:({prop:o})=>!(o("disabled")||o("readOnly"))},initialState({prop:o}){return o("open")||o("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:o,prop:i,track:s,action:a}){s([()=>o.get("value").toString()],()=>{a(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),s([()=>i("open")],()=>{a(["toggleVisibility"])}),s([()=>o.get("highlightedValue")],()=>{a(["syncHighlightedItem"])}),s([()=>i("collection").toString()],()=>{a(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:or("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:and$1(not$4("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:not$4("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:and$1(not$4("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:not$4("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:not$4("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:not$4("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:not$4("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":{target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:and$1("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:and$1("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:and$1("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:o})=>!!o("loopFocus"),multiple:({prop:o})=>!!o("multiple"),hasSelectedItems:({computed:o})=>!!o("hasSelectedItems"),hasHighlightedItem:({context:o})=>o.get("highlightedValue")!=null,isFirstItemHighlighted:({context:o,prop:i})=>o.get("highlightedValue")===i("collection").firstValue,isLastItemHighlighted:({context:o,prop:i})=>o.get("highlightedValue")===i("collection").lastValue,closeOnSelect:({prop:o,event:i})=>!!(i.closeOnSelect??o("closeOnSelect")),isOpenControlled:({prop:o})=>o("open")!==void 0,isTriggerClickEvent:({event:o})=>{var i;return((i=o.previousEvent)==null?void 0:i.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:o})=>{var i;return((i=o.previousEvent)==null?void 0:i.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:o})=>{var i;return((i=o.previousEvent)==null?void 0:i.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:o})=>{var i;return((i=o.previousEvent)==null?void 0:i.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFormControlState({context:o,scope:i}){return trackFormControl(getHiddenSelectEl(i),{onFieldsetDisabledChange(s){o.set("fieldsetDisabled",s)},onFormReset(){const s=o.initial("value");o.set("value",s)}})},trackDismissableElement({scope:o,send:i,prop:s}){const a=()=>getContentEl$1(o);let $=!0;return trackDismissableElement(a,{defer:!0,exclude:[getTriggerEl$2(o),getClearTriggerEl(o)],onFocusOutside:s("onFocusOutside"),onPointerDownOutside:s("onPointerDownOutside"),onInteractOutside(j){var et;(et=s("onInteractOutside"))==null||et(j),$=!(j.detail.focusable||j.detail.contextmenu)},onDismiss(){i({type:"CLOSE",src:"interact-outside",restoreFocus:$})}})},computePlacement({context:o,prop:i,scope:s}){const a=i("positioning");return o.set("currentPlacement",a.placement),getPlacement(()=>getTriggerEl$2(s),()=>getPositionerEl$1(s),{defer:!0,...a,onComplete(et){o.set("currentPlacement",et.placement)}})},scrollToHighlightedItem({context:o,prop:i,scope:s,event:a}){const $=et=>{const rt=o.get("highlightedValue");if(rt==null||a.current().type.includes("POINTER"))return;const st=getItemEl(s,rt),it=getContentEl$1(s),ot=i("scrollToIndexFn");if(ot){const tt=i("collection").indexOf(rt);ot==null||ot({index:tt,immediate:et});return}scrollIntoView(st,{rootEl:it,block:"nearest"})};return raf$1(()=>$(!0)),observeAttributes(()=>getContentEl$1(s),{defer:!0,attributes:["data-activedescendant"],callback(){$(!1)}})}},actions:{reposition({context:o,prop:i,scope:s,event:a}){const $=()=>getPositionerEl$1(s);getPlacement(getTriggerEl$2(s),$,{...i("positioning"),...a.options,defer:!0,listeners:!1,onComplete(j){o.set("currentPlacement",j.placement)}})},toggleVisibility({send:o,prop:i,event:s}){o({type:i("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:s})},highlightPreviousItem({context:o,prop:i}){const s=o.get("highlightedValue");if(s==null)return;const a=i("collection").getPreviousValue(s,1,i("loopFocus"));o.set("highlightedValue",a)},highlightNextItem({context:o,prop:i}){const s=o.get("highlightedValue");if(s==null)return;const a=i("collection").getNextValue(s,1,i("loopFocus"));o.set("highlightedValue",a)},highlightFirstItem({context:o,prop:i}){const s=i("collection").firstValue;o.set("highlightedValue",s)},highlightLastItem({context:o,prop:i}){const s=i("collection").lastValue;o.set("highlightedValue",s)},setInitialFocus({scope:o}){raf$1(()=>{const i=getInitialFocus({root:getContentEl$1(o)});i==null||i.focus({preventScroll:!0})})},focusTriggerEl({event:o,scope:i}){var a;const s=o.restoreFocus??((a=o.previousEvent)==null?void 0:a.restoreFocus);s!=null&&!s||raf$1(()=>{const $=getTriggerEl$2(i);$==null||$.focus({preventScroll:!0})})},selectHighlightedItem({context:o,prop:i,event:s}){let a=s.value??o.get("highlightedValue");if(a==null)return;a=i("deselectable")&&!i("multiple")&&o.get("value").includes(a)?null:a,o.set("value",j=>a==null?[]:i("multiple")?addOrRemove(j,a):[a])},highlightComputedFirstItem({context:o,prop:i,computed:s}){const a=i("collection"),$=s("hasSelectedItems")?a.sort(o.get("value"))[0]:a.firstValue;o.set("highlightedValue",$)},highlightComputedLastItem({context:o,prop:i,computed:s}){const a=i("collection"),$=s("hasSelectedItems")?a.sort(o.get("value"))[0]:a.lastValue;o.set("highlightedValue",$)},highlightFirstSelectedItem({context:o,prop:i,computed:s}){if(!s("hasSelectedItems"))return;const a=i("collection").sort(o.get("value"))[0];o.set("highlightedValue",a)},highlightItem({context:o,event:i}){o.set("highlightedValue",i.value)},highlightMatchingItem({context:o,prop:i,event:s,refs:a}){const $=i("collection").search(s.key,{state:a.get("typeahead"),currentValue:o.get("highlightedValue")});$!=null&&o.set("highlightedValue",$)},setHighlightedItem({context:o,event:i}){o.set("highlightedValue",i.value)},clearHighlightedItem({context:o}){o.set("highlightedValue",null)},selectItem({context:o,prop:i,event:s}){const $=i("deselectable")&&!i("multiple")&&o.get("value").includes(s.value)?null:s.value;o.set("value",j=>$==null?[]:i("multiple")?addOrRemove(j,$):[$])},clearItem({context:o,event:i}){o.set("value",s=>s.filter(a=>a!==i.value))},setSelectedItems({context:o,event:i}){o.set("value",i.value)},clearSelectedItems({context:o}){o.set("value",[])},selectPreviousItem({context:o,prop:i}){const[s]=o.get("value"),a=i("collection").getPreviousValue(s);a&&o.set("value",[a])},selectNextItem({context:o,prop:i}){const[s]=o.get("value"),a=i("collection").getNextValue(s);a&&o.set("value",[a])},selectFirstItem({context:o,prop:i}){const s=i("collection").firstValue;s&&o.set("value",[s])},selectLastItem({context:o,prop:i}){const s=i("collection").lastValue;s&&o.set("value",[s])},selectMatchingItem({context:o,prop:i,event:s,refs:a}){const $=i("collection").search(s.key,{state:a.get("typeahead"),currentValue:o.get("value")[0]});$!=null&&o.set("value",[$])},scrollContentToTop({prop:o,scope:i}){var s,a;o("scrollToIndexFn")?(s=o("scrollToIndexFn"))==null||s({index:0,immediate:!0}):(a=getContentEl$1(i))==null||a.scrollTo(0,0)},invokeOnOpen({prop:o}){var i;(i=o("onOpenChange"))==null||i({open:!0})},invokeOnClose({prop:o}){var i;(i=o("onOpenChange"))==null||i({open:!1})},syncSelectElement({context:o,prop:i,scope:s}){const a=getHiddenSelectEl(s);if(a){if(o.get("value").length===0&&!i("multiple")){a.selectedIndex=-1;return}for(const $ of a.options)$.selected=o.get("value").includes($.value)}},syncCollection({context:o,prop:i}){const s=i("collection"),a=s.find(o.get("highlightedValue"));a&&o.set("highlightedItem",a);const $=s.findMany(o.get("value"));o.set("selectedItems",$);const j=s.stringifyItems($);o.set("valueAsString",j)},syncSelectedItems({context:o,prop:i}){const s=i("collection"),a=o.get("selectedItems"),j=o.get("value").map(et=>a.find(st=>s.getItemValue(st)===et)||s.find(et));o.set("selectedItems",j),o.set("valueAsString",s.stringifyItems(j))},syncHighlightedItem({context:o,prop:i}){const s=i("collection"),a=o.get("highlightedValue"),$=a?s.find(a):null;o.set("highlightedItem",$)},dispatchChangeEvent({scope:o}){queueMicrotask(()=>{const i=getHiddenSelectEl(o);if(!i)return;const s=o.getWin(),a=new s.Event("change",{bubbles:!0,composed:!0});i.dispatchEvent(a)})}}}};createProps$1()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","defaultOpen","open","composite","positioning","required","readOnly","scrollToIndexFn","value","defaultValue","defaultHighlightedValue"]);createProps$1()(["item","persistFocus"]);createProps$1()(["id"]);createProps$1()(["htmlFor"]);const useSelect=o=>{const i=reactExports.useId(),{dir:s}=useLocaleContext(),{getRootNode:a}=useEnvironmentContext(),$=useFieldContext(),j={id:i,ids:{label:$==null?void 0:$.ids.label,hiddenSelect:$==null?void 0:$.ids.control},disabled:$==null?void 0:$.disabled,readOnly:$==null?void 0:$.readOnly,invalid:$==null?void 0:$.invalid,required:$==null?void 0:$.required,dir:s,getRootNode:a,...o},et=useMachine(machine$4,j);return connect$4(et,normalizeProps)},SelectImpl$1=(o,i)=>{const[s,a]=splitPresenceProps(o),[$,j]=createSplitProps()(a,["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","disabled","form","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),et=useSelect($),rt=usePresence(mergeProps({present:et.open},s)),st=mergeProps(et.getRootProps(),j);return jsxRuntimeExports.jsx(SelectProvider,{value:et,children:jsxRuntimeExports.jsx(PresenceProvider,{value:rt,children:jsxRuntimeExports.jsx(ark.div,{...st,ref:i})})})},SelectRoot$2=reactExports.forwardRef(SelectImpl$1),SelectImpl=(o,i)=>{const[s,a]=splitPresenceProps(o),[{value:$},j]=createSplitProps()(a,["value"]),et=usePresence(mergeProps({present:$.open},s)),rt=mergeProps($.getRootProps(),j);return jsxRuntimeExports.jsx(SelectProvider,{value:$,children:jsxRuntimeExports.jsx(PresenceProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...rt,ref:i})})})},SelectRootProvider=reactExports.forwardRef(SelectImpl),SelectTrigger$2=reactExports.forwardRef((o,i)=>{const s=useSelectContext(),a=mergeProps(s.getTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});SelectTrigger$2.displayName="SelectTrigger";const SelectValueText$2=reactExports.forwardRef((o,i)=>{const{children:s,placeholder:a,...$}=o,j=useSelectContext(),et=mergeProps(j.getValueTextProps(),$);return jsxRuntimeExports.jsx(ark.span,{...et,ref:i,children:s||j.valueAsString||a})});SelectValueText$2.displayName="SelectValueText";var anatomy$4=createAnatomy("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");anatomy$4.build();createProps$1()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);createProps$1()(["index","name"]);const[SwitchProvider,useSwitchContext]=createContext({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),SwitchControl$1=reactExports.forwardRef((o,i)=>{const s=useSwitchContext(),a=mergeProps(s.getControlProps(),o);return jsxRuntimeExports.jsx(ark.span,{...a,ref:i})});SwitchControl$1.displayName="SwitchControl";const SwitchHiddenInput$1=reactExports.forwardRef((o,i)=>{const s=useSwitchContext(),a=mergeProps(s.getHiddenInputProps(),o),$=useFieldContext();return jsxRuntimeExports.jsx(ark.input,{"aria-describedby":$==null?void 0:$.ariaDescribedby,...a,ref:i})});SwitchHiddenInput$1.displayName="SwitchHiddenInput";const SwitchLabel$1=reactExports.forwardRef((o,i)=>{const s=useSwitchContext(),a=mergeProps(s.getLabelProps(),o);return jsxRuntimeExports.jsx(ark.span,{...a,ref:i})});SwitchLabel$1.displayName="SwitchLabel";var anatomy$3=createAnatomy("switch").parts("root","label","control","thumb"),parts$3=anatomy$3.build(),getRootId$2=o=>{var i;return((i=o.ids)==null?void 0:i.root)??`switch:${o.id}`},getLabelId=o=>{var i;return((i=o.ids)==null?void 0:i.label)??`switch:${o.id}:label`},getThumbId=o=>{var i;return((i=o.ids)==null?void 0:i.thumb)??`switch:${o.id}:thumb`},getControlId=o=>{var i;return((i=o.ids)==null?void 0:i.control)??`switch:${o.id}:control`},getHiddenInputId=o=>{var i;return((i=o.ids)==null?void 0:i.hiddenInput)??`switch:${o.id}:input`},getRootEl$1=o=>o.getById(getRootId$2(o)),getHiddenInputEl=o=>o.getById(getHiddenInputId(o));function connect$3(o,i){const{context:s,send:a,prop:$,scope:j}=o,et=$("disabled"),rt=$("readOnly"),st=!!s.get("checked"),it=!et&&s.get("focused"),ot=!et&&s.get("focusVisible"),tt={"data-active":dataAttr$1(s.get("active")),"data-focus":dataAttr$1(it),"data-focus-visible":dataAttr$1(ot),"data-readonly":dataAttr$1(rt),"data-hover":dataAttr$1(s.get("hovered")),"data-disabled":dataAttr$1(et),"data-state":st?"checked":"unchecked","data-invalid":dataAttr$1($("invalid"))};return{checked:st,disabled:et,focused:it,setChecked(_e){a({type:"CHECKED.SET",checked:_e,isTrusted:!1})},toggleChecked(){a({type:"CHECKED.TOGGLE",checked:st,isTrusted:!1})},getRootProps(){return i.label({...parts$3.root.attrs,...tt,dir:$("dir"),id:getRootId$2(j),htmlFor:getHiddenInputId(j),onPointerMove(){et||a({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){et||a({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(_e){var at;if(et)return;getEventTarget(_e)===getHiddenInputEl(j)&&_e.stopPropagation(),isSafari()&&((at=getHiddenInputEl(j))==null||at.focus())}})},getLabelProps(){return i.element({...parts$3.label.attrs,...tt,dir:$("dir"),id:getLabelId(j)})},getThumbProps(){return i.element({...parts$3.thumb.attrs,...tt,dir:$("dir"),id:getThumbId(j),"aria-hidden":!0})},getControlProps(){return i.element({...parts$3.control.attrs,...tt,dir:$("dir"),id:getControlId(j),"aria-hidden":!0})},getHiddenInputProps(){return i.input({id:getHiddenInputId(j),type:"checkbox",required:$("required"),defaultChecked:st,disabled:et,"aria-labelledby":getLabelId(j),"aria-invalid":$("invalid"),name:$("name"),form:$("form"),value:$("value"),style:visuallyHiddenStyle,onFocus(){const _e=isFocusVisible();a({type:"CONTEXT.SET",context:{focused:!0,focusVisible:_e}})},onBlur(){a({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(_e){if(rt){_e.preventDefault();return}const nt=_e.currentTarget.checked;a({type:"CHECKED.SET",checked:nt,isTrusted:!0})}})}}}var{not:not$3}=createGuards(),machine$3={props({props:o}){return{defaultChecked:!1,label:"switch",value:"on",...o}},initialState(){return"ready"},context({prop:o,bindable:i}){return{checked:i(()=>({defaultValue:o("defaultChecked"),value:o("checked"),onChange(s){var a;(a=o("onCheckedChange"))==null||a({checked:s})}})),fieldsetDisabled:i(()=>({defaultValue:!1})),focusVisible:i(()=>({defaultValue:!1})),active:i(()=>({defaultValue:!1})),focused:i(()=>({defaultValue:!1})),hovered:i(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:o,prop:i})=>i("disabled")||o.get("fieldsetDisabled")},watch({track:o,prop:i,context:s,action:a}){o([()=>i("disabled")],()=>{a(["removeFocusIfNeeded"])}),o([()=>s.get("checked")],()=>{a(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:not$3("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:not$3("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:o})=>!!o.isTrusted},effects:{trackPressEvent({computed:o,scope:i,context:s}){if(!o("isDisabled"))return trackPress({pointerNode:getRootEl$1(i),keyboardNode:getHiddenInputEl(i),isValidKey:a=>a.key===" ",onPress:()=>s.set("active",!1),onPressStart:()=>s.set("active",!0),onPressEnd:()=>s.set("active",!1)})},trackFocusVisible({computed:o,scope:i}){if(!o("isDisabled"))return trackFocusVisible({root:i.getRootNode()})},trackFormControlState({context:o,send:i,scope:s}){return trackFormControl(getHiddenInputEl(s),{onFieldsetDisabledChange(a){o.set("fieldsetDisabled",a)},onFormReset(){const a=o.initial("checked");i({type:"CHECKED.SET",checked:!!a,src:"form-reset"})}})}},actions:{setContext({context:o,event:i}){for(const s in i.context)o.set(s,i.context[s])},syncInputElement({context:o,scope:i}){const s=getHiddenInputEl(i);s&&setElementChecked(s,!!o.get("checked"))},removeFocusIfNeeded({context:o,prop:i}){i("disabled")&&o.set("focused",!1)},setChecked({context:o,event:i}){o.set("checked",i.checked)},toggleChecked({context:o}){o.set("checked",!o.get("checked"))},dispatchChangeEvent({context:o,scope:i}){const s=getHiddenInputEl(i);dispatchInputCheckedEvent(s,{checked:o.get("checked")})}}}};createProps$1()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const useSwitch=o=>{const i=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),$=useFieldContext(),j={id:i,ids:{label:$==null?void 0:$.ids.label,hiddenInput:$==null?void 0:$.ids.control},dir:a,disabled:$==null?void 0:$.disabled,readOnly:$==null?void 0:$.readOnly,invalid:$==null?void 0:$.invalid,required:$==null?void 0:$.required,getRootNode:s,...o},et=useMachine(machine$3,j);return connect$3(et,normalizeProps)},SwitchRoot$1=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),$=useSwitch(s),j=mergeProps($.getRootProps(),a);return jsxRuntimeExports.jsx(SwitchProvider,{value:$,children:jsxRuntimeExports.jsx(ark.label,{...j,ref:i})})});SwitchRoot$1.displayName="SwitchRoot";const SwitchRootProvider=reactExports.forwardRef((o,i)=>{const[{value:s},a]=createSplitProps()(o,["value"]),$=mergeProps(s.getRootProps(),a);return jsxRuntimeExports.jsx(SwitchProvider,{value:s,children:jsxRuntimeExports.jsx(ark.label,{...$,ref:i})})});SwitchRootProvider.displayName="SwitchRootProvider";const SwitchThumb$1=reactExports.forwardRef((o,i)=>{const s=useSwitchContext(),a=mergeProps(s.getThumbProps(),o);return jsxRuntimeExports.jsx(ark.span,{...a,ref:i})});SwitchThumb$1.displayName="SwitchThumb";function useDebounce(o,i){const[s,a]=reactExports.useState(o);return reactExports.useEffect(()=>{const $=setTimeout(()=>{a(o)},i);return()=>{clearTimeout($)}},[o,i]),s}const[TabsProvider,useTabsContext]=createContext({name:"TabsContext",hookName:"useTabsContext",providerName:"<TabsProvider />"}),TabContent=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["value"]),$=useTabsContext(),j=useRenderStrategyPropsContext(),et=usePresence({...j,present:useDebounce($.value===o.value,0),immediate:!0}),rt=mergeProps($.getContentProps(s),et.getPresenceProps(),a);return jsxRuntimeExports.jsx(PresenceProvider,{value:et,children:et.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...rt,ref:composeRefs(et.ref,i)})})});TabContent.displayName="TabContent";const TabIndicator=reactExports.forwardRef((o,i)=>{const s=useTabsContext(),a=mergeProps(s.getIndicatorProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});TabIndicator.displayName="TabIndicator";const TabList=reactExports.forwardRef((o,i)=>{const s=useTabsContext(),a=mergeProps(s.getListProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});TabList.displayName="TabList";const TabTrigger=reactExports.forwardRef((o,i)=>{const[s,a]=createSplitProps()(o,["disabled","value"]),$=useTabsContext(),j=mergeProps($.getTriggerProps(s),a);return jsxRuntimeExports.jsx(ark.button,{...j,ref:i})});TabTrigger.displayName="TabTrigger";var anatomy$2=createAnatomy("tabs").parts("root","list","trigger","content","indicator"),parts$2=anatomy$2.build(),getRootId$1=o=>{var i;return((i=o.ids)==null?void 0:i.root)??`tabs:${o.id}`},getListId=o=>{var i;return((i=o.ids)==null?void 0:i.list)??`tabs:${o.id}:list`},getContentId$1=(o,i)=>{var s;return((s=o.ids)==null?void 0:s.content)??`tabs:${o.id}:content-${i}`},getTriggerId$1=(o,i)=>{var s;return((s=o.ids)==null?void 0:s.trigger)??`tabs:${o.id}:trigger-${i}`},getIndicatorId=o=>{var i;return((i=o.ids)==null?void 0:i.indicator)??`tabs:${o.id}:indicator`},getListEl=o=>o.getById(getListId(o)),getContentEl=(o,i)=>o.getById(getContentId$1(o,i)),getTriggerEl$1=(o,i)=>o.getById(getTriggerId$1(o,i)),getIndicatorEl=o=>o.getById(getIndicatorId(o)),getElements=o=>{const s=`[role=tab][data-ownedby='${CSS.escape(getListId(o))}']:not([disabled])`;return queryAll(getListEl(o),s)},getFirstTriggerEl=o=>first(getElements(o)),getLastTriggerEl=o=>last(getElements(o)),getNextTriggerEl=(o,i)=>nextById(getElements(o),getTriggerId$1(o,i.value),i.loopFocus),getPrevTriggerEl=(o,i)=>prevById(getElements(o),getTriggerId$1(o,i.value),i.loopFocus),getOffsetRect=o=>({left:(o==null?void 0:o.offsetLeft)??0,top:(o==null?void 0:o.offsetTop)??0,width:(o==null?void 0:o.offsetWidth)??0,height:(o==null?void 0:o.offsetHeight)??0}),getRectById=(o,i)=>{const s=itemById(getElements(o),getTriggerId$1(o,i));return resolveRect(getOffsetRect(s))},resolveRect=o=>({width:`${o.width}px`,height:`${o.height}px`,left:`${o.left}px`,top:`${o.top}px`});function connect$2(o,i){const{state:s,send:a,context:$,prop:j,scope:et}=o,rt=j("translations"),st=s.matches("focused"),it=j("orientation")==="vertical",ot=j("orientation")==="horizontal",tt=j("composite");function _e(nt){return{selected:$.get("value")===nt.value,focused:$.get("focusedValue")===nt.value,disabled:!!nt.disabled}}return{value:$.get("value"),focusedValue:$.get("focusedValue"),setValue(nt){a({type:"SET_VALUE",value:nt})},clearValue(){a({type:"CLEAR_VALUE"})},setIndicatorRect(nt){const at=getTriggerId$1(et,nt);a({type:"SET_INDICATOR_RECT",id:at})},syncTabIndex(){a({type:"SYNC_TAB_INDEX"})},selectNext(nt){a({type:"TAB_FOCUS",value:nt,src:"selectNext"}),a({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(nt){a({type:"TAB_FOCUS",value:nt,src:"selectPrev"}),a({type:"ARROW_PREV",src:"selectPrev"})},focus(){var at;const nt=$.get("value");nt&&((at=getTriggerEl$1(et,nt))==null||at.focus())},getRootProps(){return i.element({...parts$2.root.attrs,id:getRootId$1(et),"data-orientation":j("orientation"),"data-focus":dataAttr$1(st),dir:j("dir")})},getListProps(){return i.element({...parts$2.list.attrs,id:getListId(et),role:"tablist",dir:j("dir"),"data-focus":dataAttr$1(st),"aria-orientation":j("orientation"),"data-orientation":j("orientation"),"aria-label":rt==null?void 0:rt.listLabel,onKeyDown(nt){if(nt.defaultPrevented||!isSelfTarget(nt)||isComposingEvent(nt))return;const at={ArrowDown(){ot||a({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){ot||a({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){it||a({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){it||a({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){a({type:"HOME"})},End(){a({type:"END"})},Enter(){a({type:"ENTER"})}};let lt=getEventKey(nt,{dir:j("dir"),orientation:j("orientation")});const ut=at[lt];ut&&(nt.preventDefault(),ut(nt))}})},getTriggerState:_e,getTriggerProps(nt){const{value:at,disabled:lt}=nt,ut=_e(nt);return i.button({...parts$2.trigger.attrs,role:"tab",type:"button",disabled:lt,dir:j("dir"),"data-orientation":j("orientation"),"data-disabled":dataAttr$1(lt),"aria-disabled":lt,"data-value":at,"aria-selected":ut.selected,"data-selected":dataAttr$1(ut.selected),"data-focus":dataAttr$1(ut.focused),"aria-controls":ut.selected?getContentId$1(et,at):void 0,"data-ownedby":getListId(et),"data-ssr":dataAttr$1($.get("ssr")),id:getTriggerId$1(et,at),tabIndex:ut.selected&&tt?0:-1,onFocus(){a({type:"TAB_FOCUS",value:at})},onBlur(ct){const dt=ct.relatedTarget;(dt==null?void 0:dt.getAttribute("role"))!=="tab"&&a({type:"TAB_BLUR"})},onClick(ct){ct.defaultPrevented||lt||(isSafari()&&ct.currentTarget.focus(),a({type:"TAB_CLICK",value:at}))}})},getContentProps(nt){const{value:at}=nt,lt=$.get("value")===at;return i.element({...parts$2.content.attrs,dir:j("dir"),id:getContentId$1(et,at),tabIndex:tt?0:-1,"aria-labelledby":getTriggerId$1(et,at),role:"tabpanel","data-ownedby":getListId(et),"data-selected":dataAttr$1(lt),"data-orientation":j("orientation"),hidden:!lt})},getIndicatorProps(){const nt=$.get("indicatorRect"),at=$.get("indicatorTransition");return i.element({id:getIndicatorId(et),...parts$2.indicator.attrs,dir:j("dir"),"data-orientation":j("orientation"),style:{"--transition-property":"left, right, top, bottom, width, height","--left":nt.left,"--top":nt.top,"--width":nt.width,"--height":nt.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:at?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[ot?"left":"top"]:ot?"var(--left)":"var(--top)"}})}}}var{not:not$2}=createGuards(),machine$2={props({props:o}){return{dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(i){clickIfLink(i.node)},defaultValue:null,...o}},initialState(){return"idle"},context({prop:o,bindable:i}){return{value:i(()=>({defaultValue:o("defaultValue"),value:o("value"),onChange(s){var a;(a=o("onValueChange"))==null||a({value:s})}})),focusedValue:i(()=>({defaultValue:o("value")||o("defaultValue"),sync:!0,onChange(s){var a;(a=o("onFocusChange"))==null||a({focusedValue:s})}})),ssr:i(()=>({defaultValue:!0})),indicatorTransition:i(()=>({defaultValue:!1})),indicatorRect:i(()=>({defaultValue:{left:"0px",top:"0px",width:"0px",height:"0px"}}))}},watch({context:o,prop:i,track:s,action:a}){s([()=>o.get("value")],()=>{a(["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),s([()=>i("dir"),()=>i("orientation")],()=>{a(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],ENTER:{guard:not$2("selectOnFocus"),actions:["selectFocusedTab"]},TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:o})=>o("activationMode")==="automatic"},actions:{selectFocusedTab({context:o,prop:i}){raf$1(()=>{const s=o.get("focusedValue");if(!s)return;const $=i("deselectable")&&o.get("value")===s?null:s;o.set("value",$)})},setFocusedValue({context:o,event:i,flush:s}){i.value!=null&&s(()=>{o.set("focusedValue",i.value)})},clearFocusedValue({context:o}){o.set("focusedValue",null)},setValue({context:o,event:i,prop:s}){const a=s("deselectable")&&o.get("value")===o.get("focusedValue");o.set("value",a?null:i.value)},clearValue({context:o}){o.set("value",null)},focusFirstTab({scope:o}){raf$1(()=>{var i;(i=getFirstTriggerEl(o))==null||i.focus()})},focusLastTab({scope:o}){raf$1(()=>{var i;(i=getLastTriggerEl(o))==null||i.focus()})},focusNextTab({context:o,prop:i,scope:s,event:a}){const $=a.value??o.get("focusedValue");if(!$)return;const j=getNextTriggerEl(s,{value:$,loopFocus:i("loopFocus")});raf$1(()=>{i("composite")?j==null||j.focus():(j==null?void 0:j.dataset.value)!=null&&o.set("focusedValue",j.dataset.value)})},focusPrevTab({context:o,prop:i,scope:s,event:a}){const $=a.value??o.get("focusedValue");if(!$)return;const j=getPrevTriggerEl(s,{value:$,loopFocus:i("loopFocus")});raf$1(()=>{i("composite")?j==null||j.focus():(j==null?void 0:j.dataset.value)!=null&&o.set("focusedValue",j.dataset.value)})},syncTabIndex({context:o,scope:i}){raf$1(()=>{const s=o.get("value");if(!s)return;const a=getContentEl(i,s);if(!a)return;getFocusables(a).length>0?a.removeAttribute("tabindex"):a.setAttribute("tabindex","0")})},cleanupObserver({refs:o}){const i=o.get("indicatorCleanup");i&&i()},allowIndicatorTransition({context:o}){o.set("indicatorTransition",!0)},setIndicatorRect({context:o,event:i,scope:s}){const a=i.id??o.get("value");if(!getIndicatorEl(s))return;if(!a){o.set("indicatorTransition",!1);return}getTriggerEl$1(s,a)&&(o.set("indicatorRect",getRectById(s,a)),nextTick(()=>{o.set("indicatorTransition",!1)}))},syncSsr({context:o}){o.set("ssr",!1)},syncIndicatorRect({context:o,refs:i,scope:s}){const a=i.get("indicatorCleanup");a&&a();const $=o.get("value");if(!$){o.set("indicatorTransition",!1);return}const j=getTriggerEl$1(s,$),et=getIndicatorEl(s);if(!j||!et)return;const rt=trackElementRect([j],{measure(st){return getOffsetRect(st)},onEntry({rects:st}){const[it]=st;o.set("indicatorRect",resolveRect(it))}});i.set("indicatorCleanup",rt)},navigateIfNeeded({context:o,prop:i,scope:s}){var j;const a=o.get("value");if(!a)return;const $=getTriggerEl$1(s,a);isAnchorElement($)&&((j=i("navigate"))==null||j({value:a,node:$}))}}}};createProps$1()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]);createProps$1()(["disabled","value"]);createProps$1()(["value"]);const useTabs=o=>{const i=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),$={id:i,dir:a,getRootNode:s,...o},j=useMachine(machine$2,$);return connect$2(j,normalizeProps)},TabsRoot$1=reactExports.forwardRef((o,i)=>{const[s,a]=splitRenderStrategyProps(o),[$,j]=createSplitProps()(a,["activationMode","composite","defaultValue","deselectable","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value"]),et=useTabs($),rt=mergeProps(et.getRootProps(),j);return jsxRuntimeExports.jsx(TabsProvider,{value:et,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:s,children:jsxRuntimeExports.jsx(ark.div,{...rt,ref:i})})})});TabsRoot$1.displayName="TabsRoot";const TabsRootProvider=reactExports.forwardRef((o,i)=>{const[s,a]=splitRenderStrategyProps(o),[{value:$},j]=createSplitProps()(a,["value"]),et=mergeProps($.getRootProps(),j);return jsxRuntimeExports.jsx(TabsProvider,{value:$,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:s,children:jsxRuntimeExports.jsx(ark.div,{...et,ref:i})})})});TabsRootProvider.displayName="TabsRootProvider";var anatomy$1=createAnatomy("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),parts$1=anatomy$1.build(),getRegionId=o=>`toast-group:${o}`,getRegionEl=(o,i)=>o.getById(`toast-group:${i}`),getRootId=o=>`toast:${o.id}`,getRootEl=o=>o.getById(getRootId(o)),getTitleId=o=>`toast:${o.id}:title`,getDescriptionId=o=>`toast:${o.id}:description`,getCloseTriggerId=o=>`toast${o.id}:close`,defaultTimeouts={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function getToastDuration(o,i){return o??defaultTimeouts[i]??defaultTimeouts.DEFAULT}var getOffsets=o=>typeof o=="string"?{left:o,right:o,bottom:o,top:o}:o;function getGroupPlacementStyle(o,i){var lt;const{prop:s,computed:a,context:$}=o,{offsets:j,gap:et}=s("store").attrs,rt=$.get("heights"),st=getOffsets(j),it=s("dir")==="rtl",ot=i.replace("-start",it?"-right":"-left").replace("-end",it?"-left":"-right"),tt=ot.includes("right"),_e=ot.includes("left"),nt={position:"fixed",pointerEvents:a("count")>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${et}px`,"--first-height":`${((lt=rt[0])==null?void 0:lt.height)||0}px`,zIndex:MAX_Z_INDEX};let at="center";if(tt&&(at="flex-end"),_e&&(at="flex-start"),nt.alignItems=at,ot.includes("top")){const ut=st.top;nt.top=`max(env(safe-area-inset-top, 0px), ${ut})`}if(ot.includes("bottom")){const ut=st.bottom;nt.bottom=`max(env(safe-area-inset-bottom, 0px), ${ut})`}if(!ot.includes("left")){const ut=st.right;nt.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${ut})`}if(!ot.includes("right")){const ut=st.left;nt.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${ut})`}return nt}function getPlacementStyle(o,i){const{prop:s,context:a,computed:$}=o,j=s("parent"),et=j.computed("placement"),{gap:rt}=j.prop("store").attrs,[st]=et.split("-"),it=a.get("mounted"),ot=a.get("remainingTime"),tt=$("height"),_e=$("frontmost"),nt=!_e,at=!s("stacked"),lt=s("stacked"),ct=s("type")==="loading"?Number.MAX_SAFE_INTEGER:ot,dt=$("heightIndex")*rt+$("heightBefore"),ft={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${s("removeDelay")}ms`,"--duration":`${ct}ms`,"--initial-height":`${tt}px`,"--offset":`${dt}px`,"--index":s("index"),"--z-index":$("zIndex"),"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},ht=gt=>Object.assign(ft,gt);return st==="top"?ht({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):st==="bottom"&&ht({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),it&&(ht({"--y":"0","--opacity":"1"}),lt&&ht({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),i||ht({"--opacity":"0",pointerEvents:"none"}),nt&&at&&(ht({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),i||ht({"--y":"calc(var(--sign) * 40%)"})),nt&&lt&&!i&&ht({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),_e&&!i&&ht({"--y":"calc(var(--lift) * -100%)"}),ft}function getGhostBeforeStyle(o,i){const{computed:s}=o,a={position:"absolute",inset:"0",scale:"1 2",pointerEvents:i?"none":"auto"},$=j=>Object.assign(a,j);return s("frontmost")&&!i&&$({height:"calc(var(--initial-height) + 80%)"}),a}function getGhostAfterStyle(){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function groupConnect(o,i){const{context:s,prop:a,send:$,refs:j,computed:et}=o;return{getCount(){return s.get("toasts").length},getToasts(){return s.get("toasts")},getGroupProps(rt={}){const{label:st="Notifications"}=rt,{hotkey:it}=a("store").attrs,ot=it.join("+").replace(/Key/g,"").replace(/Digit/g,""),tt=et("placement"),[_e,nt="center"]=tt.split("-");return i.element({...parts$1.group.attrs,dir:a("dir"),tabIndex:-1,"aria-label":`${tt} ${st} ${ot}`,id:getRegionId(tt),"data-placement":tt,"data-side":_e,"data-align":nt,"aria-live":"polite",role:"region",style:getGroupPlacementStyle(o,tt),onMouseMove(){$({type:"REGION.POINTER_ENTER",placement:tt})},onMouseLeave(){$({type:"REGION.POINTER_LEAVE",placement:tt})},onFocus(at){$({type:"REGION.FOCUS",target:at.relatedTarget})},onBlur(at){j.get("isFocusWithin")&&!contains(at.currentTarget,at.relatedTarget)&&queueMicrotask(()=>$({type:"REGION.BLUR"}))}})},subscribe(rt){return a("store").subscribe(()=>rt(s.get("toasts")))}}}var groupMachine={props({props:o}){return{dir:"ltr",id:uuid(),...o,store:o.store}},initialState({prop:o}){return o("store").attrs.overlap?"overlap":"stack"},refs(){return{lastFocusedEl:null,isFocusWithin:!1,dismissableCleanup:void 0}},context({bindable:o}){return{toasts:o(()=>({defaultValue:[],sync:!0,hash:i=>i.map(s=>s.id).join(",")})),heights:o(()=>({defaultValue:[],sync:!0}))}},computed:{count:({context:o})=>o.get("toasts").length,overlap:({prop:o})=>o("store").attrs.overlap,placement:({prop:o})=>o("store").attrs.placement},effects:["subscribeToStore","trackDocumentVisibility","trackHotKeyPress"],watch({track:o,context:i,action:s}){o([()=>i.hash("toasts")],()=>{queueMicrotask(()=>{s(["collapsedIfEmpty","setDismissableBranch"])})})},exit:["clearDismissableBranch","clearLastFocusedEl"],on:{"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["collapseToasts","resumeToasts","restoreLastFocusedEl"]},{target:"stack",actions:["resumeToasts","restoreLastFocusedEl"]}],"TOAST.REMOVE":{actions:["removeToast","removeHeight"]},"TOAST.PAUSE":{actions:["pauseToasts"]}},states:{stack:{on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","collapseToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap",actions:["collapseToasts"]},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{on:{"REGION.STACK":{target:"stack",actions:["expandToasts"]},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts","expandToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts","expandToasts"]}}}},implementations:{guards:{isOverlapping:({computed:o})=>o("overlap")},effects:{subscribeToStore({context:o,prop:i}){return i("store").subscribe(s=>{if(s.dismiss){o.set("toasts",a=>a.filter($=>$.id!==s.id));return}o.set("toasts",a=>{const $=a.findIndex(j=>j.id===s.id);return $!==-1?[...a.slice(0,$),{...a[$],...s},...a.slice($+1)]:[s,...a]})})},trackHotKeyPress({prop:o,send:i}){return addDomEvent(document,"keydown",a=>{const{hotkey:$}=o("store").attrs;$.every(et=>a[et]||a.code===et)&&i({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility({prop:o,send:i,scope:s}){const{pauseOnPageIdle:a}=o("store").attrs;if(!a)return;const $=s.getDoc();return addDomEvent($,"visibilitychange",()=>{const j=$.visibilityState==="hidden";i({type:j?"PAUSE_ALL":"RESUME_ALL"})})}},actions:{setDismissableBranch({refs:o,context:i,computed:s,scope:a}){var it;const $=i.get("toasts"),j=s("placement"),et=$.length>0;if(!et){(it=o.get("dismissableCleanup"))==null||it();return}if(et&&o.get("dismissableCleanup"))return;const st=trackDismissableBranch(()=>getRegionEl(a,j),{defer:!0});o.set("dismissableCleanup",st)},clearDismissableBranch({refs:o}){var i;(i=o.get("dismissableCleanup"))==null||i()},focusRegionEl({scope:o,computed:i}){queueMicrotask(()=>{var s;(s=getRegionEl(o,i("placement")))==null||s.focus()})},pauseToasts({prop:o}){o("store").pause()},resumeToasts({prop:o}){o("store").resume()},expandToasts({prop:o}){o("store").expand()},collapseToasts({prop:o}){o("store").collapse()},removeToast({prop:o,event:i}){o("store").remove(i.id)},removeHeight({event:o,context:i}){(o==null?void 0:o.id)!=null&&queueMicrotask(()=>{i.set("heights",s=>s.filter(a=>a.id!==o.id))})},collapsedIfEmpty({send:o,computed:i}){!i("overlap")||i("count")>1||o({type:"REGION.OVERLAP"})},setLastFocusedEl({refs:o,event:i}){o.get("isFocusWithin")||!i.target||(o.set("isFocusWithin",!0),o.set("lastFocusedEl",i.target))},restoreLastFocusedEl({refs:o}){var i;o.get("lastFocusedEl")&&((i=o.get("lastFocusedEl"))==null||i.focus({preventScroll:!0}),o.set("lastFocusedEl",null),o.set("isFocusWithin",!1))},clearLastFocusedEl({refs:o}){var i;o.get("lastFocusedEl")&&((i=o.get("lastFocusedEl"))==null||i.focus({preventScroll:!0}),o.set("lastFocusedEl",null),o.set("isFocusWithin",!1))}}}};function connect$1(o,i){const{state:s,send:a,prop:$,scope:j,context:et,computed:rt}=o,st=s.hasTag("visible"),it=s.hasTag("paused"),ot=et.get("mounted"),tt=rt("frontmost"),_e=$("parent").computed("placement"),nt=$("type"),at=$("stacked"),lt=$("title"),ut=$("description"),ct=$("action"),[dt,ft="center"]=_e.split("-");return{type:nt,title:lt,description:ut,placement:_e,visible:st,paused:it,closable:!!$("closable"),pause(){a({type:"PAUSE"})},resume(){a({type:"RESUME"})},dismiss(){a({type:"DISMISS",src:"programmatic"})},getRootProps(){return i.element({...parts$1.root.attrs,dir:$("dir"),id:getRootId(j),"data-state":st?"open":"closed","data-type":nt,"data-placement":_e,"data-align":ft,"data-side":dt,"data-mounted":dataAttr$1(ot),"data-paused":dataAttr$1(it),"data-first":dataAttr$1(tt),"data-sibling":dataAttr$1(!tt),"data-stack":dataAttr$1(at),"data-overlap":dataAttr$1(!at),role:"status","aria-atomic":"true","aria-describedby":ut?getDescriptionId(j):void 0,"aria-labelledby":lt?getTitleId(j):void 0,tabIndex:0,style:getPlacementStyle(o,st),onKeyDown(ht){ht.defaultPrevented||ht.key=="Escape"&&(a({type:"DISMISS",src:"keyboard"}),ht.preventDefault())}})},getGhostBeforeProps(){return i.element({"data-ghost":"before",style:getGhostBeforeStyle(o,st)})},getGhostAfterProps(){return i.element({"data-ghost":"after",style:getGhostAfterStyle()})},getTitleProps(){return i.element({...parts$1.title.attrs,id:getTitleId(j)})},getDescriptionProps(){return i.element({...parts$1.description.attrs,id:getDescriptionId(j)})},getActionTriggerProps(){return i.button({...parts$1.actionTrigger.attrs,type:"button",onClick(ht){var gt;ht.defaultPrevented||((gt=ct==null?void 0:ct.onClick)==null||gt.call(ct),a({type:"DISMISS",src:"user"}))}})},getCloseTriggerProps(){return i.button({id:getCloseTriggerId(j),...parts$1.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(ht){ht.defaultPrevented||a({type:"DISMISS",src:"user"})}})}}}var{not:not$1}=createGuards(),machine$1={props({props:o}){return ensureProps(o,["id","type","parent","removeDelay"],"toast"),{closable:!0,...o,duration:getToastDuration(o.duration,o.type)}},initialState({prop:o}){return o("type")==="loading"||o("duration")===1/0?"visible:persist":"visible"},context({prop:o,bindable:i}){return{remainingTime:i(()=>({defaultValue:getToastDuration(o("duration"),o("type"))})),createdAt:i(()=>({defaultValue:Date.now()})),mounted:i(()=>({defaultValue:!1})),initialHeight:i(()=>({defaultValue:0}))}},refs(){return{closeTimerStartTime:Date.now(),lastCloseStartTimerStartTime:0}},computed:{zIndex:({prop:o})=>{const i=o("parent").context.get("toasts"),s=i.findIndex(a=>a.id===o("id"));return i.length-s},height:({prop:o})=>{const s=o("parent").context.get("heights").find(a=>a.id===o("id"));return(s==null?void 0:s.height)??0},heightIndex:({prop:o})=>o("parent").context.get("heights").findIndex(s=>s.id===o("id")),frontmost:({prop:o})=>o("index")===0,heightBefore:({prop:o})=>{const i=o("parent").context.get("heights"),s=i.findIndex(a=>a.id===o("id"));return i.reduce((a,$,j)=>j>=s?a:a+$.height,0)},shouldPersist:({prop:o})=>o("type")==="loading"||o("duration")===1/0},watch({track:o,prop:i,send:s}){o([()=>i("message")],()=>{const a=i("message");a&&s({type:a,src:"programmatic"})}),o([()=>i("type"),()=>i("duration")],()=>{s({type:"UPDATE"})})},on:{UPDATE:[{guard:"shouldPersist",target:"visible:persist",actions:["resetCloseTimer"]},{target:"visible:updating",actions:["resetCloseTimer"]}],MEASURE:{actions:["measureHeight"]}},entry:["setMounted","measureHeight","invokeOnVisible"],effects:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],effects:["waitForNextTick"],on:{SHOW:{target:"visible"}}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:not$1("isLoadingType"),target:"visible",actions:["setCloseTimer"]},DISMISS:{target:"dismissing"}}},visible:{tags:["visible"],effects:["waitForDuration"],on:{DISMISS:{target:"dismissing"},PAUSE:{target:"visible:persist",actions:["syncRemainingTime"]}}},dismissing:{entry:["invokeOnDismiss"],effects:["waitForRemoveDelay"],on:{REMOVE:{target:"unmounted",actions:["notifyParentToRemove"]}}},unmounted:{entry:["invokeOnUnmount"]}},implementations:{effects:{waitForRemoveDelay({prop:o,send:i}){return setRafTimeout(()=>{i({type:"REMOVE",src:"timer"})},o("removeDelay"))},waitForDuration({send:o,context:i,computed:s}){if(!s("shouldPersist"))return setRafTimeout(()=>{o({type:"DISMISS",src:"timer"})},i.get("remainingTime"))},waitForNextTick({send:o}){return setRafTimeout(()=>{o({type:"SHOW",src:"timer"})},0)},trackHeight({scope:o,prop:i}){let s;return raf$1(()=>{const a=getRootEl(o);if(!a)return;const $=()=>{const rt=a.style.height;a.style.height="auto";const st=a.getBoundingClientRect().height;a.style.height=rt;const it={id:i("id"),height:st};setHeight(i("parent"),it)},j=o.getWin(),et=new j.MutationObserver($);et.observe(a,{childList:!0,subtree:!0,characterData:!0}),s=()=>et.disconnect()}),()=>s==null?void 0:s()}},guards:{isLoadingType:({prop:o})=>o("type")==="loading",shouldPersist:({computed:o})=>o("shouldPersist")},actions:{setMounted({context:o}){raf$1(()=>{o.set("mounted",!0)})},measureHeight({scope:o,prop:i,context:s}){queueMicrotask(()=>{const a=getRootEl(o);if(!a)return;const $=a.style.height;a.style.height="auto";const j=a.getBoundingClientRect().height;a.style.height=$,s.set("initialHeight",j);const et={id:i("id"),height:j};setHeight(i("parent"),et)})},setCloseTimer({refs:o}){o.set("closeTimerStartTime",Date.now())},resetCloseTimer({context:o,refs:i,prop:s}){i.set("closeTimerStartTime",Date.now()),o.set("remainingTime",getToastDuration(s("duration"),s("type")))},syncRemainingTime({context:o,refs:i}){o.set("remainingTime",s=>{const a=i.get("closeTimerStartTime"),$=Date.now()-a;return i.set("lastCloseStartTimerStartTime",Date.now()),s-$})},notifyParentToRemove({prop:o}){o("parent").send({type:"TOAST.REMOVE",id:o("id")})},invokeOnDismiss({prop:o,event:i}){var s;(s=o("onStatusChange"))==null||s({status:"dismissing",src:i.src})},invokeOnUnmount({prop:o}){var i;(i=o("onStatusChange"))==null||i({status:"unmounted"})},invokeOnVisible({prop:o}){var i;(i=o("onStatusChange"))==null||i({status:"visible"})}}}};function setHeight(o,i){const{id:s,height:a}=i;o.context.set("heights",$=>$.find(et=>et.id===s)?$.map(et=>et.id===s?{...et,height:a}:et):[{id:s,height:a},...$])}var withDefaults=(o,i)=>({...i,...compact(o)});function createToastStore(o){const i=withDefaults(o,{placement:"bottom",overlap:!1,max:24,gap:16,offsets:"1rem",hotkey:["altKey","KeyT"],removeDelay:200,pauseOnPageIdle:!0});let s=[],a=[],$=new Set;const j=xt=>(s.push(xt),()=>{const wt=s.indexOf(xt);s.splice(wt,1)}),et=xt=>(s.forEach(wt=>wt(xt)),xt),rt=xt=>{a.length>=i.max||(et(xt),a.unshift(xt))},st=xt=>{const wt=xt.id??`toast:${uuid()}`,Ct=a.find(kt=>kt.id===wt);return $.has(wt)&&$.delete(wt),Ct?a=a.map(kt=>kt.id===wt?et({...kt,...xt,id:wt}):kt):rt({id:wt,duration:i.duration,removeDelay:i.removeDelay,type:"info",...xt,stacked:!i.overlap,gap:i.gap}),wt},it=xt=>($.add(xt),xt?(s.forEach(wt=>wt({id:xt,dismiss:!0})),a=a.filter(wt=>wt.id!==xt)):(a.forEach(wt=>{s.forEach(Ct=>Ct({id:wt.id,dismiss:!0}))}),a=[]),xt);return{attrs:i,subscribe:j,create:st,update:(xt,wt)=>st({id:xt,...wt}),remove:it,dismiss:xt=>{xt!=null?a=a.map(wt=>wt.id===xt?et({...wt,message:"DISMISS"}):wt):a=a.map(wt=>et({...wt,message:"DISMISS"}))},error:xt=>st({...xt,type:"error"}),success:xt=>st({...xt,type:"success"}),info:xt=>st({...xt,type:"info"}),warning:xt=>st({...xt,type:"warning"}),loading:xt=>st({...xt,type:"loading"}),getVisibleToasts:()=>a.filter(xt=>!$.has(xt.id)),getCount:()=>a.length,promise:(xt,wt,Ct={})=>{if(!wt)return;let kt;wt.loading!==void 0&&(kt=st({...Ct,...wt.loading,promise:xt,type:"loading"}));let It=kt!==void 0,Pt;const St=runIfFn(xt).then(async At=>{if(Pt=["resolve",At],isHttpResponse(At)&&!At.ok){It=!1;const $t=runIfFn(wt.error,`HTTP Error! status: ${At.status}`);st({...Ct,...$t,id:kt,type:"error"})}else if(wt.success!==void 0){It=!1;const $t=runIfFn(wt.success,At);st({...Ct,...$t,id:kt,type:"success"})}}).catch(async At=>{if(Pt=["reject",At],wt.error!==void 0){It=!1;const $t=runIfFn(wt.error,At);st({...Ct,...$t,id:kt,type:"error"})}}).finally(()=>{var At;It&&(it(kt),kt=void 0),(At=wt.finally)==null||At.call(wt)});return{id:kt,unwrap:()=>new Promise((At,$t)=>St.then(()=>Pt[0]==="reject"?$t(Pt[1]):At(Pt[1])).catch($t))}},pause:xt=>{xt!=null?a=a.map(wt=>wt.id===xt?et({...wt,message:"PAUSE"}):wt):a=a.map(wt=>et({...wt,message:"PAUSE"}))},resume:xt=>{xt!=null?a=a.map(wt=>wt.id===xt?et({...wt,message:"RESUME"}):wt):a=a.map(wt=>et({...wt,message:"RESUME"}))},isVisible:xt=>!$.has(xt)&&!!a.find(wt=>wt.id===xt),isDismissed:xt=>$.has(xt),expand:()=>{a=a.map(xt=>et({...xt,stacked:!0}))},collapse:()=>{a=a.map(xt=>et({...xt,stacked:!1}))}}}var isHttpResponse=o=>o&&typeof o=="object"&&"ok"in o&&typeof o.ok=="boolean"&&"status"in o&&typeof o.status=="number",group$2={connect:groupConnect,machine:groupMachine};const createToaster=o=>createToastStore(o),[ToastProvider,useToastContext]=createContext({name:"ToastContext",hookName:"useToastContext",providerName:"<ToastProvider />"}),ToastActionTrigger$1=reactExports.forwardRef((o,i)=>{const s=useToastContext(),a=mergeProps(s.getActionTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});ToastActionTrigger$1.displayName="ToastActionTrigger";const ToastCloseTrigger$1=reactExports.forwardRef((o,i)=>{const s=useToastContext(),a=mergeProps(s.getCloseTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});ToastCloseTrigger$1.displayName="ToastCloseTrigger";const ToastDescription$1=reactExports.forwardRef((o,i)=>{const s=useToastContext(),a=mergeProps(s.getDescriptionProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});ToastDescription$1.displayName="ToastDescription";const ToastRoot$1=reactExports.forwardRef((o,i)=>{const s=useToastContext(),a=mergeProps(s.getRootProps(),o);return jsxRuntimeExports.jsxs("div",{...a,ref:i,children:[jsxRuntimeExports.jsx("div",{...s.getGhostBeforeProps()}),o.children,jsxRuntimeExports.jsx("div",{...s.getGhostAfterProps()})]})});ToastRoot$1.displayName="ToastRoot";const ToastTitle$1=reactExports.forwardRef((o,i)=>{const s=useToastContext(),a=mergeProps(s.getTitleProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});ToastTitle$1.displayName="ToastTitle";const Toaster$2=reactExports.forwardRef((o,i)=>{const{toaster:s,children:a,...$}=o,j=useLocaleContext(),et=useEnvironmentContext(),rt=useMachine(group$2.machine,{store:s,id:reactExports.useId(),dir:j==null?void 0:j.dir,getRootNode:et==null?void 0:et.getRootNode}),st=group$2.connect(rt,normalizeProps),it=mergeProps(st.getGroupProps(),$);return jsxRuntimeExports.jsx(ark.div,{...it,ref:i,children:st.getToasts().map((ot,tt)=>jsxRuntimeExports.jsx(ToastActor,{value:ot,parent:rt,index:tt,children:_e=>a(_e)},ot.id))})});Toaster$2.displayName="Toaster";const ToastActor=o=>{const i={...o.value,parent:o.parent,index:o.index},s=useMachine(machine$1,{...i}),a=connect$1(s,normalizeProps);return jsxRuntimeExports.jsx(ToastProvider,{value:a,children:o.children(o.value)})};ToastActor.displayName="ToastActor";const[TooltipProvider,useTooltipContext]=createContext({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),TooltipArrow$1=reactExports.forwardRef((o,i)=>{const s=useTooltipContext(),a=mergeProps(s.getArrowProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});TooltipArrow$1.displayName="TooltipArrow";const TooltipArrowTip$1=reactExports.forwardRef((o,i)=>{const s=useTooltipContext(),a=mergeProps(s.getArrowTipProps(),o);return jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});TooltipArrowTip$1.displayName="TooltipArrowTip";const TooltipContent$1=reactExports.forwardRef((o,i)=>{const s=useTooltipContext(),a=usePresenceContext(),$=mergeProps(s.getContentProps(),a.getPresenceProps(),o);return a.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...$,ref:composeRefs(a.ref,i)})});TooltipContent$1.displayName="TooltipContent";const TooltipPositioner$1=reactExports.forwardRef((o,i)=>{const s=useTooltipContext(),a=mergeProps(s.getPositionerProps(),o);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...a,ref:i})});TooltipPositioner$1.displayName="TooltipPositioner";const GET_ORIGINAL_SYMBOL=Symbol(),getProto=Object.getPrototypeOf,objectsToTrack=new WeakMap,isObjectToTrack=o=>o&&(objectsToTrack.has(o)?objectsToTrack.get(o):getProto(o)===Object.prototype||getProto(o)===Array.prototype),getUntracked=o=>isObjectToTrack(o)&&o[GET_ORIGINAL_SYMBOL]||null,markToTrack=(o,i=!0)=>{objectsToTrack.set(o,i)};function glob(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function globalRef(o,i){const s=glob();return s?(s[o]||(s[o]=i()),s[o]):i()}var refSet=globalRef("__zag__refSet",()=>new WeakSet),isReactElement=o=>typeof o=="object"&&o!==null&&"$$typeof"in o&&"props"in o,isVueElement=o=>typeof o=="object"&&o!==null&&"__v_isVNode"in o,isDOMElement=o=>typeof o=="object"&&o!==null&&"nodeType"in o&&typeof o.nodeName=="string",isElement=o=>isReactElement(o)||isVueElement(o)||isDOMElement(o),isObject$1=o=>o!==null&&typeof o=="object",canProxy=o=>isObject$1(o)&&!refSet.has(o)&&(Array.isArray(o)||!(Symbol.iterator in o))&&!isElement(o)&&!(o instanceof WeakMap)&&!(o instanceof WeakSet)&&!(o instanceof Error)&&!(o instanceof Number)&&!(o instanceof Date)&&!(o instanceof String)&&!(o instanceof RegExp)&&!(o instanceof ArrayBuffer)&&!(o instanceof Promise),proxyStateMap=globalRef("__zag__proxyStateMap",()=>new WeakMap),buildProxyFunction=(o=Object.is,i=(rt,st)=>new Proxy(rt,st),s=new WeakMap,a=(rt,st)=>{const it=s.get(rt);if((it==null?void 0:it[0])===st)return it[1];const ot=Array.isArray(rt)?[]:Object.create(Object.getPrototypeOf(rt));return markToTrack(ot,!0),s.set(rt,[st,ot]),Reflect.ownKeys(rt).forEach(tt=>{const _e=Reflect.get(rt,tt);refSet.has(_e)?(markToTrack(_e,!1),ot[tt]=_e):proxyStateMap.has(_e)?ot[tt]=snapshot(_e):ot[tt]=_e}),Object.freeze(ot)},$=new WeakMap,j=[1,1],et=rt=>{if(!isObject$1(rt))throw new Error("object required");const st=$.get(rt);if(st)return st;let it=j[0];const ot=new Set,tt=(bt,vt=++j[0])=>{it!==vt&&(it=vt,ot.forEach(mt=>mt(bt,vt)))};let _e=j[1];const nt=(bt=++j[1])=>(_e!==bt&&!ot.size&&(_e=bt,lt.forEach(([vt])=>{const mt=vt[1](bt);mt>it&&(it=mt)})),it),at=bt=>(vt,mt)=>{const xt=[...vt];xt[1]=[bt,...xt[1]],tt(xt,mt)},lt=new Map,ut=(bt,vt)=>{if(ot.size){const mt=vt[3](at(bt));lt.set(bt,[vt,mt])}else lt.set(bt,[vt])},ct=bt=>{var mt;const vt=lt.get(bt);vt&&(lt.delete(bt),(mt=vt[1])==null||mt.call(vt))},dt=bt=>(ot.add(bt),ot.size===1&&lt.forEach(([mt,xt],wt)=>{const Ct=mt[3](at(wt));lt.set(wt,[mt,Ct])}),()=>{ot.delete(bt),ot.size===0&&lt.forEach(([mt,xt],wt)=>{xt&&(xt(),lt.set(wt,[mt]))})}),ft=Array.isArray(rt)?[]:Object.create(Object.getPrototypeOf(rt)),gt=i(ft,{deleteProperty(bt,vt){const mt=Reflect.get(bt,vt);ct(vt);const xt=Reflect.deleteProperty(bt,vt);return xt&&tt(["delete",[vt],mt]),xt},set(bt,vt,mt,xt){var It;const wt=Reflect.has(bt,vt),Ct=Reflect.get(bt,vt,xt);if(wt&&(o(Ct,mt)||$.has(mt)&&o(Ct,$.get(mt))))return!0;ct(vt),isObject$1(mt)&&(mt=getUntracked(mt)||mt);let kt=mt;if(!((It=Object.getOwnPropertyDescriptor(bt,vt))!=null&&It.set)){!proxyStateMap.has(mt)&&canProxy(mt)&&(kt=proxy(mt));const Pt=!refSet.has(kt)&&proxyStateMap.get(kt);Pt&&ut(vt,Pt)}return Reflect.set(bt,vt,kt,xt),tt(["set",[vt],mt,Ct]),!0}});$.set(rt,gt);const yt=[ft,nt,a,dt];return proxyStateMap.set(gt,yt),Reflect.ownKeys(rt).forEach(bt=>{const vt=Object.getOwnPropertyDescriptor(rt,bt);vt.get||vt.set?Object.defineProperty(ft,bt,vt):gt[bt]=rt[bt]}),gt})=>[et,proxyStateMap,refSet,o,i,canProxy,s,a,$,j],[proxyFunction]=buildProxyFunction();function proxy(o={}){return proxyFunction(o)}function subscribe(o,i,s){const a=proxyStateMap.get(o);let $;const j=[],et=a[3];let rt=!1;const it=et(ot=>{j.push(ot),$||($=Promise.resolve().then(()=>{$=void 0,rt&&i(j.splice(0))}))});return rt=!0,()=>{rt=!1,it()}}function snapshot(o){const i=proxyStateMap.get(o),[s,a,$]=i;return $(s,a())}var anatomy=createAnatomy("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),parts=anatomy.build(),getTriggerId=o=>{var i;return((i=o.ids)==null?void 0:i.trigger)??`tooltip:${o.id}:trigger`},getContentId=o=>{var i;return((i=o.ids)==null?void 0:i.content)??`tooltip:${o.id}:content`},getArrowId=o=>{var i;return((i=o.ids)==null?void 0:i.arrow)??`tooltip:${o.id}:arrow`},getPositionerId=o=>{var i;return((i=o.ids)==null?void 0:i.positioner)??`tooltip:${o.id}:popper`},getTriggerEl=o=>o.getById(getTriggerId(o)),getPositionerEl=o=>o.getById(getPositionerId(o)),store=proxy({id:null});function connect(o,i){const{state:s,context:a,send:$,scope:j,prop:et,event:rt}=o,st=et("id"),it=!!et("aria-label"),ot=s.matches("open","closing"),tt=getTriggerId(j),_e=getContentId(j),nt=et("disabled"),at=getPlacementStyles({...et("positioning"),placement:a.get("currentPlacement")});return{open:ot,setOpen(lt){s.matches("open","closing")!==lt&&$({type:lt?"open":"close"})},reposition(lt={}){$({type:"positioning.set",options:lt})},getTriggerProps(){return i.button({...parts.trigger.attrs,id:tt,dir:et("dir"),"data-expanded":dataAttr$1(ot),"data-state":ot?"open":"closed","aria-describedby":ot?_e:void 0,onClick(lt){lt.defaultPrevented||nt||et("closeOnClick")&&$({type:"close",src:"trigger.click"})},onFocus(lt){queueMicrotask(()=>{lt.defaultPrevented||nt||rt.src!=="trigger.pointerdown"&&isFocusVisible()&&$({type:"open",src:"trigger.focus"})})},onBlur(lt){lt.defaultPrevented||nt||st===store.id&&$({type:"close",src:"trigger.blur"})},onPointerDown(lt){lt.defaultPrevented||nt||et("closeOnPointerDown")&&st===store.id&&$({type:"close",src:"trigger.pointerdown"})},onPointerMove(lt){lt.defaultPrevented||nt||lt.pointerType!=="touch"&&$({type:"pointer.move"})},onPointerLeave(){nt||$({type:"pointer.leave"})},onPointerCancel(){nt||$({type:"pointer.leave"})}})},getArrowProps(){return i.element({id:getArrowId(j),...parts.arrow.attrs,dir:et("dir"),style:at.arrow})},getArrowTipProps(){return i.element({...parts.arrowTip.attrs,dir:et("dir"),style:at.arrowTip})},getPositionerProps(){return i.element({id:getPositionerId(j),...parts.positioner.attrs,dir:et("dir"),style:at.floating})},getContentProps(){return i.element({...parts.content.attrs,dir:et("dir"),hidden:!ot,"data-state":ot?"open":"closed",role:it?void 0:"tooltip",id:it?void 0:_e,"data-placement":a.get("currentPlacement"),onPointerEnter(){$({type:"content.pointer.move"})},onPointerLeave(){$({type:"content.pointer.leave"})},style:{pointerEvents:et("interactive")?"auto":"none"}})}}}var{and,not}=createGuards(),machine={initialState:({prop:o})=>o("open")||o("defaultOpen")?"open":"closed",props({props:o}){return{id:"x",openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,disabled:!1,...o,positioning:{placement:"bottom",...o.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:o})=>({currentPlacement:o(()=>({defaultValue:void 0})),hasPointerMoveOpened:o(()=>({defaultValue:!1}))}),watch({track:o,action:i,prop:s}){o([()=>s("disabled")],()=>{i(["closeIfDisabled"])}),o([()=>s("open")],()=>{i(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:and("noVisibleTooltip",not("hasPointerMoveOpened")),target:"opening"},{guard:not("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>store.id===null,isVisible:({prop:o})=>o("id")===store.id,isInteractive:({prop:o})=>!!o("interactive"),hasPointerMoveOpened:({context:o})=>o.get("hasPointerMoveOpened"),isOpenControlled:({prop:o})=>o("open")!==void 0},actions:{setGlobalId:({prop:o})=>{store.id=o("id")},clearGlobalId:({prop:o})=>{o("id")===store.id&&(store.id=null)},invokeOnOpen:({prop:o})=>{var i;(i=o("onOpenChange"))==null||i({open:!0})},invokeOnClose:({prop:o})=>{var i;(i=o("onOpenChange"))==null||i({open:!1})},closeIfDisabled:({prop:o,send:i})=>{o("disabled")&&i({type:"close",src:"disabled.change"})},reposition:({context:o,event:i,prop:s,scope:a})=>{if(i.type!=="positioning.set")return;const $=()=>getPositionerEl(a);return getPlacement(getTriggerEl(a),$,{...s("positioning"),...i.options,defer:!0,listeners:!1,onComplete(j){o.set("currentPlacement",j.placement)}})},toggleVisibility:({prop:o,event:i,send:s})=>{queueMicrotask(()=>{s({type:o("open")?"controlled.open":"controlled.close",previousEvent:i})})},setPointerMoveOpened:({context:o})=>{o.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:o})=>{o.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:o})=>{var i;return trackFocusVisible({root:(i=o.getRootNode)==null?void 0:i.call(o)})},trackPositioning:({context:o,prop:i,scope:s})=>{o.get("currentPlacement")||o.set("currentPlacement",i("positioning").placement);const a=()=>getPositionerEl(s);return getPlacement(getTriggerEl(s),a,{...i("positioning"),defer:!0,onComplete($){o.set("currentPlacement",$.placement)}})},trackPointerlockChange:({send:o,scope:i})=>{const s=i.getDoc();return addDomEvent(s,"pointerlockchange",()=>o({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:o,prop:i,scope:s})=>{if(!i("closeOnScroll"))return;const a=getTriggerEl(s);if(!a)return;const j=getOverflowAncestors$1(a).map(et=>addDomEvent(et,"scroll",()=>{o({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{j.forEach(et=>et==null?void 0:et())}},trackStore:({prop:o,send:i})=>{let s;return queueMicrotask(()=>{s=subscribe(store,()=>{store.id!==o("id")&&i({type:"close",src:"id.change"})})}),()=>s==null?void 0:s()},trackEscapeKey:({send:o,prop:i})=>i("closeOnEscape")?addDomEvent(document,"keydown",a=>{isComposingEvent(a)||a.key==="Escape"&&(a.stopPropagation(),o({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:o,prop:i})=>{const s=setTimeout(()=>{o({type:"after.openDelay"})},i("openDelay"));return()=>clearTimeout(s)},waitForCloseDelay:({send:o,prop:i})=>{const s=setTimeout(()=>{o({type:"after.closeDelay"})},i("closeDelay"));return()=>clearTimeout(s)}}}};createProps$1()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const useTooltip=o=>{const i=reactExports.useId(),{getRootNode:s}=useEnvironmentContext(),{dir:a}=useLocaleContext(),$={id:i,dir:a,getRootNode:s,...o},j=useMachine(machine,$);return connect(j,normalizeProps)},TooltipRoot$1=o=>{const[i,{children:s,...a}]=splitPresenceProps(o),$=useTooltip(a),j=usePresence(mergeProps({present:$.open},i));return jsxRuntimeExports.jsx(TooltipProvider,{value:$,children:jsxRuntimeExports.jsx(PresenceProvider,{value:j,children:s})})},TooltipRootProvider=o=>{const[i,{value:s,children:a}]=splitPresenceProps(o),$=usePresence(mergeProps({present:s.open},i));return jsxRuntimeExports.jsx(TooltipProvider,{value:s,children:jsxRuntimeExports.jsx(PresenceProvider,{value:$,children:a})})},TooltipTrigger$1=reactExports.forwardRef((o,i)=>{const s=useTooltipContext(),a=mergeProps(s.getTriggerProps(),o);return jsxRuntimeExports.jsx(ark.button,{...a,ref:i})});TooltipTrigger$1.displayName="TooltipTrigger";function omit(o,i=[]){const s=Object.assign({},o);for(const a of i)a in s&&delete s[a];return s}const colorMix=(o,i)=>{var st;if(!o||typeof o!="string")return{invalid:!0,value:o};const[s,a]=o.split("/");if(!s||!a||s==="currentBg")return{invalid:!0,value:s};const $=i(`colors.${s}`),j=(st=i.raw(`opacity.${a}`))==null?void 0:st.value;if(!j&&isNaN(Number(a)))return{invalid:!0,value:s};const et=j?Number(j)*100+"%":`${a}%`,rt=$??s;return{invalid:!1,color:rt,value:`color-mix(in srgb, ${rt} ${et}, transparent)`}},createColorMixTransform=o=>(i,s)=>{const a=s.utils.colorMix(i);if(a.invalid)return{[o]:i};const $="--mix-"+o;return{[$]:a.value,[o]:`var(${$}, ${a.color})`}};function clone(o){if(o===null||typeof o!="object")return o;if(Array.isArray(o))return o.map(s=>clone(s));const i=Object.create(Object.getPrototypeOf(o));for(const s of Object.keys(o))i[s]=clone(o[s]);return i}function merge(o,i){if(i==null)return o;for(const s of Object.keys(i))if(!(i[s]===void 0||s==="__proto__"))if(!isObject$4(o[s])&&isObject$4(i[s]))Object.assign(o,{[s]:i[s]});else if(o[s]&&isObject$4(i[s]))merge(o[s],i[s]);else if(Array.isArray(i[s])&&Array.isArray(o[s])){let a=0;for(;a<i[s].length;a++)isObject$4(o[s][a])&&isObject$4(i[s][a])?merge(o[s][a],i[s][a]):o[s][a]=i[s][a]}else Object.assign(o,{[s]:i[s]});return o}function mergeWith(o,...i){for(const s of i)merge(o,s);return o}const defineConditions=o=>o,defineRecipe=o=>o,defineSlotRecipe=o=>o,defineKeyframes=o=>o,defineGlobalStyles=o=>o,defineStyle=o=>o,defineTextStyles=o=>o,defineAnimationStyles=o=>o,defineLayerStyles=o=>o;function createProxy(){const o=i=>i;return new Proxy(o,{get(){return o}})}const defineTokens=createProxy(),defineSemanticTokens=createProxy(),defineConfig=o=>o,mergeConfigs=(...o)=>mergeWith({},...o.map(clone)),escRegex=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function esc$1(o){return`${o}`.replace(escRegex,i=>`\\${i}`)}const dashCaseRegex=/[A-Z]/g;function dashCase(o){return o.replace(dashCaseRegex,i=>`-${i.toLowerCase()}`)}function cssVar(o,i={}){const{fallback:s="",prefix:a=""}=i,$=dashCase(["-",a,esc$1(o)].filter(Boolean).join("-"));return{var:$,ref:`var(${$}${s?`, ${s}`:""})`}}const isCssVar=o=>/^var\(--.+\)$/.test(o),wrap=(o,i)=>i!=null?`${o}(${i})`:i,deg=o=>{if(isCssVar(o)||o==null)return o;const i=typeof o=="string"&&!o.endsWith("deg");return typeof o=="number"||i?`${o}deg`:o},createFocusRing=o=>({values:["outside","inside","mixed","none"],transform(i,{token:s}){const a=s("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":a,[o]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":a,[o]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":a,[o]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":a,[o]:{outline:"none"}}}[i]??{}}}),divideColor=createColorMixTransform("borderColor"),createTransition=o=>({transition:o,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),defaultConditions=defineConditions({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),currentBgVar=cssVar("bg-currentcolor"),isCurrentBgVar=o=>o===currentBgVar.ref||o==="currentBg",colorValues=o=>({...o("colors"),currentBg:currentBgVar}),defaultBaseConfig=defineConfig({conditions:defaultConditions,utilities:{background:{values:colorValues,shorthand:["bg"],transform(o,i){if(isCurrentBgVar(i.raw))return{background:currentBgVar.ref};const s=createColorMixTransform("background")(o,i);return{...s,[currentBgVar.var]:s==null?void 0:s.background}}},backgroundColor:{values:colorValues,shorthand:["bgColor"],transform(o,i){if(isCurrentBgVar(i.raw))return{backgroundColor:currentBgVar.ref};const s=createColorMixTransform("backgroundColor")(o,i);return{...s,[currentBgVar.var]:s==null?void 0:s.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(o){return o==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:o}}},backgroundGradient:{shorthand:["bgGradient"],values(o){return{...o("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(o){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:o}}},gradientFrom:{values:colorValues,transform:createColorMixTransform("--gradient-from")},gradientTo:{values:colorValues,transform:createColorMixTransform("--gradient-to")},gradientVia:{values:colorValues,transform(o,i){return{...createColorMixTransform("--gradient-via")(o,i),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(o){return{...o("gradients"),...o("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInlineEnd:{values:"borders",shorthand:["borderEnd"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:colorValues,transform:createColorMixTransform("borderColor")},borderTopColor:{values:colorValues,transform:createColorMixTransform("borderTopColor")},borderBlockStartColor:{values:colorValues,transform:createColorMixTransform("borderBlockStartColor")},borderBottomColor:{values:colorValues,transform:createColorMixTransform("borderBottomColor")},borderBlockEndColor:{values:colorValues,transform:createColorMixTransform("borderBlockEndColor")},borderLeftColor:{values:colorValues,transform:createColorMixTransform("borderLeftColor")},borderInlineStartColor:{values:colorValues,shorthand:["borderStartColor"],transform:createColorMixTransform("borderInlineStartColor")},borderRightColor:{values:colorValues,transform:createColorMixTransform("borderRightColor")},borderInlineEndColor:{values:colorValues,shorthand:["borderEndColor"],transform:createColorMixTransform("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:o=>({borderStartStartRadius:o,borderEndStartRadius:o})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:o=>({borderStartEndRadius:o,borderEndEndRadius:o})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:o=>({borderTopLeftRadius:o,borderTopRightRadius:o})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:o=>({borderBottomLeftRadius:o,borderBottomRightRadius:o})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:o=>({borderTopLeftRadius:o,borderBottomLeftRadius:o})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:o=>({borderTopRightRadius:o,borderBottomRightRadius:o})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:colorValues,transform:createColorMixTransform("color")},fill:{values:colorValues,transform:createColorMixTransform("fill")},stroke:{values:colorValues,transform:createColorMixTransform("stroke")},accentColor:{values:colorValues,transform:createColorMixTransform("accentColor")},divideX:{values:{type:"string"},transform(o){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:o,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(o){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:o,borderBottomWidth:"0px"}}}},divideColor:{values:colorValues,transform(o,i){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":divideColor(o,i)}}},divideStyle:{property:"borderStyle",transform(o){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:o}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:colorValues,transform:createColorMixTransform("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(o){return o!=="auto"?{filter:o}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:o=>({"--blur":wrap("blur",o)})},brightness:{transform:o=>({"--brightness":wrap("brightness",o)})},contrast:{transform:o=>({"--contrast":wrap("contrast",o)})},grayscale:{transform:o=>({"--grayscale":wrap("grayscale",o)})},hueRotate:{transform:o=>({"--hue-rotate":wrap("hue-rotate",deg(o))})},invert:{transform:o=>({"--invert":wrap("invert",o)})},saturate:{transform:o=>({"--saturate":wrap("saturate",o)})},sepia:{transform:o=>({"--sepia":wrap("sepia",o)})},dropShadow:{transform:o=>({"--drop-shadow":wrap("drop-shadow",o)})},backdropFilter:{transform(o){return o!=="auto"?{backdropFilter:o}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:o=>({"--backdrop-blur":wrap("blur",o)})},backdropBrightness:{transform:o=>({"--backdrop-brightness":wrap("brightness",o)})},backdropContrast:{transform:o=>({"--backdrop-contrast":wrap("contrast",o)})},backdropGrayscale:{transform:o=>({"--backdrop-grayscale":wrap("grayscale",o)})},backdropHueRotate:{transform:o=>({"--backdrop-hue-rotate":wrap("hue-rotate",deg(o))})},backdropInvert:{transform:o=>({"--backdrop-invert":wrap("invert",o)})},backdropOpacity:{transform:o=>({"--backdrop-opacity":wrap("opacity",o)})},backdropSaturate:{transform:o=>({"--backdrop-saturate":wrap("saturate",o)})},backdropSepia:{transform:o=>({"--backdrop-sepia":wrap("sepia",o)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:colorValues,transform:createColorMixTransform("outlineColor")},focusRing:createFocusRing("&:is(:focus, [data-focus])"),focusVisibleRing:createFocusRing("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:colorValues,transform:createColorMixTransform("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:o=>({"--focus-ring-offset":o})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:o=>({"--focus-ring-width":o})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:o=>({"--focus-ring-style":o})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:o=>({width:o,height:o})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(o,{raw:i,token:s})=>({[s.raw(`breakpoints.${i}`)?`@breakpoint ${i}`:`@media screen and (min-width: ${o})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(o,{raw:i,token:s}){return{[s.raw(`breakpoints.${i}`)?`@breakpoint ${i}Down`:`@media screen and (max-width: ${o})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(o){switch(o){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:colorValues,transform:createColorMixTransform("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:o=>({scrollMarginLeft:o,scrollMarginRight:o})},scrollMarginY:{values:"spacing",transform:o=>({scrollMarginTop:o,scrollMarginBottom:o})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:o=>({"--scroll-snap-strictness":o})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(o){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":o,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:colorValues,transform:createColorMixTransform("--ring-color")},ringOffset:{transform:o=>({"--ring-offset-width":o})},ringOffsetColor:{values:colorValues,transform:createColorMixTransform("--ring-offset-color")},ringInset:{transform:o=>({"--ring-inset":o})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:colorValues,transform:createColorMixTransform("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:o=>{let i=o;return o==="auto"&&(i="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),o==="auto-gpu"&&(i="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:i}}},skewX:{transform:o=>({"--skew-x":deg(o)})},skewY:{transform:o=>({"--skew-y":deg(o)})},scaleX:{transform:o=>({"--scale-x":o})},scaleY:{transform:o=>({"--scale-y":o})},scale:{transform(o){return o!=="auto"?{scale:o}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(o){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":o?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:o=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${o} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${o} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(o){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":o?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:o=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${o} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${o} * var(--space-y-reverse))`}})},rotate:{transform(o){return o!=="auto"?{rotate:deg(o)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(o){return{"--rotate-x":deg(o)}}},rotateY:{transform(o){return{"--rotate-y":deg(o)}}},translate:{transform(o){return o!=="auto"?{translate:o}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:o=>({"--translate-x":o})},translateY:{values:"spacing",transform:o=>({"--translate-y":o})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(o){switch(o){case"all":return createTransition("all");case"position":return createTransition("left, right, top, bottom, inset-inline, inset-block");case"colors":return createTransition("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return createTransition("opacity");case"shadow":return createTransition("box-shadow");case"transform":return createTransition("transform");case"size":return createTransition("width, height");case"backgrounds":return createTransition("background, background-color, background-image, background-position");case"common":return createTransition("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:o}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(o){return o===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(o){return o==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:o,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(o){return srMapping[o]||{}}},debug:{values:{type:"boolean"},transform(o){return o?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:colorValues,transform:createColorMixTransform("caretColor")},cursor:{values:"cursor"}}}),srMapping={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var userGeneratedStr="",userGenerated=userGeneratedStr.split(","),cssPropertiesStr="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",allCssProperties=cssPropertiesStr.split(",").concat(userGenerated),properties=new Map(allCssProperties.map(o=>[o,!0]));function memo$1(o){const i=Object.create(null);return s=>(i[s]===void 0&&(i[s]=o(s)),i[s])}var cssPropertySelectorRegex=/&|@/,isCssProperty=memo$1(o=>properties.has(o)||o.startsWith("--")||cssPropertySelectorRegex.test(o));const isNotNullish=o=>o!=null;function walkObject(o,i,s={}){const{stop:a,getKey:$}=s;function j(et,rt=[]){if(isObject$4(et)||Array.isArray(et)){const st={};for(const[it,ot]of Object.entries(et)){const tt=($==null?void 0:$(it,ot))??it,_e=[...rt,tt];if(a!=null&&a(et,_e))return i(et,rt);const nt=j(ot,_e);isNotNullish(nt)&&(st[tt]=nt)}return st}return i(et,rt)}return j(o)}function mapObject(o,i){return Array.isArray(o)?o.map(s=>i(s)):isObject$4(o)?walkObject(o,s=>i(s)):o!=null?i(o):o}function flatten(o,i){const s={};return walkObject(o,(a,$)=>{a&&(s[$.join(".")]=a.value)},{stop:i}),s}var fastSafeStringify=stringify;stringify.default=stringify;stringify.stable=deterministicStringify;stringify.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions$2(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(o,i,s,a){typeof a>"u"&&(a=defaultOptions$2()),decirc(o,"",0,[],void 0,0,a);var $;try{replacerStack.length===0?$=JSON.stringify(o,i,s):$=JSON.stringify(o,replaceGetterValues(i),s)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var j=arr.pop();j.length===4?Object.defineProperty(j[0],j[1],j[3]):j[0][j[1]]=j[2]}}return $}function setReplace(o,i,s,a){var $=Object.getOwnPropertyDescriptor(a,s);$.get!==void 0?$.configurable?(Object.defineProperty(a,s,{value:o}),arr.push([a,s,i,$])):replacerStack.push([i,s,o]):(a[s]=o,arr.push([a,s,i]))}function decirc(o,i,s,a,$,j,et){j+=1;var rt;if(typeof o=="object"&&o!==null){for(rt=0;rt<a.length;rt++)if(a[rt]===o){setReplace(CIRCULAR_REPLACE_NODE,o,i,$);return}if(typeof et.depthLimit<"u"&&j>et.depthLimit){setReplace(LIMIT_REPLACE_NODE,o,i,$);return}if(typeof et.edgesLimit<"u"&&s+1>et.edgesLimit){setReplace(LIMIT_REPLACE_NODE,o,i,$);return}if(a.push(o),Array.isArray(o))for(rt=0;rt<o.length;rt++)decirc(o[rt],rt,rt,a,o,j,et);else{var st=Object.keys(o);for(rt=0;rt<st.length;rt++){var it=st[rt];decirc(o[it],it,rt,a,o,j,et)}}a.pop()}}function compareFunction(o,i){return o<i?-1:o>i?1:0}function deterministicStringify(o,i,s,a){typeof a>"u"&&(a=defaultOptions$2());var $=deterministicDecirc(o,"",0,[],void 0,0,a)||o,j;try{replacerStack.length===0?j=JSON.stringify($,i,s):j=JSON.stringify($,replaceGetterValues(i),s)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var et=arr.pop();et.length===4?Object.defineProperty(et[0],et[1],et[3]):et[0][et[1]]=et[2]}}return j}function deterministicDecirc(o,i,s,a,$,j,et){j+=1;var rt;if(typeof o=="object"&&o!==null){for(rt=0;rt<a.length;rt++)if(a[rt]===o){setReplace(CIRCULAR_REPLACE_NODE,o,i,$);return}try{if(typeof o.toJSON=="function")return}catch{return}if(typeof et.depthLimit<"u"&&j>et.depthLimit){setReplace(LIMIT_REPLACE_NODE,o,i,$);return}if(typeof et.edgesLimit<"u"&&s+1>et.edgesLimit){setReplace(LIMIT_REPLACE_NODE,o,i,$);return}if(a.push(o),Array.isArray(o))for(rt=0;rt<o.length;rt++)deterministicDecirc(o[rt],rt,rt,a,o,j,et);else{var st={},it=Object.keys(o).sort(compareFunction);for(rt=0;rt<it.length;rt++){var ot=it[rt];deterministicDecirc(o[ot],ot,rt,a,o,j,et),st[ot]=o[ot]}if(typeof $<"u")arr.push([$,i,o]),$[i]=st;else return st}a.pop()}}function replaceGetterValues(o){return o=typeof o<"u"?o:function(i,s){return s},function(i,s){if(replacerStack.length>0)for(var a=0;a<replacerStack.length;a++){var $=replacerStack[a];if($[1]===i&&$[0]===s){s=$[2],replacerStack.splice(a,1);break}}return o.call(this,i,s)}}const stringify$1=getDefaultExportFromCjs(fastSafeStringify),memo=o=>{const i=Object.create(null);function s(...a){const $=a.map(j=>stringify$1(j)).join("|");return i[$]===void 0&&(i[$]=o(...a)),i[$]}return s},BASE_FONT_SIZE=16,UNIT_PX="px",UNIT_EM="em",UNIT_REM="rem";function getUnit(o=""){const i=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),s=new RegExp(`${UNIT_PX}|${UNIT_EM}|${UNIT_REM}`),a=o.match(new RegExp(`${i.source}(${s.source})`));return a==null?void 0:a[1]}function toPx(o=""){if(typeof o=="number")return`${o}px`;const i=getUnit(o);if(!i||i===UNIT_PX)return o;if(i===UNIT_EM||i===UNIT_REM)return`${parseFloat(o)*BASE_FONT_SIZE}${UNIT_PX}`}function toRem(o=""){const i=getUnit(o);if(!i||i===UNIT_REM)return o;if(i===UNIT_EM)return`${parseFloat(o)}${UNIT_REM}`;if(i===UNIT_PX)return`${parseFloat(o)/BASE_FONT_SIZE}${UNIT_REM}`}const capitalize$1=o=>o.charAt(0).toUpperCase()+o.slice(1);function createBreakpoints(o){const i=sort(o),s=Object.fromEntries(i);function a(_e){return s[_e]}function $(_e){return build$1(a(_e))}function j(){const _e=Object.keys(s),nt=getPermutations(_e),at=_e.flatMap(lt=>{const ut=a(lt),ct=[`${lt}Down`,build$1({max:adjust(ut.min)})],dt=[lt,build$1({min:ut.min})],ft=[`${lt}Only`,$(lt)];return[dt,ft,ct]}).filter(([,lt])=>lt!=="").concat(nt.map(([lt,ut])=>{const ct=a(lt),dt=a(ut);return[`${lt}To${capitalize$1(ut)}`,build$1({min:ct.min,max:adjust(dt.min)})]}));return Object.fromEntries(at)}function et(){const _e=j();return Object.fromEntries(Object.entries(_e))}const rt=et(),st=_e=>rt[_e];function it(){return["base",...Object.keys(s)]}function ot(_e){return build$1({min:a(_e).min})}function tt(_e){return build$1({max:adjust(a(_e).min)})}return{values:Object.values(s),only:$,keys:it,conditions:rt,getCondition:st,up:ot,down:tt}}function adjust(o){const i=parseFloat(toPx(o)??"")-.04;return toRem(`${i}px`)}function sort(o){return Object.entries(o).sort(([,s],[,a])=>parseInt(s,10)<parseInt(a,10)?-1:1).map(([s,a],$,j)=>{var rt;let et=null;return $<=j.length-1&&(et=(rt=j[$+1])==null?void 0:rt[1]),et!=null&&(et=adjust(et)),[s,{name:s,min:toRem(a),max:et}]})}function getPermutations(o){const i=[];return o.forEach((s,a)=>{let $=a;$++;let j=o[$];for(;j;)i.push([s,j]),$++,j=o[$]}),i}function build$1({min:o,max:i}){return o==null&&i==null?"":["@media screen",o&&`(min-width: ${o})`,i&&`(max-width: ${i})`].filter(Boolean).join(" and ")}const mapEntries$1=(o,i)=>Object.fromEntries(Object.entries(o).map(([s,a])=>i(s,a))),createConditions=o=>{const{breakpoints:i,conditions:s={}}=o,a=mapEntries$1(s,(ot,tt)=>[`_${ot}`,tt]),$=Object.assign({},a,i.conditions);function j(){return Object.keys($)}function et(ot){return j().includes(ot)||/^@|&|&$/.test(ot)||ot.startsWith("_")}function rt(ot){return ot.filter(tt=>tt!=="base").sort((tt,_e)=>{const nt=et(tt),at=et(_e);return nt&&!at?1:!nt&&at?-1:0})}function st(ot){return ot.startsWith("@breakpoint")?i.getCondition(ot.replace("@breakpoint ","")):ot}function it(ot){return Reflect.get($,ot)||ot}return{keys:j,sort:rt,has:et,resolve:it,breakpoints:i.keys(),expandAtRule:st}},createMediaQueryRegex=o=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${o})(.|
)+\\(\\s*max(-device)?-${o}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${o}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${o})(.|
)+\\(\\s*min(-device)?-${o}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${o}`,"i")}),widthRegex=createMediaQueryRegex("width"),heightRegex=createMediaQueryRegex("height"),createQueryTester=o=>({isMin:_testQuery(o.minMax,o.maxMin,o.min),isMax:_testQuery(o.maxMin,o.minMax,o.max)}),{isMin:isMinWidth,isMax:isMaxWidth}=createQueryTester(widthRegex),{isMin:isMinHeight,isMax:isMaxHeight}=createQueryTester(heightRegex),isPrint=/print/i,isPrintOnly=/^print$/i,isLength=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,lengthExec=/(\d)/,maxValue=Number.MAX_VALUE,multipliers={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function getQueryLength(o){const i=isLength.exec(o)||(isMinWidth(o)||isMinHeight(o)?lengthExec.exec(o):null);if(!i)return maxValue;if(i[0]==="0")return 0;const s=parseFloat(i[1]),a=i[2];return s*(multipliers[a]||1)}function _testQuery(o,i,s){return a=>o.test(a)||!i.test(a)&&s.test(a)}function _testIsPrint(o,i){const s=isPrint.test(o),a=isPrintOnly.test(o),$=isPrint.test(i),j=isPrintOnly.test(i);return s&&$?!a&&j?1:a&&!j?-1:o.localeCompare(i):s?1:$?-1:null}const sortAtParams=memo((o,i)=>{const s=_testIsPrint(o,i);if(s!==null)return s;const a=isMinWidth(o)||isMinHeight(o),$=isMaxWidth(o)||isMaxHeight(o),j=isMinWidth(i)||isMinHeight(i),et=isMaxWidth(i)||isMaxHeight(i);if(a&&et)return-1;if($&&j)return 1;const rt=getQueryLength(o),st=getQueryLength(i);return rt===maxValue&&st===maxValue?o.localeCompare(i):rt===maxValue?1:st===maxValue?-1:rt!==st?rt>st?$?-1:1:$?1:-1:o.localeCompare(i)});function sortQueries(o){return o.sort(([i],[s])=>sortAtParams(i,s))}function sortAtRules(o){const i=[],s=[],a={};for(const[et,rt]of Object.entries(o))et.startsWith("@media")?i.push([et,rt]):et.startsWith("@container")?s.push([et,rt]):isObject$4(rt)?a[et]=sortAtRules(rt):a[et]=rt;const $=sortQueries(i),j=sortQueries(s);return{...a,...Object.fromEntries($),...Object.fromEntries(j)}}const importantRegex=/\s*!(important)?/i,isImportant=o=>isString$3(o)?importantRegex.test(o):!1,withoutImportant=o=>isString$3(o)?o.replace(importantRegex,"").trim():o;function createCssFn(o){const{transform:i,conditions:s,normalize:a}=o,$=mergeCss(o);return memo(function(...et){const rt=$(...et),st=a(rt),it=Object.create(null);return walkObject(st,(ot,tt)=>{const _e=isImportant(ot);if(ot==null)return;const[nt,...at]=s.sort(tt).map(s.resolve);_e&&(ot=withoutImportant(ot));let lt=i(nt,ot)??Object.create(null);lt=walkObject(lt,ut=>isString$3(ut)&&_e?`${ut} !important`:ut,{getKey:ut=>s.expandAtRule(ut)}),mergeByPath(it,at.flat(),lt)}),sortAtRules(it)})}function mergeByPath(o,i,s){let a=o;for(const $ of i)$&&(a[$]||(a[$]=Object.create(null)),a=a[$]);mergeWith(a,s)}function compactFn(...o){return o.filter(i=>isObject$4(i)&&Object.keys(compact$1(i)).length>0)}function mergeCss(o){function i(s){const a=compactFn(...s);return a.length===1?a:a.map($=>o.normalize($))}return memo(function(...a){return mergeWith({},...i(a))})}const uniq=(...o)=>{const i=o.filter(Boolean);return Array.from(new Set(i))},defaults$1=o=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...o});function createRecipeFn(o){const{css:i,conditions:s,normalize:a,layers:$}=o;function j(rt={}){const{base:st,variants:it,defaultVariants:ot,compoundVariants:tt}=defaults$1(rt),_e=createCssFn({conditions:s,normalize:a,transform(dt,ft){var ht;return(ht=it[dt])==null?void 0:ht[ft]}}),nt=(dt={})=>{const ft=a({...ot,...compact$1(dt)});let ht={...st};mergeWith(ht,_e(ft));const gt=et(tt,ft);return $.wrap("recipes",i(ht,gt))},at=Object.keys(it),lt=dt=>{const ft=omit(dt,["recipe"]),[ht,gt]=splitProps(ft,at);return at.includes("colorPalette")||(ht.colorPalette=dt.colorPalette||ot.colorPalette),at.includes("orientation")&&(gt.orientation=dt.orientation),[ht,gt]},ut=Object.fromEntries(Object.entries(it).map(([dt,ft])=>[dt,Object.keys(ft)]));return Object.assign(dt=>i(nt(dt)),{className:rt.className,__cva__:!0,variantMap:ut,variantKeys:at,raw:nt,config:rt,splitVariantProps:lt,merge(dt){return j(mergeCva(o)(this,dt))}})}function et(rt,st){let it={};return rt.forEach(ot=>{Object.entries(ot).every(([_e,nt])=>_e==="css"?!0:(Array.isArray(nt)?nt:[nt]).some(lt=>st[_e]===lt))&&(it=i(it,ot.css))}),it}return j}function mergeCva(o){const{css:i}=o;return function(a,$){const j=defaults$1($.config),et=uniq(a.variantKeys,Object.keys($.variants)),rt=i(a.base,j.base),st=Object.fromEntries(et.map(_e=>[_e,i(a.config.variants[_e],j.variants[_e])])),it=mergeWith(a.config.defaultVariants,j.defaultVariants),ot=[...a.compoundVariants,...j.compoundVariants];return{className:cx(a.className,$.className),base:rt,variants:st,defaultVariants:it,compoundVariants:ot}}}const defaultLayers={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},layerOrder={reset:0,base:1,tokens:2,recipes:3};function createLayers(o){const i=o.layers??defaultLayers,a=Object.values(i).sort(($,j)=>layerOrder[$]-layerOrder[j]);return{names:a,atRule:`@layer ${a.join(", ")};`,wrap($,j){return o.disableLayers?j:{[`@layer ${i[$]}`]:j}}}}function createNormalizeFn(o){const{utility:i,normalize:s}=o,{hasShorthand:a,resolveShorthand:$}=i;return function(j){return walkObject(j,s,{stop:et=>Array.isArray(et),getKey:a?$:void 0})}}function createPreflight(o){const{preflight:i}=o;if(!i)return{};const{scope:s="",level:a="parent"}=isObject$4(i)?i:{};let $="";s&&a==="parent"?$=`${s} `:s&&a==="element"&&($=`&${s}`);const j={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},et={[s||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(a==="element"){const rt=Object.entries(j).reduce((st,[it,ot])=>(st[it]={[$]:ot},st),{});Object.assign(et,rt)}else $?et[$]=j:Object.assign(et,j);return et}function createSerializeFn(o){const{conditions:i,isValidProperty:s}=o;return function($){return walkObject($,j=>j,{getKey:(j,et)=>isObject$4(et)&&!i.has(j)&&!s(j)?parseSelectors(j).map(rt=>"&"+rt).join(", "):j})}}function parseSelectors(o){const i=[];let s=0,a="",$=!1;for(let j=0;j<o.length;j++){const et=o[j];if(et==="\\"&&!$){$=!0,a+=et;continue}if($){$=!1,a+=et;continue}et==="("?s++:et===")"&&s--,et===","&&s===0?(i.push(a.trim()),a=""):a+=et}return a&&i.push(a.trim()),i}const getSlotRecipes=(o={})=>{const i=$=>{var j;return{base:((j=o.base)==null?void 0:j[$])??{},variants:{},defaultVariants:o.defaultVariants??{},compoundVariants:o.compoundVariants?getSlotCompoundVariant(o.compoundVariants,$):[]}},a=(o.slots??[]).map($=>[$,i($)]);for(const[$,j]of Object.entries(o.variants??{}))for(const[et,rt]of Object.entries(j))a.forEach(([st,it])=>{var ot;(ot=it.variants)[$]??(ot[$]={}),it.variants[$][et]=rt[st]??{}});return Object.fromEntries(a)},getSlotCompoundVariant=(o,i)=>o.filter(s=>s.css[i]).map(s=>({...s,css:s.css[i]}));function createSlotRecipeFn(o){const{cva:i}=o;return function(a={}){const $=Object.entries(getSlotRecipes(a)).map(([tt,_e])=>[tt,i(_e)]);function j(tt){const _e=$.map(([nt,at])=>[nt,at(tt)]);return Object.fromEntries(_e)}const et=a.variants??{},rt=Object.keys(et);function st(tt){var lt;const _e=omit(tt,["recipe"]),[nt,at]=splitProps(_e,rt);return rt.includes("colorPalette")||(nt.colorPalette=tt.colorPalette||((lt=a.defaultVariants)==null?void 0:lt.colorPalette)),rt.includes("orientation")&&(at.orientation=tt.orientation),[nt,at]}const it=Object.fromEntries(Object.entries(et).map(([tt,_e])=>[tt,Object.keys(_e)]));let ot={};return a.className&&(ot=Object.fromEntries(a.slots.map(tt=>[tt,`${a.className}__${tt}`]))),Object.assign(j,{variantMap:it,variantKeys:rt,splitVariantProps:st,classNameMap:ot})}}const createProps=()=>o=>Array.from(new Set(o)),rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,fcssescape=function(o,i){return i?o==="\0"?"":o==="-"&&o.length===1?"\\-":o.slice(0,-1)+"\\"+o.charCodeAt(o.length-1).toString(16):"\\"+o},esc=o=>(o+"").replace(rcssescape,fcssescape),expandTokenReferences=(o,i)=>{let s="",a=0,$="char",j="",et="";const rt=[];for(;a<o.length;){const st=o[a];if(st==="{"){const ot=o.indexOf("}",a);if(ot===-1)break;const tt=o.slice(a+1,ot),_e=i(tt);s+=_e??tt,a=ot+1;continue}if($==="token"&&st===","){o[a]===""&&a++,$="fallback",rt.push($);const ot=i(j);ot!=null&&ot.endsWith(")")&&(s+=ot.slice(0,-1)),j="",et="";continue}if($==="fallback"&&et+st===", var("){const _e=cssVarParser(o.slice(a+1))+a+1,nt=o.slice(a+1,_e);if(_e===-1)break;s+=", var("+nt+")",a=_e+1,$=rt.pop()??$,et="";continue}if($==="token"||$==="fallback"){if(a++,st===")"){$=rt.pop()??$??"char",et+=st;const ot=j&&(i(j)??esc(j));if(et){if(et=et.slice(1).trim(),!et.startsWith("token(")&&et.endsWith(")")&&(et=et.slice(0,-1)),et.includes("token(")){const _e=expandTokenReferences(et,i);_e&&(et=_e.slice(0,-1))}else if(et){const _e=i(et);_e&&(et=_e)}}const tt=s.at(-1);et?tt!=null&&tt.trim()?s+=ot.slice(0,-1)+(", "+et+")"):s+=et:s+=ot||")",j="",et="",$="char";continue}$==="token"&&(j+=st),$==="fallback"&&(et+=st);continue}const it=o.indexOf("token(",a);if(it!==-1){const ot=it+6;s+=o.slice(a,it),a=ot,$="token",rt.push($);continue}s+=st,a++}return s},cssVarParser=o=>{let i=0;const s=["("];for(;i<o.length;){const a=o[i];if(a==="(")s.push(a);else if(a===")"&&(s.pop(),s.length===0))return i;i++}return i};function mapToJson(o){const i={};return o.forEach((s,a)=>{s instanceof Map?i[a]=Object.fromEntries(s):i[a]=s}),i}const REFERENCE_REGEX=/({([^}]*)})/g,CURLY_REGEX=/[{}]/g,TOKEN_PATH_REGEX=/\w+\.\w+/,getReferences=o=>{if(!isString$3(o))return[];const i=o.match(REFERENCE_REGEX);return i?i.map(s=>s.replace(CURLY_REGEX,"")).map(s=>s.trim()):[]},hasReference=o=>REFERENCE_REGEX.test(o);function expandReferences(o){var s,a,$;if(!((s=o.extensions)!=null&&s.references))return(($=(a=o.extensions)==null?void 0:a.cssVar)==null?void 0:$.ref)??o.value;const i=o.extensions.references??{};return o.value=Object.keys(i).reduce((j,et)=>{const rt=i[et];if(rt.extensions.conditions)return j;const st=expandReferences(rt);return j.replace(`{${et}}`,st)},o.value),delete o.extensions.references,o.value}function resolveReference(o){return isObject$4(o)&&o.reference?o.reference:String(o)}const toExpression=(o,...i)=>i.map(resolveReference).join(` ${o} `).replace(/calc/g,""),add=(...o)=>`calc(${toExpression("+",...o)})`,subtract=(...o)=>`calc(${toExpression("-",...o)})`,multiply=(...o)=>`calc(${toExpression("*",...o)})`,divide=(...o)=>`calc(${toExpression("/",...o)})`,negate=o=>{const i=resolveReference(o);return i!=null&&!Number.isNaN(parseFloat(i))?String(i).startsWith("-")?String(i).slice(1):`-${i}`:multiply(i,-1)},calc=Object.assign(o=>({add:(...i)=>calc(add(o,...i)),subtract:(...i)=>calc(subtract(o,...i)),multiply:(...i)=>calc(multiply(o,...i)),divide:(...i)=>calc(divide(o,...i)),negate:()=>calc(negate(o)),toString:()=>o.toString()}),{add,subtract,multiply,divide,negate}),addNegativeTokens={enforce:"pre",transform(o){const{prefix:i,allTokens:s,formatCssVar:a,formatTokenName:$,registerToken:j}=o;s.filter(({extensions:rt})=>rt.category==="spacing").forEach(rt=>{const st=rt.path.slice(),it=a(st,i);if(isString$3(rt.value)&&rt.value==="0rem")return;const ot=structuredClone(rt);Object.assign(ot.extensions,{negative:!0,prop:`-${rt.extensions.prop}`,originalPath:st}),ot.value=calc.negate(it.ref);const tt=ot.path[ot.path.length-1];tt!=null&&(ot.path[ot.path.length-1]=`-${tt}`),ot.path&&(ot.name=$(ot.path)),j(ot)})}},units=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),addPixelUnit={enforce:"post",transform(o){o.allTokens.filter(s=>units.has(s.extensions.category)&&!s.extensions.negative).forEach(s=>{Object.assign(s.extensions,{pixelValue:toPx(s.value)})})}},addVirtualPalette={enforce:"post",transform(o){const{allTokens:i,registerToken:s,formatTokenName:a}=o,$=i.filter(({extensions:rt})=>rt.category==="colors"),j=new Map,et=new Map;$.forEach(rt=>{const{colorPalette:st}=rt.extensions;st&&(st.keys.forEach(it=>{j.set(a(it),it)}),st.roots.forEach(it=>{var _e;const ot=a(it),tt=et.get(ot)||[];if(tt.push(rt),et.set(ot,tt),rt.extensions.default&&it.length===1){const nt=(_e=st.keys[0])==null?void 0:_e.filter(Boolean);if(!nt.length)return;const at=it.concat(nt);j.set(a(at),[])}}))}),j.forEach(rt=>{const st=["colors","colorPalette",...rt].filter(Boolean),it=a(st),ot=a(st.slice(1));s({name:it,value:it,originalValue:it,path:st,extensions:{condition:"base",originalPath:st,category:"colors",prop:ot,virtual:!0}},"pre")})}},removeEmptyTokens={enforce:"post",transform(o){o.allTokens=o.allTokens.filter(i=>i.value!=="")}},tokenMiddlewares=[addNegativeTokens,addVirtualPalette,addPixelUnit,removeEmptyTokens],addCssVariables={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(o,i){const{prefix:s,formatCssVar:a}=i,{negative:$,originalPath:j}=o.extensions,et=$?j:o.path;return{cssVar:a(et.filter(Boolean),s)}}},addConditionalCssVariables={enforce:"post",type:"value",name:"tokens/conditionals",transform(o,i){const{prefix:s,formatCssVar:a}=i,$=getReferences(o.value);return $.length&&$.forEach(j=>{const et=a(j.split("."),s);o.value=o.value.replace(`{${et.ref}}`,et)}),o.value}},addColorPalette={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(o){return o.extensions.category==="colors"&&!o.extensions.virtual},transform(o,i){let s=o.path.slice();if(s.pop(),s.shift(),s.length===0){const rt=[...o.path];rt.shift(),s=rt}if(s.length===0)return{};const a=s.reduce((rt,st,it,ot)=>{const tt=ot.slice(0,it+1);return rt.push(tt),rt},[]),$=s[0],j=i.formatTokenName(s),et=o.path.slice(o.path.indexOf($)+1).reduce((rt,st,it,ot)=>(rt.push(ot.slice(it)),rt),[]);return et.length===0&&et.push([""]),{colorPalette:{value:j,roots:a,keys:et}}}},tokenTransforms=[addCssVariables,addConditionalCssVariables,addColorPalette],isToken=o=>isObject$4(o)&&Object.prototype.hasOwnProperty.call(o,"value");function expandBreakpoints(o){return o?{breakpoints:mapObject(o,i=>({value:i})),sizes:Object.fromEntries(Object.entries(o).map(([i,s])=>[`breakpoint-${i}`,{value:s}]))}:{breakpoints:{},sizes:{}}}function createTokenDictionary(o){const{prefix:i="",tokens:s={},semanticTokens:a={},breakpoints:$={}}=o,j=Yt=>Yt.join("."),et=(Yt,Kt)=>cssVar(Yt.join("-"),{prefix:Kt}),rt=[],st=new Map,it=new Map,ot=new Map,tt=new Map,_e=new Map,nt=new Map,at=new Map,lt=new Map,ut=[];function ct(Yt,Kt){rt.push(Yt),st.set(Yt.name,Yt),Kt&&lt.forEach(er=>{er.enforce===Kt&&jt(er,Yt)})}const dt=expandBreakpoints($),ft=compact$1({...s,breakpoints:dt.breakpoints,sizes:{...s.sizes,...dt.sizes}});function ht(){walkObject(ft,(Yt,Kt)=>{const er=Kt.includes("DEFAULT");Kt=filterDefault(Kt);const Bt=Kt[0],cr=j(Kt),ar=isString$3(Yt)?{value:Yt}:Yt,pr={value:ar.value,originalValue:ar.value,name:cr,path:Kt,extensions:{condition:"base",originalPath:Kt,category:Bt,prop:j(Kt.slice(1))}};er&&(pr.extensions.default=!0),ct(pr)},{stop:isToken}),walkObject(a,(Yt,Kt)=>{const er=Kt.includes("DEFAULT");Kt=filterBaseCondition(filterDefault(Kt));const Bt=Kt[0],cr=j(Kt),ar=isString$3(Yt.value)?{value:{base:Yt.value}}:Yt,pr={value:ar.value.base||"",originalValue:ar.value.base||"",name:cr,path:Kt,extensions:{originalPath:Kt,category:Bt,conditions:ar.value,condition:"base",prop:j(Kt.slice(1))}};er&&(pr.extensions.default=!0),ct(pr)},{stop:isToken})}function gt(Yt){return st.get(Yt)}function yt(Yt){const{condition:Kt}=Yt.extensions;Kt&&(it.has(Kt)||it.set(Kt,new Set),it.get(Kt).add(Yt))}function bt(Yt){const{category:Kt,prop:er}=Yt.extensions;Kt&&(at.has(Kt)||at.set(Kt,new Map),at.get(Kt).set(er,Yt))}function vt(Yt){const{condition:Kt,negative:er,virtual:Bt,cssVar:cr}=Yt.extensions;er||Bt||!Kt||!cr||(ot.has(Kt)||ot.set(Kt,new Map),ot.get(Kt).set(cr.var,Yt.value))}function mt(Yt){const{category:Kt,prop:er,cssVar:Bt,negative:cr}=Yt.extensions;if(!Kt)return;nt.has(Kt)||nt.set(Kt,new Map);const ar=cr?Yt.extensions.conditions?Yt.originalValue:Yt.value:Bt.ref;nt.get(Kt).set(er,ar),_e.set([Kt,er].join("."),ar)}function xt(Yt){const{colorPalette:Kt,virtual:er,default:Bt}=Yt.extensions;!Kt||er||Kt.roots.forEach(cr=>{var Vr;const ar=j(cr);tt.has(ar)||tt.set(ar,new Map);const pr=replaceRootWithColorPalette([...Yt.path],[...cr]),Rr=j(pr),kr=gt(Rr);if(!kr||!kr.extensions.cssVar)return;const{var:Fr}=kr.extensions.cssVar;if(tt.get(ar).set(Fr,Yt.extensions.cssVar.ref),Bt&&cr.length===1){const dr=j(["colors","colorPalette"]),Ar=gt(dr);if(!Ar)return;const jr=j(Yt.path),Pr=gt(jr);if(!Pr)return;const Dr=(Vr=Kt.keys[0])==null?void 0:Vr.filter(Boolean);if(!Dr.length)return;const zr=j(cr.concat(Dr));tt.has(zr)||tt.set(zr,new Map),tt.get(zr).set(Ar.extensions.cssVar.var,Pr.extensions.cssVar.ref)}})}let wt={};function Ct(){rt.forEach(Yt=>{yt(Yt),bt(Yt),vt(Yt),mt(Yt),xt(Yt)}),wt=mapToJson(nt)}const kt=(Yt,Kt)=>{var kr;if(!Yt||typeof Yt!="string")return{invalid:!0,value:Yt};const[er,Bt]=Yt.split("/");if(!er||!Bt)return{invalid:!0,value:er};const cr=Kt(er),ar=(kr=gt(`opacity.${Bt}`))==null?void 0:kr.value;if(!ar&&isNaN(Number(Bt)))return{invalid:!0,value:er};const pr=ar?Number(ar)*100+"%":`${Bt}%`,Rr=cr??er;return{invalid:!1,color:Rr,value:`color-mix(in srgb, ${Rr} ${pr}, transparent)`}},It=memo((Yt,Kt)=>_e.get(Yt)??Kt),Pt=memo(Yt=>wt[Yt]||null),St=memo(Yt=>expandTokenReferences(Yt,Kt=>{if(!Kt)return;if(Kt.includes("/")){const Bt=kt(Kt,cr=>It(cr));if(Bt.invalid)throw new Error("Invalid color mix at "+Kt+": "+Bt.value);return Bt.value}const er=It(Kt);return er||(TOKEN_PATH_REGEX.test(Kt)?esc(Kt):Kt)})),Ot={prefix:i,allTokens:rt,tokenMap:st,registerToken:ct,getByName:gt,formatTokenName:j,formatCssVar:et,flatMap:_e,cssVarMap:ot,categoryMap:at,colorPaletteMap:tt,getVar:It,getCategoryValues:Pt,expandReferenceInValue:St};function At(...Yt){Yt.forEach(Kt=>{lt.set(Kt.name,Kt)})}function $t(...Yt){ut.push(...Yt)}function jt(Yt,Kt){if(Kt.extensions.references||isFunction$2(Yt.match)&&!Yt.match(Kt))return;const Bt=(cr=>Yt.transform(cr,Ot))(Kt);switch(!0){case Yt.type==="extensions":Object.assign(Kt.extensions,Bt);break;case Yt.type==="value":Kt.value=Bt;break;default:Kt[Yt.type]=Bt;break}}function zt(Yt){ut.forEach(Kt=>{Kt.enforce===Yt&&Kt.transform(Ot)})}function Xt(Yt){lt.forEach(Kt=>{Kt.enforce===Yt&&rt.forEach(er=>{jt(Kt,er)})})}function tr(){rt.forEach(Yt=>{const Kt=getConditionalTokens(Yt);!Kt||Kt.length===0||Kt.forEach(er=>{ct(er)})})}function ir(Yt){return getReferences(Yt).map(er=>gt(er)).filter(Boolean)}function sr(){rt.forEach(Yt=>{if(!hasReference(Yt.value))return;const Kt=ir(Yt.value);Yt.extensions.references=Kt.reduce((er,Bt)=>(er[Bt.name]=Bt,er),{})})}function Jt(){rt.forEach(Yt=>{expandReferences(Yt)})}function rr(){zt("pre"),Xt("pre"),tr(),sr(),Jt(),zt("post"),Xt("post"),Ct()}return ht(),At(...tokenTransforms),$t(...tokenMiddlewares),rr(),Ot}function filterDefault(o){return o[0]==="DEFAULT"?o:o.filter(i=>i!=="DEFAULT")}function filterBaseCondition(o){return o.filter(i=>i!=="base")}function getConditionalTokens(o){if(!o.extensions.conditions)return;const{conditions:i}=o.extensions,s=[];return walkObject(i,(a,$)=>{const j=filterBaseCondition($);if(!j.length)return;const et=structuredClone(o);et.value=a,et.extensions.condition=j.join(":"),s.push(et)}),s}function replaceRootWithColorPalette(o,i){const s=o.findIndex((a,$)=>i.every((j,et)=>o[$+et]===j));return s===-1||(o.splice(s,i.length),o.splice(s,0,"colorPalette")),o}createProps()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function normalize(o){return o}function normalizeConfig(o){return Object.fromEntries(Object.entries(o).map(([i,s])=>[i,s]))}function createUtility(o){const i=normalizeConfig(o.config),s=o.tokens,a=new Map,$=new Map;function j(vt,mt){i[vt]=mt,et(vt,mt)}const et=(vt,mt)=>{const xt=lt(mt);xt&&($.set(vt,xt),tt(vt,mt))},rt=()=>{for(const[vt,mt]of Object.entries(i))mt&&et(vt,mt)},st=()=>{for(const[vt,mt]of Object.entries(i)){const{shorthand:xt}=mt??{};if(!xt)continue;(Array.isArray(xt)?xt:[xt]).forEach(Ct=>a.set(Ct,vt))}},it=()=>{const vt=mapToJson(s.colorPaletteMap);j("colorPalette",{values:Object.keys(vt),transform:memo(mt=>vt[mt])})},ot=new Map,tt=(vt,mt)=>{if(!mt)return;const xt=lt(mt,Ct=>`type:Tokens["${Ct}"]`);if(typeof xt=="object"&&xt.type){ot.set(vt,new Set([`type:${xt.type}`]));return}if(xt){const Ct=new Set(Object.keys(xt));ot.set(vt,Ct)}const wt=ot.get(vt)??new Set;mt.property&&ot.set(vt,wt.add(`CssProperties["${mt.property}"]`))},_e=()=>{for(const[vt,mt]of Object.entries(i))mt&&tt(vt,mt)},nt=(vt,mt)=>{const xt=ot.get(vt)??new Set;ot.set(vt,new Set([...xt,...mt]))},at=()=>{const vt=new Map;for(const[mt,xt]of ot.entries()){if(xt.size===0){vt.set(mt,["string"]);continue}const wt=Array.from(xt).map(Ct=>Ct.startsWith("CssProperties")?Ct:Ct.startsWith("type:")?Ct.replace("type:",""):JSON.stringify(Ct));vt.set(mt,wt)}return vt},lt=(vt,mt)=>{const{values:xt}=vt,wt=Ct=>{const kt=mt==null?void 0:mt(Ct);return kt?{[kt]:kt}:void 0};return isString$3(xt)?(wt==null?void 0:wt(xt))??s.getCategoryValues(xt)??{}:Array.isArray(xt)?xt.reduce((Ct,kt)=>(Ct[kt]=kt,Ct),{}):isFunction$2(xt)?xt(mt?wt:s.getCategoryValues):xt},ut=memo((vt,mt)=>({[vt]:vt.startsWith("--")?s.getVar(mt,mt):mt})),ct=Object.assign(s.getVar,{raw:vt=>s.getByName(vt)}),dt=memo((vt,mt)=>{var It;const xt=gt(vt);isString$3(mt)&&!mt.includes("_EMO_")&&(mt=s.expandReferenceInValue(mt));const wt=i[xt];if(!wt)return ut(xt,mt);const Ct=(It=$.get(xt))==null?void 0:It[mt];if(!wt.transform)return ut(vt,Ct??mt);const kt=Pt=>colorMix(Pt,ct);return wt.transform(Ct??mt,{raw:mt,token:ct,utils:{colorMix:kt}})});function ft(){st(),it(),rt(),_e()}ft();const ht=a.size>0,gt=memo(vt=>a.get(vt)??vt);return{keys:()=>[...Array.from(a.keys()),...Object.keys(i)],hasShorthand:ht,transform:dt,shorthands:a,resolveShorthand:gt,register:j,getTypes:at,addPropertyType:nt}}function createSystem(...o){const i=mergeConfigs(...o),{theme:s={},utilities:a={},globalCss:$={},cssVarsRoot:j=":where(:root, :host)",cssVarsPrefix:et="chakra",preflight:rt}=i,st=createLayers(i),it=createTokenDictionary({breakpoints:s.breakpoints,tokens:s.tokens,semanticTokens:s.semanticTokens,prefix:et}),ot=createBreakpoints(s.breakpoints??{}),tt=createConditions({conditions:i.conditions??{},breakpoints:ot}),_e=createUtility({config:a,tokens:it});function nt(){const{textStyles:At,layerStyles:$t,animationStyles:jt}=s,zt=compact$1({textStyle:At,layerStyle:$t,animationStyle:jt});for(const[Xt,tr]of Object.entries(zt)){const ir=flatten(tr??{},sr=>isObject$4(sr)&&"value"in sr);_e.register(Xt,{values:Object.keys(ir),transform(sr){return ft(ir[sr])}})}}nt(),_e.addPropertyType("animationName",Object.keys(s.keyframes??{}));const at=new Set(["css",..._e.keys(),...tt.keys()]),lt=memo(At=>at.has(At)||isCssProperty(At)),ut=At=>Array.isArray(At)?At.reduce(($t,jt,zt)=>{const Xt=tt.breakpoints[zt];return jt!=null&&($t[Xt]=jt),$t},{}):At,ct=createNormalizeFn({utility:_e,normalize:ut}),dt=createSerializeFn({conditions:tt,isValidProperty:lt}),ft=createCssFn({transform:_e.transform,conditions:tt,normalize:ct}),ht=createRecipeFn({css:ft,conditions:tt,normalize:ct,layers:st}),gt=createSlotRecipeFn({cva:ht});function yt(){const At={};for(const[$t,jt]of it.cssVarMap.entries()){const zt=Object.fromEntries(jt);if(Object.keys(zt).length===0)continue;const Xt=$t==="base"?j:tt.resolve($t),tr=ft(dt({[Xt]:zt}));mergeWith(At,tr)}return st.wrap("tokens",At)}function bt(){const At=Object.fromEntries(Object.entries(s.keyframes??{}).map(([jt,zt])=>[`@keyframes ${jt}`,zt])),$t=Object.assign({},At,ft(dt($)));return st.wrap("base",$t)}function vt(At){return splitProps(At,lt)}function mt(){const At=createPreflight({preflight:rt});return st.wrap("reset",At)}const xt=getTokenMap(it),wt=(At,$t)=>{var jt;return((jt=xt.get(At))==null?void 0:jt.value)||$t};wt.var=(At,$t)=>{var jt;return((jt=xt.get(At))==null?void 0:jt.variable)||$t};function Ct(At,$t){var jt;return((jt=s.recipes)==null?void 0:jt[At])??$t}function kt(At,$t){var jt;return((jt=s.slotRecipes)==null?void 0:jt[At])??$t}function It(At){return Object.hasOwnProperty.call(s.recipes??{},At)}function Pt(At){return Object.hasOwnProperty.call(s.slotRecipes??{},At)}function St(At){return It(At)||Pt(At)}const Ot=[mt(),bt(),yt()];return{$$chakra:!0,_config:i,_global:Ot,breakpoints:ot,tokens:it,conditions:tt,utility:_e,token:wt,properties:at,layers:st,isValidProperty:lt,splitCssProps:vt,normalizeValue:ut,getTokenCss:yt,getGlobalCss:bt,getPreflightCss:mt,css:ft,cva:ht,sva:gt,getRecipe:Ct,getSlotRecipe:kt,hasRecipe:St,isRecipe:It,isSlotRecipe:Pt}}function getTokenMap(o){const i=new Map;return o.allTokens.forEach(s=>{const{cssVar:a,virtual:$,conditions:j}=s.extensions,et=j||$?a.ref:s.value;i.set(s.name,{value:et,variable:a.ref})}),i}const breakpoints={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},empty="var(--chakra-empty,/*!*/ /*!*/)",globalCss=defineGlobalStyles({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":empty,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(o=>[`--${o}`,empty])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(o=>[`--backdrop-${o}`,empty])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.emphasized/80"}}),layerStyles=defineLayerStyles({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),animationStyles=defineAnimationStyles({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),badgeRecipe=defineRecipe({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),buttonRecipe=defineRecipe({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),checkmarkRecipe=defineRecipe({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:variants$1,defaultVariants:defaultVariants$1}=badgeRecipe,codeRecipe=defineRecipe({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:variants$1,defaultVariants:defaultVariants$1}),colorSwatchRecipe=defineRecipe({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),containerRecipe=defineRecipe({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),headingRecipe=defineRecipe({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),iconRecipe=defineRecipe({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),inputRecipe=defineRecipe({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),inputAddonRecipe=defineRecipe({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:inputRecipe.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),kbdRecipe=defineRecipe({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),linkRecipe=defineRecipe({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),markRecipe=defineRecipe({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),radiomarkRecipe=defineRecipe({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),separatorRecipe=defineRecipe({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),skeletonRecipe=defineRecipe({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),skipNavLinkRecipe=defineRecipe({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),spinnerRecipe=defineRecipe({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),textareaRecipe=defineRecipe({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),recipes={badge:badgeRecipe,button:buttonRecipe,code:codeRecipe,container:containerRecipe,heading:headingRecipe,input:inputRecipe,inputAddon:inputAddonRecipe,kbd:kbdRecipe,link:linkRecipe,mark:markRecipe,separator:separatorRecipe,skeleton:skeletonRecipe,skipNavLink:skipNavLinkRecipe,spinner:spinnerRecipe,textarea:textareaRecipe,icon:iconRecipe,checkmark:checkmarkRecipe,radiomark:radiomarkRecipe,colorSwatch:colorSwatchRecipe},semanticColors=defineSemanticTokens.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.400}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.400}",_dark:"{colors.red.400}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.400}",_dark:"{colors.orange.400}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.400}",_dark:"{colors.green.400}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.400}",_dark:"{colors.blue.400}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.400}",_dark:"{colors.yellow.400}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.400}",_dark:"{colors.teal.400}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.400}",_dark:"{colors.purple.400}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.400}",_dark:"{colors.pink.400}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.400}",_dark:"{colors.cyan.400}"}}}}),semanticRadii=defineSemanticTokens.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),semanticShadows=defineSemanticTokens.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),accordionAnatomy=anatomy$l.extendWith("itemBody"),actionBarAnatomy=createAnatomy("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),alertAnatomy=createAnatomy("alert").parts("title","description","root","indicator","content"),breadcrumbAnatomy=createAnatomy("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),blockquoteAnatomy=createAnatomy("blockquote").parts("root","icon","content","caption"),cardAnatomy=createAnatomy("card").parts("root","header","body","footer","title","description"),checkboxCardAnatomy=createAnatomy("checkbox-card",["root","control","label","description","addon","indicator","content"]),dataListAnatomy=createAnatomy("data-list").parts("root","item","itemLabel","itemValue"),dialogAnatomy=anatomy$h.extendWith("header","body","footer","backdrop"),drawerAnatomy=anatomy$h.extendWith("header","body","footer","backdrop"),editableAnatomy=anatomy$g.extendWith("textarea"),emptyStateAnatomy=createAnatomy("empty-state",["root","content","indicator","title","description"]),fieldAnatomy=fieldAnatomy$1.extendWith("requiredIndicator"),fieldsetAnatomy=fieldsetAnatomy$1.extendWith("content"),fileUploadAnatomy=anatomy$f.extendWith("itemContent","dropzoneContent","fileText"),listAnatomy=createAnatomy("list").parts("root","item","indicator"),menuAnatomy=anatomy$d.extendWith("itemCommand"),nativeSelectAnatomy=createAnatomy("select").parts("root","field","indicator"),popoverAnatomy=anatomy$a.extendWith("header","body","footer"),radioGroupAnatomy=anatomy$7.extendWith("itemAddon","itemIndicator"),radioCardAnatomy=radioGroupAnatomy.extendWith("itemContent","itemDescription"),ratingGroupAnatomy=anatomy$6.extendWith("itemIndicator"),selectAnatomy=anatomy$5.extendWith("indicatorGroup"),sliderAnatomy=anatomy$4.extendWith("markerIndicator"),statAnatomy=createAnatomy("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),statusAnatomy=createAnatomy("status").parts("root","indicator"),stepsAnatomy=createAnatomy("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),switchAnatomy=anatomy$3.extendWith("indicator"),tableAnatomy=createAnatomy("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),toastAnatomy=createAnatomy("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),tabsAnatomy=createAnatomy("tabs").parts("root","trigger","list","content","contentGroup","indicator"),tagAnatomy=createAnatomy("tag").parts("root","label","closeTrigger","startElement","endElement"),timelineAnatomy=createAnatomy("timeline").parts("root","item","content","separator","indicator","connector","title","description"),colorPickerAnatomy=colorPickerAnatomy$1.extendWith("channelText"),accordionSlotRecipe=defineSlotRecipe({className:"chakra-accordion",slots:accordionAnatomy.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),actionBarSlotRecipe=defineSlotRecipe({className:"chakra-action-bar",slots:actionBarAnatomy.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),alertSlotRecipe=defineSlotRecipe({slots:alertAnatomy.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),avatarSlotRecipe=defineSlotRecipe({slots:anatomy$k.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),blockquoteSlotRecipe=defineSlotRecipe({className:"chakra-blockquote",slots:blockquoteAnatomy.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),breadcrumbSlotRecipe=defineSlotRecipe({className:"chakra-breadcrumb",slots:breadcrumbAnatomy.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),cardSlotRecipe=defineSlotRecipe({className:"chakra-card",slots:cardAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var ho,go,mo,bo,yo,vo,xo,_o,wo,So,Eo,Co,To,Po;const checkboxSlotRecipe=defineSlotRecipe({slots:checkboxAnatomy.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:checkmarkRecipe.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(go=(ho=checkmarkRecipe.variants)==null?void 0:ho.size)==null?void 0:go.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(bo=(mo=checkmarkRecipe.variants)==null?void 0:mo.size)==null?void 0:bo.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(vo=(yo=checkmarkRecipe.variants)==null?void 0:yo.size)==null?void 0:vo.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(_o=(xo=checkmarkRecipe.variants)==null?void 0:xo.size)==null?void 0:_o.lg}},variant:{outline:{control:(So=(wo=checkmarkRecipe.variants)==null?void 0:wo.variant)==null?void 0:So.outline},solid:{control:(Co=(Eo=checkmarkRecipe.variants)==null?void 0:Eo.variant)==null?void 0:Co.solid},subtle:{control:(Po=(To=checkmarkRecipe.variants)==null?void 0:To.variant)==null?void 0:Po.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var Io,ko,Ro,Oo,$o,Ao,Mo;const checkboxCardSlotRecipe=defineSlotRecipe({slots:checkboxCardAnatomy.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:checkmarkRecipe.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(Io=checkmarkRecipe.variants)==null?void 0:Io.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(ko=checkmarkRecipe.variants)==null?void 0:ko.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(Ro=checkmarkRecipe.variants)==null?void 0:Ro.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(Oo=checkmarkRecipe.variants)==null?void 0:Oo.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:($o=checkmarkRecipe.variants)==null?void 0:$o.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(Ao=checkmarkRecipe.variants)==null?void 0:Ao.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(Mo=checkmarkRecipe.variants)==null?void 0:Mo.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),collapsibleSlotRecipe=defineSlotRecipe({slots:anatomy$n.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var Do,Lo,jo,No,Fo,Bo,Vo,zo,Uo,Wo,Ho,Go,Yo,Xo,Ko,qo,Jo,Qo;const colorPickerSlotRecipe=defineSlotRecipe({className:"colorPicker",slots:colorPickerAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...colorSwatchRecipe.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...inputRecipe.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(Lo=(Do=inputRecipe.variants)==null?void 0:Do.size)==null?void 0:Lo["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(No=(jo=inputRecipe.variants)==null?void 0:jo.size)==null?void 0:No.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(Bo=(Fo=inputRecipe.variants)==null?void 0:Fo.size)==null?void 0:Bo.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(zo=(Vo=inputRecipe.variants)==null?void 0:Vo.size)==null?void 0:zo.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(Wo=(Uo=inputRecipe.variants)==null?void 0:Uo.size)==null?void 0:Wo.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(Go=(Ho=inputRecipe.variants)==null?void 0:Ho.size)==null?void 0:Go.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(Xo=(Yo=inputRecipe.variants)==null?void 0:Yo.size)==null?void 0:Xo["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(qo=(Ko=inputRecipe.variants)==null?void 0:Ko.variant)==null?void 0:qo.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(Qo=(Jo=inputRecipe.variants)==null?void 0:Jo.variant)==null?void 0:Qo.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),dataListSlotRecipe=defineSlotRecipe({slots:dataListAnatomy.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),dialogSlotRecipe=defineSlotRecipe({slots:dialogAnatomy.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),drawerSlotRecipe=defineSlotRecipe({slots:drawerAnatomy.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),sharedStyles=defineStyle({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),editableSlotRecipe=defineSlotRecipe({slots:editableAnatomy.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...sharedStyles,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...sharedStyles,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),emptyStateSlotRecipe=defineSlotRecipe({slots:emptyStateAnatomy.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),fieldSlotRecipe=defineSlotRecipe({className:"chakra-field",slots:fieldAnatomy.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),fieldsetSlotRecipe=defineSlotRecipe({className:"fieldset",slots:fieldsetAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),fileUploadSlotRecipe=defineSlotRecipe({className:"chakra-file-upload",slots:fileUploadAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),hoverCardSlotRecipe=defineSlotRecipe({className:"chakra-hover-card",slots:anatomy$e.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),listSlotRecipe=defineSlotRecipe({className:"chakra-list",slots:listAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),menuSlotRecipe=defineSlotRecipe({className:"chakra-menu",slots:menuAnatomy.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),selectSlotRecipe=defineSlotRecipe({className:"chakra-select",slots:selectAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var Zo,es;const nativeSelectSlotRecipe=defineSlotRecipe({className:"chakra-native-select",slots:nativeSelectAnatomy.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(Zo=selectSlotRecipe.variants)==null?void 0:Zo.variant.outline.trigger},subtle:{field:(es=selectSlotRecipe.variants)==null?void 0:es.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:selectSlotRecipe.defaultVariants});function mapEntries(o,i){const s={};for(const a in o){const $=i(a,o[a]);s[$[0]]=$[1]}return s}const triggerStyle=defineStyle({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),numberInputSlotRecipe=defineSlotRecipe({className:"chakra-number-input",slots:anatomy$c.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...inputRecipe.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...triggerStyle,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...triggerStyle,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:inputRecipe.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:inputRecipe.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:inputRecipe.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:inputRecipe.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:mapEntries(inputRecipe.variants.variant,(o,i)=>[o,{input:i}])},defaultVariants:{size:"md",variant:"outline"}}),{variants,defaultVariants}=inputRecipe,pinInputSlotRecipe=defineSlotRecipe({className:"chakra-pin-input",slots:anatomy$b.keys(),base:{input:{...inputRecipe.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:mapEntries(variants.size,(o,i)=>[o,{input:i}]),variant:mapEntries(variants.variant,(o,i)=>[o,{input:i}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants}),popoverSlotRecipe=defineSlotRecipe({className:"chakra-popover",slots:popoverAnatomy.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),progressSlotRecipe=defineSlotRecipe({slots:anatomy$9.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),progressCircleSlotRecipe=defineSlotRecipe({className:"chakra-progress-circle",slots:anatomy$9.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),qrCodeSlotRecipe=defineSlotRecipe({slots:anatomy$8.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var ts,rs,ns,is,os,ss,as;const radioCardSlotRecipe=defineSlotRecipe({className:"chakra-radio-card",slots:radioCardAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:radiomarkRecipe.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(ts=radiomarkRecipe.variants)==null?void 0:ts.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(rs=radiomarkRecipe.variants)==null?void 0:rs.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(ns=radiomarkRecipe.variants)==null?void 0:ns.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(is=radiomarkRecipe.variants)==null?void 0:is.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(os=radiomarkRecipe.variants)==null?void 0:os.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(ss=radiomarkRecipe.variants)==null?void 0:ss.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(as=radiomarkRecipe.variants)==null?void 0:as.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var ls,us,cs,ds,ps,fs,hs,gs,ms,bs,ys,vs,xs,_s;const radioGroupSlotRecipe=defineSlotRecipe({className:"chakra-radio-group",slots:radioGroupAnatomy.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:radiomarkRecipe.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(us=(ls=radiomarkRecipe.variants)==null?void 0:ls.variant)==null?void 0:us.outline},subtle:{itemControl:(ds=(cs=radiomarkRecipe.variants)==null?void 0:cs.variant)==null?void 0:ds.subtle},solid:{itemControl:(fs=(ps=radiomarkRecipe.variants)==null?void 0:ps.variant)==null?void 0:fs.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(gs=(hs=radiomarkRecipe.variants)==null?void 0:hs.size)==null?void 0:gs.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(bs=(ms=radiomarkRecipe.variants)==null?void 0:ms.size)==null?void 0:bs.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(vs=(ys=radiomarkRecipe.variants)==null?void 0:ys.size)==null?void 0:vs.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(_s=(xs=radiomarkRecipe.variants)==null?void 0:xs.size)==null?void 0:_s.lg}}},defaultVariants:{size:"md",variant:"solid"}}),ratingGroupSlotRecipe=defineSlotRecipe({className:"chakra-rating-group",slots:ratingGroupAnatomy.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),segmentGroupSlotRecipe=defineSlotRecipe({className:"chakra-segment-group",slots:segmentGroupAnatomy.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted",_vertical:{flexDirection:"column"}},item:{display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",bg:"border",transition:"opacity 0.2s"},_horizontal:{_before:{insetInlineStart:0,insetBlock:"1.5",width:"1px"}},_vertical:{_before:{insetBlockStart:0,insetInline:"1.5",height:"1px"}},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{item:{textStyle:"xs",px:"3",gap:"1",height:"6"}},sm:{item:{textStyle:"sm",px:"4",gap:"2",height:"8"}},md:{item:{textStyle:"sm",px:"4",gap:"2",height:"10"}},lg:{item:{textStyle:"md",px:"4.5",gap:"3",height:"11"}}}},defaultVariants:{size:"md"}}),sliderSlotRecipe=defineSlotRecipe({className:"chakra-slider",slots:sliderAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),statSlotRecipe=defineSlotRecipe({className:"chakra-stat",slots:statAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),statusSlotRecipe=defineSlotRecipe({className:"chakra-status",slots:statusAnatomy.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),stepsSlotRecipe=defineSlotRecipe({className:"chakra-steps",slots:stepsAnatomy.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),switchSlotRecipe=defineSlotRecipe({slots:switchAnatomy.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),tableSlotRecipe=defineSlotRecipe({className:"chakra-table",slots:tableAnatomy.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),tabsSlotRecipe=defineSlotRecipe({slots:tabsAnatomy.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var ws;const badgeVariant=(ws=badgeRecipe.variants)==null?void 0:ws.variant,tagSlotRecipe=defineSlotRecipe({slots:tagAnatomy.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:badgeVariant==null?void 0:badgeVariant.subtle},solid:{root:badgeVariant==null?void 0:badgeVariant.solid},outline:{root:badgeVariant==null?void 0:badgeVariant.outline},surface:{root:badgeVariant==null?void 0:badgeVariant.surface}}},defaultVariants:{size:"md",variant:"surface"}}),timelineSlotRecipe=defineSlotRecipe({slots:timelineAnatomy.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),toastSlotRecipe=defineSlotRecipe({slots:toastAnatomy.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),tooltipSlotRecipe=defineSlotRecipe({slots:anatomy.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),slotRecipes={accordion:accordionSlotRecipe,actionBar:actionBarSlotRecipe,alert:alertSlotRecipe,avatar:avatarSlotRecipe,blockquote:blockquoteSlotRecipe,breadcrumb:breadcrumbSlotRecipe,card:cardSlotRecipe,checkbox:checkboxSlotRecipe,checkboxCard:checkboxCardSlotRecipe,collapsible:collapsibleSlotRecipe,dataList:dataListSlotRecipe,dialog:dialogSlotRecipe,drawer:drawerSlotRecipe,editable:editableSlotRecipe,emptyState:emptyStateSlotRecipe,field:fieldSlotRecipe,fieldset:fieldsetSlotRecipe,fileUpload:fileUploadSlotRecipe,hoverCard:hoverCardSlotRecipe,list:listSlotRecipe,menu:menuSlotRecipe,nativeSelect:nativeSelectSlotRecipe,numberInput:numberInputSlotRecipe,pinInput:pinInputSlotRecipe,popover:popoverSlotRecipe,progress:progressSlotRecipe,progressCircle:progressCircleSlotRecipe,radioCard:radioCardSlotRecipe,radioGroup:radioGroupSlotRecipe,ratingGroup:ratingGroupSlotRecipe,segmentGroup:segmentGroupSlotRecipe,select:selectSlotRecipe,slider:sliderSlotRecipe,stat:statSlotRecipe,steps:stepsSlotRecipe,switch:switchSlotRecipe,table:tableSlotRecipe,tabs:tabsSlotRecipe,tag:tagSlotRecipe,toast:toastSlotRecipe,tooltip:tooltipSlotRecipe,status:statusSlotRecipe,timeline:timelineSlotRecipe,colorPicker:colorPickerSlotRecipe,qrCode:qrCodeSlotRecipe},textStyles=defineTextStyles({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),animations=defineTokens.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),aspectRatios=defineTokens.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),blurs=defineTokens.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),borders=defineTokens.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),colors=defineTokens.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),cursor=defineTokens.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),durations=defineTokens.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),easings=defineTokens.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),fontSizes=defineTokens.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),fontWeights=defineTokens.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),fallback='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fonts=defineTokens.fonts({heading:{value:`Inter, ${fallback}`},body:{value:`Inter, ${fallback}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),keyframes=defineKeyframes({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),letterSpacings=defineTokens.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),lineHeights=defineTokens.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),radii=defineTokens.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),spacing=defineTokens.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),largeSizes=defineTokens.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),namedSizes=defineTokens.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),fractionalSizes=defineTokens.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),sizes=defineTokens.sizes({...largeSizes,...spacing,...fractionalSizes,...namedSizes}),zIndices=defineTokens.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),defaultThemeConfig=defineConfig({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss,theme:{breakpoints,keyframes,tokens:{aspectRatios,animations,blurs,borders,colors,durations,easings,fonts,fontSizes,fontWeights,letterSpacings,lineHeights,radii,spacing,sizes,zIndex:zIndices,cursor},semanticTokens:{colors:semanticColors,shadows:semanticShadows,radii:semanticRadii},recipes,slotRecipes,textStyles,layerStyles,animationStyles}}),defaultConfig=mergeConfigs(defaultBaseConfig,defaultThemeConfig),defaultSystem=createSystem(defaultConfig),dataAttr=o=>o?"":void 0,StyledGroup=chakra("div",{base:{display:"inline-flex",gap:"0.5rem",isolation:"isolate",position:"relative","& [data-group-item]":{_focusVisible:{zIndex:1}}},variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}},attached:{true:{gap:"0!"}},grow:{true:{display:"flex","& > *":{flex:1}}},stacking:{"first-on-top":{"& > [data-group-item]":{zIndex:"calc(var(--group-count) - var(--group-index))"}},"last-on-top":{"& > [data-group-item]":{zIndex:"var(--group-index)"}}}},compoundVariants:[{orientation:"horizontal",attached:!0,css:{"& > *[data-first]":{borderEndRadius:"0!",marginEnd:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginEnd:"-1px"},"& > *[data-last]":{borderStartRadius:"0!"}}},{orientation:"vertical",attached:!0,css:{"& > *[data-first]":{borderBottomRadius:"0!",marginBottom:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginBottom:"-1px"},"& > *[data-last]":{borderTopRadius:"0!"}}}],defaultVariants:{orientation:"horizontal"}}),Group=reactExports.memo(reactExports.forwardRef(function(i,s){const{align:a="center",justify:$="flex-start",children:j,wrap:et,skip:rt,...st}=i,it=reactExports.useMemo(()=>{let ot=reactExports.Children.toArray(j).filter(reactExports.isValidElement);if(ot.length===1)return ot;const tt=ot.filter(nt=>!(rt!=null&&rt(nt))),_e=tt.length;return tt.length===1?ot:ot.map(nt=>{const at=nt.props;if(rt!=null&&rt(nt))return nt;const lt=tt.indexOf(nt);return reactExports.cloneElement(nt,{...at,"data-group-item":"","data-first":dataAttr(lt===0),"data-last":dataAttr(lt===_e-1),"data-between":dataAttr(lt>0&&lt<_e-1),style:{"--group-count":_e,"--group-index":lt,...(at==null?void 0:at.style)??{}}})})},[j,rt]);return jsxRuntimeExports.jsx(StyledGroup,{ref:s,alignItems:a,justifyContent:$,flexWrap:et,...st,className:cx("chakra-group",i.className),children:it})})),Box=chakra("div");Box.displayName="Box";const Square=reactExports.forwardRef(function(i,s){const{size:a,...$}=i;return jsxRuntimeExports.jsx(Box,{...$,ref:s,boxSize:a,css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,...i.css}})}),Circle=reactExports.forwardRef(function(i,s){const{size:a,...$}=i;return jsxRuntimeExports.jsx(Square,{size:a,ref:s,borderRadius:"9999px",...$})}),Span=chakra("span"),AbsoluteCenter=chakra("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});AbsoluteCenter.displayName="AbsoluteCenter";const{withContext:withContext$f}=createRecipeContext({key:"spinner"}),Spinner=withContext$f("span"),Loader$1=reactExports.forwardRef(function(i,s){const{spinner:a=jsxRuntimeExports.jsx(Spinner,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:$="start",children:j,text:et,visible:rt=!0,...st}=i;return rt?et?jsxRuntimeExports.jsxs(Span,{ref:s,display:"contents",...st,children:[$==="start"&&a,et,$==="end"&&a]}):a?jsxRuntimeExports.jsxs(Span,{ref:s,display:"contents",...st,children:[jsxRuntimeExports.jsx(AbsoluteCenter,{display:"inline-flex",children:a}),jsxRuntimeExports.jsx(Span,{opacity:0,children:j})]}):jsxRuntimeExports.jsx(Span,{ref:s,display:"contents",...st,children:j}):j}),{useRecipeResult:useRecipeResult$1,usePropsContext}=createRecipeContext({key:"button"}),Button$2=reactExports.forwardRef(function(i,s){const a=usePropsContext(),$=reactExports.useMemo(()=>mergeProps$1(a,i),[a,i]),j=useRecipeResult$1($),{loading:et,loadingText:rt,children:st,spinner:it,spinnerPlacement:ot,...tt}=j.props;return jsxRuntimeExports.jsx(chakra.button,{type:"button",ref:s,...tt,disabled:et||tt.disabled,className:cx(j.className,$.className),css:[j.styles,$.css],children:!$.asChild&&et?jsxRuntimeExports.jsx(Loader$1,{spinner:it,text:rt,spinnerPlacement:ot,children:st}):st})}),IconButton=reactExports.forwardRef(function(i,s){return jsxRuntimeExports.jsx(Button$2,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:s,...i})});function Show(o){const{when:i,fallback:s,children:a}=o;let $;return i?$=typeof a=="function"?a(i):a:$=s,reactExports.isValidElement($)?$:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:$})}const ClientOnly=o=>{const{children:i,fallback:s}=o,[a,$]=reactExports.useState(!1);return reactExports.useEffect(()=>{$(!0)},[]),jsxRuntimeExports.jsx(Show,{when:a,fallback:s,children:i})},{withProvider:withProvider$6,withContext:withContext$e}=createSlotRecipeContext({key:"clipboard"});withProvider$6(ClipboardRootProvider,"root",{forwardAsChild:!0});const ClipboardRoot$1=withProvider$6(ClipboardRoot$2,"root",{forwardAsChild:!0}),ClipboardTrigger=withContext$e(ClipboardTrigger$1,"trigger",{forwardAsChild:!0});withContext$e(ClipboardControl,"control",{forwardAsChild:!0});const ClipboardIndicator=withContext$e(ClipboardIndicator$1,"indicator",{forwardAsChild:!0,defaultProps:{copied:jsxRuntimeExports.jsx(CheckIcon,{boxSize:"1em"}),children:jsxRuntimeExports.jsx(CopyIcon,{boxSize:"1em"})}}),ClipboardInput=withContext$e(ClipboardInput$1,"input",{forwardAsChild:!0}),ClipboardLabel=withContext$e(ClipboardLabel$1,"label",{forwardAsChild:!0});withContext$e(ClipboardValueText,"valueText",{forwardAsChild:!0});reactExports.forwardRef(function(i,s){return jsxRuntimeExports.jsx(ClipboardIndicator,{copied:"Copied",...i,ref:s,children:"Copy"})});function getSeparatorStyles(o){const{gap:i,direction:s}=o,a={column:{marginY:i,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:i,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:i,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:i,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":mapObject(s,$=>a[$])}}function getValidChildren(o){return reactExports.Children.toArray(o).filter(i=>reactExports.isValidElement(i))}const Stack=reactExports.forwardRef(function(i,s){const{direction:a="column",align:$,justify:j,gap:et="0.5rem",wrap:rt,children:st,separator:it,className:ot,...tt}=i,_e=reactExports.useMemo(()=>getSeparatorStyles({gap:et,direction:a}),[et,a]),nt=reactExports.useMemo(()=>it?getValidChildren(st).map((at,lt,ut)=>{const ct=typeof at.key<"u"?at.key:lt,dt=reactExports.cloneElement(it,{css:[_e,it.props.css]});return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[at,lt===ut.length-1?null:dt]},ct)}):st,[st,it,_e]);return jsxRuntimeExports.jsx(chakra.div,{ref:s,display:"flex",alignItems:$,justifyContent:j,flexDirection:a,flexWrap:rt,gap:it?void 0:et,className:cx("chakra-stack",ot),...tt,children:nt})}),{withRootProvider:withRootProvider$2,withContext:withContext$d}=createSlotRecipeContext({key:"drawer"});withRootProvider$2(DialogRootProvider,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const DrawerRoot$1=withRootProvider$2(DialogRoot,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),DrawerTrigger$1=withContext$d(DialogTrigger,"trigger",{forwardAsChild:!0}),DrawerPositioner=withContext$d(DialogPositioner,"positioner",{forwardAsChild:!0}),DrawerContent$1=withContext$d(DialogContent,"content",{forwardAsChild:!0});withContext$d(DialogDescription,"description",{forwardAsChild:!0});const DrawerTitle$1=withContext$d(DialogTitle,"title",{forwardAsChild:!0}),DrawerCloseTrigger$1=withContext$d(DialogCloseTrigger,"closeTrigger",{forwardAsChild:!0}),DrawerActionTrigger$1=reactExports.forwardRef(function(i,s){const a=useDialogContext();return jsxRuntimeExports.jsx(chakra.button,{...i,ref:s,onClick:()=>a.setOpen(!1)})}),DrawerBackdrop$1=withContext$d(DialogBackdrop,"backdrop",{forwardAsChild:!0}),DrawerBody$1=withContext$d("div","body"),DrawerFooter$1=withContext$d("div","footer"),DrawerHeader$1=withContext$d("div","header"),{useRecipeResult}=createRecipeContext({key:"icon"}),Icon=reactExports.forwardRef(function(i,s){const{styles:a,className:$,props:j}=useRecipeResult({asChild:!i.as,...i});return jsxRuntimeExports.jsx(chakra.svg,{ref:s,focusable:!1,"aria-hidden":"true",...j,css:[a,i.css],className:cx($,i.className)})});function createIcon(o){const{viewBox:i="0 0 24 24",d:s,displayName:a,defaultProps:$={}}=o,j=reactExports.Children.toArray(o.path),et=reactExports.forwardRef((rt,st)=>jsxRuntimeExports.jsx(Icon,{ref:st,asChild:!1,viewBox:i,...$,...rt,children:j.length?j:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:s})}));return et.displayName=a,et}const{withProvider:withProvider$5,withContext:withContext$c,useStyles:useFieldStyles,useClassNames}=createSlotRecipeContext({key:"field"}),FieldRoot=withProvider$5(FieldRoot$1,"root",{forwardAsChild:!0}),FieldLabel=withContext$c(FieldLabel$1,"label",{forwardAsChild:!0}),FieldHelperText=withContext$c(FieldHelperText$1,"helperText",{forwardAsChild:!0}),FieldErrorText=withContext$c(FieldErrorText$1,"errorText",{forwardAsChild:!0});createIcon({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"});const FieldRequiredIndicator=reactExports.forwardRef(function(i,s){const{fallback:a,children:$="*",...j}=i,et=useFieldContext(),rt=useClassNames(),st=useFieldStyles();return et!=null&&et.required?jsxRuntimeExports.jsx(chakra.span,{ref:s,"aria-hidden":"true",...j,className:cx(rt.requiredIndicator,i.className),css:[st.requiredIndicator,i.css],children:$}):a}),Flex=reactExports.forwardRef(function(i,s){const{direction:a,align:$,justify:j,wrap:et,basis:rt,grow:st,shrink:it,inline:ot,...tt}=i;return jsxRuntimeExports.jsx(chakra.div,{ref:s,...tt,css:{display:ot?"inline-flex":"flex",flexDirection:a,alignItems:$,justifyContent:j,flexWrap:et,flexBasis:rt,flexGrow:st,flexShrink:it,...i.css}})}),Image$1=reactExports.forwardRef(function(i,s){const{align:a,fit:$="cover",...j}=i;return jsxRuntimeExports.jsx(chakra.img,{ref:s,objectFit:$,objectPosition:a,className:cx("chakra-image",i.className),...j})}),{withContext:withContext$b}=createRecipeContext({key:"input"}),Input$1=withContext$b(FieldInput),InputElement=chakra("div",{base:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:2,color:"fg.muted",height:"full",fontSize:"sm",px:"3"},variants:{placement:{start:{insetInlineStart:"0"},end:{insetInlineEnd:"0"}}}}),{withRootProvider:withRootProvider$1,withContext:withContext$a}=createSlotRecipeContext({key:"menu"});withRootProvider$1(MenuRootProvider);const MenuRoot=withRootProvider$1(MenuRoot$1,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),MenuTrigger=withContext$a(MenuTrigger$1,"trigger",{forwardAsChild:!0});withContext$a(MenuContextTrigger,"contextTrigger",{forwardAsChild:!0});const MenuPositioner=withContext$a(MenuPositioner$1,"positioner",{forwardAsChild:!0});withContext$a(MenuSeparator,"separator",{forwardAsChild:!0});const MenuContent=withContext$a(MenuContent$1,"content",{forwardAsChild:!0}),MenuArrowTip=withContext$a(MenuArrowTip$1,"arrowTip",{forwardAsChild:!0});withContext$a(MenuArrow,"arrow",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(MenuArrowTip,{})}});withContext$a(MenuIndicator,"indicator",{forwardAsChild:!0});withContext$a(MenuItemGroup,"itemGroup",{forwardAsChild:!0});withContext$a(MenuItemGroupLabel,"itemGroupLabel",{forwardAsChild:!0});withContext$a(MenuItem,"item",{forwardAsChild:!0});withContext$a(MenuTriggerItem,"item",{forwardAsChild:!0});withContext$a(MenuItemText,"itemText",{forwardAsChild:!0});withContext$a("kbd","itemCommand");const MenuItemIndicator=withContext$a(MenuItemIndicator$1,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CheckIcon,{boxSize:"4"})}});withContext$a(MenuCheckboxItem,"item",{forwardAsChild:!0});const MenuRadioItemGroup=withContext$a(MenuRadioItemGroup$1,"itemGroup",{forwardAsChild:!0}),MenuRadioItem=withContext$a(MenuRadioItem$1,"item",{forwardAsChild:!0}),{withProvider:withProvider$4,withContext:withContext$9}=createSlotRecipeContext({key:"numberInput"});withProvider$4(NumberInputRootProvider,"root",{forwardAsChild:!0});const NumberInputRoot=withProvider$4(NumberInputRoot$1,"root",{forwardAsChild:!0});withContext$9(NumberInputLabel,"label",{forwardAsChild:!0});const NumberInputInput=withContext$9(NumberInputInput$1,"input",{forwardAsChild:!0}),NumberInputIncrementTrigger=withContext$9(NumberInputIncrementTrigger$1,"incrementTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronUpIcon,{})}}),NumberInputDecrementTrigger=withContext$9(NumberInputDecrementTrigger$1,"decrementTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronDownIcon,{})}}),NumberInputControl=withContext$9(NumberInputControl$1,"control",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(NumberInputIncrementTrigger,{}),jsxRuntimeExports.jsx(NumberInputDecrementTrigger,{})]})}});withContext$9(NumberInputScrubber,"scrubber",{forwardAsChild:!0});withContext$9(NumberInputValueText,"valueText",{forwardAsChild:!0});const{withProvider:withProvider$3,withContext:withContext$8}=createSlotRecipeContext({key:"select"});withProvider$3(SelectRootProvider,"root",{forwardAsChild:!0});const SelectRoot$1=withProvider$3(SelectRoot$2,"root",{forwardAsChild:!0,defaultProps:{positioning:{sameWidth:!0}}}),SelectTrigger$1=withContext$8(SelectTrigger$2,"trigger",{forwardAsChild:!0}),SelectPositioner=withContext$8(SelectPositioner$1,"positioner",{forwardAsChild:!0}),SelectContent$1=withContext$8(SelectContent$2,"content",{forwardAsChild:!0}),SelectValueText$1=withContext$8(SelectValueText$2,"valueText",{forwardAsChild:!0}),SelectClearTrigger$1=withContext$8(SelectClearTrigger$2,"clearTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CloseIcon,{boxSize:"1em"})}}),SelectItemGroup=withContext$8(SelectItemGroup$1,"itemGroup",{forwardAsChild:!0}),SelectItemGroupLabel=withContext$8(SelectItemGroupLabel$1,"itemGroupLabel",{forwardAsChild:!0}),SelectItem$1=withContext$8(SelectItem$2,"item",{forwardAsChild:!0});withContext$8(SelectItemText,"itemText",{forwardAsChild:!0});const SelectItemIndicator=withContext$8(SelectItemIndicator$1,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CheckIcon,{})}}),SelectIndicatorGroup=withContext$8("div","indicatorGroup"),SelectIndicator=withContext$8(SelectIndicator$1,"indicator",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronDownIcon,{})}}),SelectControl=withContext$8(SelectControl$1,"control",{forwardAsChild:!0});withContext$8(SelectLabel,"label",{forwardAsChild:!0});const SelectContext=SelectContext$1,SelectHiddenSelect=SelectHiddenSelect$1,{withContext:withContext$7}=createRecipeContext({key:"skeleton"}),Skeleton=withContext$7("div");reactExports.forwardRef(function(i,s){const{size:a,...$}=i;return jsxRuntimeExports.jsx(Circle,{size:a,asChild:!0,ref:s,children:jsxRuntimeExports.jsx(Skeleton,{...$})})});reactExports.forwardRef(function(i,s){const{noOfLines:a=3,gap:$,rootProps:j,...et}=i;return jsxRuntimeExports.jsx(Stack,{gap:$,width:"full",ref:s,...j,children:Array.from({length:a}).map((rt,st)=>jsxRuntimeExports.jsx(Skeleton,{height:"4",_last:{maxW:a===1?"100%":"80%"},...et},st))})});const HStack=reactExports.forwardRef(function(i,s){return jsxRuntimeExports.jsx(Stack,{align:"center",...i,direction:"row",ref:s})}),VStack=reactExports.forwardRef(function(i,s){return jsxRuntimeExports.jsx(Stack,{align:"center",...i,direction:"column",ref:s})}),{withProvider:withProvider$2,withContext:withContext$6,useStyles:useSwitchStyles}=createSlotRecipeContext({key:"switch"});withProvider$2(SwitchRootProvider,"root",{forwardAsChild:!0});const SwitchRoot=withProvider$2(SwitchRoot$1,"root",{forwardAsChild:!0}),SwitchLabel=withContext$6(SwitchLabel$1,"label",{forwardAsChild:!0}),SwitchThumb=withContext$6(SwitchThumb$1,"thumb",{forwardAsChild:!0}),SwitchControl=withContext$6(SwitchControl$1,"control",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(SwitchThumb,{})}}),SwitchIndicator=reactExports.forwardRef(function(i,s){const a=useSwitchContext(),$=useSwitchStyles(),{fallback:j,children:et,...rt}=i;return jsxRuntimeExports.jsx(chakra.span,{ref:s,"data-checked":dataAttr(a.checked),...rt,css:[$.indicator,i.css],children:a.checked?et:j})}),SwitchThumbIndicator=reactExports.forwardRef(function(i,s){const a=useSwitchContext(),{fallback:$,children:j,...et}=i;return jsxRuntimeExports.jsx(chakra.span,{ref:s,"data-checked":dataAttr(a.checked),...et,children:a.checked?j:$})}),SwitchHiddenInput=SwitchHiddenInput$1,{withProvider:withProvider$1,withContext:withContext$5}=createSlotRecipeContext({key:"tabs"});withProvider$1(TabsRootProvider,"root",{forwardAsChild:!0});const TabsRoot=withProvider$1(TabsRoot$1,"root",{forwardAsChild:!0}),TabsTrigger=withContext$5(TabTrigger,"trigger",{forwardAsChild:!0}),TabsContent=withContext$5(TabContent,"content",{forwardAsChild:!0}),TabsContentGroup=withContext$5("div","contentGroup"),TabsList=withContext$5(TabList,"list",{forwardAsChild:!0});withContext$5(TabIndicator,"indicator",{forwardAsChild:!0});const{withContext:withContext$4}=createRecipeContext({key:"textarea"}),Textarea=withContext$4(FieldTextarea),{withProvider,withContext:withContext$3,useStyles:useToastStyles}=createSlotRecipeContext({key:"toast"}),Toaster$1=chakra(Toaster$2,{},{forwardAsChild:!0}),ToastRoot=withProvider(ToastRoot$1,"root",{forwardAsChild:!0}),ToastCloseTrigger=withContext$3(ToastCloseTrigger$1,"closeTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CloseIcon,{})}}),ToastTitle=withContext$3(ToastTitle$1,"title",{forwardAsChild:!0}),ToastDescription=withContext$3(ToastDescription$1,"description",{forwardAsChild:!0}),ToastActionTrigger=withContext$3(ToastActionTrigger$1,"actionTrigger",{forwardAsChild:!0}),iconMap={warning:WarningIcon,success:CheckCircleIcon,error:WarningIcon},ToastIndicator=reactExports.forwardRef(function(i,s){const a=useToastContext(),$=useToastStyles(),j=iconMap[a.type];return j?jsxRuntimeExports.jsx(j,{ref:s,...i,css:[$.indicator,i.css]}):null}),{withRootProvider,withContext:withContext$2}=createSlotRecipeContext({key:"tooltip"});withRootProvider(TooltipRootProvider);const TooltipRoot=withRootProvider(TooltipRoot$1,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),TooltipTrigger=withContext$2(TooltipTrigger$1,"trigger",{forwardAsChild:!0}),TooltipPositioner=withContext$2(TooltipPositioner$1,"positioner",{forwardAsChild:!0}),TooltipContent=withContext$2(TooltipContent$1,"content",{forwardAsChild:!0}),TooltipArrowTip=withContext$2(TooltipArrowTip$1,"arrowTip",{forwardAsChild:!0}),TooltipArrow=withContext$2(TooltipArrow$1,"arrow",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(TooltipArrowTip,{})}}),{withContext:withContext$1}=createRecipeContext({key:"heading"}),Heading=withContext$1("h2"),{withContext}=createRecipeContext({key:"text"}),Text=withContext("p");var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$x=["attr","size","title"];function _objectWithoutProperties$x(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$x(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$x(o,i){if(o==null)return{};var s={};for(var a in o)if(Object.prototype.hasOwnProperty.call(o,a)){if(i.indexOf(a)>=0)continue;s[a]=o[a]}return s}function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$w.apply(this,arguments)}function ownKeys$2(o,i){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);i&&(a=a.filter(function($){return Object.getOwnPropertyDescriptor(o,$).enumerable})),s.push.apply(s,a)}return s}function _objectSpread$2(o){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$2(Object(s),!0).forEach(function(a){_defineProperty$g(o,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):ownKeys$2(Object(s)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(s,a))})}return o}function _defineProperty$g(o,i,s){return i=_toPropertyKey$f(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$f(o){var i=_toPrimitive$f(o,"string");return typeof i=="symbol"?i:i+""}function _toPrimitive$f(o,i){if(typeof o!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function Tree2Element(o){return o&&o.map((i,s)=>React.createElement(i.tag,_objectSpread$2({key:s},i.attr),Tree2Element(i.child)))}function GenIcon(o){return i=>React.createElement(IconBase,_extends$w({attr:_objectSpread$2({},o.attr)},i),Tree2Element(o.child))}function IconBase(o){var i=s=>{var{attr:a,size:$,title:j}=o,et=_objectWithoutProperties$x(o,_excluded$x),rt=$||s.size||"1em",st;return s.className&&(st=s.className),o.className&&(st=(st?st+" ":"")+o.className),React.createElement("svg",_extends$w({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,et,{className:st,style:_objectSpread$2(_objectSpread$2({color:o.color||s.color},s.style),o.style),height:rt,width:rt,xmlns:"http://www.w3.org/2000/svg"}),j&&React.createElement("title",null,j),o.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,s=>i(s)):i(DefaultContext)}function FiCamera(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(o)}function FiChevronDown(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(o)}function FiChevronLeft(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(o)}function FiChevronsDown(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(o)}function FiClock(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(o)}function FiGlobe(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(o)}function FiLayers(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(o)}function FiMaximize2(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(o)}function FiMaximize(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"},child:[]}]})(o)}function FiMinimize2(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"},child:[]},{tag:"polyline",attr:{points:"20 10 14 10 14 4"},child:[]},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(o)}function FiMinus(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(o)}function FiMonitor(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(o)}function FiPlus(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(o)}function FiSettings(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(o)}function FiTrash2(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(o)}function FiUsers(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(o)}function FiX(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(o)}const isElectron$2=window.api!==void 0,commonStyles={scrollbar:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{bg:"var(--app-panel-weak)",borderRadius:"full"},"&::-webkit-scrollbar-thumb":{bg:"rgba(28, 29, 33, 0.28)",borderRadius:"full"}},panel:{border:"1px solid",borderColor:"var(--app-border)",borderRadius:"lg",bg:"var(--app-panel)",boxShadow:"var(--app-shadow)",backdropFilter:"blur(10px) saturate(140%)"}},sidebarStyles={sidebar:{container:o=>({position:"absolute",left:0,top:0,height:"100%",width:"440px",bg:"var(--app-panel-strong)",borderRight:"1px solid",borderColor:"var(--app-border)",transform:o?"translateX(calc(-100% + 24px))":"translateX(0)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",flexDirection:"column",gap:3,overflow:o?"visible":"hidden",pb:"4",backdropFilter:"blur(14px) saturate(140%)",boxShadow:"var(--app-shadow)",animation:"appFadeUp 600ms ease-out"}),toggleButton:{position:"absolute",right:0,top:0,width:"24px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--app-text-muted)",_hover:{color:"var(--app-text)"},bg:"transparent",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:1},content:{flex:1,width:"100%",display:"flex",flexDirection:"column",gap:4,overflow:"hidden"},header:{width:"100%",display:"flex",alignItems:"center",gap:1,p:3},headerButton:{size:"sm",variant:"ghost",color:"var(--app-text-muted)",borderRadius:"md",_hover:{color:"var(--app-text)",bg:"var(--app-panel-weak)"},_focusVisible:{outline:"2px solid",outlineColor:"var(--app-accent)",outlineOffset:"2px"}}},chatHistoryPanel:{messageList:{css:{...commonStyles.scrollbar}}},historyDrawer:{listContainer:{flex:1,overflowY:"auto",px:4,py:2,css:commonStyles.scrollbar},historyItem:{mb:4,p:3,borderRadius:"md",bg:"var(--app-panel-weak)",cursor:"pointer",transition:"all 0.2s",_hover:{bg:"rgba(28, 29, 33, 0.08)"}},historyItemSelected:{bg:"var(--app-accent-soft)",borderLeft:"3px solid",borderColor:"var(--app-accent)"},historyHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},timestamp:{fontSize:"sm",color:"var(--app-text-muted)",fontFamily:"var(--font-mono)"},deleteButton:{variant:"ghost",colorScheme:"red",size:"sm",color:"red.300",opacity:.8,_hover:{opacity:1,bg:"var(--app-panel-weak)"}},messagePreview:{fontSize:"sm",color:"var(--app-text)",noOfLines:2,overflow:"hidden",textOverflow:"ellipsis"},drawer:{content:{background:"var(--app-panel-strong)",maxWidth:"440px",marginTop:isElectron$2?"30px":"0",height:isElectron$2?"calc(100vh - 30px)":"100vh"},title:{color:"var(--app-text)"},closeButton:{color:"var(--app-text)"},actionButton:{color:"var(--app-text)",borderColor:"var(--app-border)",variant:"outline"}}},cameraPanel:{container:{width:"100%",overflow:"hidden",px:4,minH:"240px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},videoContainer:{...commonStyles.panel,width:"100%",height:"240px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",transition:"all 0.2s"},video:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)",borderRadius:"8px",display:"block"}},screenPanel:{container:{width:"100%",overflow:"hidden",px:4,minH:"240px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},screenContainer:{...commonStyles.panel,width:"100%",height:"240px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",transition:"all 0.2s"},video:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",display:"block"}},browserPanel:{container:{width:"100%",overflow:"hidden",px:4,minH:"240px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},browserContainer:{...commonStyles.panel,width:"100%",height:"240px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",transition:"all 0.2s",cursor:"pointer",_hover:{bg:"var(--app-panel-weak)"}},iframe:{width:"100%",height:"100%",border:"none",borderRadius:"8px"}},bottomTab:{container:{width:"100%",px:4,position:"relative",zIndex:0},list:{borderBottom:"none",gap:"2"},trigger:{color:"var(--app-text-muted)",display:"flex",alignItems:"center",gap:2,px:3,py:2,borderRadius:"md",_hover:{color:"var(--app-text)",bg:"var(--app-panel-weak)"},_selected:{color:"var(--app-text)",bg:"var(--app-accent-soft)"}}},groupDrawer:{section:{mb:6},sectionTitle:{fontSize:"lg",fontWeight:"semibold",color:"var(--app-text)",mb:3},inviteBox:{display:"flex",gap:2},input:{bg:"var(--app-panel-weak)",border:"none",color:"var(--app-text)",_placeholder:{color:"var(--app-text-muted)"}},memberList:{display:"flex",flexDirection:"column",gap:2},memberItem:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderRadius:"md",bg:"var(--app-panel-weak)"},memberText:{color:"var(--app-text)",fontSize:"sm"},removeButton:{size:"sm",color:"red.300",bg:"transparent",_hover:{bg:"var(--app-panel-weak)"}},button:{color:"var(--app-text)",bg:"var(--app-panel-weak)",_hover:{bg:"rgba(28, 29, 33, 0.08)"}},clipboardButton:{color:"var(--app-text)",bg:"transparent",_hover:{bg:"var(--app-panel-weak)"},size:"sm"}},toolCallIndicator:{container:{pl:"44px",my:"1",gap:2,width:"100%",minHeight:"24px",display:"flex",alignItems:"center",justifyContent:"center"},icon:{color:"var(--app-accent-3)",boxSize:"14px"},text:{fontSize:"xs",color:"var(--app-text-muted)",fontStyle:"italic"},spinner:{color:"var(--app-accent-3)",ml:0},completedIcon:{color:"var(--app-accent)",boxSize:"14px",ml:0},errorIcon:{color:"red.300",boxSize:"14px",ml:0}}},chatPanelStyles=css$2`
  .cs-message-list {
    background: var(--app-panel-strong) !important;
    padding: var(--chakra-space-4);
  }
  
  .cs-message {
    margin: 12px 0;
    // padding-top: 20px !important;
  }

  .cs-message__content {
    background-color: var(--app-panel) !important;
    border-radius: var(--chakra-radii-md);
    padding: 8px !important;
    color: var(--app-text) !important;
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
    margin-top: 4px !important;
  }

  .cs-message__text {
    padding: 8px 0 !important;
  }

  .cs-message--outgoing .cs-message__content {
    background-color: var(--app-accent-soft) !important;
  }

  .cs-chat-container {
    background: transparent !important;
    border: 1px solid var(--app-border);
    border-radius: var(--chakra-radii-lg);
    padding: var(--chakra-space-2);
  }

  .cs-main-container {
    border: none !important;
    background: transparent !important;
    width: calc(100% - 24px) !important;
    margin-left: 0 !important;
  }

  .cs-message__sender {
    position: absolute !important;
    top: 0 !important;
    left: 36px !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    color: var(--app-text) !important;
  }

  .cs-message__content-wrapper {
    max-width: 80%;
    margin: 0 8px;
  }

  .cs-avatar {
    background-color: var(--app-accent-2) !important;
    color: var(--app-text) !important;
    width: 28px !important;
    height: 28px !important;
    font-size: 14px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
  }

  .cs-message--outgoing .cs-avatar {
    background-color: var(--app-accent) !important;
  }

  .cs-message__header {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
`,warn=(o,i,s,a)=>{var j,et,rt,st;const $=[s,{code:i,...a||{}}];if((et=(j=o==null?void 0:o.services)==null?void 0:j.logger)!=null&&et.forward)return o.services.logger.forward($,"warn","react-i18next::",!0);isString$1($[0])&&($[0]=`react-i18next:: ${$[0]}`),(st=(rt=o==null?void 0:o.services)==null?void 0:rt.logger)!=null&&st.warn?o.services.logger.warn(...$):console!=null&&console.warn&&console.warn(...$)},alreadyWarned={},warnOnce=(o,i,s,a)=>{isString$1(s)&&alreadyWarned[s]||(isString$1(s)&&(alreadyWarned[s]=new Date),warn(o,i,s,a))},loadedClb=(o,i)=>()=>{if(o.isInitialized)i();else{const s=()=>{setTimeout(()=>{o.off("initialized",s)},0),i()};o.on("initialized",s)}},loadNamespaces=(o,i,s)=>{o.loadNamespaces(i,loadedClb(o,s))},loadLanguages=(o,i,s,a)=>{if(isString$1(s)&&(s=[s]),o.options.preload&&o.options.preload.indexOf(i)>-1)return loadNamespaces(o,s,a);s.forEach($=>{o.options.ns.indexOf($)<0&&o.options.ns.push($)}),o.loadLanguages(i,loadedClb(o,a))},hasLoadedNamespace=(o,i,s={})=>!i.languages||!i.languages.length?(warnOnce(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(o,{lng:s.lng,precheck:(a,$)=>{var j;if(((j=s.bindI18n)==null?void 0:j.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!$(a.isLanguageChangingTo,o))return!1}}),isString$1=o=>typeof o=="string",isObject=o=>typeof o=="object"&&o!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=o=>htmlEntities[o],unescape=o=>o.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions$1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};const setDefaults=(o={})=>{defaultOptions$1={...defaultOptions$1,...o}},getDefaults$1=()=>defaultOptions$1;let i18nInstance;const setI18n=o=>{i18nInstance=o},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(o){setDefaults(o.options.react),setI18n(o)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious=(o,i)=>{const s=reactExports.useRef();return reactExports.useEffect(()=>{s.current=o},[o,i]),s.current},alwaysNewT=(o,i,s,a)=>o.getFixedT(i,s,a),useMemoizedT=(o,i,s,a)=>reactExports.useCallback(alwaysNewT(o,i,s,a),[o,i,s,a]),useTranslation=(o,i={})=>{var ht,gt,yt,bt;const{i18n:s}=i,{i18n:a,defaultNS:$}=reactExports.useContext(I18nContext)||{},j=s||a||getI18n();if(j&&!j.reportNamespaces&&(j.reportNamespaces=new ReportNamespaces),!j){warnOnce(j,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const vt=(xt,wt)=>isString$1(wt)?wt:isObject(wt)&&isString$1(wt.defaultValue)?wt.defaultValue:Array.isArray(xt)?xt[xt.length-1]:xt,mt=[vt,{},!1];return mt.t=vt,mt.i18n={},mt.ready=!1,mt}(ht=j.options.react)!=null&&ht.wait&&warnOnce(j,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const et={...getDefaults$1(),...j.options.react,...i},{useSuspense:rt,keyPrefix:st}=et;let it=$||((gt=j.options)==null?void 0:gt.defaultNS);it=isString$1(it)?[it]:it||["translation"],(bt=(yt=j.reportNamespaces).addUsedNamespaces)==null||bt.call(yt,it);const ot=(j.isInitialized||j.initializedStoreOnce)&&it.every(vt=>hasLoadedNamespace(vt,j,et)),tt=useMemoizedT(j,i.lng||null,et.nsMode==="fallback"?it:it[0],st),_e=()=>tt,nt=()=>alwaysNewT(j,i.lng||null,et.nsMode==="fallback"?it:it[0],st),[at,lt]=reactExports.useState(_e);let ut=it.join();i.lng&&(ut=`${i.lng}${ut}`);const ct=usePrevious(ut),dt=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:vt,bindI18nStore:mt}=et;dt.current=!0,!ot&&!rt&&(i.lng?loadLanguages(j,i.lng,it,()=>{dt.current&&lt(nt)}):loadNamespaces(j,it,()=>{dt.current&&lt(nt)})),ot&&ct&&ct!==ut&&dt.current&&lt(nt);const xt=()=>{dt.current&&lt(nt)};return vt&&(j==null||j.on(vt,xt)),mt&&(j==null||j.store.on(mt,xt)),()=>{dt.current=!1,j&&(vt==null||vt.split(" ").forEach(wt=>j.off(wt,xt))),mt&&j&&mt.split(" ").forEach(wt=>j.store.off(wt,xt))}},[j,ut]),reactExports.useEffect(()=>{dt.current&&ot&&lt(_e)},[j,st,ot]);const ft=[at,j,ot];if(ft.t=at,ft.i18n=j,ft.ready=ot,ot||!ot&&!rt)return ft;throw new Promise(vt=>{i.lng?loadLanguages(j,i.lng,it,()=>vt()):loadNamespaces(j,it,()=>vt())})};function LuBell(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"},child:[]},{tag:"path",attr:{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"},child:[]}]})(o)}function LuCheck(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 6 9 17l-5-5"},child:[]}]})(o)}function LuClipboard(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]}]})(o)}function LuHand(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2"},child:[]},{tag:"path",attr:{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"},child:[]},{tag:"path",attr:{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8"},child:[]},{tag:"path",attr:{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"},child:[]}]})(o)}function LuLink(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(o)}function LuMicOff(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"2",x2:"22",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2"},child:[]},{tag:"path",attr:{d:"M5 10v2a7 7 0 0 0 12 5"},child:[]},{tag:"path",attr:{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33"},child:[]},{tag:"path",attr:{d:"M9 9v3a3 3 0 0 0 5.12 2.12"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"19",y2:"22"},child:[]}]})(o)}function LuMic(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"19",y2:"22"},child:[]}]})(o)}function LuMoon(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(o)}function LuSend(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"},child:[]},{tag:"path",attr:{d:"m21.854 2.147-10.94 10.939"},child:[]}]})(o)}function LuSun(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(o)}function LuX(o){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(o)}const CloseButton=reactExports.forwardRef((o,i)=>jsxRuntimeExports.jsx(IconButton,{variant:"ghost","aria-label":"Close",ref:i,...o,children:o.children??jsxRuntimeExports.jsx(LuX,{})})),isElectron$1=window.api!==void 0,settingStyles={settingUI:{tabs:{root:{width:"100%",variant:"plain",colorPalette:"gray"},content:{},trigger:{color:"var(--app-text-muted)",px:3,py:2,borderRadius:"md",_selected:{color:"var(--app-text)",bg:"var(--app-panel-strong)"},_hover:{color:"var(--app-text)",bg:"var(--app-panel-weak)"}},list:{display:"flex",justifyContent:"flex-start",width:"100%",borderBottom:"none",bg:"var(--app-panel-weak)",borderRadius:"lg",p:1,gap:1,mb:4,pl:0}},drawerContent:{bg:"var(--app-panel-strong)",backdropFilter:"blur(12px) saturate(140%)",maxWidth:"440px",height:isElectron$1?"calc(100vh - 30px)":"100vh",borderLeft:"1px solid",borderColor:"var(--app-border)",boxShadow:"var(--app-shadow)"},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",position:"relative",px:6,py:4},drawerTitle:{color:"var(--app-text)",fontSize:"lg",fontWeight:"semibold"},closeButton:{position:"absolute",right:1,top:1,color:"var(--app-text)"}},general:{field:{label:{color:"var(--app-text)"}},select:{root:{colorPalette:"gray",bg:"var(--app-panel-weak)"},trigger:{bg:"var(--app-panel-weak)",borderColor:"var(--app-border)"},content:{bg:"var(--app-panel-strong)",color:"var(--app-text)",borderColor:"var(--app-border)"},item:{color:"var(--app-text)",_hover:{bg:"var(--app-panel-weak)"},_highlighted:{bg:"rgba(28, 29, 33, 0.08)"},_selected:{bg:"rgba(28, 29, 33, 0.12)"}}},input:{bg:"var(--app-panel-weak)",borderColor:"var(--app-border)"}},common:{field:{orientation:"horizontal"},fieldLabel:{fontSize:"sm",color:"var(--app-text)",whiteSpace:"nowrap"},switch:{size:"md",colorPalette:"blue",variant:"solid"},numberInput:{root:{pattern:"[0-9]*\\.?[0-9]*",inputMode:"decimal"},input:{bg:"var(--app-panel-weak)",borderColor:"var(--app-border)",_hover:{bg:"rgba(28, 29, 33, 0.06)"}}},container:{gap:8,maxW:"sm",css:{"--field-label-width":"120px"}}}};function useLocalStorage(o,i,s){const[a,$]=reactExports.useState(()=>{try{const et=window.localStorage.getItem(o);return et?JSON.parse(et):i}catch(et){return console.error(`Error reading localStorage key "${o}":`,et),i}});return[a,et=>{try{const rt=et instanceof Function?et(a):et,st=s!=null&&s.filter?s.filter(rt):rt;$(rt),window.localStorage.setItem(o,JSON.stringify(st))}catch(rt){console.error(`Error setting localStorage key "${o}":`,rt)}}]}var extendStatics=function(o,i){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var $ in a)Object.prototype.hasOwnProperty.call(a,$)&&(s[$]=a[$])},extendStatics(o,i)};function __extends(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");extendStatics(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}function __values(o){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&o[i],a=0;if(s)return s.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,i){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var a=s.call(o),$,j=[],et;try{for(;(i===void 0||i-- >0)&&!($=a.next()).done;)j.push($.value)}catch(rt){et={error:rt}}finally{try{$&&!$.done&&(s=a.return)&&s.call(a)}finally{if(et)throw et.error}}return j}function __spreadArray(o,i,s){if(s||arguments.length===2)for(var a=0,$=i.length,j;a<$;a++)(j||!(a in i))&&(j||(j=Array.prototype.slice.call(i,0,a)),j[a]=i[a]);return o.concat(j||Array.prototype.slice.call(i))}typeof SuppressedError=="function"&&SuppressedError;function isFunction(o){return typeof o=="function"}function createErrorClass(o){var i=function(a){Error.call(a),a.stack=new Error().stack},s=o(i);return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}var UnsubscriptionError=createErrorClass(function(o){return function(s){o(this),this.message=s?s.length+` errors occurred during unsubscription:
`+s.map(function(a,$){return $+1+") "+a.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=s}});function arrRemove(o,i){if(o){var s=o.indexOf(i);0<=s&&o.splice(s,1)}}var Subscription=function(){function o(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}return o.prototype.unsubscribe=function(){var i,s,a,$,j;if(!this.closed){this.closed=!0;var et=this._parentage;if(et)if(this._parentage=null,Array.isArray(et))try{for(var rt=__values(et),st=rt.next();!st.done;st=rt.next()){var it=st.value;it.remove(this)}}catch(lt){i={error:lt}}finally{try{st&&!st.done&&(s=rt.return)&&s.call(rt)}finally{if(i)throw i.error}}else et.remove(this);var ot=this.initialTeardown;if(isFunction(ot))try{ot()}catch(lt){j=lt instanceof UnsubscriptionError?lt.errors:[lt]}var tt=this._finalizers;if(tt){this._finalizers=null;try{for(var _e=__values(tt),nt=_e.next();!nt.done;nt=_e.next()){var at=nt.value;try{execFinalizer(at)}catch(lt){j=j??[],lt instanceof UnsubscriptionError?j=__spreadArray(__spreadArray([],__read(j)),__read(lt.errors)):j.push(lt)}}}catch(lt){a={error:lt}}finally{try{nt&&!nt.done&&($=_e.return)&&$.call(_e)}finally{if(a)throw a.error}}}if(j)throw new UnsubscriptionError(j)}},o.prototype.add=function(i){var s;if(i&&i!==this)if(this.closed)execFinalizer(i);else{if(i instanceof o){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(s=this._finalizers)!==null&&s!==void 0?s:[]).push(i)}},o.prototype._hasParent=function(i){var s=this._parentage;return s===i||Array.isArray(s)&&s.includes(i)},o.prototype._addParent=function(i){var s=this._parentage;this._parentage=Array.isArray(s)?(s.push(i),s):s?[s,i]:i},o.prototype._removeParent=function(i){var s=this._parentage;s===i?this._parentage=null:Array.isArray(s)&&arrRemove(s,i)},o.prototype.remove=function(i){var s=this._finalizers;s&&arrRemove(s,i),i instanceof o&&i._removeParent(this)},o.EMPTY=function(){var i=new o;return i.closed=!0,i}(),o}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(o){return o instanceof Subscription||o&&"closed"in o&&isFunction(o.remove)&&isFunction(o.add)&&isFunction(o.unsubscribe)}function execFinalizer(o){isFunction(o)?o():o.unsubscribe()}var config$1={Promise:void 0},timeoutProvider={setTimeout:function(o,i){for(var s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];return setTimeout.apply(void 0,__spreadArray([o,i],__read(s)))},clearTimeout:function(o){return clearTimeout(o)},delegate:void 0};function reportUnhandledError(o){timeoutProvider.setTimeout(function(){throw o})}function noop$3(){}function errorContext(o){o()}var Subscriber=function(o){__extends(i,o);function i(s){var a=o.call(this)||this;return a.isStopped=!1,s?(a.destination=s,isSubscription(s)&&s.add(a)):a.destination=EMPTY_OBSERVER,a}return i.create=function(s,a,$){return new SafeSubscriber(s,a,$)},i.prototype.next=function(s){this.isStopped||this._next(s)},i.prototype.error=function(s){this.isStopped||(this.isStopped=!0,this._error(s))},i.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},i.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this),this.destination=null)},i.prototype._next=function(s){this.destination.next(s)},i.prototype._error=function(s){try{this.destination.error(s)}finally{this.unsubscribe()}},i.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},i}(Subscription),ConsumerObserver=function(){function o(i){this.partialObserver=i}return o.prototype.next=function(i){var s=this.partialObserver;if(s.next)try{s.next(i)}catch(a){handleUnhandledError(a)}},o.prototype.error=function(i){var s=this.partialObserver;if(s.error)try{s.error(i)}catch(a){handleUnhandledError(a)}else handleUnhandledError(i)},o.prototype.complete=function(){var i=this.partialObserver;if(i.complete)try{i.complete()}catch(s){handleUnhandledError(s)}},o}(),SafeSubscriber=function(o){__extends(i,o);function i(s,a,$){var j=o.call(this)||this,et;return isFunction(s)||!s?et={next:s??void 0,error:a??void 0,complete:$??void 0}:et=s,j.destination=new ConsumerObserver(et),j}return i}(Subscriber);function handleUnhandledError(o){reportUnhandledError(o)}function defaultErrorHandler(o){throw o}var EMPTY_OBSERVER={closed:!0,next:noop$3,error:defaultErrorHandler,complete:noop$3},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$1(o){return o}function pipeFromArray(o){return o.length===0?identity$1:o.length===1?o[0]:function(s){return o.reduce(function(a,$){return $(a)},s)}}var Observable=function(){function o(i){i&&(this._subscribe=i)}return o.prototype.lift=function(i){var s=new o;return s.source=this,s.operator=i,s},o.prototype.subscribe=function(i,s,a){var $=this,j=isSubscriber(i)?i:new SafeSubscriber(i,s,a);return errorContext(function(){var et=$,rt=et.operator,st=et.source;j.add(rt?rt.call(j,st):st?$._subscribe(j):$._trySubscribe(j))}),j},o.prototype._trySubscribe=function(i){try{return this._subscribe(i)}catch(s){i.error(s)}},o.prototype.forEach=function(i,s){var a=this;return s=getPromiseCtor(s),new s(function($,j){var et=new SafeSubscriber({next:function(rt){try{i(rt)}catch(st){j(st),et.unsubscribe()}},error:j,complete:$});a.subscribe(et)})},o.prototype._subscribe=function(i){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(i)},o.prototype[observable]=function(){return this},o.prototype.pipe=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return pipeFromArray(i)(this)},o.prototype.toPromise=function(i){var s=this;return i=getPromiseCtor(i),new i(function(a,$){var j;s.subscribe(function(et){return j=et},function(et){return $(et)},function(){return a(j)})})},o.create=function(i){return new o(i)},o}();function getPromiseCtor(o){var i;return(i=o??config$1.Promise)!==null&&i!==void 0?i:Promise}function isObserver(o){return o&&isFunction(o.next)&&isFunction(o.error)&&isFunction(o.complete)}function isSubscriber(o){return o&&o instanceof Subscriber||isObserver(o)&&isSubscription(o)}var ObjectUnsubscribedError=createErrorClass(function(o){return function(){o(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(o){__extends(i,o);function i(){var s=o.call(this)||this;return s.closed=!1,s.currentObservers=null,s.observers=[],s.isStopped=!1,s.hasError=!1,s.thrownError=null,s}return i.prototype.lift=function(s){var a=new AnonymousSubject(this,this);return a.operator=s,a},i.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},i.prototype.next=function(s){var a=this;errorContext(function(){var $,j;if(a._throwIfClosed(),!a.isStopped){a.currentObservers||(a.currentObservers=Array.from(a.observers));try{for(var et=__values(a.currentObservers),rt=et.next();!rt.done;rt=et.next()){var st=rt.value;st.next(s)}}catch(it){$={error:it}}finally{try{rt&&!rt.done&&(j=et.return)&&j.call(et)}finally{if($)throw $.error}}}})},i.prototype.error=function(s){var a=this;errorContext(function(){if(a._throwIfClosed(),!a.isStopped){a.hasError=a.isStopped=!0,a.thrownError=s;for(var $=a.observers;$.length;)$.shift().error(s)}})},i.prototype.complete=function(){var s=this;errorContext(function(){if(s._throwIfClosed(),!s.isStopped){s.isStopped=!0;for(var a=s.observers;a.length;)a.shift().complete()}})},i.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(i.prototype,"observed",{get:function(){var s;return((s=this.observers)===null||s===void 0?void 0:s.length)>0},enumerable:!1,configurable:!0}),i.prototype._trySubscribe=function(s){return this._throwIfClosed(),o.prototype._trySubscribe.call(this,s)},i.prototype._subscribe=function(s){return this._throwIfClosed(),this._checkFinalizedStatuses(s),this._innerSubscribe(s)},i.prototype._innerSubscribe=function(s){var a=this,$=this,j=$.hasError,et=$.isStopped,rt=$.observers;return j||et?EMPTY_SUBSCRIPTION:(this.currentObservers=null,rt.push(s),new Subscription(function(){a.currentObservers=null,arrRemove(rt,s)}))},i.prototype._checkFinalizedStatuses=function(s){var a=this,$=a.hasError,j=a.thrownError,et=a.isStopped;$?s.error(j):et&&s.complete()},i.prototype.asObservable=function(){var s=new Observable;return s.source=this,s},i.create=function(s,a){return new AnonymousSubject(s,a)},i}(Observable),AnonymousSubject=function(o){__extends(i,o);function i(s,a){var $=o.call(this)||this;return $.destination=s,$.source=a,$}return i.prototype.next=function(s){var a,$;($=(a=this.destination)===null||a===void 0?void 0:a.next)===null||$===void 0||$.call(a,s)},i.prototype.error=function(s){var a,$;($=(a=this.destination)===null||a===void 0?void 0:a.error)===null||$===void 0||$.call(a,s)},i.prototype.complete=function(){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.complete)===null||a===void 0||a.call(s)},i.prototype._subscribe=function(s){var a,$;return($=(a=this.source)===null||a===void 0?void 0:a.subscribe(s))!==null&&$!==void 0?$:EMPTY_SUBSCRIPTION},i}(Subject);const toaster=createToaster({placement:"top-end",pauseOnPageIdle:!0,max:5});function Toaster(){return jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(Toaster$1,{toaster,insetInline:{mdDown:"4"},children:o=>{var i;return jsxRuntimeExports.jsxs(ToastRoot,{width:{md:"sm"},children:[o.type==="loading"?jsxRuntimeExports.jsx(Spinner,{size:"sm",color:"blue.solid"}):jsxRuntimeExports.jsx(ToastIndicator,{}),jsxRuntimeExports.jsxs(Stack,{gap:"1",flex:"1",maxWidth:"100%",children:[o.title&&jsxRuntimeExports.jsx(ToastTitle,{children:o.title}),o.description&&jsxRuntimeExports.jsx(ToastDescription,{children:o.description})]}),o.action&&jsxRuntimeExports.jsx(ToastActionTrigger,{children:o.action.label}),((i=o.meta)==null?void 0:i.closable)&&jsxRuntimeExports.jsx(ToastCloseTrigger,{})]})}})})}const getTranslation=()=>{try{const o=require("i18next").default;return o.t.bind(o)}catch{return i=>i}},sn=class sn{constructor(){qt(this,"ws",null);qt(this,"reconnectTimer",null);qt(this,"reconnectDelay",1e3);qt(this,"reconnectMaxDelay",3e4);qt(this,"reconnectEnabled",!0);qt(this,"manualDisconnect",!1);qt(this,"messageSubject",new Subject);qt(this,"stateSubject",new Subject);qt(this,"currentState","CLOSED")}static getInstance(){return sn.instance||(sn.instance=new sn),sn.instance}initializeConnection(){this.sendMessage({type:"fetch-backgrounds"}),this.sendMessage({type:"fetch-configs"}),this.sendMessage({type:"fetch-history-list"}),this.sendMessage({type:"create-new-history"})}connect(i){var s,a;(((s=this.ws)==null?void 0:s.readyState)===WebSocket.CONNECTING||((a=this.ws)==null?void 0:a.readyState)===WebSocket.OPEN)&&this.disconnect();try{this.manualDisconnect=!1,this.ws=new WebSocket(i),this.currentState="CONNECTING",this.stateSubject.next("CONNECTING"),this.ws.onopen=()=>{this.clearReconnectTimer(),this.reconnectDelay=1e3,this.currentState="OPEN",this.stateSubject.next("OPEN"),this.initializeConnection()},this.ws.onmessage=$=>{try{const j=JSON.parse($.data);this.messageSubject.next(j)}catch(j){console.error("Failed to parse WebSocket message:",j),toaster.create({title:`${getTranslation()("error.failedParseWebSocket")}: ${j}`,type:"error",duration:2e3})}},this.ws.onclose=()=>{this.currentState="CLOSED",this.stateSubject.next("CLOSED"),this.scheduleReconnect(i)},this.ws.onerror=()=>{this.currentState="CLOSED",this.stateSubject.next("CLOSED"),this.scheduleReconnect(i)}}catch($){console.error("Failed to connect to WebSocket:",$),this.currentState="CLOSED",this.stateSubject.next("CLOSED"),this.scheduleReconnect(i)}}scheduleReconnect(i){if(!this.reconnectEnabled||this.manualDisconnect||this.reconnectTimer)return;const s=this.reconnectDelay;this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect(i),this.reconnectDelay=Math.min(this.reconnectDelay*2,this.reconnectMaxDelay)},s)}clearReconnectTimer(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}setReconnectEnabled(i){this.reconnectEnabled=i,i||this.clearReconnectTimer()}sendMessage(i){var s;((s=this.ws)==null?void 0:s.readyState)===WebSocket.OPEN?this.ws.send(JSON.stringify(i)):(console.warn("WebSocket is not open. Unable to send message:",i),toaster.create({title:getTranslation()("error.websocketNotOpen"),type:"error",duration:2e3}))}onMessage(i){return this.messageSubject.subscribe(i)}onStateChange(i){return this.stateSubject.subscribe(i)}disconnect(){var i;this.manualDisconnect=!0,this.clearReconnectTimer(),(i=this.ws)==null||i.close(),this.ws=null}getCurrentState(){return this.currentState}};qt(sn,"instance");let WebSocketService=sn;const wsService=WebSocketService.getInstance(),fallbackBaseUrl="https://127.0.0.1:12393",fallbackWsUrl="wss://127.0.0.1:12393/client-ws",getDefaultBaseUrl=()=>{if(typeof window>"u")return fallbackBaseUrl;const o=window.location.protocol;return o==="http:"||o==="https:"?window.location.origin:fallbackBaseUrl},getDefaultWsUrl=()=>{if(typeof window>"u")return fallbackWsUrl;const o=window.location.protocol;return o==="http:"||o==="https:"?`${o==="https:"?"wss":"ws"}://${window.location.host}/client-ws`:fallbackWsUrl},DEFAULT_BASE_URL=getDefaultBaseUrl(),DEFAULT_WS_URL=getDefaultWsUrl(),WebSocketContext=React.createContext({sendMessage:wsService.sendMessage.bind(wsService),wsState:"CLOSED",reconnect:()=>wsService.connect(DEFAULT_WS_URL),wsUrl:DEFAULT_WS_URL,setWsUrl:()=>{},baseUrl:DEFAULT_BASE_URL,setBaseUrl:()=>{}});function useWebSocket(){const o=reactExports.useContext(WebSocketContext);if(!o)throw new Error("useWebSocket must be used within a WebSocketProvider");return o}const defaultWsUrl=DEFAULT_WS_URL,defaultBaseUrl=DEFAULT_BASE_URL,BgUrlContext=reactExports.createContext(null);function BgUrlProvider({children:o}){const{baseUrl:i}=useWebSocket(),s=`${i}/bg/dark_hangzhou.png`,[a,$]=useLocalStorage("backgroundUrl",s),[j,et]=reactExports.useState([]),rt=reactExports.useCallback(()=>{$(s)},[$,s]),st=reactExports.useCallback(at=>{et(lt=>[...lt,at])},[]),it=reactExports.useCallback(at=>{et(lt=>lt.filter(ut=>ut.name!==at))},[]),ot=reactExports.useMemo(()=>a===s,[a,s]),[tt,_e]=reactExports.useState(!1),nt=reactExports.useMemo(()=>({backgroundUrl:a,setBackgroundUrl:$,backgroundFiles:j,setBackgroundFiles:et,resetBackground:rt,addBackgroundFile:st,removeBackgroundFile:it,isDefaultBackground:ot,useCameraBackground:tt,setUseCameraBackground:_e}),[a,$,j,rt,st,it,ot,tt]);return jsxRuntimeExports.jsx(BgUrlContext.Provider,{value:nt,children:o})}function useBgUrl(){const o=reactExports.useContext(BgUrlContext);if(!o)throw new Error("useBgUrl must be used within a BgUrlProvider");return o}const DEFAULT_CONFIG$1={confName:"",confUid:"",configFiles:[]},ConfigContext=reactExports.createContext(null);function CharacterConfigProvider({children:o}){const[i,s]=reactExports.useState(DEFAULT_CONFIG$1.confName),[a,$]=reactExports.useState(DEFAULT_CONFIG$1.confUid),[j,et]=reactExports.useState(DEFAULT_CONFIG$1.configFiles),rt=reactExports.useCallback(it=>{var ot;return(ot=j.find(tt=>tt.name===it))==null?void 0:ot.filename},[j]),st=reactExports.useMemo(()=>({confName:i,confUid:a,configFiles:j,setConfName:s,setConfUid:$,setConfigFiles:et,getFilenameByName:rt}),[i,a,j,rt]);return reactExports.useEffect(()=>{var it,ot;(ot=(it=window.api)==null?void 0:it.updateConfigFiles)==null||ot.call(it,j)},[j]),jsxRuntimeExports.jsx(ConfigContext.Provider,{value:st,children:o})}function useConfig(){const o=reactExports.useContext(ConfigContext);if(!o)throw new Error("useConfig must be used within a CharacterConfigProvider");return o}const DEFAULT_SUBTITLE={text:"Hi, I'm some random AI VTuber. Who the hell are ya? Ahh, you must be amazed by my awesomeness, right? right?"},SubtitleContext=reactExports.createContext(null),SubtitleProvider=reactExports.memo(({children:o})=>{const[i,s]=reactExports.useState(DEFAULT_SUBTITLE.text),[a,$]=reactExports.useState(!0),j=reactExports.useMemo(()=>({subtitleText:i,setSubtitleText:s,showSubtitle:a,setShowSubtitle:$}),[i,a]);return jsxRuntimeExports.jsx(SubtitleContext.Provider,{value:j,children:o})});function useSubtitle(){const o=reactExports.useContext(SubtitleContext);if(!o)throw new Error("useSubtitle must be used within a SubtitleProvider");return o}const DEFAULT_CAMERA_CONFIG={width:320,height:240},CameraContext=reactExports.createContext(null);function CameraProvider({children:o}){const{t:i}=useTranslation(),[s,a]=reactExports.useState(!1),[$,j]=reactExports.useState(!1),[et,rt]=reactExports.useState(DEFAULT_CAMERA_CONFIG),st=reactExports.useRef(null),it=reactExports.useRef(null),ot=reactExports.useRef(null),tt=reactExports.useCallback(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error(i("error.cameraApiNotSupported"));if(!(await navigator.mediaDevices.enumerateDevices()).some(ft=>ft.kind==="videoinput"))throw new Error(i("error.noCameraFound"));const dt=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:et.width},height:{ideal:et.height}}});st.current=dt,ot.current&&(ot.current.srcObject=dt),a(!0)}catch(ut){throw console.error("Failed to start camera:",ut),toaster.create({title:`${i("error.failedStartCamera")}: ${ut}`,type:"error",duration:2e3}),ut}},[et,i]),_e=reactExports.useCallback(()=>{st.current&&(st.current.getTracks().forEach(ut=>ut.stop()),st.current=null,a(!1))},[]),nt=reactExports.useCallback(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error(i("error.cameraApiNotSupported"));if(!(await navigator.mediaDevices.enumerateDevices()).some(ft=>ft.kind==="videoinput"))throw new Error(i("error.noCameraFound"));const dt=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:et.width},height:{ideal:et.height}}});it.current=dt,j(!0)}catch(ut){throw console.error("Failed to start background camera:",ut),toaster.create({title:`${i("error.failedStartBackgroundCamera")}: ${ut}`,type:"error",duration:2e3}),ut}},[et,i]),at=reactExports.useCallback(()=>{it.current&&(it.current.getTracks().forEach(ut=>ut.stop()),it.current=null,j(!1))},[]),lt=reactExports.useMemo(()=>({isStreaming:s,stream:st.current,startCamera:tt,stopCamera:_e,cameraConfig:et,setCameraConfig:rt,videoRef:ot,backgroundStream:it.current,startBackgroundCamera:nt,stopBackgroundCamera:at,isBackgroundStreaming:$}),[s,tt,_e,et,$,nt,at]);return jsxRuntimeExports.jsx(CameraContext.Provider,{value:lt,children:o})}function useCamera(){const o=reactExports.useContext(CameraContext);if(!o)throw new Error("useCamera must be used within a CameraProvider");return o}const DEFAULT_CONFIG={modelInfo:{scrollToResize:!0},isLoading:!1},Live2DConfigContext=reactExports.createContext(null);function Live2DConfigProvider({children:o}){const{confUid:i}=useConfig(),[s,a]=reactExports.useState(DEFAULT_CONFIG.isLoading),[$,j]=useLocalStorage("modelInfo",DEFAULT_CONFIG.modelInfo,{filter:st=>st&&{...st,url:""}}),et=st=>{if(!(st!=null&&st.url)){j(void 0);return}const it=Number(st.kScale||.5)*2;console.log("Setting model info with default scale:",it),j({...st,kScale:it,pointerInteractive:"pointerInteractive"in st?st.pointerInteractive:($==null?void 0:$.pointerInteractive)??!0,scrollToResize:"scrollToResize"in st?st.scrollToResize:($==null?void 0:$.scrollToResize)??!0})},rt=reactExports.useMemo(()=>({modelInfo:$,setModelInfo:et,isLoading:s,setIsLoading:a}),[$,s,a]);return jsxRuntimeExports.jsx(Live2DConfigContext.Provider,{value:rt,children:o})}function useLive2DConfig(){const o=reactExports.useContext(Live2DConfigContext);if(!o)throw new Error("useLive2DConfig must be used within a Live2DConfigProvider");return o}var dist={},assetPath={};Object.defineProperty(assetPath,"__esModule",{value:!0});assetPath.baseAssetPath=void 0;const isWeb=typeof window<"u"&&typeof window.document<"u",currentScript=isWeb?window.document.currentScript:null;let basePath="/";currentScript&&(basePath=currentScript.src.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"));assetPath.baseAssetPath=basePath;var defaultModelFetcher$1={};Object.defineProperty(defaultModelFetcher$1,"__esModule",{value:!0});defaultModelFetcher$1.defaultModelFetcher=void 0;const defaultModelFetcher=o=>fetch(o).then(i=>i.arrayBuffer());defaultModelFetcher$1.defaultModelFetcher=defaultModelFetcher;var frameProcessor={},logging={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.log=o.LOG_PREFIX=void 0,o.LOG_PREFIX="[VAD]";const i=["error","debug","warn"];function s($){return(...j)=>{console[$](o.LOG_PREFIX,...j)}}const a=i.reduce(($,j)=>($[j]=s(j),$),{});o.log=a})(logging);var messages={};Object.defineProperty(messages,"__esModule",{value:!0});messages.Message=void 0;var Message$1;(function(o){o.AudioFrame="AUDIO_FRAME",o.SpeechStart="SPEECH_START",o.VADMisfire="VAD_MISFIRE",o.SpeechEnd="SPEECH_END",o.SpeechStop="SPEECH_STOP",o.SpeechRealStart="SPEECH_REAL_START",o.FrameProcessed="FRAME_PROCESSED"})(Message$1||(messages.Message=Message$1={}));Object.defineProperty(frameProcessor,"__esModule",{value:!0});frameProcessor.FrameProcessor=frameProcessor.validateOptions=frameProcessor.defaultV5FrameProcessorOptions=frameProcessor.defaultLegacyFrameProcessorOptions=void 0;const logging_1$3=logging,messages_1=messages,RECOMMENDED_FRAME_SAMPLES=[512,1024,1536];frameProcessor.defaultLegacyFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3,submitUserSpeechOnPause:!1};frameProcessor.defaultV5FrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:3,redemptionFrames:24,frameSamples:512,minSpeechFrames:9,submitUserSpeechOnPause:!1};function validateOptions(o){RECOMMENDED_FRAME_SAMPLES.includes(o.frameSamples)||logging_1$3.log.warn("You are using an unusual frame size"),(o.positiveSpeechThreshold<0||o.positiveSpeechThreshold>1)&&logging_1$3.log.error("positiveSpeechThreshold should be a number between 0 and 1"),(o.negativeSpeechThreshold<0||o.negativeSpeechThreshold>o.positiveSpeechThreshold)&&logging_1$3.log.error("negativeSpeechThreshold should be between 0 and positiveSpeechThreshold"),o.preSpeechPadFrames<0&&logging_1$3.log.error("preSpeechPadFrames should be positive"),o.redemptionFrames<0&&logging_1$3.log.error("redemptionFrames should be positive")}frameProcessor.validateOptions=validateOptions;const concatArrays=o=>{const i=o.reduce((a,$)=>(a.push(a.at(-1)+$.length),a),[0]),s=new Float32Array(i.at(-1));return o.forEach((a,$)=>{const j=i[$];s.set(a,j)}),s};class FrameProcessor{constructor(i,s,a){this.modelProcessFunc=i,this.modelResetFunc=s,this.options=a,this.speaking=!1,this.redemptionCounter=0,this.speechFrameCount=0,this.active=!1,this.speechRealStartFired=!1,this.reset=()=>{this.speaking=!1,this.speechRealStartFired=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0,this.speechFrameCount=0},this.pause=$=>{this.active=!1,this.options.submitUserSpeechOnPause?this.endSegment($):this.reset()},this.resume=()=>{this.active=!0},this.endSegment=$=>{const j=this.audioBuffer;this.audioBuffer=[];const et=this.speaking;if(this.reset(),et)if(j.reduce((st,it)=>it.isSpeech?st+1:st,0)>=this.options.minSpeechFrames){const st=concatArrays(j.map(it=>it.frame));$({msg:messages_1.Message.SpeechEnd,audio:st})}else $({msg:messages_1.Message.VADMisfire});return{}},this.process=async($,j)=>{if(!this.active)return;const et=await this.modelProcessFunc($),rt=et.isSpeech>=this.options.positiveSpeechThreshold;if(j({probs:et,msg:messages_1.Message.FrameProcessed,frame:$}),this.audioBuffer.push({frame:$,isSpeech:rt}),rt&&(this.speechFrameCount++,this.redemptionCounter=0),rt&&!this.speaking&&(this.speaking=!0,j({msg:messages_1.Message.SpeechStart})),this.speaking&&this.speechFrameCount===this.options.minSpeechFrames&&!this.speechRealStartFired&&(this.speechRealStartFired=!0,j({msg:messages_1.Message.SpeechRealStart})),et.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speechFrameCount=0,this.speaking=!1,this.speechRealStartFired=!1;const st=this.audioBuffer;if(this.audioBuffer=[],st.reduce((ot,tt)=>tt.isSpeech?ot+1:ot,0)>=this.options.minSpeechFrames){const ot=concatArrays(st.map(tt=>tt.frame));j({msg:messages_1.Message.SpeechEnd,audio:ot})}else j({msg:messages_1.Message.VADMisfire})}if(!this.speaking){for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();this.speechFrameCount=0}},this.audioBuffer=[],this.reset()}}frameProcessor.FrameProcessor=FrameProcessor;var nonRealTimeVad={},ortWeb_min={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(o,i,s)=>{if(i&&typeof i.init=="function"&&typeof i.createSessionHandler=="function"){const a=backends[o];if(a===void 0)backends[o]={backend:i,priority:s};else{if(a.priority>s)return;if(a.priority===s&&a.backend!==i)throw new Error(`cannot register backend "${o}" using priority ${s}`)}if(s>=0){const $=backendsSortedByPriority.indexOf(o);$!==-1&&backendsSortedByPriority.splice($,1);for(let j=0;j<backendsSortedByPriority.length;j++)if(backends[backendsSortedByPriority[j]].priority<=s){backendsSortedByPriority.splice(j,0,o);return}backendsSortedByPriority.push(o)}return}throw new TypeError("not a valid backend")},resolveBackend=async o=>{const i=o.length===0?backendsSortedByPriority:o,s=[];for(const a of i){const $=backends[a];if($){if($.initialized)return $.backend;if($.aborted)continue;const j=!!$.initPromise;try{return j||($.initPromise=$.backend.init()),await $.initPromise,$.initialized=!0,$.backend}catch(et){j||s.push({name:a,err:et}),$.aborted=!0}finally{delete $.initPromise}}}throw new Error(`no available backend found. ERR: ${s.map(a=>`[${a.name}] ${a.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(i){if(i!==void 0){if(typeof i!="string"||["verbose","info","warning","error","fatal"].indexOf(i)===-1)throw new Error(`Unsupported logging level: ${i}`);this.logLevelInternal=i}}get logLevel(){return this.logLevelInternal}}const env$1=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=o=>{let i=1;for(let s=0;s<o.length;s++){const a=o[s];if(typeof a!="number"||!Number.isSafeInteger(a))throw new TypeError(`dims[${s}] must be an integer, got: ${a}`);if(a<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${a}`);i*=a}return i};let Tensor$1=class on{constructor(i,s,a){let $,j,et;if(typeof i=="string")if($=i,et=a,i==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");j=s}else{const st=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(i);if(st===void 0)throw new TypeError(`Unsupported tensor type: ${i}.`);if(Array.isArray(s))j=st.from(s);else if(s instanceof st)j=s;else throw new TypeError(`A ${$} tensor's data must be type of ${st}`)}else if(et=s,Array.isArray(i)){if(i.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const st=typeof i[0];if(st==="string")$="string",j=i;else if(st==="boolean")$="bool",j=Uint8Array.from(i);else throw new TypeError(`Invalid element type of data array: ${st}.`)}else{const st=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(i.constructor);if(st===void 0)throw new TypeError(`Unsupported type for tensor data: ${i.constructor}.`);$=st,j=i}if(et===void 0)et=[j.length];else if(!Array.isArray(et))throw new TypeError("A tensor's dims must be a number array");const rt=calculateSize(et);if(rt!==j.length)throw new Error(`Tensor's size(${rt}) does not match data length(${j.length}).`);this.dims=et,this.type=$,this.data=j,this.size=rt}static bufferToTensor(i,s){if(i===void 0)throw new Error("Image buffer must be defined");if(s.height===void 0||s.width===void 0)throw new Error("Image height and width must be defined");const{height:a,width:$}=s,j=s.norm;let et,rt;j===void 0||j.mean===void 0?et=255:et=j.mean,j===void 0||j.bias===void 0?rt=0:rt=j.bias;const st=s.bitmapFormat!==void 0?s.bitmapFormat:"RGBA",it=s.tensorFormat!==void 0&&s.tensorFormat!==void 0?s.tensorFormat:"RGB",ot=a*$,tt=it==="RGBA"?new Float32Array(ot*4):new Float32Array(ot*3);let _e=4,nt=0,at=1,lt=2,ut=3,ct=0,dt=ot,ft=ot*2,ht=-1;st==="RGB"&&(_e=3,nt=0,at=1,lt=2,ut=-1),it==="RGBA"?ht=ot*3:it==="RBG"?(ct=0,ft=ot,dt=ot*2):it==="BGR"&&(ft=0,dt=ot,ct=ot*2);for(let yt=0;yt<ot;yt++,nt+=_e,lt+=_e,at+=_e,ut+=_e)tt[ct++]=(i[nt]+rt)/et,tt[dt++]=(i[at]+rt)/et,tt[ft++]=(i[lt]+rt)/et,ht!==-1&&ut!==-1&&(tt[ht++]=(i[ut]+rt)/et);return it==="RGBA"?new on("float32",tt,[1,4,a,$]):new on("float32",tt,[1,3,a,$])}static async fromImage(i,s){const a=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,$=typeof ImageData<"u"&&i instanceof ImageData,j=typeof ImageBitmap<"u"&&i instanceof ImageBitmap,et=typeof String<"u"&&(i instanceof String||typeof i=="string");let rt,st={};if(a){const it=document.createElement("canvas"),ot=it.getContext("2d");if(ot!=null){let tt=i.naturalHeight,_e=i.naturalWidth;if(s!==void 0&&s.resizedHeight!==void 0&&s.resizedWidth!==void 0&&(tt=s.resizedHeight,_e=s.resizedWidth),s!==void 0){if(st=s,s.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(st.tensorFormat="RGBA",s.height!==void 0&&s.height!==tt)throw new Error("Image input config height doesn't match HTMLImageElement height");if(st.height=tt,s.width!==void 0&&s.width!==_e)throw new Error("Image input config width doesn't match HTMLImageElement width");st.width=_e}else st.tensorFormat="RGBA",st.height=tt,st.width=_e;it.width=_e,it.height=tt,ot.drawImage(i,0,0,_e,tt),rt=ot.getImageData(0,0,_e,tt).data}else throw new Error("Can not access image data")}else if($){const it="RGBA";let ot,tt;if(s!==void 0&&s.resizedWidth!==void 0&&s.resizedHeight!==void 0?(ot=s.resizedHeight,tt=s.resizedWidth):(ot=i.height,tt=i.width),s!==void 0){if(st=s,s.bitmapFormat!==void 0&&s.bitmapFormat!==it)throw new Error("Image input config format must be RGBA for ImageData");st.bitmapFormat="RGBA"}else st.bitmapFormat="RGBA";if(st.height=ot,st.width=tt,s!==void 0){const _e=document.createElement("canvas");_e.width=tt,_e.height=ot;const nt=_e.getContext("2d");if(nt!=null)nt.putImageData(i,0,0),rt=nt.getImageData(0,0,tt,ot).data;else throw new Error("Can not access image data")}else rt=i.data}else if(j){if(s===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(s.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const it=document.createElement("canvas").getContext("2d");if(it!=null){const ot=i.height,tt=i.width;if(it.drawImage(i,0,0,tt,ot),rt=it.getImageData(0,0,tt,ot).data,s!==void 0){if(s.height!==void 0&&s.height!==ot)throw new Error("Image input config height doesn't match ImageBitmap height");if(st.height=ot,s.width!==void 0&&s.width!==tt)throw new Error("Image input config width doesn't match ImageBitmap width");st.width=tt}else st.height=ot,st.width=tt;return on.bufferToTensor(rt,st)}else throw new Error("Can not access image data")}else{if(et)return new Promise((it,ot)=>{const tt=document.createElement("canvas"),_e=tt.getContext("2d");if(!i||!_e)return ot();const nt=new Image;nt.crossOrigin="Anonymous",nt.src=i,nt.onload=()=>{tt.width=nt.width,tt.height=nt.height,_e.drawImage(nt,0,0,tt.width,tt.height);const at=_e.getImageData(0,0,tt.width,tt.height);if(s!==void 0){if(s.height!==void 0&&s.height!==tt.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(st.height=tt.height,s.width!==void 0&&s.width!==tt.width)throw new Error("Image input config width doesn't match ImageBitmap width");st.width=tt.width}else st.height=tt.height,st.width=tt.width;it(on.bufferToTensor(at.data,st))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(rt!==void 0)return on.bufferToTensor(rt,st);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(i){var s,a;const $=document.createElement("canvas").getContext("2d");let j;if($!=null){const et=this.dims[3],rt=this.dims[2],st=this.dims[1],it=i!==void 0&&i.format!==void 0?i.format:"RGB",ot=i!==void 0&&((s=i.norm)===null||s===void 0?void 0:s.mean)!==void 0?i.norm.mean:255,tt=i!==void 0&&((a=i.norm)===null||a===void 0?void 0:a.bias)!==void 0?i.norm.bias:0,_e=rt*et;if(i!==void 0){if(i.height!==void 0&&i.height!==rt)throw new Error("Image output config height doesn't match tensor height");if(i.width!==void 0&&i.width!==et)throw new Error("Image output config width doesn't match tensor width");if(i.format!==void 0&&st===4&&i.format!=="RGBA"||st===3&&i.format!=="RGB"&&i.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const nt=4;let at=0,lt=1,ut=2,ct=3,dt=0,ft=_e,ht=_e*2,gt=-1;it==="RGBA"?(dt=0,ft=_e,ht=_e*2,gt=_e*3):it==="RGB"?(dt=0,ft=_e,ht=_e*2):it==="RBG"&&(dt=0,ht=_e,ft=_e*2),j=$.createImageData(et,rt);for(let yt=0;yt<rt*et;at+=nt,lt+=nt,ut+=nt,ct+=nt,yt++)j.data[at]=(this.data[dt++]-tt)*ot,j.data[lt]=(this.data[ft++]-tt)*ot,j.data[ut]=(this.data[ht++]-tt)*ot,j.data[ct]=gt===-1?255:(this.data[gt++]-tt)*ot}else throw new Error("Can not access image data");return j}reshape(i){return new on(this.type,this.data,i)}};const Tensor=Tensor$1;let InferenceSession$1=class Es{constructor(i){this.handler=i}async run(i,s,a){const $={};let j={};if(typeof i!="object"||i===null||i instanceof Tensor||Array.isArray(i))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let et=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");et=!1;for(const it of s){if(typeof it!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(it)===-1)throw new RangeError(`'fetches' contains invalid output name: ${it}.`);$[it]=null}if(typeof a=="object"&&a!==null)j=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else{let it=!1;const ot=Object.getOwnPropertyNames(s);for(const tt of this.outputNames)if(ot.indexOf(tt)!==-1){const _e=s[tt];(_e===null||_e instanceof Tensor)&&(it=!0,et=!1,$[tt]=_e)}if(it){if(typeof a=="object"&&a!==null)j=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else j=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const it of this.inputNames)if(typeof i[it]>"u")throw new Error(`input '${it}' is missing in 'feeds'.`);if(et)for(const it of this.outputNames)$[it]=null;const rt=await this.handler.run(i,$,j),st={};for(const it in rt)Object.hasOwnProperty.call(rt,it)&&(st[it]=new Tensor(rt[it].type,rt[it].data,rt[it].dims));return st}static async create(i,s,a,$){let j,et={};if(typeof i=="string"){if(j=i,typeof s=="object"&&s!==null)et=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(i instanceof Uint8Array){if(j=i,typeof s=="object"&&s!==null)et=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(i instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&i instanceof SharedArrayBuffer){const tt=i;let _e=0,nt=i.byteLength;if(typeof s=="object"&&s!==null)et=s;else if(typeof s=="number"){if(_e=s,!Number.isSafeInteger(_e))throw new RangeError("'byteOffset' must be an integer.");if(_e<0||_e>=tt.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${tt.byteLength}).`);if(nt=i.byteLength-_e,typeof a=="number"){if(nt=a,!Number.isSafeInteger(nt))throw new RangeError("'byteLength' must be an integer.");if(nt<=0||_e+nt>tt.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${tt.byteLength-_e}].`);if(typeof $=="object"&&$!==null)et=$;else if(typeof $<"u")throw new TypeError("'options' must be an object.")}else if(typeof a<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof s<"u")throw new TypeError("'options' must be an object.");j=new Uint8Array(tt,_e,nt)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const st=(et.executionProviders||[]).map(tt=>typeof tt=="string"?tt:tt.name),ot=await(await resolveBackend(st)).createSessionHandler(j,et);return new Es(ot)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession=InferenceSession$1,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession,Tensor,env:env$1,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(o,i){module.exports=i(require$$0)})(self,__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(o,i,s)=>{var a,$=(a=(a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(j){function et(){return $t.buffer!=zt&&ar($t.buffer),Xt}function rt(){return $t.buffer!=zt&&ar($t.buffer),tr}function st(){return $t.buffer!=zt&&ar($t.buffer),ir}function it(){return $t.buffer!=zt&&ar($t.buffer),sr}function ot(){return $t.buffer!=zt&&ar($t.buffer),Jt}var tt,_e,nt;j=j||{},tt||(tt=j!==void 0?j:{}),tt.ready=new Promise(function(_t,Et){_e=_t,nt=Et});var at,lt,ut,ct,dt,ft,ht=Object.assign({},tt),gt="./this.program",yt=(_t,Et)=>{throw Et},bt=typeof window=="object",vt=typeof importScripts=="function",mt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",xt=tt.ENVIRONMENT_IS_PTHREAD||!1,wt="";function Ct(_t){return tt.locateFile?tt.locateFile(_t,wt):wt+_t}if(mt){let _t;wt=vt?s(908).dirname(wt)+"/":"//",ft=()=>{dt||(ct=s(1384),dt=s(908))},at=function(Et,Rt){return ft(),Et=dt.normalize(Et),ct.readFileSync(Et,Rt?void 0:"utf8")},ut=Et=>((Et=at(Et,!0)).buffer||(Et=new Uint8Array(Et)),Et),lt=(Et,Rt,Dt)=>{ft(),Et=dt.normalize(Et),ct.readFile(Et,function(Ft,Ut){Ft?Dt(Ft):Rt(Ut.buffer)})},1<process.argv.length&&(gt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Et){if(!(Et instanceof Kr))throw Et}),process.on("unhandledRejection",function(Et){throw Et}),yt=(Et,Rt)=>{if(Ar())throw process.exitCode=Et,Rt;Rt instanceof Kr||Ot("exiting due to exception: "+Rt),process.exit(Et)},tt.inspect=function(){return"[Emscripten Module object]"};try{_t=s(9925)}catch(Et){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Et}s.g.Worker=_t.Worker}else(bt||vt)&&(vt?wt=self.location.href:typeof document<"u"&&document.currentScript&&(wt=document.currentScript.src),a&&(wt=a),wt=wt.indexOf("blob:")!==0?wt.substr(0,wt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",mt||(at=_t=>{var Et=new XMLHttpRequest;return Et.open("GET",_t,!1),Et.send(null),Et.responseText},vt&&(ut=_t=>{var Et=new XMLHttpRequest;return Et.open("GET",_t,!1),Et.responseType="arraybuffer",Et.send(null),new Uint8Array(Et.response)}),lt=(_t,Et,Rt)=>{var Dt=new XMLHttpRequest;Dt.open("GET",_t,!0),Dt.responseType="arraybuffer",Dt.onload=()=>{Dt.status==200||Dt.status==0&&Dt.response?Et(Dt.response):Rt()},Dt.onerror=Rt,Dt.send(null)}));mt&&typeof performance>"u"&&(s.g.performance=s(6953).performance);var kt=console.log.bind(console),It=console.warn.bind(console);mt&&(ft(),kt=_t=>ct.writeSync(1,_t+`
`),It=_t=>ct.writeSync(2,_t+`
`));var Pt,St=tt.print||kt,Ot=tt.printErr||It;Object.assign(tt,ht),ht=null,tt.thisProgram&&(gt=tt.thisProgram),tt.quit&&(yt=tt.quit),tt.wasmBinary&&(Pt=tt.wasmBinary);var At=tt.noExitRuntime||!1;typeof WebAssembly!="object"&&wr("no native wasm support detected");var $t,jt,zt,Xt,tr,ir,sr,Jt,rr=!1,Yt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Kt(_t,Et,Rt){var Dt=(Et>>>=0)+Rt;for(Rt=Et;_t[Rt]&&!(Rt>=Dt);)++Rt;if(16<Rt-Et&&_t.buffer&&Yt)return Yt.decode(_t.buffer instanceof SharedArrayBuffer?_t.slice(Et,Rt):_t.subarray(Et,Rt));for(Dt="";Et<Rt;){var Ft=_t[Et++];if(128&Ft){var Ut=63&_t[Et++];if((224&Ft)==192)Dt+=String.fromCharCode((31&Ft)<<6|Ut);else{var Zt=63&_t[Et++];65536>(Ft=(240&Ft)==224?(15&Ft)<<12|Ut<<6|Zt:(7&Ft)<<18|Ut<<12|Zt<<6|63&_t[Et++])?Dt+=String.fromCharCode(Ft):(Ft-=65536,Dt+=String.fromCharCode(55296|Ft>>10,56320|1023&Ft))}}else Dt+=String.fromCharCode(Ft)}return Dt}function er(_t,Et){return(_t>>>=0)?Kt(rt(),_t,Et):""}function Bt(_t,Et,Rt,Dt){if(!(0<Dt))return 0;var Ft=Rt>>>=0;Dt=Rt+Dt-1;for(var Ut=0;Ut<_t.length;++Ut){var Zt=_t.charCodeAt(Ut);if(55296<=Zt&&57343>=Zt&&(Zt=65536+((1023&Zt)<<10)|1023&_t.charCodeAt(++Ut)),127>=Zt){if(Rt>=Dt)break;Et[Rt++>>>0]=Zt}else{if(2047>=Zt){if(Rt+1>=Dt)break;Et[Rt++>>>0]=192|Zt>>6}else{if(65535>=Zt){if(Rt+2>=Dt)break;Et[Rt++>>>0]=224|Zt>>12}else{if(Rt+3>=Dt)break;Et[Rt++>>>0]=240|Zt>>18,Et[Rt++>>>0]=128|Zt>>12&63}Et[Rt++>>>0]=128|Zt>>6&63}Et[Rt++>>>0]=128|63&Zt}}return Et[Rt>>>0]=0,Rt-Ft}function cr(_t){for(var Et=0,Rt=0;Rt<_t.length;++Rt){var Dt=_t.charCodeAt(Rt);127>=Dt?Et++:2047>=Dt?Et+=2:55296<=Dt&&57343>=Dt?(Et+=4,++Rt):Et+=3}return Et}function ar(_t){zt=_t,tt.HEAP8=Xt=new Int8Array(_t),tt.HEAP16=new Int16Array(_t),tt.HEAP32=ir=new Int32Array(_t),tt.HEAPU8=tr=new Uint8Array(_t),tt.HEAPU16=new Uint16Array(_t),tt.HEAPU32=sr=new Uint32Array(_t),tt.HEAPF32=new Float32Array(_t),tt.HEAPF64=Jt=new Float64Array(_t)}xt&&(zt=tt.buffer);var pr=tt.INITIAL_MEMORY||16777216;if(xt)$t=tt.wasmMemory,zt=tt.buffer;else if(tt.wasmMemory)$t=tt.wasmMemory;else if(!(($t=new WebAssembly.Memory({initial:pr/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw Ot("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),mt&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");$t&&(zt=$t.buffer),pr=zt.byteLength,ar(zt);var Rr,kr=[],Fr=[],Vr=[],dr=[];function Ar(){return At||!1}function jr(){var _t=tt.preRun.shift();kr.unshift(_t)}var Pr,Dr=0,zr=null;function wr(_t){throw xt?postMessage({cmd:"onAbort",arg:_t}):tt.onAbort&&tt.onAbort(_t),Ot(_t="Aborted("+_t+")"),rr=!0,_t=new WebAssembly.RuntimeError(_t+". Build with -sASSERTIONS for more info."),nt(_t),_t}function pn(){return Pr.startsWith("data:application/octet-stream;base64,")}function an(){var _t=Pr;try{if(_t==Pr&&Pt)return new Uint8Array(Pt);if(ut)return ut(_t);throw"both async and sync fetching of the wasm failed"}catch(Et){wr(Et)}}Pr="ort-wasm-threaded.wasm",pn()||(Pr=Ct(Pr));var On={};function Kr(_t){this.name="ExitStatus",this.message="Program terminated with exit("+_t+")",this.status=_t}function ln(_t){(_t=fr.Vb[_t])||wr(),fr.mc(_t)}function un(_t){var Et=fr.Cc();if(!Et)return 6;fr.ac.push(Et),fr.Vb[_t.Ub]=Et,Et.Ub=_t.Ub;var Rt={cmd:"run",start_routine:_t.Ic,arg:_t.zc,pthread_ptr:_t.Ub};return Et.$b=()=>{Rt.time=performance.now(),Et.postMessage(Rt,_t.Nc)},Et.loaded&&(Et.$b(),delete Et.$b),0}function Br(_t){if(xt)return nr(1,1,_t);Ar()||(fr.oc(),tt.onExit&&tt.onExit(_t),rr=!0),yt(_t,new Kr(_t))}function en(_t,Et){if(!Et&&xt)throw An(_t),"unwind";Ar()||xt||(qn(),Zr(Vr),Kn(0),Nn[1].length&&Fn(1,10),Nn[2].length&&Fn(2,10),fr.oc()),Br(_t)}var fr={Yb:[],ac:[],qc:[],Vb:{},fc:function(){xt&&fr.Ec()},Pc:function(){},Ec:function(){fr.receiveObjectTransfer=fr.Gc,fr.threadInitTLS=fr.pc,fr.setExitStatus=fr.nc,At=!1},nc:function(){},oc:function(){for(var _t of Object.values(fr.Vb))fr.mc(_t);for(_t of fr.Yb)_t.terminate();fr.Yb=[]},mc:function(_t){var Et=_t.Ub;delete fr.Vb[Et],fr.Yb.push(_t),fr.ac.splice(fr.ac.indexOf(_t),1),_t.Ub=0,Vn(Et)},Gc:function(){},pc:function(){fr.qc.forEach(_t=>_t())},Fc:function(_t,Et){_t.onmessage=Rt=>{var Dt=(Rt=Rt.data).cmd;if(_t.Ub&&(fr.Bc=_t.Ub),Rt.targetThread&&Rt.targetThread!=Dn()){var Ft=fr.Vb[Rt.Qc];Ft?Ft.postMessage(Rt,Rt.transferList):Ot('Internal error! Worker sent a message "'+Dt+'" to target pthread '+Rt.targetThread+", but that thread no longer exists!")}else Dt==="processProxyingQueue"?Lt(Rt.queue):Dt==="spawnThread"?un(Rt):Dt==="cleanupThread"?ln(Rt.thread):Dt==="killThread"?(Rt=Rt.thread,Dt=fr.Vb[Rt],delete fr.Vb[Rt],Dt.terminate(),Vn(Rt),fr.ac.splice(fr.ac.indexOf(Dt),1),Dt.Ub=0):Dt==="cancelThread"?fr.Vb[Rt.thread].postMessage({cmd:"cancel"}):Dt==="loaded"?(_t.loaded=!0,Et&&Et(_t),_t.$b&&(_t.$b(),delete _t.$b)):Dt==="print"?St("Thread "+Rt.threadId+": "+Rt.text):Dt==="printErr"?Ot("Thread "+Rt.threadId+": "+Rt.text):Dt==="alert"?alert("Thread "+Rt.threadId+": "+Rt.text):Rt.target==="setimmediate"?_t.postMessage(Rt):Dt==="onAbort"?tt.onAbort&&tt.onAbort(Rt.arg):Dt&&Ot("worker sent an unknown command "+Dt);fr.Bc=void 0},_t.onerror=Rt=>{throw Ot("worker sent an error! "+Rt.filename+":"+Rt.lineno+": "+Rt.message),Rt},mt&&(_t.on("message",function(Rt){_t.onmessage({data:Rt})}),_t.on("error",function(Rt){_t.onerror(Rt)}),_t.on("detachedExit",function(){})),_t.postMessage({cmd:"load",urlOrBlob:tt.mainScriptUrlOrBlob||a,wasmMemory:$t,wasmModule:jt})},yc:function(){var _t=Ct("ort-wasm-threaded.worker.js");fr.Yb.push(new Worker(_t))},Cc:function(){return fr.Yb.length==0&&(fr.yc(),fr.Fc(fr.Yb[0])),fr.Yb.pop()}};function Zr(_t){for(;0<_t.length;)_t.shift()(tt)}function $n(_t){var Et=vr();return _t=_t(),yr(Et),_t}function An(_t){if(xt)return nr(2,0,_t);try{en(_t)}catch(Et){Et instanceof Kr||Et=="unwind"||yt(1,Et)}}tt.PThread=fr,tt.establishStackSpace=function(){var _t=Dn(),Et=st()[_t+44>>2>>>0];_t=st()[_t+48>>2>>>0],eo(Et,Et-_t),yr(Et)};var qr=[];function Tr(_t){var Et=qr[_t];return Et||(_t>=qr.length&&(qr.length=_t+1),qr[_t]=Et=Rr.get(_t)),Et}tt.invokeEntryPoint=function(_t,Et){_t=Tr(_t)(Et),Ar()?fr.nc(_t):_i(_t)};var tn,fn,rn=[],mr=0,hr=0;function gr(_t){this.Zb=_t,this.Sb=_t-24,this.xc=function(Et){it()[this.Sb+4>>2>>>0]=Et},this.bc=function(){return it()[this.Sb+4>>2>>>0]},this.wc=function(Et){it()[this.Sb+8>>2>>>0]=Et},this.Dc=function(){return it()[this.Sb+8>>2>>>0]},this.rc=function(){st()[this.Sb>>2>>>0]=0},this.hc=function(Et){Et=Et?1:0,et()[this.Sb+12>>0>>>0]=Et},this.uc=function(){return et()[this.Sb+12>>0>>>0]!=0},this.ic=function(Et){Et=Et?1:0,et()[this.Sb+13>>0>>>0]=Et},this.kc=function(){return et()[this.Sb+13>>0>>>0]!=0},this.fc=function(Et,Rt){this.cc(0),this.xc(Et),this.wc(Rt),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(st(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(st(),this.Sb>>2,1)===1},this.cc=function(Et){it()[this.Sb+16>>2>>>0]=Et},this.tc=function(){return it()[this.Sb+16>>2>>>0]},this.vc=function(){if(to(this.bc()))return it()[this.Zb>>2>>>0];var Et=this.tc();return Et!==0?Et:this.Zb}}function hn(_t){return Xn(new gr(_t).Sb)}function nn(_t,Et,Rt,Dt){return xt?nr(3,1,_t,Et,Rt,Dt):gn(_t,Et,Rt,Dt)}function gn(_t,Et,Rt,Dt){if(typeof SharedArrayBuffer>"u")return Ot("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var Ft=[];return xt&&Ft.length===0?nn(_t,Et,Rt,Dt):(_t={Ic:Rt,Ub:_t,zc:Dt,Nc:Ft},xt?(_t.Oc="spawnThread",postMessage(_t,Ft),0):un(_t))}function mn(_t,Et,Rt){return xt?nr(4,1,_t,Et,Rt):0}function bn(_t,Et){if(xt)return nr(5,1,_t,Et)}function yn(_t,Et){if(xt)return nr(6,1,_t,Et)}function xn(_t,Et,Rt){if(xt)return nr(7,1,_t,Et,Rt)}function _n(_t,Et,Rt){return xt?nr(8,1,_t,Et,Rt):0}function wn(_t,Et){if(xt)return nr(9,1,_t,Et)}function Sn(_t,Et,Rt){if(xt)return nr(10,1,_t,Et,Rt)}function En(_t,Et,Rt,Dt){if(xt)return nr(11,1,_t,Et,Rt,Dt)}function Cn(_t,Et,Rt,Dt){if(xt)return nr(12,1,_t,Et,Rt,Dt)}function Tn(_t,Et,Rt,Dt){if(xt)return nr(13,1,_t,Et,Rt,Dt)}function Pn(_t){if(xt)return nr(14,1,_t)}function Tt(_t,Et){if(xt)return nr(15,1,_t,Et)}function Mt(_t,Et,Rt){if(xt)return nr(16,1,_t,Et,Rt)}function Lt(_t){Atomics.store(st(),_t>>2,1),Dn()&&Zn(_t),Atomics.compareExchange(st(),_t>>2,1,0)}function Nt(_t){return it()[_t>>>2]+4294967296*st()[_t+4>>>2]}function Vt(_t,Et,Rt,Dt,Ft,Ut){return xt?nr(17,1,_t,Et,Rt,Dt,Ft,Ut):-52}function Gt(_t,Et,Rt,Dt,Ft,Ut){if(xt)return nr(18,1,_t,Et,Rt,Dt,Ft,Ut)}function Qt(_t){var Et=cr(_t)+1,Rt=Bn(Et);return Rt&&Bt(_t,et(),Rt,Et),Rt}function lr(_t,Et,Rt){function Dt(Sr){return(Sr=Sr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Sr[1]:"GMT"}if(xt)return nr(19,1,_t,Et,Rt);var Ft=new Date().getFullYear(),Ut=new Date(Ft,0,1),Zt=new Date(Ft,6,1);Ft=Ut.getTimezoneOffset();var ur=Zt.getTimezoneOffset(),_r=Math.max(Ft,ur);st()[_t>>2>>>0]=60*_r,st()[Et>>2>>>0]=+(Ft!=ur),_t=Dt(Ut),Et=Dt(Zt),_t=Qt(_t),Et=Qt(Et),ur<Ft?(it()[Rt>>2>>>0]=_t,it()[Rt+4>>2>>>0]=Et):(it()[Rt>>2>>>0]=Et,it()[Rt+4>>2>>>0]=_t)}function nr(_t,Et){var Rt=arguments.length-2,Dt=arguments;return $n(()=>{for(var Ft=zn(8*Rt),Ut=Ft>>3,Zt=0;Zt<Rt;Zt++){var ur=Dt[2+Zt];ot()[Ut+Zt>>>0]=ur}return Qn(_t,Rt,Ft,Et)})}tt.executeNotifiedProxyingQueue=Lt,fn=mt?()=>{var _t=process.hrtime();return 1e3*_t[0]+_t[1]/1e6}:xt?()=>performance.now()-tt.__performance_now_clock_drift:()=>performance.now();var br,Ir=[],Nr={};function Lr(){if(!br){var _t,Et={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:gt||"./this.program"};for(_t in Nr)Nr[_t]===void 0?delete Et[_t]:Et[_t]=Nr[_t];var Rt=[];for(_t in Et)Rt.push(_t+"="+Et[_t]);br=Rt}return br}function Wt(_t,Et){if(xt)return nr(20,1,_t,Et);var Rt=0;return Lr().forEach(function(Dt,Ft){var Ut=Et+Rt;for(Ft=it()[_t+4*Ft>>2>>>0]=Ut,Ut=0;Ut<Dt.length;++Ut)et()[Ft++>>0>>>0]=Dt.charCodeAt(Ut);et()[Ft>>0>>>0]=0,Rt+=Dt.length+1}),0}function Er(_t,Et){if(xt)return nr(21,1,_t,Et);var Rt=Lr();it()[_t>>2>>>0]=Rt.length;var Dt=0;return Rt.forEach(function(Ft){Dt+=Ft.length+1}),it()[Et>>2>>>0]=Dt,0}function Or(_t){return xt?nr(22,1,_t):52}function Hr(_t,Et,Rt,Dt){return xt?nr(23,1,_t,Et,Rt,Dt):52}function Jr(_t,Et,Rt,Dt,Ft){return xt?nr(24,1,_t,Et,Rt,Dt,Ft):70}var Nn=[null,[],[]];function Fn(_t,Et){var Rt=Nn[_t];Et===0||Et===10?((_t===1?St:Ot)(Kt(Rt,0)),Rt.length=0):Rt.push(Et)}function Wn(_t,Et,Rt,Dt){if(xt)return nr(25,1,_t,Et,Rt,Dt);for(var Ft=0,Ut=0;Ut<Rt;Ut++){var Zt=it()[Et>>2>>>0],ur=it()[Et+4>>2>>>0];Et+=8;for(var _r=0;_r<ur;_r++)Fn(_t,rt()[Zt+_r>>>0]);Ft+=ur}return it()[Dt>>2>>>0]=Ft,0}var Ur=0;function Mn(_t){return _t%4==0&&(_t%100!=0||_t%400==0)}var Hn=[31,29,31,30,31,30,31,31,30,31,30,31],Gn=[31,28,31,30,31,30,31,31,30,31,30,31];function Yn(_t,Et,Rt,Dt){function Ft(Ht,Cr,$r){for(Ht=typeof Ht=="number"?Ht.toString():Ht||"";Ht.length<Cr;)Ht=$r[0]+Ht;return Ht}function Ut(Ht,Cr){return Ft(Ht,Cr,"0")}function Zt(Ht,Cr){function $r(cn){return 0>cn?-1:0<cn?1:0}var Qr;return(Qr=$r(Ht.getFullYear()-Cr.getFullYear()))===0&&(Qr=$r(Ht.getMonth()-Cr.getMonth()))===0&&(Qr=$r(Ht.getDate()-Cr.getDate())),Qr}function ur(Ht){switch(Ht.getDay()){case 0:return new Date(Ht.getFullYear()-1,11,29);case 1:return Ht;case 2:return new Date(Ht.getFullYear(),0,3);case 3:return new Date(Ht.getFullYear(),0,2);case 4:return new Date(Ht.getFullYear(),0,1);case 5:return new Date(Ht.getFullYear()-1,11,31);case 6:return new Date(Ht.getFullYear()-1,11,30)}}function _r(Ht){var Cr=Ht.Wb;for(Ht=new Date(new Date(Ht.Xb+1900,0,1).getTime());0<Cr;){var $r=Ht.getMonth(),Qr=(Mn(Ht.getFullYear())?Hn:Gn)[$r];if(!(Cr>Qr-Ht.getDate())){Ht.setDate(Ht.getDate()+Cr);break}Cr-=Qr-Ht.getDate()+1,Ht.setDate(1),11>$r?Ht.setMonth($r+1):(Ht.setMonth(0),Ht.setFullYear(Ht.getFullYear()+1))}return $r=new Date(Ht.getFullYear()+1,0,4),Cr=ur(new Date(Ht.getFullYear(),0,4)),$r=ur($r),0>=Zt(Cr,Ht)?0>=Zt($r,Ht)?Ht.getFullYear()+1:Ht.getFullYear():Ht.getFullYear()-1}var Sr=st()[Dt+40>>2>>>0];for(var Mr in Dt={Lc:st()[Dt>>2>>>0],Kc:st()[Dt+4>>2>>>0],dc:st()[Dt+8>>2>>>0],jc:st()[Dt+12>>2>>>0],ec:st()[Dt+16>>2>>>0],Xb:st()[Dt+20>>2>>>0],Tb:st()[Dt+24>>2>>>0],Wb:st()[Dt+28>>2>>>0],Rc:st()[Dt+32>>2>>>0],Jc:st()[Dt+36>>2>>>0],Mc:Sr?er(Sr):""},Rt=er(Rt),Sr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Rt=Rt.replace(new RegExp(Mr,"g"),Sr[Mr]);var Yr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Gr="January February March April May June July August September October November December".split(" ");for(Mr in Sr={"%a":function(Ht){return Yr[Ht.Tb].substring(0,3)},"%A":function(Ht){return Yr[Ht.Tb]},"%b":function(Ht){return Gr[Ht.ec].substring(0,3)},"%B":function(Ht){return Gr[Ht.ec]},"%C":function(Ht){return Ut((Ht.Xb+1900)/100|0,2)},"%d":function(Ht){return Ut(Ht.jc,2)},"%e":function(Ht){return Ft(Ht.jc,2," ")},"%g":function(Ht){return _r(Ht).toString().substring(2)},"%G":function(Ht){return _r(Ht)},"%H":function(Ht){return Ut(Ht.dc,2)},"%I":function(Ht){return(Ht=Ht.dc)==0?Ht=12:12<Ht&&(Ht-=12),Ut(Ht,2)},"%j":function(Ht){for(var Cr=0,$r=0;$r<=Ht.ec-1;Cr+=(Mn(Ht.Xb+1900)?Hn:Gn)[$r++]);return Ut(Ht.jc+Cr,3)},"%m":function(Ht){return Ut(Ht.ec+1,2)},"%M":function(Ht){return Ut(Ht.Kc,2)},"%n":function(){return`
`},"%p":function(Ht){return 0<=Ht.dc&&12>Ht.dc?"AM":"PM"},"%S":function(Ht){return Ut(Ht.Lc,2)},"%t":function(){return"	"},"%u":function(Ht){return Ht.Tb||7},"%U":function(Ht){return Ut(Math.floor((Ht.Wb+7-Ht.Tb)/7),2)},"%V":function(Ht){var Cr=Math.floor((Ht.Wb+7-(Ht.Tb+6)%7)/7);if(2>=(Ht.Tb+371-Ht.Wb-2)%7&&Cr++,Cr)Cr==53&&(($r=(Ht.Tb+371-Ht.Wb)%7)==4||$r==3&&Mn(Ht.Xb)||(Cr=1));else{Cr=52;var $r=(Ht.Tb+7-Ht.Wb-1)%7;($r==4||$r==5&&Mn(Ht.Xb%400-1))&&Cr++}return Ut(Cr,2)},"%w":function(Ht){return Ht.Tb},"%W":function(Ht){return Ut(Math.floor((Ht.Wb+7-(Ht.Tb+6)%7)/7),2)},"%y":function(Ht){return(Ht.Xb+1900).toString().substring(2)},"%Y":function(Ht){return Ht.Xb+1900},"%z":function(Ht){var Cr=0<=(Ht=Ht.Jc);return Ht=Math.abs(Ht)/60,(Cr?"+":"-")+("0000"+(Ht/60*100+Ht%60)).slice(-4)},"%Z":function(Ht){return Ht.Mc},"%%":function(){return"%"}},Rt=Rt.replace(/%%/g,"\0\0"),Sr)Rt.includes(Mr)&&(Rt=Rt.replace(new RegExp(Mr,"g"),Sr[Mr](Dt)));return Mr=function(Ht){var Cr=Array(cr(Ht)+1);return Bt(Ht,Cr,0,Cr.length),Cr}(Rt=Rt.replace(/\0\0/g,"%")),Mr.length>Et?0:(function(Ht,Cr){et().set(Ht,Cr>>>0)}(Mr,_t),Mr.length-1)}fr.fc();var Cs=[null,Br,An,nn,mn,bn,yn,xn,_n,wn,Sn,En,Cn,Tn,Pn,Tt,Mt,Vt,Gt,lr,Wt,Er,Or,Hr,Jr,Wn],Ts={b:function(_t){return Bn(_t+24)+24},n:function(_t){return(_t=new gr(_t)).uc()||(_t.hc(!0),mr--),_t.ic(!1),rn.push(_t),_t.sc(),_t.vc()},ma:function(_t){throw Ot("Unexpected exception thrown, this is not properly supported - aborting"),rr=!0,_t},x:function(){xr(0);var _t=rn.pop();if(_t.Hc()&&!_t.kc()){var Et=_t.Dc();Et&&Tr(Et)(_t.Zb),hn(_t.Zb)}hr=0},e:function(){var _t=hr;if(!_t)return Ur=0;var Et=new gr(_t);Et.cc(_t);var Rt=Et.bc();if(!Rt)return Ur=0,_t;for(var Dt=Array.prototype.slice.call(arguments),Ft=0;Ft<Dt.length;Ft++){var Ut=Dt[Ft];if(Ut===0||Ut===Rt)break;if(jn(Ut,Rt,Et.Sb+16))return Ur=Ut,_t}return Ur=Rt,_t},l:function(){var _t=hr;if(!_t)return Ur=0;var Et=new gr(_t);Et.cc(_t);var Rt=Et.bc();if(!Rt)return Ur=0,_t;for(var Dt=Array.prototype.slice.call(arguments),Ft=0;Ft<Dt.length;Ft++){var Ut=Dt[Ft];if(Ut===0||Ut===Rt)break;if(jn(Ut,Rt,Et.Sb+16))return Ur=Ut,_t}return Ur=Rt,_t},h:function(){var _t=hr;if(!_t)return Ur=0;var Et=new gr(_t);Et.cc(_t);var Rt=Et.bc();if(!Rt)return Ur=0,_t;for(var Dt=Array.prototype.slice.call(arguments),Ft=0;Ft<Dt.length;Ft++){var Ut=Dt[Ft];if(Ut===0||Ut===Rt)break;if(jn(Ut,Rt,Et.Sb+16))return Ur=Ut,_t}return Ur=Rt,_t},t:hn,M:function(){var _t=rn.pop();_t||wr("no exception to throw");var Et=_t.Zb;throw _t.kc()||(rn.push(_t),_t.ic(!0),_t.hc(!1),mr++),hr=Et,Et},c:function(_t,Et,Rt){throw new gr(_t).fc(Et,Rt),hr=_t,mr++,_t},pa:function(){return mr},Fa:function(_t){Jn(_t,!vt,1,!bt),fr.pc()},T:function(_t){xt?postMessage({cmd:"cleanupThread",thread:_t}):ln(_t)},xa:gn,j:function(_t){throw hr||(hr=_t),_t},H:mn,Ma:bn,ua:yn,wa:xn,oa:_n,Ka:wn,Ca:Sn,Ja:En,V:Cn,va:Tn,sa:Pn,La:Tt,ta:Mt,Ta:function(){},X:function(){wr("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){wr("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(_t,Et,Rt,Dt){if(_t==Et)setTimeout(()=>Lt(Dt));else if(xt)postMessage({targetThread:_t,cmd:"processProxyingQueue",queue:Dt});else{if(!(_t=fr.Vb[_t]))return;_t.postMessage({cmd:"processProxyingQueue",queue:Dt})}return 1},Ea:function(){return-1},Pa:function(_t,Et){_t=new Date(1e3*Nt(_t)),st()[Et>>2>>>0]=_t.getUTCSeconds(),st()[Et+4>>2>>>0]=_t.getUTCMinutes(),st()[Et+8>>2>>>0]=_t.getUTCHours(),st()[Et+12>>2>>>0]=_t.getUTCDate(),st()[Et+16>>2>>>0]=_t.getUTCMonth(),st()[Et+20>>2>>>0]=_t.getUTCFullYear()-1900,st()[Et+24>>2>>>0]=_t.getUTCDay(),_t=(_t.getTime()-Date.UTC(_t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,st()[Et+28>>2>>>0]=_t},Qa:function(_t,Et){_t=new Date(1e3*Nt(_t)),st()[Et>>2>>>0]=_t.getSeconds(),st()[Et+4>>2>>>0]=_t.getMinutes(),st()[Et+8>>2>>>0]=_t.getHours(),st()[Et+12>>2>>>0]=_t.getDate(),st()[Et+16>>2>>>0]=_t.getMonth(),st()[Et+20>>2>>>0]=_t.getFullYear()-1900,st()[Et+24>>2>>>0]=_t.getDay();var Rt=new Date(_t.getFullYear(),0,1),Dt=(_t.getTime()-Rt.getTime())/864e5|0;st()[Et+28>>2>>>0]=Dt,st()[Et+36>>2>>>0]=-60*_t.getTimezoneOffset(),Dt=new Date(_t.getFullYear(),6,1).getTimezoneOffset(),_t=0|(Dt!=(Rt=Rt.getTimezoneOffset())&&_t.getTimezoneOffset()==Math.min(Rt,Dt)),st()[Et+32>>2>>>0]=_t},Ra:function(_t){var Et=new Date(st()[_t+20>>2>>>0]+1900,st()[_t+16>>2>>>0],st()[_t+12>>2>>>0],st()[_t+8>>2>>>0],st()[_t+4>>2>>>0],st()[_t>>2>>>0],0),Rt=st()[_t+32>>2>>>0],Dt=Et.getTimezoneOffset(),Ft=new Date(Et.getFullYear(),0,1),Ut=new Date(Et.getFullYear(),6,1).getTimezoneOffset(),Zt=Ft.getTimezoneOffset(),ur=Math.min(Zt,Ut);return 0>Rt?st()[_t+32>>2>>>0]=+(Ut!=Zt&&ur==Dt):0<Rt!=(ur==Dt)&&(Ut=Math.max(Zt,Ut),Et.setTime(Et.getTime()+6e4*((0<Rt?ur:Ut)-Dt))),st()[_t+24>>2>>>0]=Et.getDay(),Rt=(Et.getTime()-Ft.getTime())/864e5|0,st()[_t+28>>2>>>0]=Rt,st()[_t>>2>>>0]=Et.getSeconds(),st()[_t+4>>2>>>0]=Et.getMinutes(),st()[_t+8>>2>>>0]=Et.getHours(),st()[_t+12>>2>>>0]=Et.getDate(),st()[_t+16>>2>>>0]=Et.getMonth(),Et.getTime()/1e3|0},Aa:Vt,Ba:Gt,Sa:function _t(Et,Rt,Dt){_t.Ac||(_t.Ac=!0,lr(Et,Rt,Dt))},y:function(){wr("")},U:function(){if(!mt&&!vt){var _t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";tn||(tn={}),tn[_t]||(tn[_t]=1,mt&&(_t="warning: "+_t),Ot(_t))}},ra:function(){return 4294901760},B:fn,Ia:function(_t,Et,Rt){rt().copyWithin(_t>>>0,Et>>>0,Et+Rt>>>0)},F:function(){return mt?s(3993).cpus().length:navigator.hardwareConcurrency},Da:function(_t,Et,Rt){Ir.length=Et,Rt>>=3;for(var Dt=0;Dt<Et;Dt++)Ir[Dt]=ot()[Rt+Dt>>>0];return(0>_t?On[-_t-1]:Cs[_t]).apply(null,Ir)},qa:function(_t){var Et=rt().length;if((_t>>>=0)<=Et||4294901760<_t)return!1;for(var Rt=1;4>=Rt;Rt*=2){var Dt=Et*(1+.2/Rt);Dt=Math.min(Dt,_t+100663296);var Ft=Math;Dt=Math.max(_t,Dt),Ft=Ft.min.call(Ft,4294901760,Dt+(65536-Dt%65536)%65536);e:{try{$t.grow(Ft-zt.byteLength+65535>>>16),ar($t.buffer);var Ut=1;break e}catch{}Ut=void 0}if(Ut)return!0}return!1},Na:function(){throw"unwind"},Ga:Wt,Ha:Er,J:en,I:Or,S:Hr,ga:Jr,R:Wn,d:function(){return Ur},na:function _t(Et,Rt){_t.lc||(_t.lc=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Ft=new Uint8Array(1);return()=>(crypto.getRandomValues(Ft),Ft[0])}if(mt)try{var Ut=s(Object(function(){var Zt=new Error("Cannot find module 'crypto'");throw Zt.code="MODULE_NOT_FOUND",Zt}()));return()=>Ut.randomBytes(1)[0]}catch{}return()=>wr("randomDevice")}());for(var Dt=0;Dt<Rt;Dt++)et()[Et+Dt>>0>>>0]=_t.lc();return 0},ia:function(_t,Et,Rt){var Dt=vr();try{return Tr(_t)(Et,Rt)}catch(Ft){if(yr(Dt),Ft!==Ft+0)throw Ft;xr(1,0)}},ja:function(_t,Et,Rt){var Dt=vr();try{return Tr(_t)(Et,Rt)}catch(Ft){if(yr(Dt),Ft!==Ft+0)throw Ft;xr(1,0)}},K:function(_t){var Et=vr();try{return Tr(_t)()}catch(Rt){if(yr(Et),Rt!==Rt+0)throw Rt;xr(1,0)}},f:function(_t,Et){var Rt=vr();try{return Tr(_t)(Et)}catch(Dt){if(yr(Rt),Dt!==Dt+0)throw Dt;xr(1,0)}},P:function(_t,Et,Rt){var Dt=vr();try{return Tr(_t)(Et,Rt)}catch(Ft){if(yr(Dt),Ft!==Ft+0)throw Ft;xr(1,0)}},Q:function(_t,Et,Rt){var Dt=vr();try{return Tr(_t)(Et,Rt)}catch(Ft){if(yr(Dt),Ft!==Ft+0)throw Ft;xr(1,0)}},k:function(_t,Et,Rt){var Dt=vr();try{return Tr(_t)(Et,Rt)}catch(Ft){if(yr(Dt),Ft!==Ft+0)throw Ft;xr(1,0)}},p:function(_t,Et,Rt,Dt){var Ft=vr();try{return Tr(_t)(Et,Rt,Dt)}catch(Ut){if(yr(Ft),Ut!==Ut+0)throw Ut;xr(1,0)}},q:function(_t,Et,Rt,Dt,Ft){var Ut=vr();try{return Tr(_t)(Et,Rt,Dt,Ft)}catch(Zt){if(yr(Ut),Zt!==Zt+0)throw Zt;xr(1,0)}},N:function(_t,Et,Rt,Dt,Ft,Ut){var Zt=vr();try{return Tr(_t)(Et,Rt,Dt,Ft,Ut)}catch(ur){if(yr(Zt),ur!==ur+0)throw ur;xr(1,0)}},s:function(_t,Et,Rt,Dt,Ft,Ut){var Zt=vr();try{return Tr(_t)(Et,Rt,Dt,Ft,Ut)}catch(ur){if(yr(Zt),ur!==ur+0)throw ur;xr(1,0)}},w:function(_t,Et,Rt,Dt,Ft,Ut,Zt){var ur=vr();try{return Tr(_t)(Et,Rt,Dt,Ft,Ut,Zt)}catch(_r){if(yr(ur),_r!==_r+0)throw _r;xr(1,0)}},L:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur){var _r=vr();try{return Tr(_t)(Et,Rt,Dt,Ft,Ut,Zt,ur)}catch(Sr){if(yr(_r),Sr!==Sr+0)throw Sr;xr(1,0)}},E:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur,_r,Sr,Mr,Yr){var Gr=vr();try{return Tr(_t)(Et,Rt,Dt,Ft,Ut,Zt,ur,_r,Sr,Mr,Yr)}catch(Ht){if(yr(Gr),Ht!==Ht+0)throw Ht;xr(1,0)}},aa:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur){var _r=vr();try{return co(_t,Et,Rt,Dt,Ft,Ut,Zt,ur)}catch(Sr){if(yr(_r),Sr!==Sr+0)throw Sr;xr(1,0)}},_:function(_t,Et,Rt,Dt,Ft,Ut,Zt){var ur=vr();try{return no(_t,Et,Rt,Dt,Ft,Ut,Zt)}catch(_r){if(yr(ur),_r!==_r+0)throw _r;xr(1,0)}},Z:function(_t,Et,Rt,Dt,Ft){var Ut=vr();try{return po(_t,Et,Rt,Dt,Ft)}catch(Zt){if(yr(Ut),Zt!==Zt+0)throw Zt;xr(1,0)}},ca:function(_t,Et,Rt,Dt){var Ft=vr();try{return lo(_t,Et,Rt,Dt)}catch(Ut){if(yr(Ft),Ut!==Ut+0)throw Ut;xr(1,0)}},$:function(_t){var Et=vr();try{return ro(_t)}catch(Rt){if(yr(Et),Rt!==Rt+0)throw Rt;xr(1,0)}},ba:function(_t,Et){var Rt=vr();try{return uo(_t,Et)}catch(Dt){if(yr(Rt),Dt!==Dt+0)throw Dt;xr(1,0)}},Y:function(_t,Et,Rt){var Dt=vr();try{return io(_t,Et,Rt)}catch(Ft){if(yr(Dt),Ft!==Ft+0)throw Ft;xr(1,0)}},g:function(_t){var Et=vr();try{Tr(_t)()}catch(Rt){if(yr(Et),Rt!==Rt+0)throw Rt;xr(1,0)}},r:function(_t,Et){var Rt=vr();try{Tr(_t)(Et)}catch(Dt){if(yr(Rt),Dt!==Dt+0)throw Dt;xr(1,0)}},i:function(_t,Et,Rt){var Dt=vr();try{Tr(_t)(Et,Rt)}catch(Ft){if(yr(Dt),Ft!==Ft+0)throw Ft;xr(1,0)}},ha:function(_t,Et,Rt,Dt){var Ft=vr();try{Tr(_t)(Et,Rt,Dt)}catch(Ut){if(yr(Ft),Ut!==Ut+0)throw Ut;xr(1,0)}},m:function(_t,Et,Rt,Dt){var Ft=vr();try{Tr(_t)(Et,Rt,Dt)}catch(Ut){if(yr(Ft),Ut!==Ut+0)throw Ut;xr(1,0)}},v:function(_t,Et,Rt,Dt,Ft){var Ut=vr();try{Tr(_t)(Et,Rt,Dt,Ft)}catch(Zt){if(yr(Ut),Zt!==Zt+0)throw Zt;xr(1,0)}},u:function(_t,Et,Rt,Dt,Ft,Ut){var Zt=vr();try{Tr(_t)(Et,Rt,Dt,Ft,Ut)}catch(ur){if(yr(Zt),ur!==ur+0)throw ur;xr(1,0)}},O:function(_t,Et,Rt,Dt,Ft,Ut,Zt){var ur=vr();try{Tr(_t)(Et,Rt,Dt,Ft,Ut,Zt)}catch(_r){if(yr(ur),_r!==_r+0)throw _r;xr(1,0)}},A:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur){var _r=vr();try{Tr(_t)(Et,Rt,Dt,Ft,Ut,Zt,ur)}catch(Sr){if(yr(_r),Sr!==Sr+0)throw Sr;xr(1,0)}},ka:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur,_r){var Sr=vr();try{Tr(_t)(Et,Rt,Dt,Ft,Ut,Zt,ur,_r)}catch(Mr){if(yr(Sr),Mr!==Mr+0)throw Mr;xr(1,0)}},C:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur,_r,Sr,Mr){var Yr=vr();try{Tr(_t)(Et,Rt,Dt,Ft,Ut,Zt,ur,_r,Sr,Mr)}catch(Gr){if(yr(Yr),Gr!==Gr+0)throw Gr;xr(1,0)}},D:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur,_r,Sr,Mr,Yr,Gr,Ht,Cr,$r){var Qr=vr();try{Tr(_t)(Et,Rt,Dt,Ft,Ut,Zt,ur,_r,Sr,Mr,Yr,Gr,Ht,Cr,$r)}catch(cn){if(yr(Qr),cn!==cn+0)throw cn;xr(1,0)}},fa:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur){var _r=vr();try{oo(_t,Et,Rt,Dt,Ft,Ut,Zt,ur)}catch(Sr){if(yr(_r),Sr!==Sr+0)throw Sr;xr(1,0)}},da:function(_t,Et,Rt,Dt,Ft,Ut,Zt,ur,_r,Sr,Mr,Yr){var Gr=vr();try{ao(_t,Et,Rt,Dt,Ft,Ut,Zt,ur,_r,Sr,Mr,Yr)}catch(Ht){if(yr(Gr),Ht!==Ht+0)throw Ht;xr(1,0)}},ea:function(_t,Et,Rt,Dt,Ft,Ut){var Zt=vr();try{so(_t,Et,Rt,Dt,Ft,Ut)}catch(ur){if(yr(Zt),ur!==ur+0)throw ur;xr(1,0)}},o:function(_t){return _t},a:$t||tt.wasmMemory,G:function(_t){Ur=_t},la:Yn,z:function(_t,Et,Rt,Dt){return Yn(_t,Et,Rt,Dt)}};(function(){function _t(Ft,Ut){tt.asm=Ft.exports,fr.qc.push(tt.asm.sb),Rr=tt.asm.ub,Fr.unshift(tt.asm.Va),jt=Ut,xt||(Dr--,tt.monitorRunDependencies&&tt.monitorRunDependencies(Dr),Dr==0&&zr&&(Ft=zr,zr=null,Ft()))}function Et(Ft){_t(Ft.instance,Ft.module)}function Rt(Ft){return function(){if(!Pt&&(bt||vt)){if(typeof fetch=="function"&&!Pr.startsWith("file://"))return fetch(Pr,{credentials:"same-origin"}).then(function(Ut){if(!Ut.ok)throw"failed to load wasm binary file at '"+Pr+"'";return Ut.arrayBuffer()}).catch(function(){return an()});if(lt)return new Promise(function(Ut,Zt){lt(Pr,function(ur){Ut(new Uint8Array(ur))},Zt)})}return Promise.resolve().then(function(){return an()})}().then(function(Ut){return WebAssembly.instantiate(Ut,Dt)}).then(function(Ut){return Ut}).then(Ft,function(Ut){Ot("failed to asynchronously prepare wasm: "+Ut),wr(Ut)})}var Dt={a:Ts};if(xt||(Dr++,tt.monitorRunDependencies&&tt.monitorRunDependencies(Dr)),tt.instantiateWasm)try{return tt.instantiateWasm(Dt,_t)}catch(Ft){return Ot("Module.instantiateWasm callback failed with error: "+Ft),!1}(Pt||typeof WebAssembly.instantiateStreaming!="function"||pn()||Pr.startsWith("file://")||mt||typeof fetch!="function"?Rt(Et):fetch(Pr,{credentials:"same-origin"}).then(function(Ft){return WebAssembly.instantiateStreaming(Ft,Dt).then(Et,function(Ut){return Ot("wasm streaming compile failed: "+Ut),Ot("falling back to ArrayBuffer instantiation"),Rt(Et)})})).catch(nt)})(),tt.___wasm_call_ctors=function(){return(tt.___wasm_call_ctors=tt.asm.Va).apply(null,arguments)},tt._OrtInit=function(){return(tt._OrtInit=tt.asm.Wa).apply(null,arguments)},tt._OrtCreateSessionOptions=function(){return(tt._OrtCreateSessionOptions=tt.asm.Xa).apply(null,arguments)},tt._OrtAppendExecutionProvider=function(){return(tt._OrtAppendExecutionProvider=tt.asm.Ya).apply(null,arguments)},tt._OrtAddSessionConfigEntry=function(){return(tt._OrtAddSessionConfigEntry=tt.asm.Za).apply(null,arguments)},tt._OrtReleaseSessionOptions=function(){return(tt._OrtReleaseSessionOptions=tt.asm._a).apply(null,arguments)},tt._OrtCreateSession=function(){return(tt._OrtCreateSession=tt.asm.$a).apply(null,arguments)},tt._OrtReleaseSession=function(){return(tt._OrtReleaseSession=tt.asm.ab).apply(null,arguments)},tt._OrtGetInputCount=function(){return(tt._OrtGetInputCount=tt.asm.bb).apply(null,arguments)},tt._OrtGetOutputCount=function(){return(tt._OrtGetOutputCount=tt.asm.cb).apply(null,arguments)},tt._OrtGetInputName=function(){return(tt._OrtGetInputName=tt.asm.db).apply(null,arguments)},tt._OrtGetOutputName=function(){return(tt._OrtGetOutputName=tt.asm.eb).apply(null,arguments)},tt._OrtFree=function(){return(tt._OrtFree=tt.asm.fb).apply(null,arguments)},tt._OrtCreateTensor=function(){return(tt._OrtCreateTensor=tt.asm.gb).apply(null,arguments)},tt._OrtGetTensorData=function(){return(tt._OrtGetTensorData=tt.asm.hb).apply(null,arguments)},tt._OrtReleaseTensor=function(){return(tt._OrtReleaseTensor=tt.asm.ib).apply(null,arguments)},tt._OrtCreateRunOptions=function(){return(tt._OrtCreateRunOptions=tt.asm.jb).apply(null,arguments)},tt._OrtAddRunConfigEntry=function(){return(tt._OrtAddRunConfigEntry=tt.asm.kb).apply(null,arguments)},tt._OrtReleaseRunOptions=function(){return(tt._OrtReleaseRunOptions=tt.asm.lb).apply(null,arguments)},tt._OrtRun=function(){return(tt._OrtRun=tt.asm.mb).apply(null,arguments)},tt._OrtEndProfiling=function(){return(tt._OrtEndProfiling=tt.asm.nb).apply(null,arguments)};var Dn=tt._pthread_self=function(){return(Dn=tt._pthread_self=tt.asm.ob).apply(null,arguments)},Bn=tt._malloc=function(){return(Bn=tt._malloc=tt.asm.pb).apply(null,arguments)},Xn=tt._free=function(){return(Xn=tt._free=tt.asm.qb).apply(null,arguments)},Kn=tt._fflush=function(){return(Kn=tt._fflush=tt.asm.rb).apply(null,arguments)};tt.__emscripten_tls_init=function(){return(tt.__emscripten_tls_init=tt.asm.sb).apply(null,arguments)};var qn=tt.___funcs_on_exit=function(){return(qn=tt.___funcs_on_exit=tt.asm.tb).apply(null,arguments)},Jn=tt.__emscripten_thread_init=function(){return(Jn=tt.__emscripten_thread_init=tt.asm.vb).apply(null,arguments)};tt.__emscripten_thread_crashed=function(){return(tt.__emscripten_thread_crashed=tt.asm.wb).apply(null,arguments)};var Ln,Qn=tt._emscripten_run_in_main_runtime_thread_js=function(){return(Qn=tt._emscripten_run_in_main_runtime_thread_js=tt.asm.xb).apply(null,arguments)},Zn=tt.__emscripten_proxy_execute_task_queue=function(){return(Zn=tt.__emscripten_proxy_execute_task_queue=tt.asm.yb).apply(null,arguments)},Vn=tt.__emscripten_thread_free_data=function(){return(Vn=tt.__emscripten_thread_free_data=tt.asm.zb).apply(null,arguments)},_i=tt.__emscripten_thread_exit=function(){return(_i=tt.__emscripten_thread_exit=tt.asm.Ab).apply(null,arguments)},xr=tt._setThrew=function(){return(xr=tt._setThrew=tt.asm.Bb).apply(null,arguments)},eo=tt._emscripten_stack_set_limits=function(){return(eo=tt._emscripten_stack_set_limits=tt.asm.Cb).apply(null,arguments)},vr=tt.stackSave=function(){return(vr=tt.stackSave=tt.asm.Db).apply(null,arguments)},yr=tt.stackRestore=function(){return(yr=tt.stackRestore=tt.asm.Eb).apply(null,arguments)},zn=tt.stackAlloc=function(){return(zn=tt.stackAlloc=tt.asm.Fb).apply(null,arguments)},jn=tt.___cxa_can_catch=function(){return(jn=tt.___cxa_can_catch=tt.asm.Gb).apply(null,arguments)},to=tt.___cxa_is_pointer_type=function(){return(to=tt.___cxa_is_pointer_type=tt.asm.Hb).apply(null,arguments)},ro=tt.dynCall_j=function(){return(ro=tt.dynCall_j=tt.asm.Ib).apply(null,arguments)},no=tt.dynCall_iiiiij=function(){return(no=tt.dynCall_iiiiij=tt.asm.Jb).apply(null,arguments)},io=tt.dynCall_jii=function(){return(io=tt.dynCall_jii=tt.asm.Kb).apply(null,arguments)},oo=tt.dynCall_viiiiij=function(){return(oo=tt.dynCall_viiiiij=tt.asm.Lb).apply(null,arguments)},so=tt.dynCall_vjji=function(){return(so=tt.dynCall_vjji=tt.asm.Mb).apply(null,arguments)},ao=tt.dynCall_viiijjjii=function(){return(ao=tt.dynCall_viiijjjii=tt.asm.Nb).apply(null,arguments)},lo=tt.dynCall_iij=function(){return(lo=tt.dynCall_iij=tt.asm.Ob).apply(null,arguments)},uo=tt.dynCall_ji=function(){return(uo=tt.dynCall_ji=tt.asm.Pb).apply(null,arguments)},co=tt.dynCall_iiiiiij=function(){return(co=tt.dynCall_iiiiiij=tt.asm.Qb).apply(null,arguments)},po=tt.dynCall_iiij=function(){return(po=tt.dynCall_iiij=tt.asm.Rb).apply(null,arguments)};function fo(){function _t(){if(!Ln&&(Ln=!0,tt.calledRun=!0,!rr)&&(xt||Zr(Fr),_e(tt),tt.onRuntimeInitialized&&tt.onRuntimeInitialized(),!xt)){if(tt.postRun)for(typeof tt.postRun=="function"&&(tt.postRun=[tt.postRun]);tt.postRun.length;){var Et=tt.postRun.shift();dr.unshift(Et)}Zr(dr)}}if(!(0<Dr))if(xt)_e(tt),xt||Zr(Fr),postMessage({cmd:"loaded"});else{if(tt.preRun)for(typeof tt.preRun=="function"&&(tt.preRun=[tt.preRun]);tt.preRun.length;)jr();Zr(kr),0<Dr||(tt.setStatus?(tt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){tt.setStatus("")},1),_t()},1)):_t())}}if(tt.UTF8ToString=er,tt.stringToUTF8=function(_t,Et,Rt){return Bt(_t,rt(),Et,Rt)},tt.lengthBytesUTF8=cr,tt.keepRuntimeAlive=Ar,tt.wasmMemory=$t,tt.stackSave=vr,tt.stackRestore=yr,tt.stackAlloc=zn,tt.ExitStatus=Kr,tt.PThread=fr,zr=function _t(){Ln||fo(),Ln||(zr=_t)},tt.preInit)for(typeof tt.preInit=="function"&&(tt.preInit=[tt.preInit]);0<tt.preInit.length;)tt.preInit.pop()();return fo(),j.ready});o.exports=$},932:(o,i,s)=>{var a,$=(a=(a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(j){var et,rt,st;j=j||{},et||(et=j!==void 0?j:{}),et.ready=new Promise(function(Tt,Mt){rt=Tt,st=Mt});var it,ot,tt,_e,nt,at,lt=Object.assign({},et),ut="./this.program",ct=(Tt,Mt)=>{throw Mt},dt=typeof window=="object",ft=typeof importScripts=="function",ht=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",gt="";ht?(gt=ft?s(908).dirname(gt)+"/":"//",at=()=>{nt||(_e=s(1384),nt=s(908))},it=function(Tt,Mt){return at(),Tt=nt.normalize(Tt),_e.readFileSync(Tt,Mt?void 0:"utf8")},tt=Tt=>((Tt=it(Tt,!0)).buffer||(Tt=new Uint8Array(Tt)),Tt),ot=(Tt,Mt,Lt)=>{at(),Tt=nt.normalize(Tt),_e.readFile(Tt,function(Nt,Vt){Nt?Lt(Nt):Mt(Vt.buffer)})},1<process.argv.length&&(ut=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Tt){if(!(Tt instanceof Fr))throw Tt}),process.on("unhandledRejection",function(Tt){throw Tt}),ct=(Tt,Mt)=>{if(mt||0<Yt)throw process.exitCode=Tt,Mt;Mt instanceof Fr||vt("exiting due to exception: "+Mt),process.exit(Tt)},et.inspect=function(){return"[Emscripten Module object]"}):(dt||ft)&&(ft?gt=self.location.href:typeof document<"u"&&document.currentScript&&(gt=document.currentScript.src),a&&(gt=a),gt=gt.indexOf("blob:")!==0?gt.substr(0,gt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",it=Tt=>{var Mt=new XMLHttpRequest;return Mt.open("GET",Tt,!1),Mt.send(null),Mt.responseText},ft&&(tt=Tt=>{var Mt=new XMLHttpRequest;return Mt.open("GET",Tt,!1),Mt.responseType="arraybuffer",Mt.send(null),new Uint8Array(Mt.response)}),ot=(Tt,Mt,Lt)=>{var Nt=new XMLHttpRequest;Nt.open("GET",Tt,!0),Nt.responseType="arraybuffer",Nt.onload=()=>{Nt.status==200||Nt.status==0&&Nt.response?Mt(Nt.response):Lt()},Nt.onerror=Lt,Nt.send(null)});var yt,bt=et.print||console.log.bind(console),vt=et.printErr||console.warn.bind(console);Object.assign(et,lt),lt=null,et.thisProgram&&(ut=et.thisProgram),et.quit&&(ct=et.quit),et.wasmBinary&&(yt=et.wasmBinary);var mt=et.noExitRuntime||!1;typeof WebAssembly!="object"&&ar("no native wasm support detected");var xt,wt,Ct,kt,It,Pt,St=!1,Ot=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function At(Tt,Mt,Lt){var Nt=(Mt>>>=0)+Lt;for(Lt=Mt;Tt[Lt]&&!(Lt>=Nt);)++Lt;if(16<Lt-Mt&&Tt.buffer&&Ot)return Ot.decode(Tt.subarray(Mt,Lt));for(Nt="";Mt<Lt;){var Vt=Tt[Mt++];if(128&Vt){var Gt=63&Tt[Mt++];if((224&Vt)==192)Nt+=String.fromCharCode((31&Vt)<<6|Gt);else{var Qt=63&Tt[Mt++];65536>(Vt=(240&Vt)==224?(15&Vt)<<12|Gt<<6|Qt:(7&Vt)<<18|Gt<<12|Qt<<6|63&Tt[Mt++])?Nt+=String.fromCharCode(Vt):(Vt-=65536,Nt+=String.fromCharCode(55296|Vt>>10,56320|1023&Vt))}}else Nt+=String.fromCharCode(Vt)}return Nt}function $t(Tt,Mt){return(Tt>>>=0)?At(kt,Tt,Mt):""}function jt(Tt,Mt,Lt,Nt){if(!(0<Nt))return 0;var Vt=Lt>>>=0;Nt=Lt+Nt-1;for(var Gt=0;Gt<Tt.length;++Gt){var Qt=Tt.charCodeAt(Gt);if(55296<=Qt&&57343>=Qt&&(Qt=65536+((1023&Qt)<<10)|1023&Tt.charCodeAt(++Gt)),127>=Qt){if(Lt>=Nt)break;Mt[Lt++>>>0]=Qt}else{if(2047>=Qt){if(Lt+1>=Nt)break;Mt[Lt++>>>0]=192|Qt>>6}else{if(65535>=Qt){if(Lt+2>=Nt)break;Mt[Lt++>>>0]=224|Qt>>12}else{if(Lt+3>=Nt)break;Mt[Lt++>>>0]=240|Qt>>18,Mt[Lt++>>>0]=128|Qt>>12&63}Mt[Lt++>>>0]=128|Qt>>6&63}Mt[Lt++>>>0]=128|63&Qt}}return Mt[Lt>>>0]=0,Lt-Vt}function zt(Tt){for(var Mt=0,Lt=0;Lt<Tt.length;++Lt){var Nt=Tt.charCodeAt(Lt);127>=Nt?Mt++:2047>=Nt?Mt+=2:55296<=Nt&&57343>=Nt?(Mt+=4,++Lt):Mt+=3}return Mt}function Xt(){var Tt=xt.buffer;wt=Tt,et.HEAP8=Ct=new Int8Array(Tt),et.HEAP16=new Int16Array(Tt),et.HEAP32=It=new Int32Array(Tt),et.HEAPU8=kt=new Uint8Array(Tt),et.HEAPU16=new Uint16Array(Tt),et.HEAPU32=Pt=new Uint32Array(Tt),et.HEAPF32=new Float32Array(Tt),et.HEAPF64=new Float64Array(Tt)}var tr,ir=[],sr=[],Jt=[],rr=[],Yt=0;function Kt(){var Tt=et.preRun.shift();ir.unshift(Tt)}var er,Bt=0,cr=null;function ar(Tt){throw et.onAbort&&et.onAbort(Tt),vt(Tt="Aborted("+Tt+")"),St=!0,Tt=new WebAssembly.RuntimeError(Tt+". Build with -sASSERTIONS for more info."),st(Tt),Tt}function pr(){return er.startsWith("data:application/octet-stream;base64,")}if(er="ort-wasm.wasm",!pr()){var Rr=er;er=et.locateFile?et.locateFile(Rr,gt):gt+Rr}function kr(){var Tt=er;try{if(Tt==er&&yt)return new Uint8Array(yt);if(tt)return tt(Tt);throw"both async and sync fetching of the wasm failed"}catch(Mt){ar(Mt)}}function Fr(Tt){this.name="ExitStatus",this.message="Program terminated with exit("+Tt+")",this.status=Tt}function Vr(Tt){for(;0<Tt.length;)Tt.shift()(et)}var dr=[],Ar=0,jr=0;function Pr(Tt){this.Db=Tt,this.zb=Tt-24,this.Ub=function(Mt){Pt[this.zb+4>>2>>>0]=Mt},this.Eb=function(){return Pt[this.zb+4>>2>>>0]},this.Sb=function(Mt){Pt[this.zb+8>>2>>>0]=Mt},this.Wb=function(){return Pt[this.zb+8>>2>>>0]},this.Tb=function(){It[this.zb>>2>>>0]=0},this.Ib=function(Mt){Ct[this.zb+12>>0>>>0]=Mt?1:0},this.Pb=function(){return Ct[this.zb+12>>0>>>0]!=0},this.Jb=function(Mt){Ct[this.zb+13>>0>>>0]=Mt?1:0},this.Lb=function(){return Ct[this.zb+13>>0>>>0]!=0},this.Rb=function(Mt,Lt){this.Fb(0),this.Ub(Mt),this.Sb(Lt),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){It[this.zb>>2>>>0]+=1},this.Xb=function(){var Mt=It[this.zb>>2>>>0];return It[this.zb>>2>>>0]=Mt-1,Mt===1},this.Fb=function(Mt){Pt[this.zb+16>>2>>>0]=Mt},this.Ob=function(){return Pt[this.zb+16>>2>>>0]},this.Qb=function(){if(gn(this.Eb()))return Pt[this.Db>>2>>>0];var Mt=this.Ob();return Mt!==0?Mt:this.Db}}function Dr(Tt){return tn(new Pr(Tt).zb)}var zr=[];function wr(Tt){var Mt=zr[Tt];return Mt||(Tt>=zr.length&&(zr.length=Tt+1),zr[Tt]=Mt=tr.get(Tt)),Mt}function pn(Tt){var Mt=zt(Tt)+1,Lt=Tr(Mt);return Lt&&jt(Tt,Ct,Lt,Mt),Lt}var an={};function On(){if(!Kr){var Tt,Mt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ut||"./this.program"};for(Tt in an)an[Tt]===void 0?delete Mt[Tt]:Mt[Tt]=an[Tt];var Lt=[];for(Tt in Mt)Lt.push(Tt+"="+Mt[Tt]);Kr=Lt}return Kr}var Kr,ln=[null,[],[]];function un(Tt,Mt){var Lt=ln[Tt];Mt===0||Mt===10?((Tt===1?bt:vt)(At(Lt,0)),Lt.length=0):Lt.push(Mt)}var Br=0;function en(Tt){return Tt%4==0&&(Tt%100!=0||Tt%400==0)}var fr=[31,29,31,30,31,30,31,31,30,31,30,31],Zr=[31,28,31,30,31,30,31,31,30,31,30,31];function $n(Tt,Mt,Lt,Nt){function Vt(Wt,Er,Or){for(Wt=typeof Wt=="number"?Wt.toString():Wt||"";Wt.length<Er;)Wt=Or[0]+Wt;return Wt}function Gt(Wt,Er){return Vt(Wt,Er,"0")}function Qt(Wt,Er){function Or(Jr){return 0>Jr?-1:0<Jr?1:0}var Hr;return(Hr=Or(Wt.getFullYear()-Er.getFullYear()))===0&&(Hr=Or(Wt.getMonth()-Er.getMonth()))===0&&(Hr=Or(Wt.getDate()-Er.getDate())),Hr}function lr(Wt){switch(Wt.getDay()){case 0:return new Date(Wt.getFullYear()-1,11,29);case 1:return Wt;case 2:return new Date(Wt.getFullYear(),0,3);case 3:return new Date(Wt.getFullYear(),0,2);case 4:return new Date(Wt.getFullYear(),0,1);case 5:return new Date(Wt.getFullYear()-1,11,31);case 6:return new Date(Wt.getFullYear()-1,11,30)}}function nr(Wt){var Er=Wt.Bb;for(Wt=new Date(new Date(Wt.Cb+1900,0,1).getTime());0<Er;){var Or=Wt.getMonth(),Hr=(en(Wt.getFullYear())?fr:Zr)[Or];if(!(Er>Hr-Wt.getDate())){Wt.setDate(Wt.getDate()+Er);break}Er-=Hr-Wt.getDate()+1,Wt.setDate(1),11>Or?Wt.setMonth(Or+1):(Wt.setMonth(0),Wt.setFullYear(Wt.getFullYear()+1))}return Or=new Date(Wt.getFullYear()+1,0,4),Er=lr(new Date(Wt.getFullYear(),0,4)),Or=lr(Or),0>=Qt(Er,Wt)?0>=Qt(Or,Wt)?Wt.getFullYear()+1:Wt.getFullYear():Wt.getFullYear()-1}var br=It[Nt+40>>2>>>0];for(var Ir in Nt={$b:It[Nt>>2>>>0],Zb:It[Nt+4>>2>>>0],Gb:It[Nt+8>>2>>>0],Kb:It[Nt+12>>2>>>0],Hb:It[Nt+16>>2>>>0],Cb:It[Nt+20>>2>>>0],Ab:It[Nt+24>>2>>>0],Bb:It[Nt+28>>2>>>0],bc:It[Nt+32>>2>>>0],Yb:It[Nt+36>>2>>>0],ac:br?$t(br):""},Lt=$t(Lt),br={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Lt=Lt.replace(new RegExp(Ir,"g"),br[Ir]);var Nr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Lr="January February March April May June July August September October November December".split(" ");for(Ir in br={"%a":function(Wt){return Nr[Wt.Ab].substring(0,3)},"%A":function(Wt){return Nr[Wt.Ab]},"%b":function(Wt){return Lr[Wt.Hb].substring(0,3)},"%B":function(Wt){return Lr[Wt.Hb]},"%C":function(Wt){return Gt((Wt.Cb+1900)/100|0,2)},"%d":function(Wt){return Gt(Wt.Kb,2)},"%e":function(Wt){return Vt(Wt.Kb,2," ")},"%g":function(Wt){return nr(Wt).toString().substring(2)},"%G":function(Wt){return nr(Wt)},"%H":function(Wt){return Gt(Wt.Gb,2)},"%I":function(Wt){return(Wt=Wt.Gb)==0?Wt=12:12<Wt&&(Wt-=12),Gt(Wt,2)},"%j":function(Wt){for(var Er=0,Or=0;Or<=Wt.Hb-1;Er+=(en(Wt.Cb+1900)?fr:Zr)[Or++]);return Gt(Wt.Kb+Er,3)},"%m":function(Wt){return Gt(Wt.Hb+1,2)},"%M":function(Wt){return Gt(Wt.Zb,2)},"%n":function(){return`
`},"%p":function(Wt){return 0<=Wt.Gb&&12>Wt.Gb?"AM":"PM"},"%S":function(Wt){return Gt(Wt.$b,2)},"%t":function(){return"	"},"%u":function(Wt){return Wt.Ab||7},"%U":function(Wt){return Gt(Math.floor((Wt.Bb+7-Wt.Ab)/7),2)},"%V":function(Wt){var Er=Math.floor((Wt.Bb+7-(Wt.Ab+6)%7)/7);if(2>=(Wt.Ab+371-Wt.Bb-2)%7&&Er++,Er)Er==53&&((Or=(Wt.Ab+371-Wt.Bb)%7)==4||Or==3&&en(Wt.Cb)||(Er=1));else{Er=52;var Or=(Wt.Ab+7-Wt.Bb-1)%7;(Or==4||Or==5&&en(Wt.Cb%400-1))&&Er++}return Gt(Er,2)},"%w":function(Wt){return Wt.Ab},"%W":function(Wt){return Gt(Math.floor((Wt.Bb+7-(Wt.Ab+6)%7)/7),2)},"%y":function(Wt){return(Wt.Cb+1900).toString().substring(2)},"%Y":function(Wt){return Wt.Cb+1900},"%z":function(Wt){var Er=0<=(Wt=Wt.Yb);return Wt=Math.abs(Wt)/60,(Er?"+":"-")+("0000"+(Wt/60*100+Wt%60)).slice(-4)},"%Z":function(Wt){return Wt.ac},"%%":function(){return"%"}},Lt=Lt.replace(/%%/g,"\0\0"),br)Lt.includes(Ir)&&(Lt=Lt.replace(new RegExp(Ir,"g"),br[Ir](Nt)));return Ir=function(Wt){var Er=Array(zt(Wt)+1);return jt(Wt,Er,0,Er.length),Er}(Lt=Lt.replace(/\0\0/g,"%")),Ir.length>Mt?0:(Ct.set(Ir,Tt>>>0),Ir.length-1)}var An={a:function(Tt){return Tr(Tt+24)+24},m:function(Tt){return(Tt=new Pr(Tt)).Pb()||(Tt.Ib(!0),Ar--),Tt.Jb(!1),dr.push(Tt),Tt.Nb(),Tt.Qb()},ia:function(Tt){throw vt("Unexpected exception thrown, this is not properly supported - aborting"),St=!0,Tt},w:function(){mr(0);var Tt=dr.pop();if(Tt.Xb()&&!Tt.Lb()){var Mt=Tt.Wb();Mt&&wr(Mt)(Tt.Db),Dr(Tt.Db)}jr=0},d:function(){var Tt=jr;if(!Tt)return Br=0;var Mt=new Pr(Tt);Mt.Fb(Tt);var Lt=Mt.Eb();if(!Lt)return Br=0,Tt;for(var Nt=Array.prototype.slice.call(arguments),Vt=0;Vt<Nt.length;Vt++){var Gt=Nt[Vt];if(Gt===0||Gt===Lt)break;if(nn(Gt,Lt,Mt.zb+16))return Br=Gt,Tt}return Br=Lt,Tt},k:function(){var Tt=jr;if(!Tt)return Br=0;var Mt=new Pr(Tt);Mt.Fb(Tt);var Lt=Mt.Eb();if(!Lt)return Br=0,Tt;for(var Nt=Array.prototype.slice.call(arguments),Vt=0;Vt<Nt.length;Vt++){var Gt=Nt[Vt];if(Gt===0||Gt===Lt)break;if(nn(Gt,Lt,Mt.zb+16))return Br=Gt,Tt}return Br=Lt,Tt},g:function(){var Tt=jr;if(!Tt)return Br=0;var Mt=new Pr(Tt);Mt.Fb(Tt);var Lt=Mt.Eb();if(!Lt)return Br=0,Tt;for(var Nt=Array.prototype.slice.call(arguments),Vt=0;Vt<Nt.length;Vt++){var Gt=Nt[Vt];if(Gt===0||Gt===Lt)break;if(nn(Gt,Lt,Mt.zb+16))return Br=Gt,Tt}return Br=Lt,Tt},s:Dr,L:function(){var Tt=dr.pop();Tt||ar("no exception to throw");var Mt=Tt.Db;throw Tt.Lb()||(dr.push(Tt),Tt.Jb(!0),Tt.Ib(!1),Ar++),jr=Mt,Mt},b:function(Tt,Mt,Lt){throw new Pr(Tt).Rb(Mt,Lt),jr=Tt,Ar++,Tt},la:function(){return Ar},i:function(Tt){throw jr||(jr=Tt),Tt},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){ar("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){ar("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(Tt,Mt){Tt=new Date(1e3*(Pt[Tt>>>2]+4294967296*It[Tt+4>>>2])),It[Mt>>2>>>0]=Tt.getUTCSeconds(),It[Mt+4>>2>>>0]=Tt.getUTCMinutes(),It[Mt+8>>2>>>0]=Tt.getUTCHours(),It[Mt+12>>2>>>0]=Tt.getUTCDate(),It[Mt+16>>2>>>0]=Tt.getUTCMonth(),It[Mt+20>>2>>>0]=Tt.getUTCFullYear()-1900,It[Mt+24>>2>>>0]=Tt.getUTCDay(),It[Mt+28>>2>>>0]=(Tt.getTime()-Date.UTC(Tt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(Tt,Mt){Tt=new Date(1e3*(Pt[Tt>>>2]+4294967296*It[Tt+4>>>2])),It[Mt>>2>>>0]=Tt.getSeconds(),It[Mt+4>>2>>>0]=Tt.getMinutes(),It[Mt+8>>2>>>0]=Tt.getHours(),It[Mt+12>>2>>>0]=Tt.getDate(),It[Mt+16>>2>>>0]=Tt.getMonth(),It[Mt+20>>2>>>0]=Tt.getFullYear()-1900,It[Mt+24>>2>>>0]=Tt.getDay();var Lt=new Date(Tt.getFullYear(),0,1);It[Mt+28>>2>>>0]=(Tt.getTime()-Lt.getTime())/864e5|0,It[Mt+36>>2>>>0]=-60*Tt.getTimezoneOffset();var Nt=new Date(Tt.getFullYear(),6,1).getTimezoneOffset();Lt=Lt.getTimezoneOffset(),It[Mt+32>>2>>>0]=0|(Nt!=Lt&&Tt.getTimezoneOffset()==Math.min(Lt,Nt))},Fa:function(Tt){var Mt=new Date(It[Tt+20>>2>>>0]+1900,It[Tt+16>>2>>>0],It[Tt+12>>2>>>0],It[Tt+8>>2>>>0],It[Tt+4>>2>>>0],It[Tt>>2>>>0],0),Lt=It[Tt+32>>2>>>0],Nt=Mt.getTimezoneOffset(),Vt=new Date(Mt.getFullYear(),0,1),Gt=new Date(Mt.getFullYear(),6,1).getTimezoneOffset(),Qt=Vt.getTimezoneOffset(),lr=Math.min(Qt,Gt);return 0>Lt?It[Tt+32>>2>>>0]=+(Gt!=Qt&&lr==Nt):0<Lt!=(lr==Nt)&&(Gt=Math.max(Qt,Gt),Mt.setTime(Mt.getTime()+6e4*((0<Lt?lr:Gt)-Nt))),It[Tt+24>>2>>>0]=Mt.getDay(),It[Tt+28>>2>>>0]=(Mt.getTime()-Vt.getTime())/864e5|0,It[Tt>>2>>>0]=Mt.getSeconds(),It[Tt+4>>2>>>0]=Mt.getMinutes(),It[Tt+8>>2>>>0]=Mt.getHours(),It[Tt+12>>2>>>0]=Mt.getDate(),It[Tt+16>>2>>>0]=Mt.getMonth(),Mt.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function Tt(Mt,Lt,Nt){Tt.Vb||(Tt.Vb=!0,function(Vt,Gt,Qt){function lr(Lr){return(Lr=Lr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Lr[1]:"GMT"}var nr=new Date().getFullYear(),br=new Date(nr,0,1),Ir=new Date(nr,6,1);nr=br.getTimezoneOffset();var Nr=Ir.getTimezoneOffset();It[Vt>>2>>>0]=60*Math.max(nr,Nr),It[Gt>>2>>>0]=+(nr!=Nr),Vt=lr(br),Gt=lr(Ir),Vt=pn(Vt),Gt=pn(Gt),Nr<nr?(Pt[Qt>>2>>>0]=Vt,Pt[Qt+4>>2>>>0]=Gt):(Pt[Qt>>2>>>0]=Gt,Pt[Qt+4>>2>>>0]=Vt)}(Mt,Lt,Nt))},B:function(){ar("")},ma:function(){return 4294901760},I:ht?()=>{var Tt=process.hrtime();return 1e3*Tt[0]+Tt[1]/1e6}:()=>performance.now(),xa:function(Tt,Mt,Lt){kt.copyWithin(Tt>>>0,Mt>>>0,Mt+Lt>>>0)},G:function(Tt){var Mt=kt.length;if(4294901760<(Tt>>>=0))return!1;for(var Lt=1;4>=Lt;Lt*=2){var Nt=Mt*(1+.2/Lt);Nt=Math.min(Nt,Tt+100663296);var Vt=Math;Nt=Math.max(Tt,Nt),Vt=Vt.min.call(Vt,4294901760,Nt+(65536-Nt%65536)%65536);e:{try{xt.grow(Vt-wt.byteLength+65535>>>16),Xt();var Gt=1;break e}catch{}Gt=void 0}if(Gt)return!0}return!1},va:function(Tt,Mt){var Lt=0;return On().forEach(function(Nt,Vt){var Gt=Mt+Lt;for(Vt=Pt[Tt+4*Vt>>2>>>0]=Gt,Gt=0;Gt<Nt.length;++Gt)Ct[Vt++>>0>>>0]=Nt.charCodeAt(Gt);Ct[Vt>>0>>>0]=0,Lt+=Nt.length+1}),0},wa:function(Tt,Mt){var Lt=On();Pt[Tt>>2>>>0]=Lt.length;var Nt=0;return Lt.forEach(function(Vt){Nt+=Vt.length+1}),Pt[Mt>>2>>>0]=Nt,0},ba:function(Tt){mt||0<Yt||(rn(),Vr(Jt),fn(0),ln[1].length&&un(1,10),ln[2].length&&un(2,10)),mt||0<Yt||(et.onExit&&et.onExit(Tt),St=!0),ct(Tt,new Fr(Tt))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(Tt,Mt,Lt,Nt){for(var Vt=0,Gt=0;Gt<Lt;Gt++){var Qt=Pt[Mt>>2>>>0],lr=Pt[Mt+4>>2>>>0];Mt+=8;for(var nr=0;nr<lr;nr++)un(Tt,kt[Qt+nr>>>0]);Vt+=lr}return Pt[Nt>>2>>>0]=Vt,0},c:function(){return Br},ja:function Tt(Mt,Lt){Tt.Mb||(Tt.Mb=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Vt=new Uint8Array(1);return()=>(crypto.getRandomValues(Vt),Vt[0])}if(ht)try{var Gt=s(Object(function(){var Qt=new Error("Cannot find module 'crypto'");throw Qt.code="MODULE_NOT_FOUND",Qt}()));return()=>Gt.randomBytes(1)[0]}catch{}return()=>ar("randomDevice")}());for(var Nt=0;Nt<Lt;Nt++)Ct[Mt+Nt>>0>>>0]=Tt.Mb();return 0},ea:function(Tt,Mt,Lt){var Nt=hr();try{return wr(Tt)(Mt,Lt)}catch(Vt){if(gr(Nt),Vt!==Vt+0)throw Vt;mr(1,0)}},fa:function(Tt,Mt,Lt){var Nt=hr();try{return wr(Tt)(Mt,Lt)}catch(Vt){if(gr(Nt),Vt!==Vt+0)throw Vt;mr(1,0)}},J:function(Tt){var Mt=hr();try{return wr(Tt)()}catch(Lt){if(gr(Mt),Lt!==Lt+0)throw Lt;mr(1,0)}},e:function(Tt,Mt){var Lt=hr();try{return wr(Tt)(Mt)}catch(Nt){if(gr(Lt),Nt!==Nt+0)throw Nt;mr(1,0)}},N:function(Tt,Mt,Lt){var Nt=hr();try{return wr(Tt)(Mt,Lt)}catch(Vt){if(gr(Nt),Vt!==Vt+0)throw Vt;mr(1,0)}},O:function(Tt,Mt,Lt){var Nt=hr();try{return wr(Tt)(Mt,Lt)}catch(Vt){if(gr(Nt),Vt!==Vt+0)throw Vt;mr(1,0)}},j:function(Tt,Mt,Lt){var Nt=hr();try{return wr(Tt)(Mt,Lt)}catch(Vt){if(gr(Nt),Vt!==Vt+0)throw Vt;mr(1,0)}},o:function(Tt,Mt,Lt,Nt){var Vt=hr();try{return wr(Tt)(Mt,Lt,Nt)}catch(Gt){if(gr(Vt),Gt!==Gt+0)throw Gt;mr(1,0)}},p:function(Tt,Mt,Lt,Nt,Vt){var Gt=hr();try{return wr(Tt)(Mt,Lt,Nt,Vt)}catch(Qt){if(gr(Gt),Qt!==Qt+0)throw Qt;mr(1,0)}},M:function(Tt,Mt,Lt,Nt,Vt,Gt){var Qt=hr();try{return wr(Tt)(Mt,Lt,Nt,Vt,Gt)}catch(lr){if(gr(Qt),lr!==lr+0)throw lr;mr(1,0)}},r:function(Tt,Mt,Lt,Nt,Vt,Gt){var Qt=hr();try{return wr(Tt)(Mt,Lt,Nt,Vt,Gt)}catch(lr){if(gr(Qt),lr!==lr+0)throw lr;mr(1,0)}},v:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt){var lr=hr();try{return wr(Tt)(Mt,Lt,Nt,Vt,Gt,Qt)}catch(nr){if(gr(lr),nr!==nr+0)throw nr;mr(1,0)}},K:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr){var nr=hr();try{return wr(Tt)(Mt,Lt,Nt,Vt,Gt,Qt,lr)}catch(br){if(gr(nr),br!==br+0)throw br;mr(1,0)}},D:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr,nr,br,Ir,Nr){var Lr=hr();try{return wr(Tt)(Mt,Lt,Nt,Vt,Gt,Qt,lr,nr,br,Ir,Nr)}catch(Wt){if(gr(Lr),Wt!==Wt+0)throw Wt;mr(1,0)}},X:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr){var nr=hr();try{return Cn(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr)}catch(br){if(gr(nr),br!==br+0)throw br;mr(1,0)}},V:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt){var lr=hr();try{return bn(Tt,Mt,Lt,Nt,Vt,Gt,Qt)}catch(nr){if(gr(lr),nr!==nr+0)throw nr;mr(1,0)}},U:function(Tt,Mt,Lt,Nt,Vt){var Gt=hr();try{return Tn(Tt,Mt,Lt,Nt,Vt)}catch(Qt){if(gr(Gt),Qt!==Qt+0)throw Qt;mr(1,0)}},Z:function(Tt,Mt,Lt,Nt){var Vt=hr();try{return Sn(Tt,Mt,Lt,Nt)}catch(Gt){if(gr(Vt),Gt!==Gt+0)throw Gt;mr(1,0)}},W:function(Tt){var Mt=hr();try{return mn(Tt)}catch(Lt){if(gr(Mt),Lt!==Lt+0)throw Lt;mr(1,0)}},Y:function(Tt,Mt){var Lt=hr();try{return En(Tt,Mt)}catch(Nt){if(gr(Lt),Nt!==Nt+0)throw Nt;mr(1,0)}},T:function(Tt,Mt,Lt){var Nt=hr();try{return yn(Tt,Mt,Lt)}catch(Vt){if(gr(Nt),Vt!==Vt+0)throw Vt;mr(1,0)}},f:function(Tt){var Mt=hr();try{wr(Tt)()}catch(Lt){if(gr(Mt),Lt!==Lt+0)throw Lt;mr(1,0)}},q:function(Tt,Mt){var Lt=hr();try{wr(Tt)(Mt)}catch(Nt){if(gr(Lt),Nt!==Nt+0)throw Nt;mr(1,0)}},h:function(Tt,Mt,Lt){var Nt=hr();try{wr(Tt)(Mt,Lt)}catch(Vt){if(gr(Nt),Vt!==Vt+0)throw Vt;mr(1,0)}},da:function(Tt,Mt,Lt,Nt){var Vt=hr();try{wr(Tt)(Mt,Lt,Nt)}catch(Gt){if(gr(Vt),Gt!==Gt+0)throw Gt;mr(1,0)}},l:function(Tt,Mt,Lt,Nt){var Vt=hr();try{wr(Tt)(Mt,Lt,Nt)}catch(Gt){if(gr(Vt),Gt!==Gt+0)throw Gt;mr(1,0)}},t:function(Tt,Mt,Lt,Nt,Vt){var Gt=hr();try{wr(Tt)(Mt,Lt,Nt,Vt)}catch(Qt){if(gr(Gt),Qt!==Qt+0)throw Qt;mr(1,0)}},u:function(Tt,Mt,Lt,Nt,Vt,Gt){var Qt=hr();try{wr(Tt)(Mt,Lt,Nt,Vt,Gt)}catch(lr){if(gr(Qt),lr!==lr+0)throw lr;mr(1,0)}},x:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt){var lr=hr();try{wr(Tt)(Mt,Lt,Nt,Vt,Gt,Qt)}catch(nr){if(gr(lr),nr!==nr+0)throw nr;mr(1,0)}},z:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr){var nr=hr();try{wr(Tt)(Mt,Lt,Nt,Vt,Gt,Qt,lr)}catch(br){if(gr(nr),br!==br+0)throw br;mr(1,0)}},ga:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr,nr){var br=hr();try{wr(Tt)(Mt,Lt,Nt,Vt,Gt,Qt,lr,nr)}catch(Ir){if(gr(br),Ir!==Ir+0)throw Ir;mr(1,0)}},A:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr,nr,br,Ir){var Nr=hr();try{wr(Tt)(Mt,Lt,Nt,Vt,Gt,Qt,lr,nr,br,Ir)}catch(Lr){if(gr(Nr),Lr!==Lr+0)throw Lr;mr(1,0)}},C:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr,nr,br,Ir,Nr,Lr,Wt,Er,Or){var Hr=hr();try{wr(Tt)(Mt,Lt,Nt,Vt,Gt,Qt,lr,nr,br,Ir,Nr,Lr,Wt,Er,Or)}catch(Jr){if(gr(Hr),Jr!==Jr+0)throw Jr;mr(1,0)}},aa:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr){var nr=hr();try{xn(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr)}catch(br){if(gr(nr),br!==br+0)throw br;mr(1,0)}},_:function(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr,nr,br,Ir,Nr){var Lr=hr();try{wn(Tt,Mt,Lt,Nt,Vt,Gt,Qt,lr,nr,br,Ir,Nr)}catch(Wt){if(gr(Lr),Wt!==Wt+0)throw Wt;mr(1,0)}},$:function(Tt,Mt,Lt,Nt,Vt,Gt){var Qt=hr();try{_n(Tt,Mt,Lt,Nt,Vt,Gt)}catch(lr){if(gr(Qt),lr!==lr+0)throw lr;mr(1,0)}},n:function(Tt){return Tt},F:function(Tt){Br=Tt},ha:$n,y:function(Tt,Mt,Lt,Nt){return $n(Tt,Mt,Lt,Nt)}};(function(){function Tt(Vt){et.asm=Vt.exports,xt=et.asm.Ka,Xt(),tr=et.asm.ib,sr.unshift(et.asm.La),Bt--,et.monitorRunDependencies&&et.monitorRunDependencies(Bt),Bt==0&&cr&&(Vt=cr,cr=null,Vt())}function Mt(Vt){Tt(Vt.instance)}function Lt(Vt){return function(){if(!yt&&(dt||ft)){if(typeof fetch=="function"&&!er.startsWith("file://"))return fetch(er,{credentials:"same-origin"}).then(function(Gt){if(!Gt.ok)throw"failed to load wasm binary file at '"+er+"'";return Gt.arrayBuffer()}).catch(function(){return kr()});if(ot)return new Promise(function(Gt,Qt){ot(er,function(lr){Gt(new Uint8Array(lr))},Qt)})}return Promise.resolve().then(function(){return kr()})}().then(function(Gt){return WebAssembly.instantiate(Gt,Nt)}).then(function(Gt){return Gt}).then(Vt,function(Gt){vt("failed to asynchronously prepare wasm: "+Gt),ar(Gt)})}var Nt={a:An};if(Bt++,et.monitorRunDependencies&&et.monitorRunDependencies(Bt),et.instantiateWasm)try{return et.instantiateWasm(Nt,Tt)}catch(Vt){return vt("Module.instantiateWasm callback failed with error: "+Vt),!1}(yt||typeof WebAssembly.instantiateStreaming!="function"||pr()||er.startsWith("file://")||ht||typeof fetch!="function"?Lt(Mt):fetch(er,{credentials:"same-origin"}).then(function(Vt){return WebAssembly.instantiateStreaming(Vt,Nt).then(Mt,function(Gt){return vt("wasm streaming compile failed: "+Gt),vt("falling back to ArrayBuffer instantiation"),Lt(Mt)})})).catch(st)})(),et.___wasm_call_ctors=function(){return(et.___wasm_call_ctors=et.asm.La).apply(null,arguments)},et._OrtInit=function(){return(et._OrtInit=et.asm.Ma).apply(null,arguments)},et._OrtCreateSessionOptions=function(){return(et._OrtCreateSessionOptions=et.asm.Na).apply(null,arguments)},et._OrtAppendExecutionProvider=function(){return(et._OrtAppendExecutionProvider=et.asm.Oa).apply(null,arguments)},et._OrtAddSessionConfigEntry=function(){return(et._OrtAddSessionConfigEntry=et.asm.Pa).apply(null,arguments)},et._OrtReleaseSessionOptions=function(){return(et._OrtReleaseSessionOptions=et.asm.Qa).apply(null,arguments)},et._OrtCreateSession=function(){return(et._OrtCreateSession=et.asm.Ra).apply(null,arguments)},et._OrtReleaseSession=function(){return(et._OrtReleaseSession=et.asm.Sa).apply(null,arguments)},et._OrtGetInputCount=function(){return(et._OrtGetInputCount=et.asm.Ta).apply(null,arguments)},et._OrtGetOutputCount=function(){return(et._OrtGetOutputCount=et.asm.Ua).apply(null,arguments)},et._OrtGetInputName=function(){return(et._OrtGetInputName=et.asm.Va).apply(null,arguments)},et._OrtGetOutputName=function(){return(et._OrtGetOutputName=et.asm.Wa).apply(null,arguments)},et._OrtFree=function(){return(et._OrtFree=et.asm.Xa).apply(null,arguments)},et._OrtCreateTensor=function(){return(et._OrtCreateTensor=et.asm.Ya).apply(null,arguments)},et._OrtGetTensorData=function(){return(et._OrtGetTensorData=et.asm.Za).apply(null,arguments)},et._OrtReleaseTensor=function(){return(et._OrtReleaseTensor=et.asm._a).apply(null,arguments)},et._OrtCreateRunOptions=function(){return(et._OrtCreateRunOptions=et.asm.$a).apply(null,arguments)},et._OrtAddRunConfigEntry=function(){return(et._OrtAddRunConfigEntry=et.asm.ab).apply(null,arguments)},et._OrtReleaseRunOptions=function(){return(et._OrtReleaseRunOptions=et.asm.bb).apply(null,arguments)},et._OrtRun=function(){return(et._OrtRun=et.asm.cb).apply(null,arguments)},et._OrtEndProfiling=function(){return(et._OrtEndProfiling=et.asm.db).apply(null,arguments)};var qr,Tr=et._malloc=function(){return(Tr=et._malloc=et.asm.eb).apply(null,arguments)},tn=et._free=function(){return(tn=et._free=et.asm.fb).apply(null,arguments)},fn=et._fflush=function(){return(fn=et._fflush=et.asm.gb).apply(null,arguments)},rn=et.___funcs_on_exit=function(){return(rn=et.___funcs_on_exit=et.asm.hb).apply(null,arguments)},mr=et._setThrew=function(){return(mr=et._setThrew=et.asm.jb).apply(null,arguments)},hr=et.stackSave=function(){return(hr=et.stackSave=et.asm.kb).apply(null,arguments)},gr=et.stackRestore=function(){return(gr=et.stackRestore=et.asm.lb).apply(null,arguments)},hn=et.stackAlloc=function(){return(hn=et.stackAlloc=et.asm.mb).apply(null,arguments)},nn=et.___cxa_can_catch=function(){return(nn=et.___cxa_can_catch=et.asm.nb).apply(null,arguments)},gn=et.___cxa_is_pointer_type=function(){return(gn=et.___cxa_is_pointer_type=et.asm.ob).apply(null,arguments)},mn=et.dynCall_j=function(){return(mn=et.dynCall_j=et.asm.pb).apply(null,arguments)},bn=et.dynCall_iiiiij=function(){return(bn=et.dynCall_iiiiij=et.asm.qb).apply(null,arguments)},yn=et.dynCall_jii=function(){return(yn=et.dynCall_jii=et.asm.rb).apply(null,arguments)},xn=et.dynCall_viiiiij=function(){return(xn=et.dynCall_viiiiij=et.asm.sb).apply(null,arguments)},_n=et.dynCall_vjji=function(){return(_n=et.dynCall_vjji=et.asm.tb).apply(null,arguments)},wn=et.dynCall_viiijjjii=function(){return(wn=et.dynCall_viiijjjii=et.asm.ub).apply(null,arguments)},Sn=et.dynCall_iij=function(){return(Sn=et.dynCall_iij=et.asm.vb).apply(null,arguments)},En=et.dynCall_ji=function(){return(En=et.dynCall_ji=et.asm.wb).apply(null,arguments)},Cn=et.dynCall_iiiiiij=function(){return(Cn=et.dynCall_iiiiiij=et.asm.xb).apply(null,arguments)},Tn=et.dynCall_iiij=function(){return(Tn=et.dynCall_iiij=et.asm.yb).apply(null,arguments)};function Pn(){function Tt(){if(!qr&&(qr=!0,et.calledRun=!0,!St)){if(Vr(sr),rt(et),et.onRuntimeInitialized&&et.onRuntimeInitialized(),et.postRun)for(typeof et.postRun=="function"&&(et.postRun=[et.postRun]);et.postRun.length;){var Mt=et.postRun.shift();rr.unshift(Mt)}Vr(rr)}}if(!(0<Bt)){if(et.preRun)for(typeof et.preRun=="function"&&(et.preRun=[et.preRun]);et.preRun.length;)Kt();Vr(ir),0<Bt||(et.setStatus?(et.setStatus("Running..."),setTimeout(function(){setTimeout(function(){et.setStatus("")},1),Tt()},1)):Tt())}}if(et.UTF8ToString=$t,et.stringToUTF8=function(Tt,Mt,Lt){return jt(Tt,kt,Mt,Lt)},et.lengthBytesUTF8=zt,et.stackSave=hr,et.stackRestore=gr,et.stackAlloc=hn,cr=function Tt(){qr||Pn(),qr||(cr=Tt)},et.preInit)for(typeof et.preInit=="function"&&(et.preInit=[et.preInit]);0<et.preInit.length;)et.preInit.pop()();return Pn(),j.ready});o.exports=$},4537:o=>{o.exports=function(i,s){for(var a=new Array(arguments.length-1),$=0,j=2,et=!0;j<arguments.length;)a[$++]=arguments[j++];return new Promise(function(rt,st){a[$]=function(it){if(et)if(et=!1,it)st(it);else{for(var ot=new Array(arguments.length-1),tt=0;tt<ot.length;)ot[tt++]=arguments[tt];rt.apply(null,ot)}};try{i.apply(s||null,a)}catch(it){et&&(et=!1,st(it))}})}},7419:(o,i)=>{var s=i;s.length=function(rt){var st=rt.length;if(!st)return 0;for(var it=0;--st%4>1&&rt.charAt(st)==="=";)++it;return Math.ceil(3*rt.length)/4-it};for(var a=new Array(64),$=new Array(123),j=0;j<64;)$[a[j]=j<26?j+65:j<52?j+71:j<62?j-4:j-59|43]=j++;s.encode=function(rt,st,it){for(var ot,tt=null,_e=[],nt=0,at=0;st<it;){var lt=rt[st++];switch(at){case 0:_e[nt++]=a[lt>>2],ot=(3&lt)<<4,at=1;break;case 1:_e[nt++]=a[ot|lt>>4],ot=(15&lt)<<2,at=2;break;case 2:_e[nt++]=a[ot|lt>>6],_e[nt++]=a[63&lt],at=0}nt>8191&&((tt||(tt=[])).push(String.fromCharCode.apply(String,_e)),nt=0)}return at&&(_e[nt++]=a[ot],_e[nt++]=61,at===1&&(_e[nt++]=61)),tt?(nt&&tt.push(String.fromCharCode.apply(String,_e.slice(0,nt))),tt.join("")):String.fromCharCode.apply(String,_e.slice(0,nt))};var et="invalid encoding";s.decode=function(rt,st,it){for(var ot,tt=it,_e=0,nt=0;nt<rt.length;){var at=rt.charCodeAt(nt++);if(at===61&&_e>1)break;if((at=$[at])===void 0)throw Error(et);switch(_e){case 0:ot=at,_e=1;break;case 1:st[it++]=ot<<2|(48&at)>>4,ot=at,_e=2;break;case 2:st[it++]=(15&ot)<<4|(60&at)>>2,ot=at,_e=3;break;case 3:st[it++]=(3&ot)<<6|at,_e=0}}if(_e===1)throw Error(et);return it-tt},s.test=function(rt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(rt)}},9211:o=>{function i(){this._listeners={}}o.exports=i,i.prototype.on=function(s,a,$){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:a,ctx:$||this}),this},i.prototype.off=function(s,a){if(s===void 0)this._listeners={};else if(a===void 0)this._listeners[s]=[];else for(var $=this._listeners[s],j=0;j<$.length;)$[j].fn===a?$.splice(j,1):++j;return this},i.prototype.emit=function(s){var a=this._listeners[s];if(a){for(var $=[],j=1;j<arguments.length;)$.push(arguments[j++]);for(j=0;j<a.length;)a[j].fn.apply(a[j++].ctx,$)}return this}},945:o=>{function i(et){return typeof Float32Array<"u"?function(){var rt=new Float32Array([-0]),st=new Uint8Array(rt.buffer),it=st[3]===128;function ot(at,lt,ut){rt[0]=at,lt[ut]=st[0],lt[ut+1]=st[1],lt[ut+2]=st[2],lt[ut+3]=st[3]}function tt(at,lt,ut){rt[0]=at,lt[ut]=st[3],lt[ut+1]=st[2],lt[ut+2]=st[1],lt[ut+3]=st[0]}function _e(at,lt){return st[0]=at[lt],st[1]=at[lt+1],st[2]=at[lt+2],st[3]=at[lt+3],rt[0]}function nt(at,lt){return st[3]=at[lt],st[2]=at[lt+1],st[1]=at[lt+2],st[0]=at[lt+3],rt[0]}et.writeFloatLE=it?ot:tt,et.writeFloatBE=it?tt:ot,et.readFloatLE=it?_e:nt,et.readFloatBE=it?nt:_e}():function(){function rt(it,ot,tt,_e){var nt=ot<0?1:0;if(nt&&(ot=-ot),ot===0)it(1/ot>0?0:2147483648,tt,_e);else if(isNaN(ot))it(2143289344,tt,_e);else if(ot>34028234663852886e22)it((nt<<31|2139095040)>>>0,tt,_e);else if(ot<11754943508222875e-54)it((nt<<31|Math.round(ot/1401298464324817e-60))>>>0,tt,_e);else{var at=Math.floor(Math.log(ot)/Math.LN2);it((nt<<31|at+127<<23|8388607&Math.round(ot*Math.pow(2,-at)*8388608))>>>0,tt,_e)}}function st(it,ot,tt){var _e=it(ot,tt),nt=2*(_e>>31)+1,at=_e>>>23&255,lt=8388607&_e;return at===255?lt?NaN:nt*(1/0):at===0?1401298464324817e-60*nt*lt:nt*Math.pow(2,at-150)*(lt+8388608)}et.writeFloatLE=rt.bind(null,s),et.writeFloatBE=rt.bind(null,a),et.readFloatLE=st.bind(null,$),et.readFloatBE=st.bind(null,j)}(),typeof Float64Array<"u"?function(){var rt=new Float64Array([-0]),st=new Uint8Array(rt.buffer),it=st[7]===128;function ot(at,lt,ut){rt[0]=at,lt[ut]=st[0],lt[ut+1]=st[1],lt[ut+2]=st[2],lt[ut+3]=st[3],lt[ut+4]=st[4],lt[ut+5]=st[5],lt[ut+6]=st[6],lt[ut+7]=st[7]}function tt(at,lt,ut){rt[0]=at,lt[ut]=st[7],lt[ut+1]=st[6],lt[ut+2]=st[5],lt[ut+3]=st[4],lt[ut+4]=st[3],lt[ut+5]=st[2],lt[ut+6]=st[1],lt[ut+7]=st[0]}function _e(at,lt){return st[0]=at[lt],st[1]=at[lt+1],st[2]=at[lt+2],st[3]=at[lt+3],st[4]=at[lt+4],st[5]=at[lt+5],st[6]=at[lt+6],st[7]=at[lt+7],rt[0]}function nt(at,lt){return st[7]=at[lt],st[6]=at[lt+1],st[5]=at[lt+2],st[4]=at[lt+3],st[3]=at[lt+4],st[2]=at[lt+5],st[1]=at[lt+6],st[0]=at[lt+7],rt[0]}et.writeDoubleLE=it?ot:tt,et.writeDoubleBE=it?tt:ot,et.readDoubleLE=it?_e:nt,et.readDoubleBE=it?nt:_e}():function(){function rt(it,ot,tt,_e,nt,at){var lt=_e<0?1:0;if(lt&&(_e=-_e),_e===0)it(0,nt,at+ot),it(1/_e>0?0:2147483648,nt,at+tt);else if(isNaN(_e))it(0,nt,at+ot),it(2146959360,nt,at+tt);else if(_e>17976931348623157e292)it(0,nt,at+ot),it((lt<<31|2146435072)>>>0,nt,at+tt);else{var ut;if(_e<22250738585072014e-324)it((ut=_e/5e-324)>>>0,nt,at+ot),it((lt<<31|ut/4294967296)>>>0,nt,at+tt);else{var ct=Math.floor(Math.log(_e)/Math.LN2);ct===1024&&(ct=1023),it(4503599627370496*(ut=_e*Math.pow(2,-ct))>>>0,nt,at+ot),it((lt<<31|ct+1023<<20|1048576*ut&1048575)>>>0,nt,at+tt)}}}function st(it,ot,tt,_e,nt){var at=it(_e,nt+ot),lt=it(_e,nt+tt),ut=2*(lt>>31)+1,ct=lt>>>20&2047,dt=4294967296*(1048575&lt)+at;return ct===2047?dt?NaN:ut*(1/0):ct===0?5e-324*ut*dt:ut*Math.pow(2,ct-1075)*(dt+4503599627370496)}et.writeDoubleLE=rt.bind(null,s,0,4),et.writeDoubleBE=rt.bind(null,a,4,0),et.readDoubleLE=st.bind(null,$,0,4),et.readDoubleBE=st.bind(null,j,4,0)}(),et}function s(et,rt,st){rt[st]=255&et,rt[st+1]=et>>>8&255,rt[st+2]=et>>>16&255,rt[st+3]=et>>>24}function a(et,rt,st){rt[st]=et>>>24,rt[st+1]=et>>>16&255,rt[st+2]=et>>>8&255,rt[st+3]=255&et}function $(et,rt){return(et[rt]|et[rt+1]<<8|et[rt+2]<<16|et[rt+3]<<24)>>>0}function j(et,rt){return(et[rt]<<24|et[rt+1]<<16|et[rt+2]<<8|et[rt+3])>>>0}o.exports=i(i)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}module.exports=inquire},6662:o=>{o.exports=function(i,s,a){var $=a||8192,j=$>>>1,et=null,rt=$;return function(st){if(st<1||st>j)return i(st);rt+st>$&&(et=i($),rt=0);var it=s.call(et,rt,rt+=st);return 7&rt&&(rt=1+(7|rt)),it}}},4997:(o,i)=>{var s=i;s.length=function(a){for(var $=0,j=0,et=0;et<a.length;++et)(j=a.charCodeAt(et))<128?$+=1:j<2048?$+=2:(64512&j)==55296&&(64512&a.charCodeAt(et+1))==56320?(++et,$+=4):$+=3;return $},s.read=function(a,$,j){if(j-$<1)return"";for(var et,rt=null,st=[],it=0;$<j;)(et=a[$++])<128?st[it++]=et:et>191&&et<224?st[it++]=(31&et)<<6|63&a[$++]:et>239&&et<365?(et=((7&et)<<18|(63&a[$++])<<12|(63&a[$++])<<6|63&a[$++])-65536,st[it++]=55296+(et>>10),st[it++]=56320+(1023&et)):st[it++]=(15&et)<<12|(63&a[$++])<<6|63&a[$++],it>8191&&((rt||(rt=[])).push(String.fromCharCode.apply(String,st)),it=0);return rt?(it&&rt.push(String.fromCharCode.apply(String,st.slice(0,it))),rt.join("")):String.fromCharCode.apply(String,st.slice(0,it))},s.write=function(a,$,j){for(var et,rt,st=j,it=0;it<a.length;++it)(et=a.charCodeAt(it))<128?$[j++]=et:et<2048?($[j++]=et>>6|192,$[j++]=63&et|128):(64512&et)==55296&&(64512&(rt=a.charCodeAt(it+1)))==56320?(et=65536+((1023&et)<<10)+(1023&rt),++it,$[j++]=et>>18|240,$[j++]=et>>12&63|128,$[j++]=et>>6&63|128,$[j++]=63&et|128):($[j++]=et>>12|224,$[j++]=et>>6&63|128,$[j++]=63&et|128);return j-st}},3442:(o,i)=>{i.__esModule=!0;var s=function(){function a($){if(!$)throw new TypeError("Invalid argument; `value` has no value.");this.value=a.EMPTY,$&&a.isGuid($)&&(this.value=$)}return a.isGuid=function($){var j=$.toString();return $&&($ instanceof a||a.validator.test(j))},a.create=function(){return new a([a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-"))},a.createEmpty=function(){return new a("emptyguid")},a.parse=function($){return new a($)},a.raw=function(){return[a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-")},a.gen=function($){for(var j="",et=0;et<$;et++)j+=(65536*(1+Math.random())|0).toString(16).substring(1);return j},a.prototype.equals=function($){return a.isGuid($)&&this.value===$.toString()},a.prototype.isEmpty=function(){return this.value===a.EMPTY},a.prototype.toString=function(){return this.value},a.prototype.toJSON=function(){return{value:this.value}},a.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),a.EMPTY="00000000-0000-0000-0000-000000000000",a}();i.Guid=s},3720:o=>{o.exports=s;var i=null;try{i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function s(mt,xt,wt){this.low=0|mt,this.high=0|xt,this.unsigned=!!wt}function a(mt){return(mt&&mt.__isLong__)===!0}s.prototype.__isLong__,Object.defineProperty(s.prototype,"__isLong__",{value:!0}),s.isLong=a;var $={},j={};function et(mt,xt){var wt,Ct,kt;return xt?(kt=0<=(mt>>>=0)&&mt<256)&&(Ct=j[mt])?Ct:(wt=st(mt,(0|mt)<0?-1:0,!0),kt&&(j[mt]=wt),wt):(kt=-128<=(mt|=0)&&mt<128)&&(Ct=$[mt])?Ct:(wt=st(mt,mt<0?-1:0,!1),kt&&($[mt]=wt),wt)}function rt(mt,xt){if(isNaN(mt))return xt?ct:ut;if(xt){if(mt<0)return ct;if(mt>=nt)return yt}else{if(mt<=-9223372036854776e3)return bt;if(mt+1>=at)return gt}return mt<0?rt(-mt,xt).neg():st(mt%_e|0,mt/_e|0,xt)}function st(mt,xt,wt){return new s(mt,xt,wt)}s.fromInt=et,s.fromNumber=rt,s.fromBits=st;var it=Math.pow;function ot(mt,xt,wt){if(mt.length===0)throw Error("empty string");if(mt==="NaN"||mt==="Infinity"||mt==="+Infinity"||mt==="-Infinity")return ut;if(typeof xt=="number"?(wt=xt,xt=!1):xt=!!xt,(wt=wt||10)<2||36<wt)throw RangeError("radix");var Ct;if((Ct=mt.indexOf("-"))>0)throw Error("interior hyphen");if(Ct===0)return ot(mt.substring(1),xt,wt).neg();for(var kt=rt(it(wt,8)),It=ut,Pt=0;Pt<mt.length;Pt+=8){var St=Math.min(8,mt.length-Pt),Ot=parseInt(mt.substring(Pt,Pt+St),wt);if(St<8){var At=rt(it(wt,St));It=It.mul(At).add(rt(Ot))}else It=(It=It.mul(kt)).add(rt(Ot))}return It.unsigned=xt,It}function tt(mt,xt){return typeof mt=="number"?rt(mt,xt):typeof mt=="string"?ot(mt,xt):st(mt.low,mt.high,typeof xt=="boolean"?xt:mt.unsigned)}s.fromString=ot,s.fromValue=tt;var _e=4294967296,nt=_e*_e,at=nt/2,lt=et(1<<24),ut=et(0);s.ZERO=ut;var ct=et(0,!0);s.UZERO=ct;var dt=et(1);s.ONE=dt;var ft=et(1,!0);s.UONE=ft;var ht=et(-1);s.NEG_ONE=ht;var gt=st(-1,2147483647,!1);s.MAX_VALUE=gt;var yt=st(-1,-1,!0);s.MAX_UNSIGNED_VALUE=yt;var bt=st(0,-2147483648,!1);s.MIN_VALUE=bt;var vt=s.prototype;vt.toInt=function(){return this.unsigned?this.low>>>0:this.low},vt.toNumber=function(){return this.unsigned?(this.high>>>0)*_e+(this.low>>>0):this.high*_e+(this.low>>>0)},vt.toString=function(mt){if((mt=mt||10)<2||36<mt)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(bt)){var xt=rt(mt),wt=this.div(xt),Ct=wt.mul(xt).sub(this);return wt.toString(mt)+Ct.toInt().toString(mt)}return"-"+this.neg().toString(mt)}for(var kt=rt(it(mt,6),this.unsigned),It=this,Pt="";;){var St=It.div(kt),Ot=(It.sub(St.mul(kt)).toInt()>>>0).toString(mt);if((It=St).isZero())return Ot+Pt;for(;Ot.length<6;)Ot="0"+Ot;Pt=""+Ot+Pt}},vt.getHighBits=function(){return this.high},vt.getHighBitsUnsigned=function(){return this.high>>>0},vt.getLowBits=function(){return this.low},vt.getLowBitsUnsigned=function(){return this.low>>>0},vt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(bt)?64:this.neg().getNumBitsAbs();for(var mt=this.high!=0?this.high:this.low,xt=31;xt>0&&!(mt&1<<xt);xt--);return this.high!=0?xt+33:xt+1},vt.isZero=function(){return this.high===0&&this.low===0},vt.eqz=vt.isZero,vt.isNegative=function(){return!this.unsigned&&this.high<0},vt.isPositive=function(){return this.unsigned||this.high>=0},vt.isOdd=function(){return(1&this.low)==1},vt.isEven=function(){return(1&this.low)==0},vt.equals=function(mt){return a(mt)||(mt=tt(mt)),(this.unsigned===mt.unsigned||this.high>>>31!=1||mt.high>>>31!=1)&&this.high===mt.high&&this.low===mt.low},vt.eq=vt.equals,vt.notEquals=function(mt){return!this.eq(mt)},vt.neq=vt.notEquals,vt.ne=vt.notEquals,vt.lessThan=function(mt){return this.comp(mt)<0},vt.lt=vt.lessThan,vt.lessThanOrEqual=function(mt){return this.comp(mt)<=0},vt.lte=vt.lessThanOrEqual,vt.le=vt.lessThanOrEqual,vt.greaterThan=function(mt){return this.comp(mt)>0},vt.gt=vt.greaterThan,vt.greaterThanOrEqual=function(mt){return this.comp(mt)>=0},vt.gte=vt.greaterThanOrEqual,vt.ge=vt.greaterThanOrEqual,vt.compare=function(mt){if(a(mt)||(mt=tt(mt)),this.eq(mt))return 0;var xt=this.isNegative(),wt=mt.isNegative();return xt&&!wt?-1:!xt&&wt?1:this.unsigned?mt.high>>>0>this.high>>>0||mt.high===this.high&&mt.low>>>0>this.low>>>0?-1:1:this.sub(mt).isNegative()?-1:1},vt.comp=vt.compare,vt.negate=function(){return!this.unsigned&&this.eq(bt)?bt:this.not().add(dt)},vt.neg=vt.negate,vt.add=function(mt){a(mt)||(mt=tt(mt));var xt=this.high>>>16,wt=65535&this.high,Ct=this.low>>>16,kt=65535&this.low,It=mt.high>>>16,Pt=65535&mt.high,St=mt.low>>>16,Ot=0,At=0,$t=0,jt=0;return $t+=(jt+=kt+(65535&mt.low))>>>16,At+=($t+=Ct+St)>>>16,Ot+=(At+=wt+Pt)>>>16,Ot+=xt+It,st(($t&=65535)<<16|(jt&=65535),(Ot&=65535)<<16|(At&=65535),this.unsigned)},vt.subtract=function(mt){return a(mt)||(mt=tt(mt)),this.add(mt.neg())},vt.sub=vt.subtract,vt.multiply=function(mt){if(this.isZero())return ut;if(a(mt)||(mt=tt(mt)),i)return st(i.mul(this.low,this.high,mt.low,mt.high),i.get_high(),this.unsigned);if(mt.isZero())return ut;if(this.eq(bt))return mt.isOdd()?bt:ut;if(mt.eq(bt))return this.isOdd()?bt:ut;if(this.isNegative())return mt.isNegative()?this.neg().mul(mt.neg()):this.neg().mul(mt).neg();if(mt.isNegative())return this.mul(mt.neg()).neg();if(this.lt(lt)&&mt.lt(lt))return rt(this.toNumber()*mt.toNumber(),this.unsigned);var xt=this.high>>>16,wt=65535&this.high,Ct=this.low>>>16,kt=65535&this.low,It=mt.high>>>16,Pt=65535&mt.high,St=mt.low>>>16,Ot=65535&mt.low,At=0,$t=0,jt=0,zt=0;return jt+=(zt+=kt*Ot)>>>16,$t+=(jt+=Ct*Ot)>>>16,jt&=65535,$t+=(jt+=kt*St)>>>16,At+=($t+=wt*Ot)>>>16,$t&=65535,At+=($t+=Ct*St)>>>16,$t&=65535,At+=($t+=kt*Pt)>>>16,At+=xt*Ot+wt*St+Ct*Pt+kt*It,st((jt&=65535)<<16|(zt&=65535),(At&=65535)<<16|($t&=65535),this.unsigned)},vt.mul=vt.multiply,vt.divide=function(mt){if(a(mt)||(mt=tt(mt)),mt.isZero())throw Error("division by zero");var xt,wt,Ct;if(i)return this.unsigned||this.high!==-2147483648||mt.low!==-1||mt.high!==-1?st((this.unsigned?i.div_u:i.div_s)(this.low,this.high,mt.low,mt.high),i.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ct:ut;if(this.unsigned){if(mt.unsigned||(mt=mt.toUnsigned()),mt.gt(this))return ct;if(mt.gt(this.shru(1)))return ft;Ct=ct}else{if(this.eq(bt))return mt.eq(dt)||mt.eq(ht)?bt:mt.eq(bt)?dt:(xt=this.shr(1).div(mt).shl(1)).eq(ut)?mt.isNegative()?dt:ht:(wt=this.sub(mt.mul(xt)),Ct=xt.add(wt.div(mt)));if(mt.eq(bt))return this.unsigned?ct:ut;if(this.isNegative())return mt.isNegative()?this.neg().div(mt.neg()):this.neg().div(mt).neg();if(mt.isNegative())return this.div(mt.neg()).neg();Ct=ut}for(wt=this;wt.gte(mt);){xt=Math.max(1,Math.floor(wt.toNumber()/mt.toNumber()));for(var kt=Math.ceil(Math.log(xt)/Math.LN2),It=kt<=48?1:it(2,kt-48),Pt=rt(xt),St=Pt.mul(mt);St.isNegative()||St.gt(wt);)St=(Pt=rt(xt-=It,this.unsigned)).mul(mt);Pt.isZero()&&(Pt=dt),Ct=Ct.add(Pt),wt=wt.sub(St)}return Ct},vt.div=vt.divide,vt.modulo=function(mt){return a(mt)||(mt=tt(mt)),i?st((this.unsigned?i.rem_u:i.rem_s)(this.low,this.high,mt.low,mt.high),i.get_high(),this.unsigned):this.sub(this.div(mt).mul(mt))},vt.mod=vt.modulo,vt.rem=vt.modulo,vt.not=function(){return st(~this.low,~this.high,this.unsigned)},vt.and=function(mt){return a(mt)||(mt=tt(mt)),st(this.low&mt.low,this.high&mt.high,this.unsigned)},vt.or=function(mt){return a(mt)||(mt=tt(mt)),st(this.low|mt.low,this.high|mt.high,this.unsigned)},vt.xor=function(mt){return a(mt)||(mt=tt(mt)),st(this.low^mt.low,this.high^mt.high,this.unsigned)},vt.shiftLeft=function(mt){return a(mt)&&(mt=mt.toInt()),(mt&=63)==0?this:mt<32?st(this.low<<mt,this.high<<mt|this.low>>>32-mt,this.unsigned):st(0,this.low<<mt-32,this.unsigned)},vt.shl=vt.shiftLeft,vt.shiftRight=function(mt){return a(mt)&&(mt=mt.toInt()),(mt&=63)==0?this:mt<32?st(this.low>>>mt|this.high<<32-mt,this.high>>mt,this.unsigned):st(this.high>>mt-32,this.high>=0?0:-1,this.unsigned)},vt.shr=vt.shiftRight,vt.shiftRightUnsigned=function(mt){if(a(mt)&&(mt=mt.toInt()),(mt&=63)==0)return this;var xt=this.high;return mt<32?st(this.low>>>mt|xt<<32-mt,xt>>>mt,this.unsigned):st(mt===32?xt:xt>>>mt-32,0,this.unsigned)},vt.shru=vt.shiftRightUnsigned,vt.shr_u=vt.shiftRightUnsigned,vt.toSigned=function(){return this.unsigned?st(this.low,this.high,!1):this},vt.toUnsigned=function(){return this.unsigned?this:st(this.low,this.high,!0)},vt.toBytes=function(mt){return mt?this.toBytesLE():this.toBytesBE()},vt.toBytesLE=function(){var mt=this.high,xt=this.low;return[255&xt,xt>>>8&255,xt>>>16&255,xt>>>24,255&mt,mt>>>8&255,mt>>>16&255,mt>>>24]},vt.toBytesBE=function(){var mt=this.high,xt=this.low;return[mt>>>24,mt>>>16&255,mt>>>8&255,255&mt,xt>>>24,xt>>>16&255,xt>>>8&255,255&xt]},s.fromBytes=function(mt,xt,wt){return wt?s.fromBytesLE(mt,xt):s.fromBytesBE(mt,xt)},s.fromBytesLE=function(mt,xt){return new s(mt[0]|mt[1]<<8|mt[2]<<16|mt[3]<<24,mt[4]|mt[5]<<8|mt[6]<<16|mt[7]<<24,xt)},s.fromBytesBE=function(mt,xt){return new s(mt[4]<<24|mt[5]<<16|mt[6]<<8|mt[7],mt[0]<<24|mt[1]<<16|mt[2]<<8|mt[3],xt)}},1446:(o,i,s)=>{var a,$,j,et=s(2100),rt=et.Reader,st=et.Writer,it=et.util,ot=et.roots.default||(et.roots.default={});ot.onnx=((j={}).Version=(a={},($=Object.create(a))[a[0]="_START_VERSION"]=0,$[a[1]="IR_VERSION_2017_10_10"]=1,$[a[2]="IR_VERSION_2017_10_30"]=2,$[a[3]="IR_VERSION_2017_11_3"]=3,$[a[4]="IR_VERSION_2019_1_22"]=4,$[a[5]="IR_VERSION"]=5,$),j.AttributeProto=function(){function tt(_e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.name="",tt.prototype.refAttrName="",tt.prototype.docString="",tt.prototype.type=0,tt.prototype.f=0,tt.prototype.i=it.Long?it.Long.fromBits(0,0,!1):0,tt.prototype.s=it.newBuffer([]),tt.prototype.t=null,tt.prototype.g=null,tt.prototype.floats=it.emptyArray,tt.prototype.ints=it.emptyArray,tt.prototype.strings=it.emptyArray,tt.prototype.tensors=it.emptyArray,tt.prototype.graphs=it.emptyArray,tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){if(nt||(nt=st.create()),_e.name!=null&&_e.hasOwnProperty("name")&&nt.uint32(10).string(_e.name),_e.f!=null&&_e.hasOwnProperty("f")&&nt.uint32(21).float(_e.f),_e.i!=null&&_e.hasOwnProperty("i")&&nt.uint32(24).int64(_e.i),_e.s!=null&&_e.hasOwnProperty("s")&&nt.uint32(34).bytes(_e.s),_e.t!=null&&_e.hasOwnProperty("t")&&ot.onnx.TensorProto.encode(_e.t,nt.uint32(42).fork()).ldelim(),_e.g!=null&&_e.hasOwnProperty("g")&&ot.onnx.GraphProto.encode(_e.g,nt.uint32(50).fork()).ldelim(),_e.floats!=null&&_e.floats.length){nt.uint32(58).fork();for(var at=0;at<_e.floats.length;++at)nt.float(_e.floats[at]);nt.ldelim()}if(_e.ints!=null&&_e.ints.length){for(nt.uint32(66).fork(),at=0;at<_e.ints.length;++at)nt.int64(_e.ints[at]);nt.ldelim()}if(_e.strings!=null&&_e.strings.length)for(at=0;at<_e.strings.length;++at)nt.uint32(74).bytes(_e.strings[at]);if(_e.tensors!=null&&_e.tensors.length)for(at=0;at<_e.tensors.length;++at)ot.onnx.TensorProto.encode(_e.tensors[at],nt.uint32(82).fork()).ldelim();if(_e.graphs!=null&&_e.graphs.length)for(at=0;at<_e.graphs.length;++at)ot.onnx.GraphProto.encode(_e.graphs[at],nt.uint32(90).fork()).ldelim();return _e.docString!=null&&_e.hasOwnProperty("docString")&&nt.uint32(106).string(_e.docString),_e.type!=null&&_e.hasOwnProperty("type")&&nt.uint32(160).int32(_e.type),_e.refAttrName!=null&&_e.hasOwnProperty("refAttrName")&&nt.uint32(170).string(_e.refAttrName),nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.AttributeProto;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:lt.name=_e.string();break;case 21:lt.refAttrName=_e.string();break;case 13:lt.docString=_e.string();break;case 20:lt.type=_e.int32();break;case 2:lt.f=_e.float();break;case 3:lt.i=_e.int64();break;case 4:lt.s=_e.bytes();break;case 5:lt.t=ot.onnx.TensorProto.decode(_e,_e.uint32());break;case 6:lt.g=ot.onnx.GraphProto.decode(_e,_e.uint32());break;case 7:if(lt.floats&&lt.floats.length||(lt.floats=[]),(7&ut)==2)for(var ct=_e.uint32()+_e.pos;_e.pos<ct;)lt.floats.push(_e.float());else lt.floats.push(_e.float());break;case 8:if(lt.ints&&lt.ints.length||(lt.ints=[]),(7&ut)==2)for(ct=_e.uint32()+_e.pos;_e.pos<ct;)lt.ints.push(_e.int64());else lt.ints.push(_e.int64());break;case 9:lt.strings&&lt.strings.length||(lt.strings=[]),lt.strings.push(_e.bytes());break;case 10:lt.tensors&&lt.tensors.length||(lt.tensors=[]),lt.tensors.push(ot.onnx.TensorProto.decode(_e,_e.uint32()));break;case 11:lt.graphs&&lt.graphs.length||(lt.graphs=[]),lt.graphs.push(ot.onnx.GraphProto.decode(_e,_e.uint32()));break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.name!=null&&_e.hasOwnProperty("name")&&!it.isString(_e.name))return"name: string expected";if(_e.refAttrName!=null&&_e.hasOwnProperty("refAttrName")&&!it.isString(_e.refAttrName))return"refAttrName: string expected";if(_e.docString!=null&&_e.hasOwnProperty("docString")&&!it.isString(_e.docString))return"docString: string expected";if(_e.type!=null&&_e.hasOwnProperty("type"))switch(_e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(_e.f!=null&&_e.hasOwnProperty("f")&&typeof _e.f!="number")return"f: number expected";if(_e.i!=null&&_e.hasOwnProperty("i")&&!(it.isInteger(_e.i)||_e.i&&it.isInteger(_e.i.low)&&it.isInteger(_e.i.high)))return"i: integer|Long expected";if(_e.s!=null&&_e.hasOwnProperty("s")&&!(_e.s&&typeof _e.s.length=="number"||it.isString(_e.s)))return"s: buffer expected";if(_e.t!=null&&_e.hasOwnProperty("t")&&(at=ot.onnx.TensorProto.verify(_e.t)))return"t."+at;if(_e.g!=null&&_e.hasOwnProperty("g")&&(at=ot.onnx.GraphProto.verify(_e.g)))return"g."+at;if(_e.floats!=null&&_e.hasOwnProperty("floats")){if(!Array.isArray(_e.floats))return"floats: array expected";for(var nt=0;nt<_e.floats.length;++nt)if(typeof _e.floats[nt]!="number")return"floats: number[] expected"}if(_e.ints!=null&&_e.hasOwnProperty("ints")){if(!Array.isArray(_e.ints))return"ints: array expected";for(nt=0;nt<_e.ints.length;++nt)if(!(it.isInteger(_e.ints[nt])||_e.ints[nt]&&it.isInteger(_e.ints[nt].low)&&it.isInteger(_e.ints[nt].high)))return"ints: integer|Long[] expected"}if(_e.strings!=null&&_e.hasOwnProperty("strings")){if(!Array.isArray(_e.strings))return"strings: array expected";for(nt=0;nt<_e.strings.length;++nt)if(!(_e.strings[nt]&&typeof _e.strings[nt].length=="number"||it.isString(_e.strings[nt])))return"strings: buffer[] expected"}if(_e.tensors!=null&&_e.hasOwnProperty("tensors")){if(!Array.isArray(_e.tensors))return"tensors: array expected";for(nt=0;nt<_e.tensors.length;++nt)if(at=ot.onnx.TensorProto.verify(_e.tensors[nt]))return"tensors."+at}if(_e.graphs!=null&&_e.hasOwnProperty("graphs")){if(!Array.isArray(_e.graphs))return"graphs: array expected";for(nt=0;nt<_e.graphs.length;++nt){var at;if(at=ot.onnx.GraphProto.verify(_e.graphs[nt]))return"graphs."+at}}return null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.AttributeProto)return _e;var nt=new ot.onnx.AttributeProto;switch(_e.name!=null&&(nt.name=String(_e.name)),_e.refAttrName!=null&&(nt.refAttrName=String(_e.refAttrName)),_e.docString!=null&&(nt.docString=String(_e.docString)),_e.type){case"UNDEFINED":case 0:nt.type=0;break;case"FLOAT":case 1:nt.type=1;break;case"INT":case 2:nt.type=2;break;case"STRING":case 3:nt.type=3;break;case"TENSOR":case 4:nt.type=4;break;case"GRAPH":case 5:nt.type=5;break;case"FLOATS":case 6:nt.type=6;break;case"INTS":case 7:nt.type=7;break;case"STRINGS":case 8:nt.type=8;break;case"TENSORS":case 9:nt.type=9;break;case"GRAPHS":case 10:nt.type=10}if(_e.f!=null&&(nt.f=Number(_e.f)),_e.i!=null&&(it.Long?(nt.i=it.Long.fromValue(_e.i)).unsigned=!1:typeof _e.i=="string"?nt.i=parseInt(_e.i,10):typeof _e.i=="number"?nt.i=_e.i:typeof _e.i=="object"&&(nt.i=new it.LongBits(_e.i.low>>>0,_e.i.high>>>0).toNumber())),_e.s!=null&&(typeof _e.s=="string"?it.base64.decode(_e.s,nt.s=it.newBuffer(it.base64.length(_e.s)),0):_e.s.length&&(nt.s=_e.s)),_e.t!=null){if(typeof _e.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");nt.t=ot.onnx.TensorProto.fromObject(_e.t)}if(_e.g!=null){if(typeof _e.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");nt.g=ot.onnx.GraphProto.fromObject(_e.g)}if(_e.floats){if(!Array.isArray(_e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");nt.floats=[];for(var at=0;at<_e.floats.length;++at)nt.floats[at]=Number(_e.floats[at])}if(_e.ints){if(!Array.isArray(_e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(nt.ints=[],at=0;at<_e.ints.length;++at)it.Long?(nt.ints[at]=it.Long.fromValue(_e.ints[at])).unsigned=!1:typeof _e.ints[at]=="string"?nt.ints[at]=parseInt(_e.ints[at],10):typeof _e.ints[at]=="number"?nt.ints[at]=_e.ints[at]:typeof _e.ints[at]=="object"&&(nt.ints[at]=new it.LongBits(_e.ints[at].low>>>0,_e.ints[at].high>>>0).toNumber())}if(_e.strings){if(!Array.isArray(_e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(nt.strings=[],at=0;at<_e.strings.length;++at)typeof _e.strings[at]=="string"?it.base64.decode(_e.strings[at],nt.strings[at]=it.newBuffer(it.base64.length(_e.strings[at])),0):_e.strings[at].length&&(nt.strings[at]=_e.strings[at])}if(_e.tensors){if(!Array.isArray(_e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(nt.tensors=[],at=0;at<_e.tensors.length;++at){if(typeof _e.tensors[at]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");nt.tensors[at]=ot.onnx.TensorProto.fromObject(_e.tensors[at])}}if(_e.graphs){if(!Array.isArray(_e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(nt.graphs=[],at=0;at<_e.graphs.length;++at){if(typeof _e.graphs[at]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");nt.graphs[at]=ot.onnx.GraphProto.fromObject(_e.graphs[at])}}return nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};if((nt.arrays||nt.defaults)&&(at.floats=[],at.ints=[],at.strings=[],at.tensors=[],at.graphs=[]),nt.defaults){if(at.name="",at.f=0,it.Long){var lt=new it.Long(0,0,!1);at.i=nt.longs===String?lt.toString():nt.longs===Number?lt.toNumber():lt}else at.i=nt.longs===String?"0":0;nt.bytes===String?at.s="":(at.s=[],nt.bytes!==Array&&(at.s=it.newBuffer(at.s))),at.t=null,at.g=null,at.docString="",at.type=nt.enums===String?"UNDEFINED":0,at.refAttrName=""}if(_e.name!=null&&_e.hasOwnProperty("name")&&(at.name=_e.name),_e.f!=null&&_e.hasOwnProperty("f")&&(at.f=nt.json&&!isFinite(_e.f)?String(_e.f):_e.f),_e.i!=null&&_e.hasOwnProperty("i")&&(typeof _e.i=="number"?at.i=nt.longs===String?String(_e.i):_e.i:at.i=nt.longs===String?it.Long.prototype.toString.call(_e.i):nt.longs===Number?new it.LongBits(_e.i.low>>>0,_e.i.high>>>0).toNumber():_e.i),_e.s!=null&&_e.hasOwnProperty("s")&&(at.s=nt.bytes===String?it.base64.encode(_e.s,0,_e.s.length):nt.bytes===Array?Array.prototype.slice.call(_e.s):_e.s),_e.t!=null&&_e.hasOwnProperty("t")&&(at.t=ot.onnx.TensorProto.toObject(_e.t,nt)),_e.g!=null&&_e.hasOwnProperty("g")&&(at.g=ot.onnx.GraphProto.toObject(_e.g,nt)),_e.floats&&_e.floats.length){at.floats=[];for(var ut=0;ut<_e.floats.length;++ut)at.floats[ut]=nt.json&&!isFinite(_e.floats[ut])?String(_e.floats[ut]):_e.floats[ut]}if(_e.ints&&_e.ints.length)for(at.ints=[],ut=0;ut<_e.ints.length;++ut)typeof _e.ints[ut]=="number"?at.ints[ut]=nt.longs===String?String(_e.ints[ut]):_e.ints[ut]:at.ints[ut]=nt.longs===String?it.Long.prototype.toString.call(_e.ints[ut]):nt.longs===Number?new it.LongBits(_e.ints[ut].low>>>0,_e.ints[ut].high>>>0).toNumber():_e.ints[ut];if(_e.strings&&_e.strings.length)for(at.strings=[],ut=0;ut<_e.strings.length;++ut)at.strings[ut]=nt.bytes===String?it.base64.encode(_e.strings[ut],0,_e.strings[ut].length):nt.bytes===Array?Array.prototype.slice.call(_e.strings[ut]):_e.strings[ut];if(_e.tensors&&_e.tensors.length)for(at.tensors=[],ut=0;ut<_e.tensors.length;++ut)at.tensors[ut]=ot.onnx.TensorProto.toObject(_e.tensors[ut],nt);if(_e.graphs&&_e.graphs.length)for(at.graphs=[],ut=0;ut<_e.graphs.length;++ut)at.graphs[ut]=ot.onnx.GraphProto.toObject(_e.graphs[ut],nt);return _e.docString!=null&&_e.hasOwnProperty("docString")&&(at.docString=_e.docString),_e.type!=null&&_e.hasOwnProperty("type")&&(at.type=nt.enums===String?ot.onnx.AttributeProto.AttributeType[_e.type]:_e.type),_e.refAttrName!=null&&_e.hasOwnProperty("refAttrName")&&(at.refAttrName=_e.refAttrName),at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt.AttributeType=function(){var _e={},nt=Object.create(_e);return nt[_e[0]="UNDEFINED"]=0,nt[_e[1]="FLOAT"]=1,nt[_e[2]="INT"]=2,nt[_e[3]="STRING"]=3,nt[_e[4]="TENSOR"]=4,nt[_e[5]="GRAPH"]=5,nt[_e[6]="FLOATS"]=6,nt[_e[7]="INTS"]=7,nt[_e[8]="STRINGS"]=8,nt[_e[9]="TENSORS"]=9,nt[_e[10]="GRAPHS"]=10,nt}(),tt}(),j.ValueInfoProto=function(){function tt(_e){if(_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.name="",tt.prototype.type=null,tt.prototype.docString="",tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){return nt||(nt=st.create()),_e.name!=null&&_e.hasOwnProperty("name")&&nt.uint32(10).string(_e.name),_e.type!=null&&_e.hasOwnProperty("type")&&ot.onnx.TypeProto.encode(_e.type,nt.uint32(18).fork()).ldelim(),_e.docString!=null&&_e.hasOwnProperty("docString")&&nt.uint32(26).string(_e.docString),nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.ValueInfoProto;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:lt.name=_e.string();break;case 2:lt.type=ot.onnx.TypeProto.decode(_e,_e.uint32());break;case 3:lt.docString=_e.string();break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.name!=null&&_e.hasOwnProperty("name")&&!it.isString(_e.name))return"name: string expected";if(_e.type!=null&&_e.hasOwnProperty("type")){var nt=ot.onnx.TypeProto.verify(_e.type);if(nt)return"type."+nt}return _e.docString!=null&&_e.hasOwnProperty("docString")&&!it.isString(_e.docString)?"docString: string expected":null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.ValueInfoProto)return _e;var nt=new ot.onnx.ValueInfoProto;if(_e.name!=null&&(nt.name=String(_e.name)),_e.type!=null){if(typeof _e.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");nt.type=ot.onnx.TypeProto.fromObject(_e.type)}return _e.docString!=null&&(nt.docString=String(_e.docString)),nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};return nt.defaults&&(at.name="",at.type=null,at.docString=""),_e.name!=null&&_e.hasOwnProperty("name")&&(at.name=_e.name),_e.type!=null&&_e.hasOwnProperty("type")&&(at.type=ot.onnx.TypeProto.toObject(_e.type,nt)),_e.docString!=null&&_e.hasOwnProperty("docString")&&(at.docString=_e.docString),at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt}(),j.NodeProto=function(){function tt(_e){if(this.input=[],this.output=[],this.attribute=[],_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.input=it.emptyArray,tt.prototype.output=it.emptyArray,tt.prototype.name="",tt.prototype.opType="",tt.prototype.domain="",tt.prototype.attribute=it.emptyArray,tt.prototype.docString="",tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){if(nt||(nt=st.create()),_e.input!=null&&_e.input.length)for(var at=0;at<_e.input.length;++at)nt.uint32(10).string(_e.input[at]);if(_e.output!=null&&_e.output.length)for(at=0;at<_e.output.length;++at)nt.uint32(18).string(_e.output[at]);if(_e.name!=null&&_e.hasOwnProperty("name")&&nt.uint32(26).string(_e.name),_e.opType!=null&&_e.hasOwnProperty("opType")&&nt.uint32(34).string(_e.opType),_e.attribute!=null&&_e.attribute.length)for(at=0;at<_e.attribute.length;++at)ot.onnx.AttributeProto.encode(_e.attribute[at],nt.uint32(42).fork()).ldelim();return _e.docString!=null&&_e.hasOwnProperty("docString")&&nt.uint32(50).string(_e.docString),_e.domain!=null&&_e.hasOwnProperty("domain")&&nt.uint32(58).string(_e.domain),nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.NodeProto;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:lt.input&&lt.input.length||(lt.input=[]),lt.input.push(_e.string());break;case 2:lt.output&&lt.output.length||(lt.output=[]),lt.output.push(_e.string());break;case 3:lt.name=_e.string();break;case 4:lt.opType=_e.string();break;case 7:lt.domain=_e.string();break;case 5:lt.attribute&&lt.attribute.length||(lt.attribute=[]),lt.attribute.push(ot.onnx.AttributeProto.decode(_e,_e.uint32()));break;case 6:lt.docString=_e.string();break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.input!=null&&_e.hasOwnProperty("input")){if(!Array.isArray(_e.input))return"input: array expected";for(var nt=0;nt<_e.input.length;++nt)if(!it.isString(_e.input[nt]))return"input: string[] expected"}if(_e.output!=null&&_e.hasOwnProperty("output")){if(!Array.isArray(_e.output))return"output: array expected";for(nt=0;nt<_e.output.length;++nt)if(!it.isString(_e.output[nt]))return"output: string[] expected"}if(_e.name!=null&&_e.hasOwnProperty("name")&&!it.isString(_e.name))return"name: string expected";if(_e.opType!=null&&_e.hasOwnProperty("opType")&&!it.isString(_e.opType))return"opType: string expected";if(_e.domain!=null&&_e.hasOwnProperty("domain")&&!it.isString(_e.domain))return"domain: string expected";if(_e.attribute!=null&&_e.hasOwnProperty("attribute")){if(!Array.isArray(_e.attribute))return"attribute: array expected";for(nt=0;nt<_e.attribute.length;++nt){var at=ot.onnx.AttributeProto.verify(_e.attribute[nt]);if(at)return"attribute."+at}}return _e.docString!=null&&_e.hasOwnProperty("docString")&&!it.isString(_e.docString)?"docString: string expected":null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.NodeProto)return _e;var nt=new ot.onnx.NodeProto;if(_e.input){if(!Array.isArray(_e.input))throw TypeError(".onnx.NodeProto.input: array expected");nt.input=[];for(var at=0;at<_e.input.length;++at)nt.input[at]=String(_e.input[at])}if(_e.output){if(!Array.isArray(_e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(nt.output=[],at=0;at<_e.output.length;++at)nt.output[at]=String(_e.output[at])}if(_e.name!=null&&(nt.name=String(_e.name)),_e.opType!=null&&(nt.opType=String(_e.opType)),_e.domain!=null&&(nt.domain=String(_e.domain)),_e.attribute){if(!Array.isArray(_e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(nt.attribute=[],at=0;at<_e.attribute.length;++at){if(typeof _e.attribute[at]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");nt.attribute[at]=ot.onnx.AttributeProto.fromObject(_e.attribute[at])}}return _e.docString!=null&&(nt.docString=String(_e.docString)),nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};if((nt.arrays||nt.defaults)&&(at.input=[],at.output=[],at.attribute=[]),nt.defaults&&(at.name="",at.opType="",at.docString="",at.domain=""),_e.input&&_e.input.length){at.input=[];for(var lt=0;lt<_e.input.length;++lt)at.input[lt]=_e.input[lt]}if(_e.output&&_e.output.length)for(at.output=[],lt=0;lt<_e.output.length;++lt)at.output[lt]=_e.output[lt];if(_e.name!=null&&_e.hasOwnProperty("name")&&(at.name=_e.name),_e.opType!=null&&_e.hasOwnProperty("opType")&&(at.opType=_e.opType),_e.attribute&&_e.attribute.length)for(at.attribute=[],lt=0;lt<_e.attribute.length;++lt)at.attribute[lt]=ot.onnx.AttributeProto.toObject(_e.attribute[lt],nt);return _e.docString!=null&&_e.hasOwnProperty("docString")&&(at.docString=_e.docString),_e.domain!=null&&_e.hasOwnProperty("domain")&&(at.domain=_e.domain),at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt}(),j.ModelProto=function(){function tt(_e){if(this.opsetImport=[],this.metadataProps=[],_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.irVersion=it.Long?it.Long.fromBits(0,0,!1):0,tt.prototype.opsetImport=it.emptyArray,tt.prototype.producerName="",tt.prototype.producerVersion="",tt.prototype.domain="",tt.prototype.modelVersion=it.Long?it.Long.fromBits(0,0,!1):0,tt.prototype.docString="",tt.prototype.graph=null,tt.prototype.metadataProps=it.emptyArray,tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){if(nt||(nt=st.create()),_e.irVersion!=null&&_e.hasOwnProperty("irVersion")&&nt.uint32(8).int64(_e.irVersion),_e.producerName!=null&&_e.hasOwnProperty("producerName")&&nt.uint32(18).string(_e.producerName),_e.producerVersion!=null&&_e.hasOwnProperty("producerVersion")&&nt.uint32(26).string(_e.producerVersion),_e.domain!=null&&_e.hasOwnProperty("domain")&&nt.uint32(34).string(_e.domain),_e.modelVersion!=null&&_e.hasOwnProperty("modelVersion")&&nt.uint32(40).int64(_e.modelVersion),_e.docString!=null&&_e.hasOwnProperty("docString")&&nt.uint32(50).string(_e.docString),_e.graph!=null&&_e.hasOwnProperty("graph")&&ot.onnx.GraphProto.encode(_e.graph,nt.uint32(58).fork()).ldelim(),_e.opsetImport!=null&&_e.opsetImport.length)for(var at=0;at<_e.opsetImport.length;++at)ot.onnx.OperatorSetIdProto.encode(_e.opsetImport[at],nt.uint32(66).fork()).ldelim();if(_e.metadataProps!=null&&_e.metadataProps.length)for(at=0;at<_e.metadataProps.length;++at)ot.onnx.StringStringEntryProto.encode(_e.metadataProps[at],nt.uint32(114).fork()).ldelim();return nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.ModelProto;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:lt.irVersion=_e.int64();break;case 8:lt.opsetImport&&lt.opsetImport.length||(lt.opsetImport=[]),lt.opsetImport.push(ot.onnx.OperatorSetIdProto.decode(_e,_e.uint32()));break;case 2:lt.producerName=_e.string();break;case 3:lt.producerVersion=_e.string();break;case 4:lt.domain=_e.string();break;case 5:lt.modelVersion=_e.int64();break;case 6:lt.docString=_e.string();break;case 7:lt.graph=ot.onnx.GraphProto.decode(_e,_e.uint32());break;case 14:lt.metadataProps&&lt.metadataProps.length||(lt.metadataProps=[]),lt.metadataProps.push(ot.onnx.StringStringEntryProto.decode(_e,_e.uint32()));break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.irVersion!=null&&_e.hasOwnProperty("irVersion")&&!(it.isInteger(_e.irVersion)||_e.irVersion&&it.isInteger(_e.irVersion.low)&&it.isInteger(_e.irVersion.high)))return"irVersion: integer|Long expected";if(_e.opsetImport!=null&&_e.hasOwnProperty("opsetImport")){if(!Array.isArray(_e.opsetImport))return"opsetImport: array expected";for(var nt=0;nt<_e.opsetImport.length;++nt)if(at=ot.onnx.OperatorSetIdProto.verify(_e.opsetImport[nt]))return"opsetImport."+at}if(_e.producerName!=null&&_e.hasOwnProperty("producerName")&&!it.isString(_e.producerName))return"producerName: string expected";if(_e.producerVersion!=null&&_e.hasOwnProperty("producerVersion")&&!it.isString(_e.producerVersion))return"producerVersion: string expected";if(_e.domain!=null&&_e.hasOwnProperty("domain")&&!it.isString(_e.domain))return"domain: string expected";if(_e.modelVersion!=null&&_e.hasOwnProperty("modelVersion")&&!(it.isInteger(_e.modelVersion)||_e.modelVersion&&it.isInteger(_e.modelVersion.low)&&it.isInteger(_e.modelVersion.high)))return"modelVersion: integer|Long expected";if(_e.docString!=null&&_e.hasOwnProperty("docString")&&!it.isString(_e.docString))return"docString: string expected";if(_e.graph!=null&&_e.hasOwnProperty("graph")&&(at=ot.onnx.GraphProto.verify(_e.graph)))return"graph."+at;if(_e.metadataProps!=null&&_e.hasOwnProperty("metadataProps")){if(!Array.isArray(_e.metadataProps))return"metadataProps: array expected";for(nt=0;nt<_e.metadataProps.length;++nt){var at;if(at=ot.onnx.StringStringEntryProto.verify(_e.metadataProps[nt]))return"metadataProps."+at}}return null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.ModelProto)return _e;var nt=new ot.onnx.ModelProto;if(_e.irVersion!=null&&(it.Long?(nt.irVersion=it.Long.fromValue(_e.irVersion)).unsigned=!1:typeof _e.irVersion=="string"?nt.irVersion=parseInt(_e.irVersion,10):typeof _e.irVersion=="number"?nt.irVersion=_e.irVersion:typeof _e.irVersion=="object"&&(nt.irVersion=new it.LongBits(_e.irVersion.low>>>0,_e.irVersion.high>>>0).toNumber())),_e.opsetImport){if(!Array.isArray(_e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");nt.opsetImport=[];for(var at=0;at<_e.opsetImport.length;++at){if(typeof _e.opsetImport[at]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");nt.opsetImport[at]=ot.onnx.OperatorSetIdProto.fromObject(_e.opsetImport[at])}}if(_e.producerName!=null&&(nt.producerName=String(_e.producerName)),_e.producerVersion!=null&&(nt.producerVersion=String(_e.producerVersion)),_e.domain!=null&&(nt.domain=String(_e.domain)),_e.modelVersion!=null&&(it.Long?(nt.modelVersion=it.Long.fromValue(_e.modelVersion)).unsigned=!1:typeof _e.modelVersion=="string"?nt.modelVersion=parseInt(_e.modelVersion,10):typeof _e.modelVersion=="number"?nt.modelVersion=_e.modelVersion:typeof _e.modelVersion=="object"&&(nt.modelVersion=new it.LongBits(_e.modelVersion.low>>>0,_e.modelVersion.high>>>0).toNumber())),_e.docString!=null&&(nt.docString=String(_e.docString)),_e.graph!=null){if(typeof _e.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");nt.graph=ot.onnx.GraphProto.fromObject(_e.graph)}if(_e.metadataProps){if(!Array.isArray(_e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(nt.metadataProps=[],at=0;at<_e.metadataProps.length;++at){if(typeof _e.metadataProps[at]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");nt.metadataProps[at]=ot.onnx.StringStringEntryProto.fromObject(_e.metadataProps[at])}}return nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};if((nt.arrays||nt.defaults)&&(at.opsetImport=[],at.metadataProps=[]),nt.defaults){if(it.Long){var lt=new it.Long(0,0,!1);at.irVersion=nt.longs===String?lt.toString():nt.longs===Number?lt.toNumber():lt}else at.irVersion=nt.longs===String?"0":0;at.producerName="",at.producerVersion="",at.domain="",it.Long?(lt=new it.Long(0,0,!1),at.modelVersion=nt.longs===String?lt.toString():nt.longs===Number?lt.toNumber():lt):at.modelVersion=nt.longs===String?"0":0,at.docString="",at.graph=null}if(_e.irVersion!=null&&_e.hasOwnProperty("irVersion")&&(typeof _e.irVersion=="number"?at.irVersion=nt.longs===String?String(_e.irVersion):_e.irVersion:at.irVersion=nt.longs===String?it.Long.prototype.toString.call(_e.irVersion):nt.longs===Number?new it.LongBits(_e.irVersion.low>>>0,_e.irVersion.high>>>0).toNumber():_e.irVersion),_e.producerName!=null&&_e.hasOwnProperty("producerName")&&(at.producerName=_e.producerName),_e.producerVersion!=null&&_e.hasOwnProperty("producerVersion")&&(at.producerVersion=_e.producerVersion),_e.domain!=null&&_e.hasOwnProperty("domain")&&(at.domain=_e.domain),_e.modelVersion!=null&&_e.hasOwnProperty("modelVersion")&&(typeof _e.modelVersion=="number"?at.modelVersion=nt.longs===String?String(_e.modelVersion):_e.modelVersion:at.modelVersion=nt.longs===String?it.Long.prototype.toString.call(_e.modelVersion):nt.longs===Number?new it.LongBits(_e.modelVersion.low>>>0,_e.modelVersion.high>>>0).toNumber():_e.modelVersion),_e.docString!=null&&_e.hasOwnProperty("docString")&&(at.docString=_e.docString),_e.graph!=null&&_e.hasOwnProperty("graph")&&(at.graph=ot.onnx.GraphProto.toObject(_e.graph,nt)),_e.opsetImport&&_e.opsetImport.length){at.opsetImport=[];for(var ut=0;ut<_e.opsetImport.length;++ut)at.opsetImport[ut]=ot.onnx.OperatorSetIdProto.toObject(_e.opsetImport[ut],nt)}if(_e.metadataProps&&_e.metadataProps.length)for(at.metadataProps=[],ut=0;ut<_e.metadataProps.length;++ut)at.metadataProps[ut]=ot.onnx.StringStringEntryProto.toObject(_e.metadataProps[ut],nt);return at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt}(),j.StringStringEntryProto=function(){function tt(_e){if(_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.key="",tt.prototype.value="",tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){return nt||(nt=st.create()),_e.key!=null&&_e.hasOwnProperty("key")&&nt.uint32(10).string(_e.key),_e.value!=null&&_e.hasOwnProperty("value")&&nt.uint32(18).string(_e.value),nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.StringStringEntryProto;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:lt.key=_e.string();break;case 2:lt.value=_e.string();break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){return typeof _e!="object"||_e===null?"object expected":_e.key!=null&&_e.hasOwnProperty("key")&&!it.isString(_e.key)?"key: string expected":_e.value!=null&&_e.hasOwnProperty("value")&&!it.isString(_e.value)?"value: string expected":null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.StringStringEntryProto)return _e;var nt=new ot.onnx.StringStringEntryProto;return _e.key!=null&&(nt.key=String(_e.key)),_e.value!=null&&(nt.value=String(_e.value)),nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};return nt.defaults&&(at.key="",at.value=""),_e.key!=null&&_e.hasOwnProperty("key")&&(at.key=_e.key),_e.value!=null&&_e.hasOwnProperty("value")&&(at.value=_e.value),at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt}(),j.TensorAnnotation=function(){function tt(_e){if(this.quantParameterTensorNames=[],_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.tensorName="",tt.prototype.quantParameterTensorNames=it.emptyArray,tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){if(nt||(nt=st.create()),_e.tensorName!=null&&_e.hasOwnProperty("tensorName")&&nt.uint32(10).string(_e.tensorName),_e.quantParameterTensorNames!=null&&_e.quantParameterTensorNames.length)for(var at=0;at<_e.quantParameterTensorNames.length;++at)ot.onnx.StringStringEntryProto.encode(_e.quantParameterTensorNames[at],nt.uint32(18).fork()).ldelim();return nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.TensorAnnotation;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:lt.tensorName=_e.string();break;case 2:lt.quantParameterTensorNames&&lt.quantParameterTensorNames.length||(lt.quantParameterTensorNames=[]),lt.quantParameterTensorNames.push(ot.onnx.StringStringEntryProto.decode(_e,_e.uint32()));break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.tensorName!=null&&_e.hasOwnProperty("tensorName")&&!it.isString(_e.tensorName))return"tensorName: string expected";if(_e.quantParameterTensorNames!=null&&_e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(_e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var nt=0;nt<_e.quantParameterTensorNames.length;++nt){var at=ot.onnx.StringStringEntryProto.verify(_e.quantParameterTensorNames[nt]);if(at)return"quantParameterTensorNames."+at}}return null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.TensorAnnotation)return _e;var nt=new ot.onnx.TensorAnnotation;if(_e.tensorName!=null&&(nt.tensorName=String(_e.tensorName)),_e.quantParameterTensorNames){if(!Array.isArray(_e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");nt.quantParameterTensorNames=[];for(var at=0;at<_e.quantParameterTensorNames.length;++at){if(typeof _e.quantParameterTensorNames[at]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");nt.quantParameterTensorNames[at]=ot.onnx.StringStringEntryProto.fromObject(_e.quantParameterTensorNames[at])}}return nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};if((nt.arrays||nt.defaults)&&(at.quantParameterTensorNames=[]),nt.defaults&&(at.tensorName=""),_e.tensorName!=null&&_e.hasOwnProperty("tensorName")&&(at.tensorName=_e.tensorName),_e.quantParameterTensorNames&&_e.quantParameterTensorNames.length){at.quantParameterTensorNames=[];for(var lt=0;lt<_e.quantParameterTensorNames.length;++lt)at.quantParameterTensorNames[lt]=ot.onnx.StringStringEntryProto.toObject(_e.quantParameterTensorNames[lt],nt)}return at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt}(),j.GraphProto=function(){function tt(_e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.node=it.emptyArray,tt.prototype.name="",tt.prototype.initializer=it.emptyArray,tt.prototype.docString="",tt.prototype.input=it.emptyArray,tt.prototype.output=it.emptyArray,tt.prototype.valueInfo=it.emptyArray,tt.prototype.quantizationAnnotation=it.emptyArray,tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){if(nt||(nt=st.create()),_e.node!=null&&_e.node.length)for(var at=0;at<_e.node.length;++at)ot.onnx.NodeProto.encode(_e.node[at],nt.uint32(10).fork()).ldelim();if(_e.name!=null&&_e.hasOwnProperty("name")&&nt.uint32(18).string(_e.name),_e.initializer!=null&&_e.initializer.length)for(at=0;at<_e.initializer.length;++at)ot.onnx.TensorProto.encode(_e.initializer[at],nt.uint32(42).fork()).ldelim();if(_e.docString!=null&&_e.hasOwnProperty("docString")&&nt.uint32(82).string(_e.docString),_e.input!=null&&_e.input.length)for(at=0;at<_e.input.length;++at)ot.onnx.ValueInfoProto.encode(_e.input[at],nt.uint32(90).fork()).ldelim();if(_e.output!=null&&_e.output.length)for(at=0;at<_e.output.length;++at)ot.onnx.ValueInfoProto.encode(_e.output[at],nt.uint32(98).fork()).ldelim();if(_e.valueInfo!=null&&_e.valueInfo.length)for(at=0;at<_e.valueInfo.length;++at)ot.onnx.ValueInfoProto.encode(_e.valueInfo[at],nt.uint32(106).fork()).ldelim();if(_e.quantizationAnnotation!=null&&_e.quantizationAnnotation.length)for(at=0;at<_e.quantizationAnnotation.length;++at)ot.onnx.TensorAnnotation.encode(_e.quantizationAnnotation[at],nt.uint32(114).fork()).ldelim();return nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.GraphProto;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:lt.node&&lt.node.length||(lt.node=[]),lt.node.push(ot.onnx.NodeProto.decode(_e,_e.uint32()));break;case 2:lt.name=_e.string();break;case 5:lt.initializer&&lt.initializer.length||(lt.initializer=[]),lt.initializer.push(ot.onnx.TensorProto.decode(_e,_e.uint32()));break;case 10:lt.docString=_e.string();break;case 11:lt.input&&lt.input.length||(lt.input=[]),lt.input.push(ot.onnx.ValueInfoProto.decode(_e,_e.uint32()));break;case 12:lt.output&&lt.output.length||(lt.output=[]),lt.output.push(ot.onnx.ValueInfoProto.decode(_e,_e.uint32()));break;case 13:lt.valueInfo&&lt.valueInfo.length||(lt.valueInfo=[]),lt.valueInfo.push(ot.onnx.ValueInfoProto.decode(_e,_e.uint32()));break;case 14:lt.quantizationAnnotation&&lt.quantizationAnnotation.length||(lt.quantizationAnnotation=[]),lt.quantizationAnnotation.push(ot.onnx.TensorAnnotation.decode(_e,_e.uint32()));break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.node!=null&&_e.hasOwnProperty("node")){if(!Array.isArray(_e.node))return"node: array expected";for(var nt=0;nt<_e.node.length;++nt)if(at=ot.onnx.NodeProto.verify(_e.node[nt]))return"node."+at}if(_e.name!=null&&_e.hasOwnProperty("name")&&!it.isString(_e.name))return"name: string expected";if(_e.initializer!=null&&_e.hasOwnProperty("initializer")){if(!Array.isArray(_e.initializer))return"initializer: array expected";for(nt=0;nt<_e.initializer.length;++nt)if(at=ot.onnx.TensorProto.verify(_e.initializer[nt]))return"initializer."+at}if(_e.docString!=null&&_e.hasOwnProperty("docString")&&!it.isString(_e.docString))return"docString: string expected";if(_e.input!=null&&_e.hasOwnProperty("input")){if(!Array.isArray(_e.input))return"input: array expected";for(nt=0;nt<_e.input.length;++nt)if(at=ot.onnx.ValueInfoProto.verify(_e.input[nt]))return"input."+at}if(_e.output!=null&&_e.hasOwnProperty("output")){if(!Array.isArray(_e.output))return"output: array expected";for(nt=0;nt<_e.output.length;++nt)if(at=ot.onnx.ValueInfoProto.verify(_e.output[nt]))return"output."+at}if(_e.valueInfo!=null&&_e.hasOwnProperty("valueInfo")){if(!Array.isArray(_e.valueInfo))return"valueInfo: array expected";for(nt=0;nt<_e.valueInfo.length;++nt)if(at=ot.onnx.ValueInfoProto.verify(_e.valueInfo[nt]))return"valueInfo."+at}if(_e.quantizationAnnotation!=null&&_e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(_e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(nt=0;nt<_e.quantizationAnnotation.length;++nt){var at;if(at=ot.onnx.TensorAnnotation.verify(_e.quantizationAnnotation[nt]))return"quantizationAnnotation."+at}}return null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.GraphProto)return _e;var nt=new ot.onnx.GraphProto;if(_e.node){if(!Array.isArray(_e.node))throw TypeError(".onnx.GraphProto.node: array expected");nt.node=[];for(var at=0;at<_e.node.length;++at){if(typeof _e.node[at]!="object")throw TypeError(".onnx.GraphProto.node: object expected");nt.node[at]=ot.onnx.NodeProto.fromObject(_e.node[at])}}if(_e.name!=null&&(nt.name=String(_e.name)),_e.initializer){if(!Array.isArray(_e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(nt.initializer=[],at=0;at<_e.initializer.length;++at){if(typeof _e.initializer[at]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");nt.initializer[at]=ot.onnx.TensorProto.fromObject(_e.initializer[at])}}if(_e.docString!=null&&(nt.docString=String(_e.docString)),_e.input){if(!Array.isArray(_e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(nt.input=[],at=0;at<_e.input.length;++at){if(typeof _e.input[at]!="object")throw TypeError(".onnx.GraphProto.input: object expected");nt.input[at]=ot.onnx.ValueInfoProto.fromObject(_e.input[at])}}if(_e.output){if(!Array.isArray(_e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(nt.output=[],at=0;at<_e.output.length;++at){if(typeof _e.output[at]!="object")throw TypeError(".onnx.GraphProto.output: object expected");nt.output[at]=ot.onnx.ValueInfoProto.fromObject(_e.output[at])}}if(_e.valueInfo){if(!Array.isArray(_e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(nt.valueInfo=[],at=0;at<_e.valueInfo.length;++at){if(typeof _e.valueInfo[at]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");nt.valueInfo[at]=ot.onnx.ValueInfoProto.fromObject(_e.valueInfo[at])}}if(_e.quantizationAnnotation){if(!Array.isArray(_e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(nt.quantizationAnnotation=[],at=0;at<_e.quantizationAnnotation.length;++at){if(typeof _e.quantizationAnnotation[at]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");nt.quantizationAnnotation[at]=ot.onnx.TensorAnnotation.fromObject(_e.quantizationAnnotation[at])}}return nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};if((nt.arrays||nt.defaults)&&(at.node=[],at.initializer=[],at.input=[],at.output=[],at.valueInfo=[],at.quantizationAnnotation=[]),nt.defaults&&(at.name="",at.docString=""),_e.node&&_e.node.length){at.node=[];for(var lt=0;lt<_e.node.length;++lt)at.node[lt]=ot.onnx.NodeProto.toObject(_e.node[lt],nt)}if(_e.name!=null&&_e.hasOwnProperty("name")&&(at.name=_e.name),_e.initializer&&_e.initializer.length)for(at.initializer=[],lt=0;lt<_e.initializer.length;++lt)at.initializer[lt]=ot.onnx.TensorProto.toObject(_e.initializer[lt],nt);if(_e.docString!=null&&_e.hasOwnProperty("docString")&&(at.docString=_e.docString),_e.input&&_e.input.length)for(at.input=[],lt=0;lt<_e.input.length;++lt)at.input[lt]=ot.onnx.ValueInfoProto.toObject(_e.input[lt],nt);if(_e.output&&_e.output.length)for(at.output=[],lt=0;lt<_e.output.length;++lt)at.output[lt]=ot.onnx.ValueInfoProto.toObject(_e.output[lt],nt);if(_e.valueInfo&&_e.valueInfo.length)for(at.valueInfo=[],lt=0;lt<_e.valueInfo.length;++lt)at.valueInfo[lt]=ot.onnx.ValueInfoProto.toObject(_e.valueInfo[lt],nt);if(_e.quantizationAnnotation&&_e.quantizationAnnotation.length)for(at.quantizationAnnotation=[],lt=0;lt<_e.quantizationAnnotation.length;++lt)at.quantizationAnnotation[lt]=ot.onnx.TensorAnnotation.toObject(_e.quantizationAnnotation[lt],nt);return at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt}(),j.TensorProto=function(){function tt(_e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.dims=it.emptyArray,tt.prototype.dataType=0,tt.prototype.segment=null,tt.prototype.floatData=it.emptyArray,tt.prototype.int32Data=it.emptyArray,tt.prototype.stringData=it.emptyArray,tt.prototype.int64Data=it.emptyArray,tt.prototype.name="",tt.prototype.docString="",tt.prototype.rawData=it.newBuffer([]),tt.prototype.externalData=it.emptyArray,tt.prototype.dataLocation=0,tt.prototype.doubleData=it.emptyArray,tt.prototype.uint64Data=it.emptyArray,tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){if(nt||(nt=st.create()),_e.dims!=null&&_e.dims.length){nt.uint32(10).fork();for(var at=0;at<_e.dims.length;++at)nt.int64(_e.dims[at]);nt.ldelim()}if(_e.dataType!=null&&_e.hasOwnProperty("dataType")&&nt.uint32(16).int32(_e.dataType),_e.segment!=null&&_e.hasOwnProperty("segment")&&ot.onnx.TensorProto.Segment.encode(_e.segment,nt.uint32(26).fork()).ldelim(),_e.floatData!=null&&_e.floatData.length){for(nt.uint32(34).fork(),at=0;at<_e.floatData.length;++at)nt.float(_e.floatData[at]);nt.ldelim()}if(_e.int32Data!=null&&_e.int32Data.length){for(nt.uint32(42).fork(),at=0;at<_e.int32Data.length;++at)nt.int32(_e.int32Data[at]);nt.ldelim()}if(_e.stringData!=null&&_e.stringData.length)for(at=0;at<_e.stringData.length;++at)nt.uint32(50).bytes(_e.stringData[at]);if(_e.int64Data!=null&&_e.int64Data.length){for(nt.uint32(58).fork(),at=0;at<_e.int64Data.length;++at)nt.int64(_e.int64Data[at]);nt.ldelim()}if(_e.name!=null&&_e.hasOwnProperty("name")&&nt.uint32(66).string(_e.name),_e.rawData!=null&&_e.hasOwnProperty("rawData")&&nt.uint32(74).bytes(_e.rawData),_e.doubleData!=null&&_e.doubleData.length){for(nt.uint32(82).fork(),at=0;at<_e.doubleData.length;++at)nt.double(_e.doubleData[at]);nt.ldelim()}if(_e.uint64Data!=null&&_e.uint64Data.length){for(nt.uint32(90).fork(),at=0;at<_e.uint64Data.length;++at)nt.uint64(_e.uint64Data[at]);nt.ldelim()}if(_e.docString!=null&&_e.hasOwnProperty("docString")&&nt.uint32(98).string(_e.docString),_e.externalData!=null&&_e.externalData.length)for(at=0;at<_e.externalData.length;++at)ot.onnx.StringStringEntryProto.encode(_e.externalData[at],nt.uint32(106).fork()).ldelim();return _e.dataLocation!=null&&_e.hasOwnProperty("dataLocation")&&nt.uint32(112).int32(_e.dataLocation),nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.TensorProto;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:if(lt.dims&&lt.dims.length||(lt.dims=[]),(7&ut)==2)for(var ct=_e.uint32()+_e.pos;_e.pos<ct;)lt.dims.push(_e.int64());else lt.dims.push(_e.int64());break;case 2:lt.dataType=_e.int32();break;case 3:lt.segment=ot.onnx.TensorProto.Segment.decode(_e,_e.uint32());break;case 4:if(lt.floatData&&lt.floatData.length||(lt.floatData=[]),(7&ut)==2)for(ct=_e.uint32()+_e.pos;_e.pos<ct;)lt.floatData.push(_e.float());else lt.floatData.push(_e.float());break;case 5:if(lt.int32Data&&lt.int32Data.length||(lt.int32Data=[]),(7&ut)==2)for(ct=_e.uint32()+_e.pos;_e.pos<ct;)lt.int32Data.push(_e.int32());else lt.int32Data.push(_e.int32());break;case 6:lt.stringData&&lt.stringData.length||(lt.stringData=[]),lt.stringData.push(_e.bytes());break;case 7:if(lt.int64Data&&lt.int64Data.length||(lt.int64Data=[]),(7&ut)==2)for(ct=_e.uint32()+_e.pos;_e.pos<ct;)lt.int64Data.push(_e.int64());else lt.int64Data.push(_e.int64());break;case 8:lt.name=_e.string();break;case 12:lt.docString=_e.string();break;case 9:lt.rawData=_e.bytes();break;case 13:lt.externalData&&lt.externalData.length||(lt.externalData=[]),lt.externalData.push(ot.onnx.StringStringEntryProto.decode(_e,_e.uint32()));break;case 14:lt.dataLocation=_e.int32();break;case 10:if(lt.doubleData&&lt.doubleData.length||(lt.doubleData=[]),(7&ut)==2)for(ct=_e.uint32()+_e.pos;_e.pos<ct;)lt.doubleData.push(_e.double());else lt.doubleData.push(_e.double());break;case 11:if(lt.uint64Data&&lt.uint64Data.length||(lt.uint64Data=[]),(7&ut)==2)for(ct=_e.uint32()+_e.pos;_e.pos<ct;)lt.uint64Data.push(_e.uint64());else lt.uint64Data.push(_e.uint64());break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.dims!=null&&_e.hasOwnProperty("dims")){if(!Array.isArray(_e.dims))return"dims: array expected";for(var nt=0;nt<_e.dims.length;++nt)if(!(it.isInteger(_e.dims[nt])||_e.dims[nt]&&it.isInteger(_e.dims[nt].low)&&it.isInteger(_e.dims[nt].high)))return"dims: integer|Long[] expected"}if(_e.dataType!=null&&_e.hasOwnProperty("dataType")&&!it.isInteger(_e.dataType))return"dataType: integer expected";if(_e.segment!=null&&_e.hasOwnProperty("segment")&&(at=ot.onnx.TensorProto.Segment.verify(_e.segment)))return"segment."+at;if(_e.floatData!=null&&_e.hasOwnProperty("floatData")){if(!Array.isArray(_e.floatData))return"floatData: array expected";for(nt=0;nt<_e.floatData.length;++nt)if(typeof _e.floatData[nt]!="number")return"floatData: number[] expected"}if(_e.int32Data!=null&&_e.hasOwnProperty("int32Data")){if(!Array.isArray(_e.int32Data))return"int32Data: array expected";for(nt=0;nt<_e.int32Data.length;++nt)if(!it.isInteger(_e.int32Data[nt]))return"int32Data: integer[] expected"}if(_e.stringData!=null&&_e.hasOwnProperty("stringData")){if(!Array.isArray(_e.stringData))return"stringData: array expected";for(nt=0;nt<_e.stringData.length;++nt)if(!(_e.stringData[nt]&&typeof _e.stringData[nt].length=="number"||it.isString(_e.stringData[nt])))return"stringData: buffer[] expected"}if(_e.int64Data!=null&&_e.hasOwnProperty("int64Data")){if(!Array.isArray(_e.int64Data))return"int64Data: array expected";for(nt=0;nt<_e.int64Data.length;++nt)if(!(it.isInteger(_e.int64Data[nt])||_e.int64Data[nt]&&it.isInteger(_e.int64Data[nt].low)&&it.isInteger(_e.int64Data[nt].high)))return"int64Data: integer|Long[] expected"}if(_e.name!=null&&_e.hasOwnProperty("name")&&!it.isString(_e.name))return"name: string expected";if(_e.docString!=null&&_e.hasOwnProperty("docString")&&!it.isString(_e.docString))return"docString: string expected";if(_e.rawData!=null&&_e.hasOwnProperty("rawData")&&!(_e.rawData&&typeof _e.rawData.length=="number"||it.isString(_e.rawData)))return"rawData: buffer expected";if(_e.externalData!=null&&_e.hasOwnProperty("externalData")){if(!Array.isArray(_e.externalData))return"externalData: array expected";for(nt=0;nt<_e.externalData.length;++nt){var at;if(at=ot.onnx.StringStringEntryProto.verify(_e.externalData[nt]))return"externalData."+at}}if(_e.dataLocation!=null&&_e.hasOwnProperty("dataLocation"))switch(_e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(_e.doubleData!=null&&_e.hasOwnProperty("doubleData")){if(!Array.isArray(_e.doubleData))return"doubleData: array expected";for(nt=0;nt<_e.doubleData.length;++nt)if(typeof _e.doubleData[nt]!="number")return"doubleData: number[] expected"}if(_e.uint64Data!=null&&_e.hasOwnProperty("uint64Data")){if(!Array.isArray(_e.uint64Data))return"uint64Data: array expected";for(nt=0;nt<_e.uint64Data.length;++nt)if(!(it.isInteger(_e.uint64Data[nt])||_e.uint64Data[nt]&&it.isInteger(_e.uint64Data[nt].low)&&it.isInteger(_e.uint64Data[nt].high)))return"uint64Data: integer|Long[] expected"}return null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.TensorProto)return _e;var nt=new ot.onnx.TensorProto;if(_e.dims){if(!Array.isArray(_e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");nt.dims=[];for(var at=0;at<_e.dims.length;++at)it.Long?(nt.dims[at]=it.Long.fromValue(_e.dims[at])).unsigned=!1:typeof _e.dims[at]=="string"?nt.dims[at]=parseInt(_e.dims[at],10):typeof _e.dims[at]=="number"?nt.dims[at]=_e.dims[at]:typeof _e.dims[at]=="object"&&(nt.dims[at]=new it.LongBits(_e.dims[at].low>>>0,_e.dims[at].high>>>0).toNumber())}if(_e.dataType!=null&&(nt.dataType=0|_e.dataType),_e.segment!=null){if(typeof _e.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");nt.segment=ot.onnx.TensorProto.Segment.fromObject(_e.segment)}if(_e.floatData){if(!Array.isArray(_e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(nt.floatData=[],at=0;at<_e.floatData.length;++at)nt.floatData[at]=Number(_e.floatData[at])}if(_e.int32Data){if(!Array.isArray(_e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(nt.int32Data=[],at=0;at<_e.int32Data.length;++at)nt.int32Data[at]=0|_e.int32Data[at]}if(_e.stringData){if(!Array.isArray(_e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(nt.stringData=[],at=0;at<_e.stringData.length;++at)typeof _e.stringData[at]=="string"?it.base64.decode(_e.stringData[at],nt.stringData[at]=it.newBuffer(it.base64.length(_e.stringData[at])),0):_e.stringData[at].length&&(nt.stringData[at]=_e.stringData[at])}if(_e.int64Data){if(!Array.isArray(_e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(nt.int64Data=[],at=0;at<_e.int64Data.length;++at)it.Long?(nt.int64Data[at]=it.Long.fromValue(_e.int64Data[at])).unsigned=!1:typeof _e.int64Data[at]=="string"?nt.int64Data[at]=parseInt(_e.int64Data[at],10):typeof _e.int64Data[at]=="number"?nt.int64Data[at]=_e.int64Data[at]:typeof _e.int64Data[at]=="object"&&(nt.int64Data[at]=new it.LongBits(_e.int64Data[at].low>>>0,_e.int64Data[at].high>>>0).toNumber())}if(_e.name!=null&&(nt.name=String(_e.name)),_e.docString!=null&&(nt.docString=String(_e.docString)),_e.rawData!=null&&(typeof _e.rawData=="string"?it.base64.decode(_e.rawData,nt.rawData=it.newBuffer(it.base64.length(_e.rawData)),0):_e.rawData.length&&(nt.rawData=_e.rawData)),_e.externalData){if(!Array.isArray(_e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(nt.externalData=[],at=0;at<_e.externalData.length;++at){if(typeof _e.externalData[at]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");nt.externalData[at]=ot.onnx.StringStringEntryProto.fromObject(_e.externalData[at])}}switch(_e.dataLocation){case"DEFAULT":case 0:nt.dataLocation=0;break;case"EXTERNAL":case 1:nt.dataLocation=1}if(_e.doubleData){if(!Array.isArray(_e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(nt.doubleData=[],at=0;at<_e.doubleData.length;++at)nt.doubleData[at]=Number(_e.doubleData[at])}if(_e.uint64Data){if(!Array.isArray(_e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(nt.uint64Data=[],at=0;at<_e.uint64Data.length;++at)it.Long?(nt.uint64Data[at]=it.Long.fromValue(_e.uint64Data[at])).unsigned=!0:typeof _e.uint64Data[at]=="string"?nt.uint64Data[at]=parseInt(_e.uint64Data[at],10):typeof _e.uint64Data[at]=="number"?nt.uint64Data[at]=_e.uint64Data[at]:typeof _e.uint64Data[at]=="object"&&(nt.uint64Data[at]=new it.LongBits(_e.uint64Data[at].low>>>0,_e.uint64Data[at].high>>>0).toNumber(!0))}return nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};if((nt.arrays||nt.defaults)&&(at.dims=[],at.floatData=[],at.int32Data=[],at.stringData=[],at.int64Data=[],at.doubleData=[],at.uint64Data=[],at.externalData=[]),nt.defaults&&(at.dataType=0,at.segment=null,at.name="",nt.bytes===String?at.rawData="":(at.rawData=[],nt.bytes!==Array&&(at.rawData=it.newBuffer(at.rawData))),at.docString="",at.dataLocation=nt.enums===String?"DEFAULT":0),_e.dims&&_e.dims.length){at.dims=[];for(var lt=0;lt<_e.dims.length;++lt)typeof _e.dims[lt]=="number"?at.dims[lt]=nt.longs===String?String(_e.dims[lt]):_e.dims[lt]:at.dims[lt]=nt.longs===String?it.Long.prototype.toString.call(_e.dims[lt]):nt.longs===Number?new it.LongBits(_e.dims[lt].low>>>0,_e.dims[lt].high>>>0).toNumber():_e.dims[lt]}if(_e.dataType!=null&&_e.hasOwnProperty("dataType")&&(at.dataType=_e.dataType),_e.segment!=null&&_e.hasOwnProperty("segment")&&(at.segment=ot.onnx.TensorProto.Segment.toObject(_e.segment,nt)),_e.floatData&&_e.floatData.length)for(at.floatData=[],lt=0;lt<_e.floatData.length;++lt)at.floatData[lt]=nt.json&&!isFinite(_e.floatData[lt])?String(_e.floatData[lt]):_e.floatData[lt];if(_e.int32Data&&_e.int32Data.length)for(at.int32Data=[],lt=0;lt<_e.int32Data.length;++lt)at.int32Data[lt]=_e.int32Data[lt];if(_e.stringData&&_e.stringData.length)for(at.stringData=[],lt=0;lt<_e.stringData.length;++lt)at.stringData[lt]=nt.bytes===String?it.base64.encode(_e.stringData[lt],0,_e.stringData[lt].length):nt.bytes===Array?Array.prototype.slice.call(_e.stringData[lt]):_e.stringData[lt];if(_e.int64Data&&_e.int64Data.length)for(at.int64Data=[],lt=0;lt<_e.int64Data.length;++lt)typeof _e.int64Data[lt]=="number"?at.int64Data[lt]=nt.longs===String?String(_e.int64Data[lt]):_e.int64Data[lt]:at.int64Data[lt]=nt.longs===String?it.Long.prototype.toString.call(_e.int64Data[lt]):nt.longs===Number?new it.LongBits(_e.int64Data[lt].low>>>0,_e.int64Data[lt].high>>>0).toNumber():_e.int64Data[lt];if(_e.name!=null&&_e.hasOwnProperty("name")&&(at.name=_e.name),_e.rawData!=null&&_e.hasOwnProperty("rawData")&&(at.rawData=nt.bytes===String?it.base64.encode(_e.rawData,0,_e.rawData.length):nt.bytes===Array?Array.prototype.slice.call(_e.rawData):_e.rawData),_e.doubleData&&_e.doubleData.length)for(at.doubleData=[],lt=0;lt<_e.doubleData.length;++lt)at.doubleData[lt]=nt.json&&!isFinite(_e.doubleData[lt])?String(_e.doubleData[lt]):_e.doubleData[lt];if(_e.uint64Data&&_e.uint64Data.length)for(at.uint64Data=[],lt=0;lt<_e.uint64Data.length;++lt)typeof _e.uint64Data[lt]=="number"?at.uint64Data[lt]=nt.longs===String?String(_e.uint64Data[lt]):_e.uint64Data[lt]:at.uint64Data[lt]=nt.longs===String?it.Long.prototype.toString.call(_e.uint64Data[lt]):nt.longs===Number?new it.LongBits(_e.uint64Data[lt].low>>>0,_e.uint64Data[lt].high>>>0).toNumber(!0):_e.uint64Data[lt];if(_e.docString!=null&&_e.hasOwnProperty("docString")&&(at.docString=_e.docString),_e.externalData&&_e.externalData.length)for(at.externalData=[],lt=0;lt<_e.externalData.length;++lt)at.externalData[lt]=ot.onnx.StringStringEntryProto.toObject(_e.externalData[lt],nt);return _e.dataLocation!=null&&_e.hasOwnProperty("dataLocation")&&(at.dataLocation=nt.enums===String?ot.onnx.TensorProto.DataLocation[_e.dataLocation]:_e.dataLocation),at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt.DataType=function(){var _e={},nt=Object.create(_e);return nt[_e[0]="UNDEFINED"]=0,nt[_e[1]="FLOAT"]=1,nt[_e[2]="UINT8"]=2,nt[_e[3]="INT8"]=3,nt[_e[4]="UINT16"]=4,nt[_e[5]="INT16"]=5,nt[_e[6]="INT32"]=6,nt[_e[7]="INT64"]=7,nt[_e[8]="STRING"]=8,nt[_e[9]="BOOL"]=9,nt[_e[10]="FLOAT16"]=10,nt[_e[11]="DOUBLE"]=11,nt[_e[12]="UINT32"]=12,nt[_e[13]="UINT64"]=13,nt[_e[14]="COMPLEX64"]=14,nt[_e[15]="COMPLEX128"]=15,nt[_e[16]="BFLOAT16"]=16,nt}(),tt.Segment=function(){function _e(nt){if(nt)for(var at=Object.keys(nt),lt=0;lt<at.length;++lt)nt[at[lt]]!=null&&(this[at[lt]]=nt[at[lt]])}return _e.prototype.begin=it.Long?it.Long.fromBits(0,0,!1):0,_e.prototype.end=it.Long?it.Long.fromBits(0,0,!1):0,_e.create=function(nt){return new _e(nt)},_e.encode=function(nt,at){return at||(at=st.create()),nt.begin!=null&&nt.hasOwnProperty("begin")&&at.uint32(8).int64(nt.begin),nt.end!=null&&nt.hasOwnProperty("end")&&at.uint32(16).int64(nt.end),at},_e.encodeDelimited=function(nt,at){return this.encode(nt,at).ldelim()},_e.decode=function(nt,at){nt instanceof rt||(nt=rt.create(nt));for(var lt=at===void 0?nt.len:nt.pos+at,ut=new ot.onnx.TensorProto.Segment;nt.pos<lt;){var ct=nt.uint32();switch(ct>>>3){case 1:ut.begin=nt.int64();break;case 2:ut.end=nt.int64();break;default:nt.skipType(7&ct)}}return ut},_e.decodeDelimited=function(nt){return nt instanceof rt||(nt=new rt(nt)),this.decode(nt,nt.uint32())},_e.verify=function(nt){return typeof nt!="object"||nt===null?"object expected":nt.begin!=null&&nt.hasOwnProperty("begin")&&!(it.isInteger(nt.begin)||nt.begin&&it.isInteger(nt.begin.low)&&it.isInteger(nt.begin.high))?"begin: integer|Long expected":nt.end!=null&&nt.hasOwnProperty("end")&&!(it.isInteger(nt.end)||nt.end&&it.isInteger(nt.end.low)&&it.isInteger(nt.end.high))?"end: integer|Long expected":null},_e.fromObject=function(nt){if(nt instanceof ot.onnx.TensorProto.Segment)return nt;var at=new ot.onnx.TensorProto.Segment;return nt.begin!=null&&(it.Long?(at.begin=it.Long.fromValue(nt.begin)).unsigned=!1:typeof nt.begin=="string"?at.begin=parseInt(nt.begin,10):typeof nt.begin=="number"?at.begin=nt.begin:typeof nt.begin=="object"&&(at.begin=new it.LongBits(nt.begin.low>>>0,nt.begin.high>>>0).toNumber())),nt.end!=null&&(it.Long?(at.end=it.Long.fromValue(nt.end)).unsigned=!1:typeof nt.end=="string"?at.end=parseInt(nt.end,10):typeof nt.end=="number"?at.end=nt.end:typeof nt.end=="object"&&(at.end=new it.LongBits(nt.end.low>>>0,nt.end.high>>>0).toNumber())),at},_e.toObject=function(nt,at){at||(at={});var lt={};if(at.defaults){if(it.Long){var ut=new it.Long(0,0,!1);lt.begin=at.longs===String?ut.toString():at.longs===Number?ut.toNumber():ut}else lt.begin=at.longs===String?"0":0;it.Long?(ut=new it.Long(0,0,!1),lt.end=at.longs===String?ut.toString():at.longs===Number?ut.toNumber():ut):lt.end=at.longs===String?"0":0}return nt.begin!=null&&nt.hasOwnProperty("begin")&&(typeof nt.begin=="number"?lt.begin=at.longs===String?String(nt.begin):nt.begin:lt.begin=at.longs===String?it.Long.prototype.toString.call(nt.begin):at.longs===Number?new it.LongBits(nt.begin.low>>>0,nt.begin.high>>>0).toNumber():nt.begin),nt.end!=null&&nt.hasOwnProperty("end")&&(typeof nt.end=="number"?lt.end=at.longs===String?String(nt.end):nt.end:lt.end=at.longs===String?it.Long.prototype.toString.call(nt.end):at.longs===Number?new it.LongBits(nt.end.low>>>0,nt.end.high>>>0).toNumber():nt.end),lt},_e.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},_e}(),tt.DataLocation=function(){var _e={},nt=Object.create(_e);return nt[_e[0]="DEFAULT"]=0,nt[_e[1]="EXTERNAL"]=1,nt}(),tt}(),j.TensorShapeProto=function(){function tt(_e){if(this.dim=[],_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.dim=it.emptyArray,tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){if(nt||(nt=st.create()),_e.dim!=null&&_e.dim.length)for(var at=0;at<_e.dim.length;++at)ot.onnx.TensorShapeProto.Dimension.encode(_e.dim[at],nt.uint32(10).fork()).ldelim();return nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.TensorShapeProto;_e.pos<at;){var ut=_e.uint32();ut>>>3==1?(lt.dim&&lt.dim.length||(lt.dim=[]),lt.dim.push(ot.onnx.TensorShapeProto.Dimension.decode(_e,_e.uint32()))):_e.skipType(7&ut)}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){if(typeof _e!="object"||_e===null)return"object expected";if(_e.dim!=null&&_e.hasOwnProperty("dim")){if(!Array.isArray(_e.dim))return"dim: array expected";for(var nt=0;nt<_e.dim.length;++nt){var at=ot.onnx.TensorShapeProto.Dimension.verify(_e.dim[nt]);if(at)return"dim."+at}}return null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.TensorShapeProto)return _e;var nt=new ot.onnx.TensorShapeProto;if(_e.dim){if(!Array.isArray(_e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");nt.dim=[];for(var at=0;at<_e.dim.length;++at){if(typeof _e.dim[at]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");nt.dim[at]=ot.onnx.TensorShapeProto.Dimension.fromObject(_e.dim[at])}}return nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};if((nt.arrays||nt.defaults)&&(at.dim=[]),_e.dim&&_e.dim.length){at.dim=[];for(var lt=0;lt<_e.dim.length;++lt)at.dim[lt]=ot.onnx.TensorShapeProto.Dimension.toObject(_e.dim[lt],nt)}return at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt.Dimension=function(){function _e(at){if(at)for(var lt=Object.keys(at),ut=0;ut<lt.length;++ut)at[lt[ut]]!=null&&(this[lt[ut]]=at[lt[ut]])}var nt;return _e.prototype.dimValue=it.Long?it.Long.fromBits(0,0,!1):0,_e.prototype.dimParam="",_e.prototype.denotation="",Object.defineProperty(_e.prototype,"value",{get:it.oneOfGetter(nt=["dimValue","dimParam"]),set:it.oneOfSetter(nt)}),_e.create=function(at){return new _e(at)},_e.encode=function(at,lt){return lt||(lt=st.create()),at.dimValue!=null&&at.hasOwnProperty("dimValue")&&lt.uint32(8).int64(at.dimValue),at.dimParam!=null&&at.hasOwnProperty("dimParam")&&lt.uint32(18).string(at.dimParam),at.denotation!=null&&at.hasOwnProperty("denotation")&&lt.uint32(26).string(at.denotation),lt},_e.encodeDelimited=function(at,lt){return this.encode(at,lt).ldelim()},_e.decode=function(at,lt){at instanceof rt||(at=rt.create(at));for(var ut=lt===void 0?at.len:at.pos+lt,ct=new ot.onnx.TensorShapeProto.Dimension;at.pos<ut;){var dt=at.uint32();switch(dt>>>3){case 1:ct.dimValue=at.int64();break;case 2:ct.dimParam=at.string();break;case 3:ct.denotation=at.string();break;default:at.skipType(7&dt)}}return ct},_e.decodeDelimited=function(at){return at instanceof rt||(at=new rt(at)),this.decode(at,at.uint32())},_e.verify=function(at){if(typeof at!="object"||at===null)return"object expected";var lt={};if(at.dimValue!=null&&at.hasOwnProperty("dimValue")&&(lt.value=1,!(it.isInteger(at.dimValue)||at.dimValue&&it.isInteger(at.dimValue.low)&&it.isInteger(at.dimValue.high))))return"dimValue: integer|Long expected";if(at.dimParam!=null&&at.hasOwnProperty("dimParam")){if(lt.value===1)return"value: multiple values";if(lt.value=1,!it.isString(at.dimParam))return"dimParam: string expected"}return at.denotation!=null&&at.hasOwnProperty("denotation")&&!it.isString(at.denotation)?"denotation: string expected":null},_e.fromObject=function(at){if(at instanceof ot.onnx.TensorShapeProto.Dimension)return at;var lt=new ot.onnx.TensorShapeProto.Dimension;return at.dimValue!=null&&(it.Long?(lt.dimValue=it.Long.fromValue(at.dimValue)).unsigned=!1:typeof at.dimValue=="string"?lt.dimValue=parseInt(at.dimValue,10):typeof at.dimValue=="number"?lt.dimValue=at.dimValue:typeof at.dimValue=="object"&&(lt.dimValue=new it.LongBits(at.dimValue.low>>>0,at.dimValue.high>>>0).toNumber())),at.dimParam!=null&&(lt.dimParam=String(at.dimParam)),at.denotation!=null&&(lt.denotation=String(at.denotation)),lt},_e.toObject=function(at,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.denotation=""),at.dimValue!=null&&at.hasOwnProperty("dimValue")&&(typeof at.dimValue=="number"?ut.dimValue=lt.longs===String?String(at.dimValue):at.dimValue:ut.dimValue=lt.longs===String?it.Long.prototype.toString.call(at.dimValue):lt.longs===Number?new it.LongBits(at.dimValue.low>>>0,at.dimValue.high>>>0).toNumber():at.dimValue,lt.oneofs&&(ut.value="dimValue")),at.dimParam!=null&&at.hasOwnProperty("dimParam")&&(ut.dimParam=at.dimParam,lt.oneofs&&(ut.value="dimParam")),at.denotation!=null&&at.hasOwnProperty("denotation")&&(ut.denotation=at.denotation),ut},_e.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},_e}(),tt}(),j.TypeProto=function(){function tt(nt){if(nt)for(var at=Object.keys(nt),lt=0;lt<at.length;++lt)nt[at[lt]]!=null&&(this[at[lt]]=nt[at[lt]])}var _e;return tt.prototype.tensorType=null,tt.prototype.denotation="",Object.defineProperty(tt.prototype,"value",{get:it.oneOfGetter(_e=["tensorType"]),set:it.oneOfSetter(_e)}),tt.create=function(nt){return new tt(nt)},tt.encode=function(nt,at){return at||(at=st.create()),nt.tensorType!=null&&nt.hasOwnProperty("tensorType")&&ot.onnx.TypeProto.Tensor.encode(nt.tensorType,at.uint32(10).fork()).ldelim(),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&at.uint32(50).string(nt.denotation),at},tt.encodeDelimited=function(nt,at){return this.encode(nt,at).ldelim()},tt.decode=function(nt,at){nt instanceof rt||(nt=rt.create(nt));for(var lt=at===void 0?nt.len:nt.pos+at,ut=new ot.onnx.TypeProto;nt.pos<lt;){var ct=nt.uint32();switch(ct>>>3){case 1:ut.tensorType=ot.onnx.TypeProto.Tensor.decode(nt,nt.uint32());break;case 6:ut.denotation=nt.string();break;default:nt.skipType(7&ct)}}return ut},tt.decodeDelimited=function(nt){return nt instanceof rt||(nt=new rt(nt)),this.decode(nt,nt.uint32())},tt.verify=function(nt){if(typeof nt!="object"||nt===null)return"object expected";if(nt.tensorType!=null&&nt.hasOwnProperty("tensorType")){var at=ot.onnx.TypeProto.Tensor.verify(nt.tensorType);if(at)return"tensorType."+at}return nt.denotation!=null&&nt.hasOwnProperty("denotation")&&!it.isString(nt.denotation)?"denotation: string expected":null},tt.fromObject=function(nt){if(nt instanceof ot.onnx.TypeProto)return nt;var at=new ot.onnx.TypeProto;if(nt.tensorType!=null){if(typeof nt.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");at.tensorType=ot.onnx.TypeProto.Tensor.fromObject(nt.tensorType)}return nt.denotation!=null&&(at.denotation=String(nt.denotation)),at},tt.toObject=function(nt,at){at||(at={});var lt={};return at.defaults&&(lt.denotation=""),nt.tensorType!=null&&nt.hasOwnProperty("tensorType")&&(lt.tensorType=ot.onnx.TypeProto.Tensor.toObject(nt.tensorType,at),at.oneofs&&(lt.value="tensorType")),nt.denotation!=null&&nt.hasOwnProperty("denotation")&&(lt.denotation=nt.denotation),lt},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt.Tensor=function(){function nt(at){if(at)for(var lt=Object.keys(at),ut=0;ut<lt.length;++ut)at[lt[ut]]!=null&&(this[lt[ut]]=at[lt[ut]])}return nt.prototype.elemType=0,nt.prototype.shape=null,nt.create=function(at){return new nt(at)},nt.encode=function(at,lt){return lt||(lt=st.create()),at.elemType!=null&&at.hasOwnProperty("elemType")&&lt.uint32(8).int32(at.elemType),at.shape!=null&&at.hasOwnProperty("shape")&&ot.onnx.TensorShapeProto.encode(at.shape,lt.uint32(18).fork()).ldelim(),lt},nt.encodeDelimited=function(at,lt){return this.encode(at,lt).ldelim()},nt.decode=function(at,lt){at instanceof rt||(at=rt.create(at));for(var ut=lt===void 0?at.len:at.pos+lt,ct=new ot.onnx.TypeProto.Tensor;at.pos<ut;){var dt=at.uint32();switch(dt>>>3){case 1:ct.elemType=at.int32();break;case 2:ct.shape=ot.onnx.TensorShapeProto.decode(at,at.uint32());break;default:at.skipType(7&dt)}}return ct},nt.decodeDelimited=function(at){return at instanceof rt||(at=new rt(at)),this.decode(at,at.uint32())},nt.verify=function(at){if(typeof at!="object"||at===null)return"object expected";if(at.elemType!=null&&at.hasOwnProperty("elemType")&&!it.isInteger(at.elemType))return"elemType: integer expected";if(at.shape!=null&&at.hasOwnProperty("shape")){var lt=ot.onnx.TensorShapeProto.verify(at.shape);if(lt)return"shape."+lt}return null},nt.fromObject=function(at){if(at instanceof ot.onnx.TypeProto.Tensor)return at;var lt=new ot.onnx.TypeProto.Tensor;if(at.elemType!=null&&(lt.elemType=0|at.elemType),at.shape!=null){if(typeof at.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");lt.shape=ot.onnx.TensorShapeProto.fromObject(at.shape)}return lt},nt.toObject=function(at,lt){lt||(lt={});var ut={};return lt.defaults&&(ut.elemType=0,ut.shape=null),at.elemType!=null&&at.hasOwnProperty("elemType")&&(ut.elemType=at.elemType),at.shape!=null&&at.hasOwnProperty("shape")&&(ut.shape=ot.onnx.TensorShapeProto.toObject(at.shape,lt)),ut},nt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},nt}(),tt}(),j.OperatorSetIdProto=function(){function tt(_e){if(_e)for(var nt=Object.keys(_e),at=0;at<nt.length;++at)_e[nt[at]]!=null&&(this[nt[at]]=_e[nt[at]])}return tt.prototype.domain="",tt.prototype.version=it.Long?it.Long.fromBits(0,0,!1):0,tt.create=function(_e){return new tt(_e)},tt.encode=function(_e,nt){return nt||(nt=st.create()),_e.domain!=null&&_e.hasOwnProperty("domain")&&nt.uint32(10).string(_e.domain),_e.version!=null&&_e.hasOwnProperty("version")&&nt.uint32(16).int64(_e.version),nt},tt.encodeDelimited=function(_e,nt){return this.encode(_e,nt).ldelim()},tt.decode=function(_e,nt){_e instanceof rt||(_e=rt.create(_e));for(var at=nt===void 0?_e.len:_e.pos+nt,lt=new ot.onnx.OperatorSetIdProto;_e.pos<at;){var ut=_e.uint32();switch(ut>>>3){case 1:lt.domain=_e.string();break;case 2:lt.version=_e.int64();break;default:_e.skipType(7&ut)}}return lt},tt.decodeDelimited=function(_e){return _e instanceof rt||(_e=new rt(_e)),this.decode(_e,_e.uint32())},tt.verify=function(_e){return typeof _e!="object"||_e===null?"object expected":_e.domain!=null&&_e.hasOwnProperty("domain")&&!it.isString(_e.domain)?"domain: string expected":_e.version!=null&&_e.hasOwnProperty("version")&&!(it.isInteger(_e.version)||_e.version&&it.isInteger(_e.version.low)&&it.isInteger(_e.version.high))?"version: integer|Long expected":null},tt.fromObject=function(_e){if(_e instanceof ot.onnx.OperatorSetIdProto)return _e;var nt=new ot.onnx.OperatorSetIdProto;return _e.domain!=null&&(nt.domain=String(_e.domain)),_e.version!=null&&(it.Long?(nt.version=it.Long.fromValue(_e.version)).unsigned=!1:typeof _e.version=="string"?nt.version=parseInt(_e.version,10):typeof _e.version=="number"?nt.version=_e.version:typeof _e.version=="object"&&(nt.version=new it.LongBits(_e.version.low>>>0,_e.version.high>>>0).toNumber())),nt},tt.toObject=function(_e,nt){nt||(nt={});var at={};if(nt.defaults)if(at.domain="",it.Long){var lt=new it.Long(0,0,!1);at.version=nt.longs===String?lt.toString():nt.longs===Number?lt.toNumber():lt}else at.version=nt.longs===String?"0":0;return _e.domain!=null&&_e.hasOwnProperty("domain")&&(at.domain=_e.domain),_e.version!=null&&_e.hasOwnProperty("version")&&(typeof _e.version=="number"?at.version=nt.longs===String?String(_e.version):_e.version:at.version=nt.longs===String?it.Long.prototype.toString.call(_e.version):nt.longs===Number?new it.LongBits(_e.version.low>>>0,_e.version.high>>>0).toNumber():_e.version),at},tt.prototype.toJSON=function(){return this.constructor.toObject(this,et.util.toJSONOptions)},tt}(),j),o.exports=ot},2100:(o,i,s)=>{o.exports=s(9482)},9482:(o,i,s)=>{var a=i;function $(){a.util._configure(),a.Writer._configure(a.BufferWriter),a.Reader._configure(a.BufferReader)}a.build="minimal",a.Writer=s(1173),a.BufferWriter=s(3155),a.Reader=s(1408),a.BufferReader=s(593),a.util=s(9693),a.rpc=s(5994),a.roots=s(5054),a.configure=$,$()},1408:(o,i,s)=>{o.exports=st;var a,$=s(9693),j=$.LongBits,et=$.utf8;function rt(lt,ut){return RangeError("index out of range: "+lt.pos+" + "+(ut||1)+" > "+lt.len)}function st(lt){this.buf=lt,this.pos=0,this.len=lt.length}var it,ot=typeof Uint8Array<"u"?function(lt){if(lt instanceof Uint8Array||Array.isArray(lt))return new st(lt);throw Error("illegal buffer")}:function(lt){if(Array.isArray(lt))return new st(lt);throw Error("illegal buffer")},tt=function(){return $.Buffer?function(lt){return(st.create=function(ut){return $.Buffer.isBuffer(ut)?new a(ut):ot(ut)})(lt)}:ot};function _e(){var lt=new j(0,0),ut=0;if(!(this.len-this.pos>4)){for(;ut<3;++ut){if(this.pos>=this.len)throw rt(this);if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<7*ut)>>>0,this.buf[this.pos++]<128)return lt}return lt.lo=(lt.lo|(127&this.buf[this.pos++])<<7*ut)>>>0,lt}for(;ut<4;++ut)if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<7*ut)>>>0,this.buf[this.pos++]<128)return lt;if(lt.lo=(lt.lo|(127&this.buf[this.pos])<<28)>>>0,lt.hi=(lt.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return lt;if(ut=0,this.len-this.pos>4){for(;ut<5;++ut)if(lt.hi=(lt.hi|(127&this.buf[this.pos])<<7*ut+3)>>>0,this.buf[this.pos++]<128)return lt}else for(;ut<5;++ut){if(this.pos>=this.len)throw rt(this);if(lt.hi=(lt.hi|(127&this.buf[this.pos])<<7*ut+3)>>>0,this.buf[this.pos++]<128)return lt}throw Error("invalid varint encoding")}function nt(lt,ut){return(lt[ut-4]|lt[ut-3]<<8|lt[ut-2]<<16|lt[ut-1]<<24)>>>0}function at(){if(this.pos+8>this.len)throw rt(this,8);return new j(nt(this.buf,this.pos+=4),nt(this.buf,this.pos+=4))}st.create=tt(),st.prototype._slice=$.Array.prototype.subarray||$.Array.prototype.slice,st.prototype.uint32=(it=4294967295,function(){if(it=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(it=(it|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(it=(it|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(it=(it|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(it=(it|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return it;if((this.pos+=5)>this.len)throw this.pos=this.len,rt(this,10);return it}),st.prototype.int32=function(){return 0|this.uint32()},st.prototype.sint32=function(){var lt=this.uint32();return lt>>>1^-(1&lt)|0},st.prototype.bool=function(){return this.uint32()!==0},st.prototype.fixed32=function(){if(this.pos+4>this.len)throw rt(this,4);return nt(this.buf,this.pos+=4)},st.prototype.sfixed32=function(){if(this.pos+4>this.len)throw rt(this,4);return 0|nt(this.buf,this.pos+=4)},st.prototype.float=function(){if(this.pos+4>this.len)throw rt(this,4);var lt=$.float.readFloatLE(this.buf,this.pos);return this.pos+=4,lt},st.prototype.double=function(){if(this.pos+8>this.len)throw rt(this,4);var lt=$.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,lt},st.prototype.bytes=function(){var lt=this.uint32(),ut=this.pos,ct=this.pos+lt;if(ct>this.len)throw rt(this,lt);return this.pos+=lt,Array.isArray(this.buf)?this.buf.slice(ut,ct):ut===ct?new this.buf.constructor(0):this._slice.call(this.buf,ut,ct)},st.prototype.string=function(){var lt=this.bytes();return et.read(lt,0,lt.length)},st.prototype.skip=function(lt){if(typeof lt=="number"){if(this.pos+lt>this.len)throw rt(this,lt);this.pos+=lt}else do if(this.pos>=this.len)throw rt(this);while(128&this.buf[this.pos++]);return this},st.prototype.skipType=function(lt){switch(lt){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(lt=7&this.uint32())!=4;)this.skipType(lt);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+lt+" at offset "+this.pos)}return this},st._configure=function(lt){a=lt,st.create=tt(),a._configure();var ut=$.Long?"toLong":"toNumber";$.merge(st.prototype,{int64:function(){return _e.call(this)[ut](!1)},uint64:function(){return _e.call(this)[ut](!0)},sint64:function(){return _e.call(this).zzDecode()[ut](!1)},fixed64:function(){return at.call(this)[ut](!0)},sfixed64:function(){return at.call(this)[ut](!1)}})}},593:(o,i,s)=>{o.exports=j;var a=s(1408);(j.prototype=Object.create(a.prototype)).constructor=j;var $=s(9693);function j(et){a.call(this,et)}j._configure=function(){$.Buffer&&(j.prototype._slice=$.Buffer.prototype.slice)},j.prototype.string=function(){var et=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+et,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+et,this.len))},j._configure()},5054:o=>{o.exports={}},5994:(o,i,s)=>{i.Service=s(7948)},7948:(o,i,s)=>{o.exports=$;var a=s(9693);function $(j,et,rt){if(typeof j!="function")throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=j,this.requestDelimited=!!et,this.responseDelimited=!!rt}($.prototype=Object.create(a.EventEmitter.prototype)).constructor=$,$.prototype.rpcCall=function j(et,rt,st,it,ot){if(!it)throw TypeError("request must be specified");var tt=this;if(!ot)return a.asPromise(j,tt,et,rt,st,it);if(tt.rpcImpl)try{return tt.rpcImpl(et,rt[tt.requestDelimited?"encodeDelimited":"encode"](it).finish(),function(_e,nt){if(_e)return tt.emit("error",_e,et),ot(_e);if(nt!==null){if(!(nt instanceof st))try{nt=st[tt.responseDelimited?"decodeDelimited":"decode"](nt)}catch(at){return tt.emit("error",at,et),ot(at)}return tt.emit("data",nt,et),ot(null,nt)}tt.end(!0)})}catch(_e){return tt.emit("error",_e,et),void setTimeout(function(){ot(_e)},0)}else setTimeout(function(){ot(Error("already ended"))},0)},$.prototype.end=function(j){return this.rpcImpl&&(j||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(o,i,s)=>{o.exports=$;var a=s(9693);function $(st,it){this.lo=st>>>0,this.hi=it>>>0}var j=$.zero=new $(0,0);j.toNumber=function(){return 0},j.zzEncode=j.zzDecode=function(){return this},j.length=function(){return 1};var et=$.zeroHash="\0\0\0\0\0\0\0\0";$.fromNumber=function(st){if(st===0)return j;var it=st<0;it&&(st=-st);var ot=st>>>0,tt=(st-ot)/4294967296>>>0;return it&&(tt=~tt>>>0,ot=~ot>>>0,++ot>4294967295&&(ot=0,++tt>4294967295&&(tt=0))),new $(ot,tt)},$.from=function(st){if(typeof st=="number")return $.fromNumber(st);if(a.isString(st)){if(!a.Long)return $.fromNumber(parseInt(st,10));st=a.Long.fromString(st)}return st.low||st.high?new $(st.low>>>0,st.high>>>0):j},$.prototype.toNumber=function(st){if(!st&&this.hi>>>31){var it=1+~this.lo>>>0,ot=~this.hi>>>0;return it||(ot=ot+1>>>0),-(it+4294967296*ot)}return this.lo+4294967296*this.hi},$.prototype.toLong=function(st){return a.Long?new a.Long(0|this.lo,0|this.hi,!!st):{low:0|this.lo,high:0|this.hi,unsigned:!!st}};var rt=String.prototype.charCodeAt;$.fromHash=function(st){return st===et?j:new $((rt.call(st,0)|rt.call(st,1)<<8|rt.call(st,2)<<16|rt.call(st,3)<<24)>>>0,(rt.call(st,4)|rt.call(st,5)<<8|rt.call(st,6)<<16|rt.call(st,7)<<24)>>>0)},$.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},$.prototype.zzEncode=function(){var st=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^st)>>>0,this.lo=(this.lo<<1^st)>>>0,this},$.prototype.zzDecode=function(){var st=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^st)>>>0,this.hi=(this.hi>>>1^st)>>>0,this},$.prototype.length=function(){var st=this.lo,it=(this.lo>>>28|this.hi<<4)>>>0,ot=this.hi>>>24;return ot===0?it===0?st<16384?st<128?1:2:st<2097152?3:4:it<16384?it<128?5:6:it<2097152?7:8:ot<128?9:10}},9693:function(o,i,s){var a=i;function $(et,rt,st){for(var it=Object.keys(rt),ot=0;ot<it.length;++ot)et[it[ot]]!==void 0&&st||(et[it[ot]]=rt[it[ot]]);return et}function j(et){function rt(st,it){if(!(this instanceof rt))return new rt(st,it);Object.defineProperty(this,"message",{get:function(){return st}}),Error.captureStackTrace?Error.captureStackTrace(this,rt):Object.defineProperty(this,"stack",{value:new Error().stack||""}),it&&$(this,it)}return(rt.prototype=Object.create(Error.prototype)).constructor=rt,Object.defineProperty(rt.prototype,"name",{get:function(){return et}}),rt.prototype.toString=function(){return this.name+": "+this.message},rt}a.asPromise=s(4537),a.base64=s(7419),a.EventEmitter=s(9211),a.float=s(945),a.inquire=s(7199),a.utf8=s(4997),a.pool=s(6662),a.LongBits=s(1945),a.isNode=!!(s.g!==void 0&&s.g&&s.g.process&&s.g.process.versions&&s.g.process.versions.node),a.global=a.isNode&&s.g||typeof window<"u"&&window||typeof self<"u"&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(et){return typeof et=="number"&&isFinite(et)&&Math.floor(et)===et},a.isString=function(et){return typeof et=="string"||et instanceof String},a.isObject=function(et){return et&&typeof et=="object"},a.isset=a.isSet=function(et,rt){var st=et[rt];return!(st==null||!et.hasOwnProperty(rt))&&(typeof st!="object"||(Array.isArray(st)?st.length:Object.keys(st).length)>0)},a.Buffer=function(){try{var et=a.inquire("buffer").Buffer;return et.prototype.utf8Write?et:null}catch{return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(et){return typeof et=="number"?a.Buffer?a._Buffer_allocUnsafe(et):new a.Array(et):a.Buffer?a._Buffer_from(et):typeof Uint8Array>"u"?et:new Uint8Array(et)},a.Array=typeof Uint8Array<"u"?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(et){return et?a.LongBits.from(et).toHash():a.LongBits.zeroHash},a.longFromHash=function(et,rt){var st=a.LongBits.fromHash(et);return a.Long?a.Long.fromBits(st.lo,st.hi,rt):st.toNumber(!!rt)},a.merge=$,a.lcFirst=function(et){return et.charAt(0).toLowerCase()+et.substring(1)},a.newError=j,a.ProtocolError=j("ProtocolError"),a.oneOfGetter=function(et){for(var rt={},st=0;st<et.length;++st)rt[et[st]]=1;return function(){for(var it=Object.keys(this),ot=it.length-1;ot>-1;--ot)if(rt[it[ot]]===1&&this[it[ot]]!==void 0&&this[it[ot]]!==null)return it[ot]}},a.oneOfSetter=function(et){return function(rt){for(var st=0;st<et.length;++st)et[st]!==rt&&delete this[et[st]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var et=a.Buffer;et?(a._Buffer_from=et.from!==Uint8Array.from&&et.from||function(rt,st){return new et(rt,st)},a._Buffer_allocUnsafe=et.allocUnsafe||function(rt){return new et(rt)}):a._Buffer_from=a._Buffer_allocUnsafe=null}},1173:(o,i,s)=>{o.exports=tt;var a,$=s(9693),j=$.LongBits,et=$.base64,rt=$.utf8;function st(dt,ft,ht){this.fn=dt,this.len=ft,this.next=void 0,this.val=ht}function it(){}function ot(dt){this.head=dt.head,this.tail=dt.tail,this.len=dt.len,this.next=dt.states}function tt(){this.len=0,this.head=new st(it,0,0),this.tail=this.head,this.states=null}var _e=function(){return $.Buffer?function(){return(tt.create=function(){return new a})()}:function(){return new tt}};function nt(dt,ft,ht){ft[ht]=255&dt}function at(dt,ft){this.len=dt,this.next=void 0,this.val=ft}function lt(dt,ft,ht){for(;dt.hi;)ft[ht++]=127&dt.lo|128,dt.lo=(dt.lo>>>7|dt.hi<<25)>>>0,dt.hi>>>=7;for(;dt.lo>127;)ft[ht++]=127&dt.lo|128,dt.lo=dt.lo>>>7;ft[ht++]=dt.lo}function ut(dt,ft,ht){ft[ht]=255&dt,ft[ht+1]=dt>>>8&255,ft[ht+2]=dt>>>16&255,ft[ht+3]=dt>>>24}tt.create=_e(),tt.alloc=function(dt){return new $.Array(dt)},$.Array!==Array&&(tt.alloc=$.pool(tt.alloc,$.Array.prototype.subarray)),tt.prototype._push=function(dt,ft,ht){return this.tail=this.tail.next=new st(dt,ft,ht),this.len+=ft,this},at.prototype=Object.create(st.prototype),at.prototype.fn=function(dt,ft,ht){for(;dt>127;)ft[ht++]=127&dt|128,dt>>>=7;ft[ht]=dt},tt.prototype.uint32=function(dt){return this.len+=(this.tail=this.tail.next=new at((dt>>>=0)<128?1:dt<16384?2:dt<2097152?3:dt<268435456?4:5,dt)).len,this},tt.prototype.int32=function(dt){return dt<0?this._push(lt,10,j.fromNumber(dt)):this.uint32(dt)},tt.prototype.sint32=function(dt){return this.uint32((dt<<1^dt>>31)>>>0)},tt.prototype.uint64=function(dt){var ft=j.from(dt);return this._push(lt,ft.length(),ft)},tt.prototype.int64=tt.prototype.uint64,tt.prototype.sint64=function(dt){var ft=j.from(dt).zzEncode();return this._push(lt,ft.length(),ft)},tt.prototype.bool=function(dt){return this._push(nt,1,dt?1:0)},tt.prototype.fixed32=function(dt){return this._push(ut,4,dt>>>0)},tt.prototype.sfixed32=tt.prototype.fixed32,tt.prototype.fixed64=function(dt){var ft=j.from(dt);return this._push(ut,4,ft.lo)._push(ut,4,ft.hi)},tt.prototype.sfixed64=tt.prototype.fixed64,tt.prototype.float=function(dt){return this._push($.float.writeFloatLE,4,dt)},tt.prototype.double=function(dt){return this._push($.float.writeDoubleLE,8,dt)};var ct=$.Array.prototype.set?function(dt,ft,ht){ft.set(dt,ht)}:function(dt,ft,ht){for(var gt=0;gt<dt.length;++gt)ft[ht+gt]=dt[gt]};tt.prototype.bytes=function(dt){var ft=dt.length>>>0;if(!ft)return this._push(nt,1,0);if($.isString(dt)){var ht=tt.alloc(ft=et.length(dt));et.decode(dt,ht,0),dt=ht}return this.uint32(ft)._push(ct,ft,dt)},tt.prototype.string=function(dt){var ft=rt.length(dt);return ft?this.uint32(ft)._push(rt.write,ft,dt):this._push(nt,1,0)},tt.prototype.fork=function(){return this.states=new ot(this),this.head=this.tail=new st(it,0,0),this.len=0,this},tt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new st(it,0,0),this.len=0),this},tt.prototype.ldelim=function(){var dt=this.head,ft=this.tail,ht=this.len;return this.reset().uint32(ht),ht&&(this.tail.next=dt.next,this.tail=ft,this.len+=ht),this},tt.prototype.finish=function(){for(var dt=this.head.next,ft=this.constructor.alloc(this.len),ht=0;dt;)dt.fn(dt.val,ft,ht),ht+=dt.len,dt=dt.next;return ft},tt._configure=function(dt){a=dt,tt.create=_e(),a._configure()}},3155:(o,i,s)=>{o.exports=j;var a=s(1173);(j.prototype=Object.create(a.prototype)).constructor=j;var $=s(9693);function j(){a.call(this)}function et(rt,st,it){rt.length<40?$.utf8.write(rt,st,it):st.utf8Write?st.utf8Write(rt,it):st.write(rt,it)}j._configure=function(){j.alloc=$._Buffer_allocUnsafe,j.writeBytesBuffer=$.Buffer&&$.Buffer.prototype instanceof Uint8Array&&$.Buffer.prototype.set.name==="set"?function(rt,st,it){st.set(rt,it)}:function(rt,st,it){if(rt.copy)rt.copy(st,it,0,rt.length);else for(var ot=0;ot<rt.length;)st[it++]=rt[ot++]}},j.prototype.bytes=function(rt){$.isString(rt)&&(rt=$._Buffer_from(rt,"base64"));var st=rt.length>>>0;return this.uint32(st),st&&this._push(j.writeBytesBuffer,st,rt),this},j.prototype.string=function(rt){var st=$.Buffer.byteLength(rt);return this.uint32(st),st&&this._push(et,st,rt),this},j._configure()},7714:(o,i,s)=>{i.R=void 0;const a=s(6919),$=s(7448);i.R=new class{async init(){}async createSessionHandler(j,et){const rt=new a.Session(et);return await rt.loadModel(j),new $.OnnxjsSessionHandler(rt)}}},4200:(o,i,s)=>{i.c8=i.rX=void 0;const a=s(1670),$=s(5381),j=s(2157),et=s(2306);i.rX=()=>{if((typeof a.env.wasm.initTimeout!="number"||a.env.wasm.initTimeout<0)&&(a.env.wasm.initTimeout=0),typeof a.env.wasm.simd!="boolean"&&(a.env.wasm.simd=!0),typeof a.env.wasm.proxy!="boolean"&&(a.env.wasm.proxy=!1),typeof a.env.wasm.numThreads!="number"||!Number.isInteger(a.env.wasm.numThreads)||a.env.wasm.numThreads<=0){const rt=typeof navigator>"u"?(0,$.cpus)().length:navigator.hardwareConcurrency;a.env.wasm.numThreads=Math.min(4,Math.ceil((rt||1)/2))}},i.c8=new class{async init(){(0,i.rX)(),await(0,j.initWasm)()}async createSessionHandler(rt,st){const it=new et.OnnxruntimeWebAssemblySessionHandler;return await it.loadModel(rt,st),Promise.resolve(it)}}},6018:function(o,i,s){var a=this&&this.__createBinding||(Object.create?function(et,rt,st,it){it===void 0&&(it=st);var ot=Object.getOwnPropertyDescriptor(rt,st);ot&&!("get"in ot?!rt.__esModule:ot.writable||ot.configurable)||(ot={enumerable:!0,get:function(){return rt[st]}}),Object.defineProperty(et,it,ot)}:function(et,rt,st,it){it===void 0&&(it=st),et[it]=rt[st]}),$=this&&this.__exportStar||function(et,rt){for(var st in et)st==="default"||Object.prototype.hasOwnProperty.call(rt,st)||a(rt,et,st)};Object.defineProperty(i,"__esModule",{value:!0}),$(s(1670),i);const j=s(1670);{const et=s(7714).R;(0,j.registerBackend)("webgl",et,-10)}{const et=s(4200).c8;(0,j.registerBackend)("cpu",et,10),(0,j.registerBackend)("wasm",et,10),(0,j.registerBackend)("xnnpack",et,9)}},246:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createAttributeWithCacheKey=void 0;class s{constructor($){Object.assign(this,$)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map($=>`${this[$]}`).join(";")),this._cacheKey}}i.createAttributeWithCacheKey=a=>new s(a)},7778:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Attribute=void 0;const a=s(1446),$=s(9395),j=s(9162),et=s(2517);var rt=$.onnxruntime.experimental.fbs;class st{constructor(ot){if(this._attributes=new Map,ot!=null){for(const tt of ot)tt instanceof a.onnx.AttributeProto?this._attributes.set(tt.name,[st.getValue(tt),st.getType(tt)]):tt instanceof rt.Attribute&&this._attributes.set(tt.name(),[st.getValue(tt),st.getType(tt)]);if(this._attributes.size<ot.length)throw new Error("duplicated attribute names")}}set(ot,tt,_e){this._attributes.set(ot,[_e,tt])}delete(ot){this._attributes.delete(ot)}getFloat(ot,tt){return this.get(ot,"float",tt)}getInt(ot,tt){return this.get(ot,"int",tt)}getString(ot,tt){return this.get(ot,"string",tt)}getTensor(ot,tt){return this.get(ot,"tensor",tt)}getFloats(ot,tt){return this.get(ot,"floats",tt)}getInts(ot,tt){return this.get(ot,"ints",tt)}getStrings(ot,tt){return this.get(ot,"strings",tt)}getTensors(ot,tt){return this.get(ot,"tensors",tt)}get(ot,tt,_e){const nt=this._attributes.get(ot);if(nt===void 0){if(_e!==void 0)return _e;throw new Error(`required attribute not found: ${ot}`)}if(nt[1]!==tt)throw new Error(`type mismatch: expected ${tt} but got ${nt[1]}`);return nt[0]}static getType(ot){const tt=ot instanceof a.onnx.AttributeProto?ot.type:ot.type();switch(tt){case a.onnx.AttributeProto.AttributeType.FLOAT:return"float";case a.onnx.AttributeProto.AttributeType.INT:return"int";case a.onnx.AttributeProto.AttributeType.STRING:return"string";case a.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case a.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case a.onnx.AttributeProto.AttributeType.INTS:return"ints";case a.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case a.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${a.onnx.AttributeProto.AttributeType[tt]}`)}}static getValue(ot){const tt=ot instanceof a.onnx.AttributeProto?ot.type:ot.type();if(tt===a.onnx.AttributeProto.AttributeType.GRAPH||tt===a.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const _e=this.getValueNoCheck(ot);if(tt===a.onnx.AttributeProto.AttributeType.INT&&et.LongUtil.isLong(_e))return et.LongUtil.longToNumber(_e);if(tt===a.onnx.AttributeProto.AttributeType.INTS){const nt=_e,at=new Array(nt.length);for(let lt=0;lt<nt.length;lt++){const ut=nt[lt];at[lt]=et.LongUtil.longToNumber(ut)}return at}if(tt===a.onnx.AttributeProto.AttributeType.TENSOR)return ot instanceof a.onnx.AttributeProto?j.Tensor.fromProto(_e):j.Tensor.fromOrtTensor(_e);if(tt===a.onnx.AttributeProto.AttributeType.TENSORS){if(ot instanceof a.onnx.AttributeProto)return _e.map(nt=>j.Tensor.fromProto(nt));if(ot instanceof rt.Attribute)return _e.map(nt=>j.Tensor.fromOrtTensor(nt))}if(tt===a.onnx.AttributeProto.AttributeType.STRING&&ot instanceof a.onnx.AttributeProto){const nt=_e;return(0,et.decodeUtf8String)(nt)}return tt===a.onnx.AttributeProto.AttributeType.STRINGS&&ot instanceof a.onnx.AttributeProto?_e.map(et.decodeUtf8String):_e}static getValueNoCheck(ot){return ot instanceof a.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(ot):this.getValueNoCheckFromOrtFormat(ot)}static getValueNoCheckFromOnnxFormat(ot){switch(ot.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return ot.f;case a.onnx.AttributeProto.AttributeType.INT:return ot.i;case a.onnx.AttributeProto.AttributeType.STRING:return ot.s;case a.onnx.AttributeProto.AttributeType.TENSOR:return ot.t;case a.onnx.AttributeProto.AttributeType.GRAPH:return ot.g;case a.onnx.AttributeProto.AttributeType.FLOATS:return ot.floats;case a.onnx.AttributeProto.AttributeType.INTS:return ot.ints;case a.onnx.AttributeProto.AttributeType.STRINGS:return ot.strings;case a.onnx.AttributeProto.AttributeType.TENSORS:return ot.tensors;case a.onnx.AttributeProto.AttributeType.GRAPHS:return ot.graphs;default:throw new Error(`unsupported attribute type: ${a.onnx.AttributeProto.AttributeType[ot.type]}`)}}static getValueNoCheckFromOrtFormat(ot){switch(ot.type()){case rt.AttributeType.FLOAT:return ot.f();case rt.AttributeType.INT:return ot.i();case rt.AttributeType.STRING:return ot.s();case rt.AttributeType.TENSOR:return ot.t();case rt.AttributeType.GRAPH:return ot.g();case rt.AttributeType.FLOATS:return ot.floatsArray();case rt.AttributeType.INTS:{const tt=[];for(let _e=0;_e<ot.intsLength();_e++)tt.push(ot.ints(_e));return tt}case rt.AttributeType.STRINGS:{const tt=[];for(let _e=0;_e<ot.stringsLength();_e++)tt.push(ot.strings(_e));return tt}case rt.AttributeType.TENSORS:{const tt=[];for(let _e=0;_e<ot.tensorsLength();_e++)tt.push(ot.tensors(_e));return tt}default:throw new Error(`unsupported attribute type: ${rt.AttributeType[ot.type()]}`)}}}i.Attribute=st},7091:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.resolveBackend=i.backend=void 0;const a=s(5038),$=new Map;async function j(et){const rt=i.backend;if(rt[et]!==void 0&&function(st){const it=st;return"initialize"in it&&typeof it.initialize=="function"&&"createSessionHandler"in it&&typeof it.createSessionHandler=="function"&&"dispose"in it&&typeof it.dispose=="function"}(rt[et])){const st=rt[et];let it=st.initialize();if(typeof it=="object"&&"then"in it&&(it=await it),it)return $.set(et,st),st}}i.backend={webgl:new a.WebGLBackend},i.resolveBackend=async function et(rt){if(!rt)return et(["webgl"]);{const st=typeof rt=="string"?[rt]:rt;for(const it of st){const ot=$.get(it);if(ot)return ot;const tt=await j(it);if(tt)return tt}}throw new Error("no available backend to use")}},5038:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLBackend=void 0;const a=s(1670),$=s(6231),j=s(6416),et=s(7305);i.WebGLBackend=class{get contextId(){return a.env.webgl.contextId}set contextId(rt){a.env.webgl.contextId=rt}get matmulMaxBatchSize(){return a.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(rt){a.env.webgl.matmulMaxBatchSize=rt}get textureCacheMode(){return a.env.webgl.textureCacheMode}set textureCacheMode(rt){a.env.webgl.textureCacheMode=rt}get pack(){return a.env.webgl.pack}set pack(rt){a.env.webgl.pack=rt}get async(){return a.env.webgl.async}set async(rt){a.env.webgl.async=rt}initialize(){try{return this.glContext=(0,et.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),$.Logger.setWithEnv(a.env),$.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(rt){return $.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${rt}`),!1}}createSessionHandler(rt){return new j.WebGLSessionHandler(this,rt)}dispose(){this.glContext.dispose()}}},5107:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoordsGlslLib=void 0;const a=s(2517),$=s(8520),j=s(5060),et=s(7859),rt=s(9390);class st extends $.GlslLib{constructor(ot){super(ot)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new $.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new $.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const ot=this.context.outputTextureLayout;return ot.isPacked?this.getPackedOutputSamplingSnippet(ot):this.getUnpackedOutputSamplingSnippet(ot)}getPackedOutputSamplingSnippet(ot){const tt=ot.unpackedShape,_e=[ot.width,ot.height],nt={},at="getOutputCoords";switch(tt.length){case 0:nt[at]=this.getOutputScalarCoords();break;case 1:nt[at]=this.getOutputPacked1DCoords(tt,_e);break;case 2:nt[at]=this.getOutputPacked2DCoords(tt,_e);break;case 3:nt[at]=this.getOutputPacked3DCoords(tt,_e);break;default:nt[at]=this.getOutputPackedNDCoords(tt,_e)}const lt=`
      void setOutput(vec4 val) {
        ${(0,j.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return nt.floatTextureSetRGBA=new $.GlslLibRoutine(lt),nt}getUnpackedOutputSamplingSnippet(ot){const tt=ot.unpackedShape,_e=[ot.width,ot.height],nt={},at="getOutputCoords";switch(tt.length){case 0:nt[at]=this.getOutputScalarCoords();break;case 1:nt[at]=this.getOutputUnpacked1DCoords(tt,_e);break;case 2:nt[at]=this.getOutputUnpacked2DCoords(tt,_e);break;case 3:nt[at]=this.getOutputUnpacked3DCoords(tt,_e);break;case 4:nt[at]=this.getOutputUnpacked4DCoords(tt,_e);break;case 5:nt[at]=this.getOutputUnpacked5DCoords(tt,_e);break;case 6:nt[at]=this.getOutputUnpacked6DCoords(tt,_e);break;default:throw new Error(`Unsupported output dimensionality: ${tt.length}`)}const lt=`
        void setOutput(float val) {
          ${(0,j.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return nt.floatTextureSetR=new $.GlslLibRoutine(lt),nt}getOutputScalarCoords(){return new $.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(ot,tt){const _e=tt;let nt="";return _e[0]===1?(nt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${_e[1]}.0);
          }
        `,new $.GlslLibRoutine(nt)):_e[1]===1?(nt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${_e[0]}.0);
          }
        `,new $.GlslLibRoutine(nt)):(nt=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${_e[0]}, ${_e[1]}));
          return 2 * (resTexRC.y * ${_e[0]} + resTexRC.x);
        }
      `,new $.GlslLibRoutine(nt))}getOutputPacked2DCoords(ot,tt){let _e="";if(a.ArrayUtil.arraysEqual(ot,tt))return _e=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${tt[0]}, ${tt[1]}));
        }
      `,new $.GlslLibRoutine(_e);const nt=tt,at=Math.ceil(ot[1]/2);return _e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${nt[0]}, ${nt[1]}));

          int index = resTexRC.y * ${nt[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${at}) * 2;
          int c = 2 * (index / ${at});

          return ivec2(r, c);
        }
      `,new $.GlslLibRoutine(_e)}getOutputPacked3DCoords(ot,tt){const _e=[tt[0],tt[1]],nt=Math.ceil(ot[2]/2),at=nt*Math.ceil(ot[1]/2),lt=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${_e[0]}, ${_e[1]}));
          int index = resTexRC.y * ${_e[0]} + resTexRC.x;

          int b = index / ${at};
          index -= b * ${at};

          // reverse r and c order for packed texture
          int r = imod(index, ${nt}) * 2;
          int c = 2 * (index / ${nt});

          return ivec3(b, r, c);
        }
      `;return new $.GlslLibRoutine(lt)}getOutputPackedNDCoords(ot,tt){const _e=[tt[0],tt[1]],nt=Math.ceil(ot[ot.length-1]/2),at=nt*Math.ceil(ot[ot.length-2]/2);let lt=at,ut="",ct="b, r, c";for(let ft=2;ft<ot.length-1;ft++)lt*=ot[ot.length-ft-1],ut=`
      int b${ft} = index / ${lt};
      index -= b${ft} * ${lt};
    `+ut,ct=`b${ft}, `+ct;const dt=`
      ivec${ot.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${_e[0]}, ${_e[1]}));
        int index = resTexRC.y * ${_e[0]} + resTexRC.x;

        ${ut}

        int b = index / ${at};
        index -= b * ${at};

        // reverse r and c order for packed texture
        int r = imod(index, ${nt}) * 2;
        int c = 2 * (index / ${nt});

        return ivec${ot.length}(${ct});
      }
    `;return new $.GlslLibRoutine(dt)}getOutputUnpacked1DCoords(ot,tt){const _e=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${tt[0]}, ${tt[1]}));
          return resTexRC.y * ${tt[0]} + resTexRC.x;
        }
      `;return new $.GlslLibRoutine(_e)}getOutputUnpacked2DCoords(ot,tt){const _e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${tt[0]}, ${tt[1]}));
          int index = resTexRC.y * ${tt[0]} + resTexRC.x;
          int r = index / ${ot[1]};
          int c = index - r * ${ot[1]};
          return ivec2(r, c);
        }
      `;return new $.GlslLibRoutine(_e)}getOutputUnpacked3DCoords(ot,tt){let _e="";const nt=ot.length;let at=null;nt<2&&(at=[]),at=new Array(nt-1),at[nt-2]=ot[nt-1];for(let ct=nt-3;ct>=0;--ct)at[ct]=at[ct+1]*ot[ct+1];const lt=["r","c","d"],ut=at.map((ct,dt)=>`int ${lt[dt]} = index / ${ct}; ${dt===at.length-1?`int ${lt[dt+1]} = index - ${lt[dt]} * ${ct}`:`index -= ${lt[dt]} * ${ct}`};`).join("");return _e=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${tt[0]}, ${tt[1]}));
          int index = resTexRC.y * ${tt[0]} + resTexRC.x;
          ${ut}
          return ivec3(r, c, d);
        }
      `,new $.GlslLibRoutine(_e)}getOutputUnpacked4DCoords(ot,tt){let _e="";const nt=ot.length;let at=null;nt<2&&(at=[]),at=new Array(nt-1),at[nt-2]=ot[nt-1];for(let ct=nt-3;ct>=0;--ct)at[ct]=at[ct+1]*ot[ct+1];const lt=["r","c","d","d2"],ut=at.map((ct,dt)=>`int ${lt[dt]} = index / ${ct}; ${dt===at.length-1?`int ${lt[dt+1]} = index - ${lt[dt]} * ${ct}`:`index -= ${lt[dt]} * ${ct}`};`).join("");return _e=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${tt[0]}, ${tt[1]}));
          int index = resTexRC.y * ${tt[0]} + resTexRC.x;
          ${ut}
          return ivec4(r, c, d, d2);
        }
      `,new $.GlslLibRoutine(_e)}getOutputUnpacked5DCoords(ot,tt){let _e="";const nt=ot.length;let at=null;nt<2&&(at=[]),at=new Array(nt-1),at[nt-2]=ot[nt-1];for(let ct=nt-3;ct>=0;--ct)at[ct]=at[ct+1]*ot[ct+1];const lt=["r","c","d","d2","d3"],ut=at.map((ct,dt)=>`int ${lt[dt]} = index / ${ct}; ${dt===at.length-1?`int ${lt[dt+1]} = index - ${lt[dt]} * ${ct}`:`index -= ${lt[dt]} * ${ct}`};`).join("");return _e=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${tt[0]}, ${tt[1]}));
          int index = resTexRC.y * ${tt[0]} + resTexRC.x;
          ${ut}
          return ivec5(r, c, d, d2, d3);
        }
      `,new $.GlslLibRoutine(_e)}getOutputUnpacked6DCoords(ot,tt){let _e="";const nt=ot.length;let at=null;nt<2&&(at=[]),at=new Array(nt-1),at[nt-2]=ot[nt-1];for(let ct=nt-3;ct>=0;--ct)at[ct]=at[ct+1]*ot[ct+1];const lt=["r","c","d","d2","d3","d4"],ut=at.map((ct,dt)=>`int ${lt[dt]} = index / ${ct}; ${dt===at.length-1?`int ${lt[dt+1]} = index - ${lt[dt]} * ${ct}`:`index -= ${lt[dt]} * ${ct}`};`).join("");return _e=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${tt[0]}, ${tt[1]}));
         int index = resTexRC.y * ${tt[0]} + resTexRC.x;
         ${ut}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new $.GlslLibRoutine(_e)}getCommonUtilFuncs(){const ot={};let tt="uvFromFlat";ot[tt]=new $.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),tt="packedUVfrom1D",ot[tt]=new $.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),tt="packedUVfrom2D",ot[tt]=new $.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),tt="packedUVfrom3D",ot[tt]=new $.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),tt="sampleTexture";const _e=(0,j.getGlsl)(this.context.glContext.version);return ot[tt]=new $.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${_e.texture2D}(textureSampler, uv).r;
        }`),ot}getInputsSamplingSnippets(){const ot={},tt=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((_e,nt)=>{const at=this.context.inputTextureLayouts[nt],lt=(0,rt.generateShaderFuncNameFromInputSamplerName)(_e);at.isPacked?ot[lt]=this.getPackedSamplerFromInput(lt,_e,at):ot[lt]=this.getUnpackedSamplerFromInput(lt,_e,at);const ut=(0,rt.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(_e);at.unpackedShape.length<=tt.unpackedShape.length&&(at.isPacked?ot[ut]=this.getPackedSamplerAtOutputCoords(ut,at,tt,_e):ot[ut]=this.getUnpackedSamplerAtOutputCoords(ut,at,tt,_e))}),ot}getPackedSamplerAtOutputCoords(ot,tt,_e,nt){const at=tt.unpackedShape,lt=_e.unpackedShape,ut=nt,ct=(0,rt.generateShaderFuncNameFromInputSamplerName)(ut),dt=at.length,ft=lt.length,ht=a.BroadcastUtil.getBroadcastDims(at,lt),gt=(0,rt.getCoordsDataType)(ft),yt=ft-dt;let bt;const vt=(0,rt.getGlChannels)();bt=dt===0?"":ft<2&&ht.length>=1?"coords = 0;":ht.map(It=>`coords.${vt[It+yt]} = 0;`).join(`
`);let mt="";mt=ft<2&&dt>0?"coords":at.map((It,Pt)=>`coords.${vt[Pt+yt]}`).join(", ");let xt="return outputValue;";const wt=a.ShapeUtil.size(at)===1,Ct=a.ShapeUtil.size(lt)===1;if(dt!==1||wt||Ct){if(wt&&!Ct)xt=ft===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(ht.length){const It=dt-2,Pt=dt-1;ht.indexOf(It)>-1&&ht.indexOf(Pt)>-1?xt="return vec4(outputValue.x);":ht.indexOf(It)>-1?xt="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":ht.indexOf(Pt)>-1&&(xt="return vec4(outputValue.xx, outputValue.zz);")}}else xt=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const kt=`
      vec4 ${ot}() {
        ${gt} coords = getOutputCoords();
        
        int lastDim = coords.${vt[ft-1]};
        coords.${vt[ft-1]} = coords.${vt[ft-2]};
        coords.${vt[ft-2]} = lastDim;
      
        ${bt}
        vec4 outputValue = ${ct}(${mt});
        ${xt}
      }
    `;return new $.GlslLibRoutine(kt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(ot,tt,_e,nt){const at=[_e.width,_e.height],lt=[tt.width,tt.height],ut=tt.unpackedShape.length,ct=_e.unpackedShape.length,dt=tt.unpackedShape,ft=_e.unpackedShape,ht=(0,rt.generateShaderFuncNameFromInputSamplerName)(nt);if(ut===ct&&a.ArrayUtil.arraysEqual(lt,at)){const Ct=`
          float ${ot}() {
            return sampleTexture(${nt}, TexCoords);
          }
        `;return new $.GlslLibRoutine(Ct,["coordinates.sampleTexture"])}const gt=(0,rt.getCoordsDataType)(ct),yt=a.BroadcastUtil.getBroadcastDims(dt,ft),bt=ct-ut;let vt;const mt=(0,rt.getGlChannels)();vt=ut===0?"":ct<2&&yt.length>=1?"coords = 0;":yt.map(Ct=>`coords.${mt[Ct+bt]} = 0;`).join(`
`);let xt="";xt=ct<2&&ut>0?"coords":tt.unpackedShape.map((Ct,kt)=>`coords.${mt[kt+bt]}`).join(", ");const wt=`
        float ${ot}() {
          ${gt} coords = getOutputCoords();
          ${vt}
          return ${ht}(${xt});
        }
      `;return new $.GlslLibRoutine(wt,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(ot,tt,_e){switch(_e.unpackedShape.length){case 0:return this.getPackedSamplerScalar(ot,tt);case 1:return this.getPackedSampler1D(ot,tt,_e);case 2:return this.getPackedSampler2D(ot,tt,_e);case 3:return this.getPackedSampler3D(ot,tt,_e);default:return this.getPackedSamplerND(ot,tt,_e)}}getUnpackedSamplerFromInput(ot,tt,_e){const nt=_e.unpackedShape;switch(nt.length){case 0:return this.getUnpackedSamplerScalar(ot,tt,_e);case 1:return this.getUnpackedSampler1D(ot,tt,_e);case 2:return this.getUnpackedSampler2D(ot,tt,_e);case 3:return this.getUnpackedSampler3D(ot,tt,_e);case 4:return this.getUnpackedSampler4D(ot,tt,_e);case 5:return this.getUnpackedSampler5D(ot,tt,_e);case 6:return this.getUnpackedSampler6D(ot,tt,_e);default:throw new Error(`Unsupported dimension ${nt.length}-D`)}}getPackedSamplerScalar(ot,tt){const _e=`
          vec4 ${ot}() {
            return ${(0,j.getGlsl)(this.context.glContext.version).texture2D}(${tt}, halfCR);
          }
        `;return new $.GlslLibRoutine(_e)}getPackedSampler1D(ot,tt,_e){const nt=[_e.width,_e.height],at=[nt[1],nt[0]],lt=(0,j.getGlsl)(this.context.glContext.version),ut=`vec4 ${ot}(int index) {
      vec2 uv = packedUVfrom1D(
      ${at[0]}, ${at[1]}, index);
      return ${lt.texture2D}(${tt}, uv);
    }`;return new $.GlslLibRoutine(ut,["coordinates.packedUVfrom1D"])}getPackedSampler2D(ot,tt,_e){const nt=_e.unpackedShape,at=[_e.width,_e.height],lt=(0,j.getGlsl)(this.context.glContext.version),ut=at[0],ct=at[1];if(at!=null&&a.ArrayUtil.arraysEqual(nt,at)){const gt=`vec4 ${ot}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${ct}.0, ${ut}.0);
        return ${lt.texture2D}(${tt}, uv);
      }`;return new $.GlslLibRoutine(gt)}const dt=at,ft=Math.ceil(nt[1]/2),ht=`vec4 ${ot}(int row, int col) {
      vec2 uv = packedUVfrom2D(${dt[1]}, ${dt[0]}, ${ft}, row, col);
      return ${lt.texture2D}(${tt}, uv);
    }`;return new $.GlslLibRoutine(ht,["coordinates.packedUVfrom2D"])}getPackedSampler3D(ot,tt,_e){const nt=_e.unpackedShape,at=[_e.width,_e.height],lt=[at[0],at[1]],ut=(0,j.getGlsl)(this.context.glContext.version);if(nt[0]===1){const gt=nt.slice(1),yt=[1,2],bt=(0,rt.squeezeInputShape)(nt,gt),vt=["b","row","col"],mt=JSON.parse(JSON.stringify(_e));mt.unpackedShape=bt;const xt=this.getPackedSamplerFromInput(ot,tt,mt),wt=`${xt.routineBody}
      vec4 ${ot}(int b, int row, int col) {
        return ${ot}(${(0,rt.getSqueezedParams)(vt,yt)});
      } `;return new $.GlslLibRoutine(wt,xt.dependencies)}const ct=lt[0],dt=lt[1],ft=Math.ceil(nt[2]/2),ht=`vec4 ${ot}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${dt}, ${ct}, ${ft*Math.ceil(nt[1]/2)}, ${ft}, b, row, col);
      return ${ut.texture2D}(${tt}, uv);}`;return new $.GlslLibRoutine(ht,["coordinates.packedUVfrom3D"])}getPackedSamplerND(ot,tt,_e){const nt=_e.unpackedShape,at=nt.length,lt=[_e.width,_e.height],ut=(0,j.getGlsl)(this.context.glContext.version),ct=[lt[0],lt[1]],dt=ct[1],ft=ct[0],ht=Math.ceil(nt[at-1]/2);let gt=ht*Math.ceil(nt[at-2]/2),yt="int b, int row, int col",bt=`b * ${gt} + (row / 2) * ${ht} + (col / 2)`;for(let mt=2;mt<at-1;mt++)yt=`int b${mt}, `+yt,gt*=nt[at-mt-1],bt=`b${mt} * ${gt} + `+bt;const vt=`vec4 ${ot}(${yt}) {
      int index = ${bt};
      int texR = index / ${ft};
      int texC = index - texR * ${ft};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${ft}, ${dt});
      return ${ut.texture2D}(${tt}, uv);
    }`;return new $.GlslLibRoutine(vt)}getUnpackedSamplerScalar(ot,tt,_e){const[nt,at]=[_e.width,_e.height];if(nt===1&&at===1){const ut=`
          float ${ot}() {
            return sampleTexture(${tt}, halfCR);
          }
        `;return new $.GlslLibRoutine(ut,["coordinates.sampleTexture"])}const lt=`
        float ${ot}() {
          int offset_${tt} = coordsToOffset(TexCoords, ${nt}, ${at});
          vec2 uv = uvFromFlat(${nt}, ${at}, offset_${tt});
          return sampleTexture(${tt}, uv);
        }
      `;return new $.GlslLibRoutine(lt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(ot,tt,_e){const nt=_e.width,at=_e.height;if(at===1&&nt===1){const ut=`
        float ${ot}(int index) {
          return sampleTexture(${tt}, halfCR);
        }
      `;return new $.GlslLibRoutine(ut,["coordinates.sampleTexture"])}if(at===1){const ut=`
          float ${ot}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${nt}.0, 0.5);
            return sampleTexture(${tt}, uv);
          }
        `;return new $.GlslLibRoutine(ut,["coordinates.sampleTexture"])}if(nt===1){const ut=`
          float ${ot}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${at}.0);
            return sampleTexture(${tt}, uv);
          }
        `;return new $.GlslLibRoutine(ut,["coordinates.sampleTexture"])}const lt=`
        float ${ot}(int index) {
          vec2 uv = uvFromFlat(${nt}, ${at}, index);
          return sampleTexture(${tt}, uv);
        }
      `;return new $.GlslLibRoutine(lt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(ot,tt,_e){const nt=_e.unpackedShape,at=[_e.height,_e.width];if(at!=null&&a.ArrayUtil.arraysEqual(nt,at)){const gt=`
          float ${ot}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${at[1]}.0, ${at[0]}.0);
            return sampleTexture(${tt}, uv);
          }
        `;return new $.GlslLibRoutine(gt,["coordinates.sampleTexture"])}const{newShape:lt,keptDims:ut}=(0,et.squeezeShape)(nt),ct=lt;if(ct.length<nt.length){const gt=(0,rt.squeezeInputShape)(nt,ct),yt=JSON.parse(JSON.stringify(_e));yt.unpackedShape=gt;const bt=["col","row"],vt=`
          ${this.getUnpackedSamplerFromInput(ot,tt,yt).routineBody}
          float ${ot}(int row, int col) {
            return ${ot}(${(0,rt.getSqueezedParams)(bt,ut)});
          }
        `;return new $.GlslLibRoutine(vt,["coordinates.sampleTexture"])}const dt=at[1],ft=at[0];if(ft===1){const gt=`
          float ${ot}(int row, int col) {
            int offset_${tt} = coordsToOffset(TexCoords, ${dt}, ${ft});
            float index = dot(vec3(row, col, offset_${tt}), vec3(${nt[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${dt}.0);
            return sampleTexture(${tt}, uv);
          }
        `;return new $.GlslLibRoutine(gt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(dt===1){const gt=`
          float ${ot}(int row, int col) {
            int offset_${tt} = coordsToOffset(TexCoords, ${dt}, ${ft});
            float index = dot(vec3(row, col, offset_${tt}), vec3(${nt[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${ft}.0, 0.5);
            return sampleTexture(${tt}, uv);
          }
        `;return new $.GlslLibRoutine(gt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const ht=`
        float ${ot}(int row, int col) {
          int index = col * ${nt[1]} + row;
          vec2 uv = uvFromFlat(${dt}, ${ft}, index);
          return sampleTexture(${tt}, uv);
        }
      `;return new $.GlslLibRoutine(ht,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(ot,tt,_e){const nt=_e.unpackedShape,at=nt[1]*nt[2],lt=nt[2],{newShape:ut,keptDims:ct}=(0,et.squeezeShape)(nt),dt=ut;if(dt.length<nt.length){const ht=(0,rt.squeezeInputShape)(nt,dt),gt=["batch","col","row"],yt=JSON.parse(JSON.stringify(_e));yt.unpackedShape=ht;const bt=this.getUnpackedSamplerFromInput(ot,tt,yt),vt=ct.reverse(),mt=`
          ${bt.routineBody}
          float ${ot}(int batch, int row, int col) {
            return ${ot}(${(0,rt.getSqueezedParams)(gt,vt)});
          }
        `;return new $.GlslLibRoutine(mt,bt.dependencies)}const ft=`
          float ${ot}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${at} + col * ${lt} + row;
            vec2 uv = uvFromFlat(${_e.width}, ${_e.height}, index);
            return sampleTexture(${tt}, uv);
          }
      `;return new $.GlslLibRoutine(ft,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(ot,tt,_e){const nt=_e.unpackedShape,at=nt[3],lt=nt[2]*at,ut=`
        float ${ot}(int row, int col, int depth, int depth2) {
          int index = row * ${nt[1]*lt} + col * ${lt} +
              depth2 * ${at} + depth;
          vec2 uv = uvFromFlat(${_e.width}, ${_e.height}, index);
          return sampleTexture(${tt}, uv);
        }
      `;return new $.GlslLibRoutine(ut,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(ot,tt,_e){const nt=_e.unpackedShape,at=nt[4],lt=nt[3]*at,ut=nt[2]*lt,ct=nt[1]*ut,{newShape:dt,keptDims:ft}=(0,et.squeezeShape)(nt);if(dt.length<nt.length){const gt=(0,rt.squeezeInputShape)(nt,dt),yt=["row","col","depth","depth2","depth3"],bt=JSON.parse(JSON.stringify(_e));bt.unpackedShape=gt;const vt=`
          ${this.getUnpackedSamplerFromInput(ot,tt,bt).routineBody}
          float ${ot}(int row, int col, int depth, int depth2, int depth3) {
            return ${ot}(${(0,rt.getSqueezedParams)(yt,ft)});
          }
        `;return new $.GlslLibRoutine(vt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const ht=`
        float ${ot}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${ct} + col * ${ut} + depth * ${lt} +
          depth3 * ${at} + depth2;
          vec2 uv = uvFromFlat(${_e.width}, ${_e.height}, index);
          return sampleTexture(${tt}, uv);
        }
      `;return new $.GlslLibRoutine(ht,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(ot,tt,_e){const nt=_e.unpackedShape,at=nt[5],lt=nt[4]*at,ut=nt[3]*lt,ct=nt[2]*ut,dt=nt[1]*ct,{newShape:ft,keptDims:ht}=(0,et.squeezeShape)(nt);if(ft.length<nt.length){const yt=(0,rt.squeezeInputShape)(nt,ft),bt=["row","col","depth","depth2","depth3","depth4"],vt=JSON.parse(JSON.stringify(_e));vt.unpackedShape=yt;const mt=`
            ${this.getUnpackedSamplerFromInput(ot,tt,vt).routineBody}
            float ${ot}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${ot}(${(0,rt.getSqueezedParams)(bt,ht)});
            }
          `;return new $.GlslLibRoutine(mt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const gt=`
          float ${ot}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${dt} + col * ${ct} + depth * ${ut} +
            depth2 * ${lt} + depth3 * ${at} + depth4;
            vec2 uv = uvFromFlat(${_e.width}, ${_e.height}, index);
            return sampleTexture(${tt}, uv);
          }
        `;return new $.GlslLibRoutine(gt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const ot=this.context.outputTextureLayout,tt=ot.shape.length,_e=ot.strides,nt=ot.width,at=ot.height,lt=[];for(let ct=0;ct<tt-1;++ct)lt.push(`
        c[${ct}] = offset / ${_e[ct]};`),lt.push(`
        offset -= c[${ct}] * ${_e[ct]};`);lt.push(`
        c[${tt-1}] = offset;`);const ut=`
      void toVec(vec2 texCoords, out int c[${tt}]) {
        int offset = coordsToOffset(texCoords, ${nt}, ${at});
        ${lt.join("")}
      }
      void toVec(int offset, out int c[${tt}]) {
        ${lt.join("")}
      }
    `;return{toVec:new $.GlslLibRoutine(ut,["coordinates.coordsToOffset"])}}valueFrom(){const ot={};return this.context.programInfo.inputNames.forEach((tt,_e)=>{const nt=this.context.inputTextureLayouts[_e],at=(nt.unpackedShape.length>0?nt.unpackedShape:nt.shape).length;let lt=`_${tt}`;ot[lt]=new $.GlslLibRoutine(this.getValueFromSingle(tt,at,nt.width,nt.height,!1),[`shapeUtils.indicesToOffset${lt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),lt+="_T",ot[lt]=new $.GlslLibRoutine(this.getValueFromSingle(tt,at,nt.width,nt.height,!0),[`shapeUtils.indicesToOffset${lt}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),ot}getValueFromSingle(ot,tt,_e,nt,at){let lt=`_${ot}`;return at&&(lt+="_T"),`
        float ${lt}(int m[${tt}]) {
          int offset = indicesToOffset${lt}(m);
          vec2 coords = offsetToCoords(offset, ${_e}, ${nt});
          float value = getColorAsFloat(${(0,j.getGlsl)(this.context.glContext.version).texture2D}(${ot}, coords));
          return value;
        }
        `}getPackedValueFrom(ot,tt,_e,nt,at){let lt=`_${ot}_Pack`;return at&&(lt+="_T"),`
        vec4 ${lt}(int m[${tt}]) {
          int offset = indicesToOffset_${ot}(m);
          vec2 coords = offsetToCoords(offset, ${_e}, ${nt});
          return ${(0,j.getGlsl)(this.context.glContext.version).texture2D}(${ot}, coords);
        }
        `}}i.CoordsGlslLib=st},8520:(o,i)=>{var s;Object.defineProperty(i,"__esModule",{value:!0}),i.TopologicalSortGlslRoutines=i.GlslLibRoutineNode=i.GlslLibRoutine=i.GlslLib=i.GlslContext=i.FunctionType=void 0,(s=i.FunctionType||(i.FunctionType={}))[s.ValueBased=0]="ValueBased",s[s.Positional=1]="Positional",i.GlslContext=class{constructor(a,$,j,et){this.glContext=a,this.programInfo=$,this.inputTextureLayouts=j,this.outputTextureLayout=et}},i.GlslLib=class{constructor(a){this.context=a}},i.GlslLibRoutine=class{constructor(a,$){this.routineBody=a,this.dependencies=$}},i.GlslLibRoutineNode=class{constructor(a,$,j){this.name=a,this.dependencies=j||[],$&&(this.routineBody=$)}addDependency(a){a&&this.dependencies.push(a)}},i.TopologicalSortGlslRoutines=class{static returnOrderedNodes(a){if(!a||a.length===0)return[];if(a.length===1)return a;const $=new Set,j=new Set,et=new Array;return this.createOrderedNodes(a,$,j,et),et}static createOrderedNodes(a,$,j,et){for(let rt=0;rt<a.length;++rt)this.dfsTraverse(a[rt],$,j,et)}static dfsTraverse(a,$,j,et){if(!a||j.has(a.name))return;if($.has(a.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");$.add(a.name);const rt=a.dependencies;if(rt&&rt.length>0)for(let st=0;st<rt.length;++st)this.dfsTraverse(rt[st],$,j,et);et.push(a),j.add(a.name),$.delete(a.name)}}},7341:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EncodingGlslLib=void 0;const a=s(8520);class $ extends a.GlslLib{constructor(et){super(et)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new a.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new a.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const et=$.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new a.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${et}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const et=$.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new a.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${et}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const et=new ArrayBuffer(4),rt=new Uint32Array(et),st=new Uint8Array(et);if(rt[0]=3735928559,st[0]===239)return!0;if(st[0]===222)return!1;throw new Error("unknown endianness")}}i.EncodingGlslLib=$},9894:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FragColorGlslLib=void 0;const a=s(8520),$=s(5060);class j extends a.GlslLib{constructor(rt){super(rt)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const rt=(0,$.getGlsl)(this.context.glContext.version);return{setFragColor:new a.GlslLibRoutine(`
        void setFragColor(float value) {
            ${rt.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new a.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}i.FragColorGlslLib=j},2848:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.replaceInlines=void 0;const s=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;i.replaceInlines=function(a){const $={};let j;for(;(j=s.exec(a))!==null;){const et=j[3].split(",").map(rt=>{const st=rt.trim().split(" ");return st&&st.length===2?{type:st[0],name:st[1]}:null}).filter(rt=>rt!==null);$[j[2]]={params:et,body:j[4]}}for(const et in $){const rt="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",et),st=new RegExp(rt,"gm");for(;(j=st.exec(a))!==null;){const it=j[1],ot=j[2],tt=j[3].split(","),_e=it?`${it} ${ot};`:"";let nt=$[et].body,at="";$[et].params.forEach((ut,ct)=>{ut&&(at+=`${ut.type} ${ut.name} = ${tt[ct]};
`)}),nt=`${at}
 ${nt}`,nt=nt.replace("return",`${ot} = `);const lt=`
      ${_e}
      {
        ${nt}
      }
      `;a=a.replace(j[0],lt)}}return a.replace(s,"")}},8879:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlslPreprocessor=void 0;const a=s(8520),$=s(2848),j=s(5483),et=s(5060);i.GlslPreprocessor=class{constructor(rt,st,it,ot){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new a.GlslContext(rt,st,it,ot),Object.keys(j.glslRegistry).forEach(_e=>{const nt=new j.glslRegistry[_e](this.context);this.libs[_e]=nt});const tt=this.glslLibRoutineDependencyGraph;for(const _e in this.libs){const nt=this.libs[_e].getFunctions();for(const at in nt){const lt=_e+"."+at;let ut;tt[lt]?(ut=tt[lt],ut.routineBody=nt[at].routineBody):(ut=new a.GlslLibRoutineNode(lt,nt[at].routineBody),tt[lt]=ut);const ct=nt[at].dependencies;if(ct)for(let dt=0;dt<ct.length;++dt)if(tt[ct[dt]])ut.addDependency(tt[ct[dt]]);else{const ft=new a.GlslLibRoutineNode(ct[dt]);tt[ct[dt]]=ft,ut.addDependency(ft)}}}}preprocess(){const rt=this.context.programInfo;let st=rt.shaderSource;return this.context.programInfo.hasMain||(st=`${st}
      ${(0,et.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),st=(0,$.replaceInlines)(st),`${(0,et.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(rt.inputNames,rt.variables)}
    ${this.getImports(st)}
    ${st}`}getImports(rt){const st=this.selectGlslLibRoutinesToBeIncluded(rt);if(st.length===0)return"";let it="";for(let ot=0;ot<st.length;++ot){if(!st[ot].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${st[ot].name}`);it+=st[ot].routineBody+`
`}return it}selectGlslLibRoutinesToBeIncluded(rt){const st=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(it=>{const ot=it.split(".")[1];rt.indexOf(ot)!==-1&&st.push(this.glslLibRoutineDependencyGraph[it])}),a.TopologicalSortGlslRoutines.returnOrderedNodes(st)}getUniforms(rt,st){const it=[];if(rt)for(const ot of rt)it.push(`uniform sampler2D ${ot};`);if(st)for(const ot of st)it.push(`uniform ${ot.type} ${ot.name}${ot.arrayLength?`[${ot.arrayLength}]`:""};`);return it.join(`
`)}}},5483:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.glslRegistry=void 0;const a=s(5107),$=s(7341),j=s(9894),et=s(2655),rt=s(3891);i.glslRegistry={encoding:$.EncodingGlslLib,fragcolor:j.FragColorGlslLib,vec:rt.VecGlslLib,shapeUtils:et.ShapeUtilsGlslLib,coordinates:a.CoordsGlslLib}},2655:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ShapeUtilsGlslLib=void 0;const a=s(8520);class $ extends a.GlslLib{constructor(et){super(et)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const et=this.context.outputTextureLayout.shape.length,rt={};return this.context.programInfo.inputNames.forEach((st,it)=>{const ot=this.context.inputTextureLayouts[it].unpackedShape;if(ot.length<=et){const tt=ot.length,_e=et-tt,nt=`bcastIndices_${st}`;let at="";for(let ut=0;ut<tt;++ut)at+=`
          realIndices[${ut}] = int( mod(float(bcastedIndices[${_e+ut}]), ${ot[ut]}.0) );
          `;const lt=`
        void ${nt} (int bcastedIndices[${et}], out int realIndices[${tt}]) {
          ${at}
        }
        `;rt[nt]=new a.GlslLibRoutine(lt)}}),rt}bcastMatmulIndex(){const et=this.context.outputTextureLayout.shape.length,rt={};return this.context.programInfo.inputNames.forEach((st,it)=>{const ot=this.context.inputTextureLayouts[it].shape;if(!(ot.length<2||ot.length>et)){const tt=ot.length,_e=et-tt,nt=`bcastMatmulIndices_${st}`;let at="";for(let ut=0;ut<tt-2;++ut)at+=`
          realIndices[${ut}] = int( mod(float(bcastedIndices[${_e+ut}]), ${ot[ut]}.0) );
          `;const lt=`
        void ${nt}(int bcastedIndices[${et}], out int realIndices[${tt}]) {
          ${at}
          realIndices[${tt-1}] = bcastedIndices[${et-1}];
          realIndices[${tt-2}] = bcastedIndices[${et-2}];
        }
        `;rt[nt]=new a.GlslLibRoutine(lt)}}),rt}indicesToOffset(){const et={};return this.context.programInfo.inputNames.forEach((rt,st)=>{const it=this.context.inputTextureLayouts[st].shape,ot=this.context.inputTextureLayouts[st].strides,tt=it.length;let _e=`indicesToOffset_${rt}`;et[_e]=new a.GlslLibRoutine($.indexToOffsetSingle(_e,tt,ot)),_e=`indicesToOffset_${rt}_T`,et[_e]=new a.GlslLibRoutine($.indexToOffsetSingle(_e,tt,ot.slice().reverse()))}),et}static indexToOffsetSingle(et,rt,st){let it="";for(let ot=rt-1;ot>=0;--ot)it+=`
        offset += indices[${ot}] * ${st[ot]};
        `;return`
      int ${et}(int indices[${rt}]) {
        int offset = 0;
        ${it}
        return offset;
      }
      `}offsetToIndices(){const et={};return this.context.programInfo.inputNames.forEach((rt,st)=>{const it=this.context.inputTextureLayouts[st].shape,ot=this.context.inputTextureLayouts[st].strides,tt=it.length;let _e=`offsetToIndices_${rt}`;et[_e]=new a.GlslLibRoutine($.offsetToIndicesSingle(_e,tt,ot)),_e=`offsetToIndices_${rt}_T`,et[_e]=new a.GlslLibRoutine($.offsetToIndicesSingle(_e,tt,ot.slice().reverse()))}),et}static offsetToIndicesSingle(et,rt,st){const it=[];for(let ot=0;ot<rt-1;++ot)it.push(`
      indices[${ot}] = offset / ${st[ot]};`),it.push(`
        offset -= indices[${ot}] * ${st[ot]};`);return it.push(`
      indices[${rt-1}] = offset;`),`
      void ${et}(int offset, out int indices[${rt}]) {
        ${it.join("")}
      }
      `}incrementIndices(){const et={};return this.context.programInfo.inputNames.forEach((rt,st)=>{const it=this.context.inputTextureLayouts[st].shape,ot=it.length,tt=`incrementIndices_${rt}`;let _e="";for(let at=0;at<ot;++at)_e+=`
        shape[${at}] = ${it[at]};`;const nt=`
        void ${tt}(int axis, out int indices[${ot}]) {
          int shape[${ot}];
          ${_e};
          for(int i = ${ot} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;et[tt]=new a.GlslLibRoutine(nt)}),et}}i.ShapeUtilsGlslLib=$},5060:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getDefaultFragShaderMain=i.getFragShaderPreamble=i.getVertexShaderSource=i.getGlsl=void 0;const s={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},a={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function $(j){return j===1?s:a}i.getGlsl=$,i.getVertexShaderSource=function(j){const et=$(j);return`${et.version}
      precision highp float;
      ${et.attribute} vec3 position;
      ${et.attribute} vec2 textureCoord;

      ${et.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},i.getFragShaderPreamble=function(j){const et=$(j);return`${et.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${et.varyingFrag} vec2 TexCoords;
    ${et.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},i.getDefaultFragShaderMain=function(j,et){return`
  void main() {
    int indices[${et}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${$(j).output} = result;
  }
  `}},3891:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VecGlslLib=void 0;const a=s(8520);class $ extends a.GlslLib{constructor(et){super(et)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const et=this.context.outputTextureLayout.shape.length,rt={add:"+=",sub:"-=",mul:"*=",div:"/="},st={};for(const it in rt){const ot=`${it}Vec`;let tt="";for(let nt=0;nt<et;++nt)tt+=`
          dest[${nt}] ${rt[it]} src[${nt}];
          `;const _e=`
        void ${ot}(int src[${et}], out int dest[${et}]) {
          ${tt}
        }
        `;st[ot]=new a.GlslLibRoutine(_e)}return st}copyVec(){const et=this.context.outputTextureLayout.shape.length;let rt="";for(let it=0;it<et;++it)rt+=`
        dest[${it}] = src[${it}];
        `;const st=`
      void copyVec(int src[${et}], out int dest[${et}]) {
        ${rt}
      }
      `;return{copyVec:new a.GlslLibRoutine(st)}}setVecItem(){const et=this.context.outputTextureLayout.shape.length;let rt=`
        if(index < 0)
            index =${et} + index;
        if (index == 0)
            m[0] = value;
        `;for(let it=1;it<et-1;++it)rt+=`
        else if (index == ${it})
            m[${it}] = value;
            `;rt+=`
        else
            m[${et-1}] = value;
        `;const st=`
      void setVecItem(out int m[${et}], int index, int value) {
        ${rt}
      }
        `;return{setVecItem:new a.GlslLibRoutine(st)}}getVecItem(){const et=this.context.outputTextureLayout.shape.length;let rt=`
        if(index < 0)
            index = ${et} + index;
        if (index == 0)
            return m[0];
      `;for(let it=1;it<et-1;++it)rt+=`
        else if (index == ${it})
            return m[${it}];
      `;rt+=`
        else
            return m[${et-1}];
        `;const st=`
      int getVecItem(int m[${et}], int index) {
        ${rt}
      }
    `;return{getVecItem:new a.GlslLibRoutine(st)}}}i.VecGlslLib=$},8316:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLInferenceHandler=void 0;const a=s(6231),$=s(9162),j=s(2517),et=s(2403),rt=s(7019),st=s(8710),it=s(5611),ot=s(4057),tt=s(2039);i.WebGLInferenceHandler=class{constructor(_e){this.session=_e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(_e,nt){return(0,ot.calculateTextureWidthAndHeight)(this.session.layoutStrategy,_e,nt)}executeProgram(_e,nt){if(nt.length<_e.inputNames.length)throw new Error(`Input size mustn't be less than ${_e.inputNames.length}.`);if(_e.inputNames.length!==_e.inputTypes.length)throw new Error("input names size does not match input types");const at=[];for(let ht=0;ht<_e.inputNames.length;++ht)at[ht]=this.getOrCreateTextureData(nt[ht],_e.inputTypes[ht]);const lt=((ht,gt)=>{const yt=gt.map(vt=>`${vt.unpackedShape.join(",")};${vt.width}x${vt.height}`).join("_");let bt=ht.name;return ht.cacheHint&&(bt+="["+ht.cacheHint+"]"),bt+=":"+yt,bt})(_e,at);let ut=this.session.programManager.getArtifact(lt);const ct=ut?ut.programInfo:typeof _e.get=="function"?_e.get():_e,dt=(0,ot.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ct.output.dims,ct.output.textureType),ft=this.createTextureData(dt,ct.output.type);return ut||(ut=this.session.programManager.build(ct,at,ft),this.session.programManager.setArtifact(lt,ut)),this.runProgram(ut,at,ft),ft}run(_e,nt){return this.executeProgram(_e,nt).tensor}runProgram(_e,nt,at){for(let lt=0;lt<nt.length;++lt)if(!!nt[lt].isPacked!=(_e.programInfo.inputTypes[lt]===tt.TextureType.packed))throw new Error(`input[${lt}] property packed inconsistent`);if(!!at.isPacked!=(_e.programInfo.output.textureType===tt.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(_e,nt,at)}getOrCreateTextureData(_e,nt){let at=this.getTextureData(_e.dataId,nt===tt.TextureType.packed);if(!at&&(at=this.getTextureData(_e.dataId,nt!==tt.TextureType.packed),at))return nt===tt.TextureType.packed?this.pack(at):this.unpack(at);if(!at){const lt=(0,ot.createTextureLayoutFromTextureType)(this.session.layoutStrategy,_e.dims,nt);if(nt===tt.TextureType.packedLastDimension){const dt=_e.dims;if(dt.length===4){const ft=[dt[0],Math.ceil(dt[1]*dt[2]*dt[3]/4)],ht=(0,ot.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ft,nt);let gt=_e.numberData;if(dt[1]*dt[2]*dt[3]%4!=0){const yt=dt[0],bt=dt[1]*dt[2]*dt[3],vt=Math.ceil(bt*1/4)*4;gt=new Float32Array(yt*vt);for(let mt=0;mt<yt;++mt){const xt=mt*bt,wt=mt*vt+mt%1*bt;gt.set(_e.numberData.subarray(xt,xt+bt),wt)}}return this.createTextureData(ht,_e.type,gt,_e,1)}}if(nt===tt.TextureType.packed){const ut=(0,ot.createTextureLayoutFromShape)(this.session.layoutStrategy,_e.dims,1,[],{reverseWH:!0}),ct=this.createTextureData(ut,_e.type,_e.numberData,_e,1);at=this.pack(ct)}else at=this.createTextureData(lt,_e.type,_e.numberData,_e,1)}return at}createTextureDataFromLayoutBindTensor(_e,nt,at,lt){return this.createTextureData(_e,nt,at,lt,1)}createTextureData(_e,nt,at,lt,ut){a.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(_e)}]`);const ct=this.session.textureManager.createTextureFromLayout(nt,_e,at,ut);return this.createTextureDataFromTexture(_e,nt,ct,lt)}reshapeUnpacked(_e,nt){const at=this.getOrCreateTextureData(_e,tt.TextureType.unpacked),lt={channels:at.channels,height:at.height,width:at.width,shape:nt.length!==0?nt:[1],strides:j.ShapeUtil.computeStrides(nt),unpackedShape:nt};return this.createTextureDataFromTexture(lt,_e.type,at.texture).tensor}reshapePacked(_e,nt){const at=this.getOrCreateTextureData(_e,tt.TextureType.packed);if((0,rt.isReshapeCheap)(_e.dims,nt)){const ft={channels:at.channels,height:at.height,width:at.width,shape:nt.length!==0?nt:[1],strides:j.ShapeUtil.computeStrides(nt),unpackedShape:nt,isPacked:!0};return this.createTextureDataFromTexture(ft,_e.type,at.texture).tensor}const lt=(0,rt.processDims3D)(_e.dims),ut=(0,rt.processDims3D)(nt),ct=this.reshapePacked(_e,lt),dt=this.run((0,rt.createPackedReshape3DProgramInfoLoader)(this,ct,ut),[ct]);return this.reshapePacked(dt,nt)}cast(_e,nt){const at=this.getOrCreateTextureData(_e,tt.TextureType.unpacked);return this.createTextureDataFromTexture(at,nt,at.texture).tensor}createTextureDataFromTexture(_e,nt,at,lt,ut){const ct=Object.assign(Object.assign({},_e),{tensor:lt||new $.Tensor(_e.unpackedShape,nt,dt=>this.readTexture(ct),async dt=>this.readTextureAsync(ct),void 0,ut),texture:at});return this.setTextureData(ct.tensor.dataId,ct,_e.isPacked),ct}getTextureData(_e,nt=!1){return this.session.isInitializer(_e)?this.session.getTextureData(_e,nt):nt?this.packedTextureDataCache.get(_e):this.unpackedTextureDataCache.get(_e)}setTextureData(_e,nt,at=!1){this.session.isInitializer(_e)?this.session.setTextureData(_e,nt,at):(at?this.packedTextureDataCache:this.unpackedTextureDataCache).set(_e,nt)}isTextureLayoutCached(_e,nt=!1){return!!this.getTextureData(_e.dataId,nt)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(_e=>this.session.textureManager.releaseTexture(_e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(_e=>this.session.textureManager.releaseTexture(_e)),this.unpackedTextureDataCache=new Map}readTexture(_e){return _e.isPacked?this.readTexture(this.unpack(_e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(_e,_e.tensor.type,_e.channels):this.session.textureManager.readUint8TextureAsFloat((0,st.encodeAsUint8)(this,_e))}async readTextureAsync(_e){return _e.isPacked?this.readTextureAsync(this.unpack(_e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(_e,_e.tensor.type,_e.channels):this.session.textureManager.readUint8TextureAsFloat((0,st.encodeAsUint8)(this,_e))}pack(_e){return this.executeProgram((0,et.createPackProgramInfoLoader)(this,_e.tensor),[_e.tensor])}unpack(_e){return this.executeProgram((0,it.createUnpackProgramInfoLoader)(this,_e.tensor),[_e.tensor])}}},1640:function(o,i,s){var a=this&&this.__createBinding||(Object.create?function($t,jt,zt,Xt){Xt===void 0&&(Xt=zt);var tr=Object.getOwnPropertyDescriptor(jt,zt);tr&&!("get"in tr?!jt.__esModule:tr.writable||tr.configurable)||(tr={enumerable:!0,get:function(){return jt[zt]}}),Object.defineProperty($t,Xt,tr)}:function($t,jt,zt,Xt){Xt===void 0&&(Xt=zt),$t[Xt]=jt[zt]}),$=this&&this.__setModuleDefault||(Object.create?function($t,jt){Object.defineProperty($t,"default",{enumerable:!0,value:jt})}:function($t,jt){$t.default=jt}),j=this&&this.__importStar||function($t){if($t&&$t.__esModule)return $t;var jt={};if($t!=null)for(var zt in $t)zt!=="default"&&Object.prototype.hasOwnProperty.call($t,zt)&&a(jt,$t,zt);return $(jt,$t),jt};Object.defineProperty(i,"__esModule",{value:!0}),i.WEBGL_OP_RESOLVE_RULES=void 0;const et=s(2898),rt=j(s(7839)),st=s(4196),it=s(2069),ot=s(8138),tt=s(9663),_e=s(5193),nt=s(7992),at=s(1253),lt=s(4776),ut=s(6572),ct=s(3346),dt=s(5623),ft=s(2870),ht=s(2143),gt=s(4939),yt=s(718),bt=s(2268),vt=s(8117),mt=s(2278),xt=s(5524),wt=s(5975),Ct=s(3933),kt=s(6558),It=s(5723),Pt=s(3738),St=j(s(4909)),Ot=s(8428),At=s(9793);i.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",St.abs],["Acos","","7+",St.acos],["Add","","7+",rt.add],["And","","7+",rt.and],["Asin","","7+",St.asin],["Atan","","7+",St.atan],["AveragePool","","7+",ht.averagePool,ht.parseAveragePoolAttributes],["BatchNormalization","","7+",et.batchNormalization,et.parseBatchNormalizationAttributes],["Cast","","6+",st.cast,st.parseCastAttributes],["Ceil","","6+",St.ceil],["Clip","","6-10",St.clip,St.parseClipAttributes],["Clip","","11+",St.clipV11],["Concat","","4+",it.concat,it.parseConcatAttributes],["Conv","","1+",ot.conv,ot.parseConvAttributes],["ConvTranspose","","1+",tt.convTranspose,tt.parseConvTransposeAttributes],["Cos","","7+",St.cos],["Div","","7+",rt.div],["Dropout","","7+",St.identity],["DepthToSpace","","1+",_e.depthToSpace,_e.parseDepthToSpaceAttributes],["Equal","","7+",rt.equal],["Elu","","6+",St.elu,St.parseEluAttributes],["Exp","","6+",St.exp],["Flatten","","1+",nt.flatten,nt.parseFlattenAttributes],["Floor","","6+",St.floor],["FusedConv","com.microsoft","1+",ot.conv,ot.parseConvAttributes],["Gather","","1+",at.gather,at.parseGatherAttributes],["Gemm","","7-10",lt.gemm,lt.parseGemmAttributesV7],["Gemm","","11+",lt.gemm,lt.parseGemmAttributesV11],["GlobalAveragePool","","1+",ht.globalAveragePool,ht.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",ht.globalMaxPool],["Greater","","7+",rt.greater],["Identity","","1+",St.identity],["ImageScaler","","1+",ut.imageScaler,ut.parseImageScalerAttributes],["InstanceNormalization","","6+",ct.instanceNormalization,ct.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",St.leakyRelu,St.parseLeakyReluAttributes],["Less","","7+",rt.less],["Log","","6+",St.log],["MatMul","","1+",dt.matMul,dt.parseMatMulAttributes],["MaxPool","","1+",ht.maxPool,ht.parseMaxPoolAttributes],["Mul","","7+",rt.mul],["Neg","","6+",St.neg],["Not","","1+",St.not],["Or","","7+",rt.or],["Pad","","2-10",ft.padV2,ft.parsePadAttributesV2],["Pad","","11+",ft.padV11,ft.parsePadAttributesV11],["Pow","","7+",rt.pow],["PRelu","","7+",rt.pRelu],["ReduceLogSum","","1+",gt.reduceLogSum,gt.parseReduceAttributes],["ReduceMax","","1+",gt.reduceMax,gt.parseReduceAttributes],["ReduceMean","","1+",gt.reduceMean,gt.parseReduceAttributes],["ReduceMin","","1+",gt.reduceMin,gt.parseReduceAttributes],["ReduceProd","","1+",gt.reduceProd,gt.parseReduceAttributes],["ReduceSum","","1-12",gt.reduceSum,gt.parseReduceAttributes],["ReduceSumSquare","","1+",gt.reduceLogSumSquare,gt.parseReduceAttributes],["Relu","","6+",St.relu],["Reshape","","5+",yt.reshape],["Resize","","10",bt.resize,bt.parseResizeAttributesV10],["Resize","","11+",bt.resize,bt.parseResizeAttributesV11],["Shape","","1+",vt.shape],["Sigmoid","","6+",St.sigmoid],["Sin","","7+",St.sin],["Slice","","10+",mt.sliceV10],["Slice","","1-9",mt.slice,mt.parseSliceAttributes],["Softmax","","1-12",xt.softmax,xt.parseSoftmaxAttributes],["Softmax","","13+",xt.softmaxV13,xt.parseSoftmaxAttributesV13],["Split","","2-12",wt.split,wt.parseSplitAttributes],["Sqrt","","6+",St.sqrt],["Squeeze","","1-12",Ct.squeeze,Ct.parseSqueezeAttributes],["Squeeze","","13+",Ct.squeezeV13],["Sub","","7+",rt.sub],["Sum","","6+",kt.sum],["Tan","","7+",St.tan],["Tanh","","6+",St.tanh],["Tile","","6+",It.tile],["Transpose","","1+",Pt.transpose,Pt.parseTransposeAttributes],["Upsample","","7-8",At.upsample,At.parseUpsampleAttributesV7],["Upsample","","9",At.upsample,At.parseUpsampleAttributesV9],["Unsqueeze","","1-12",Ot.unsqueeze,Ot.parseUnsqueezeAttributes],["Unsqueeze","","13+",Ot.unsqueezeV13],["Xor","","7+",rt.xor]]},2898:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseBatchNormalizationAttributes=i.batchNormalization=void 0;const a=s(246),$=s(5060),j=s(2039),et={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[j.TextureType.unpacked,j.TextureType.unpacked,j.TextureType.unpacked,j.TextureType.unpacked,j.TextureType.unpacked]};i.batchNormalization=(it,ot,tt)=>(st(ot),[it.run(Object.assign(Object.assign({},et),{cacheHint:tt.cacheKey,get:()=>rt(it,ot,tt)}),ot)]),i.parseBatchNormalizationAttributes=it=>{const ot=it.attributes.getFloat("epsilon",1e-5),tt=it.attributes.getFloat("momentum",.9),_e=it.attributes.getInt("spatial",1);return(0,a.createAttributeWithCacheKey)({epsilon:ot,momentum:tt,spatial:_e})};const rt=(it,ot,tt)=>{const _e=(0,$.getGlsl)(it.session.backend.glContext.version),nt=ot[0].dims.length,[at,lt]=it.calculateTextureWidthAndHeight(ot[1].dims,j.TextureType.unpacked),ut=`
  float process(int[${nt}] indices) {
    vec2 position = offsetToCoords(indices[1], ${at}, ${lt});
    float scale = getColorAsFloat(${_e.texture2D}(Scale, position));
    float mean = getColorAsFloat(${_e.texture2D}(Mean, position));
    float variance = getColorAsFloat(${_e.texture2D}(Variance, position));
    float b = getColorAsFloat(${_e.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${tt.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},et),{output:{dims:ot[0].dims,type:ot[0].type,textureType:j.TextureType.unpacked},shaderSource:ut})},st=it=>{if(!it||it.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const ot=it[0],tt=it[1],_e=it[2],nt=it[3],at=it[4];if(ot.dims.length<3||tt.dims.length!==1||_e.dims.length!==1||nt.dims.length!==1||at.dims.length!==1)throw new Error("invalid input shape.");if(tt.dims[0]!==ot.dims[1]||_e.dims[0]!==ot.dims[1]||nt.dims[0]!==ot.dims[1]||at.dims[0]!==ot.dims[1])throw new Error("invalid input shape.");if(ot.type!=="float32"&&ot.type!=="float64"||tt.type!=="float32"&&tt.type!=="float64"||_e.type!=="float32"&&_e.type!=="float64"||nt.type!=="float32"&&nt.type!=="float64"||at.type!=="float32"&&at.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.xor=i.sub=i.pRelu=i.pow=i.or=i.mul=i.less=i.greater=i.equal=i.div=i.and=i.add=i.glslPRelu=i.glslPow=i.glslXor=i.glslOr=i.glslAnd=i.glslLess=i.glslGreater=i.glslEqual=i.glslSub=i.glslMul=i.glslDiv=i.glslAdd=void 0;const a=s(2517),$=s(8520),j=s(5060),et=s(2039);function rt(){const gt="add_";return{body:`
  float ${gt}(float a, float b) {
    return a + b;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function st(){const gt="div_";return{body:`
  float ${gt}(float a, float b) {
    return a / b;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function it(){const gt="mul_";return{body:`
  float ${gt}(float a, float b) {
    return a * b;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function ot(){const gt="sub_";return{body:`
  float ${gt}(float a, float b) {
    return a - b;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function tt(){const gt="equal_";return{body:`
  float ${gt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function _e(){const gt="greater_";return{body:`
  float ${gt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function nt(){const gt="less_";return{body:`
  float ${gt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function at(){const gt="and_";return{body:`
  float ${gt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function lt(){const gt="or_";return{body:`
  float ${gt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function ut(){const gt="xor_";return{body:`
  float ${gt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:gt,type:$.FunctionType.ValueBased}}function ct(){return function(gt){const yt=`${gt}_`;return{body:`
  float ${yt}(float a, float b) {
    return ${gt}(a, b);
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return ${gt}(v1, v2);
  }
  `,name:yt,type:$.FunctionType.ValueBased}}("pow")}function dt(){const gt="prelu_";return{body:`
  float ${gt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${gt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:gt,type:$.FunctionType.ValueBased}}i.glslAdd=rt,i.glslDiv=st,i.glslMul=it,i.glslSub=ot,i.glslEqual=tt,i.glslGreater=_e,i.glslLess=nt,i.glslAnd=at,i.glslOr=lt,i.glslXor=ut,i.glslPow=ct,i.glslPRelu=dt;const ft=(gt,yt,bt,vt=yt[0].type,mt)=>{const xt=gt.session.pack?et.TextureType.packed:et.TextureType.unpacked;return{name:bt.name,inputNames:["A","B"],inputTypes:[xt,xt],cacheHint:mt,get:()=>ht(gt,yt,bt,vt)}},ht=(gt,yt,bt,vt=yt[0].type)=>{const mt=gt.session.pack?et.TextureType.packed:et.TextureType.unpacked,xt=!a.ShapeUtil.areEqual(yt[0].dims,yt[1].dims);let wt=yt[0].dims;const Ct=gt.session.pack;if(xt){const Pt=a.BroadcastUtil.calcShape(yt[0].dims,yt[1].dims,!1);if(!Pt)throw new Error("Can't perform binary op on the given tensors");wt=Pt;const St=wt.length,Ot=yt[0].dims.length!==0?yt[0].dims.length:1,At=yt[1].dims.length!==0?yt[1].dims.length:1,$t=yt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",jt=yt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",zt=(0,j.getGlsl)(gt.session.backend.glContext.version),Xt=Ct?`
      ${bt.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${bt.name}(a, b);
        ${zt.output} = result;
      }`:`
      ${bt.body}
      float process(int indices[${St}]) {
        int aindices[${Ot}];
        int bindices[${At}];
        ${$t}
        ${jt}
        return ${bt.name}(_A(aindices), _B(bindices));
      }`;return{name:bt.name,inputNames:["A","B"],inputTypes:[mt,mt],output:{dims:wt,type:vt,textureType:mt},shaderSource:Xt,hasMain:Ct}}const kt=(0,j.getGlsl)(gt.session.backend.glContext.version),It=`
    ${bt.body}
    void main() {
      vec4 v1 = ${kt.texture2D}(A, TexCoords);
      vec4 v2 = ${kt.texture2D}(B, TexCoords);
      vec4 result = ${bt.name}(v1, v2);
      ${kt.output} = result;
    }
    `;return{name:bt.name,inputNames:["A","B"],inputTypes:[mt,mt],output:{dims:yt[0].dims,type:vt,textureType:mt},shaderSource:It,hasMain:!0}};i.add=(gt,yt)=>[gt.run(ft(gt,yt,rt()),yt)],i.and=(gt,yt)=>[gt.run(ft(gt,yt,at(),"bool"),yt)],i.div=(gt,yt)=>[gt.run(ft(gt,yt,st()),yt)],i.equal=(gt,yt)=>[gt.run(ft(gt,yt,tt(),"bool"),yt)],i.greater=(gt,yt)=>[gt.run(ft(gt,yt,_e(),"bool"),yt)],i.less=(gt,yt)=>[gt.run(ft(gt,yt,nt(),"bool"),yt)],i.mul=(gt,yt)=>[gt.run(ft(gt,yt,it()),yt)],i.or=(gt,yt)=>[gt.run(ft(gt,yt,lt(),"bool"),yt)],i.pow=(gt,yt)=>[gt.run(ft(gt,yt,ct()),yt)],i.pRelu=(gt,yt)=>[gt.run(ft(gt,yt,dt()),yt)],i.sub=(gt,yt)=>[gt.run(ft(gt,yt,ot()),yt)],i.xor=(gt,yt)=>[gt.run(ft(gt,yt,ut(),"bool"),yt)]},4196:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseCastAttributes=i.cast=void 0;const a=s(2517);i.cast=(j,et,rt)=>($(et),[j.cast(et[0],rt)]),i.parseCastAttributes=j=>a.ProtoUtil.tensorDataTypeFromProto(j.attributes.getInt("to"));const $=j=>{if(!j||j.length!==1)throw new Error("Cast requires 1 input.");if(j[0].type==="string")throw new Error("Invalid input type.")}},1163:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedConcatProgramInfoLoader=void 0;const a=s(5060),$=s(2039),j=s(9390),et=s(2827);i.createPackedConcatProgramInfoLoader=(st,it,ot)=>{const tt=(_e=it.length,nt=ot.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:_e},(at,lt)=>`X${lt}`),inputTypes:Array(_e).fill($.TextureType.packed),cacheHint:nt});var _e,nt;return Object.assign(Object.assign({},tt),{get:()=>((at,lt,ut,ct)=>{const dt=ut[0].dims.slice();if(ct>=dt.length||ct<-1*dt.length)throw new Error("axis specified for concat doesn't match input dimensionality");ct<0&&(ct=dt.length+ct);const ft=dt.slice(0);for(let $t=1;$t<ut.length;$t++){const jt=ut[$t].dims.slice();for(let zt=0;zt<dt.length;zt++)if(zt===ct)ft[ct]+=jt[zt];else if(dt[zt]!==jt[zt])throw new Error("non concat dimensions must match")}const ht=ft.length,gt=(0,et.getChannels)("coords",ht),yt=(0,j.getCoordsDataType)(ht),bt=(0,et.unpackFromChannel)(),vt=ut.map($t=>$t.dims),mt=(0,j.getGlChannels)(ht),xt=new Array(vt.length-1);xt[0]=vt[0][ct];for(let $t=1;$t<xt.length;$t++)xt[$t]=xt[$t-1]+vt[$t][ct];const wt=mt[ct],Ct=mt.slice(-2),kt=mt.join();let It=`if (${wt} < ${xt[0]}) {
        return getChannel(
            getX0(${kt}), vec2(${Ct.join()}));
        }`;for(let $t=1;$t<xt.length;$t++){const jt=xt[$t-1];It+=`
            if (${wt} < ${xt[$t]}  && ${wt} >= ${xt[$t-1]}) {
              return getChannel(
                getX${$t}(${rt(mt,wt,jt)}),
                vec2(${rt(Ct,wt,jt)}));
            }`}const Pt=xt.length,St=xt[xt.length-1];It+=`
            return getChannel(
              getX${Pt}(${rt(mt,wt,St)}),
              vec2(${rt(Ct,wt,St)}));`;const Ot=(0,a.getGlsl)(at.session.backend.glContext.version),At=`
          ${bt}
          float getValue(${mt.map($t=>"int "+$t)}) {
            ${It}
          }

          void main() {
            ${yt} coords = getOutputCoords();
            int lastDim = coords.${mt[ht-1]};
            coords.${mt[ht-1]} = coords.${mt[ht-2]};
            coords.${mt[ht-2]} = lastDim;

            vec4 result = vec4(getValue(${gt}), 0., 0., 0.);

            ${gt[ht-1]} = ${gt[ht-1]} + 1;
            if (${gt[ht-1]} < ${ft[ht-1]}) {
              result.g = getValue(${gt});
            }

            ${gt[ht-2]} = ${gt[ht-2]} + 1;
            if (${gt[ht-2]} < ${ft[ht-2]}) {
              result.a = getValue(${gt});
            }

            ${gt[ht-1]} = ${gt[ht-1]} - 1;
            if (${gt[ht-2]} < ${ft[ht-2]} &&
                ${gt[ht-1]} < ${ft[ht-1]}) {
              result.b = getValue(${gt});
            }
            ${Ot.output} = result;
          }
        `;return Object.assign(Object.assign({},lt),{output:{dims:ft,type:ut[0].type,textureType:$.TextureType.packed},shaderSource:At,hasMain:!0})})(st,tt,it,ot.axis)})};const rt=(st,it,ot)=>{const tt=st.indexOf(it);return st.map((_e,nt)=>nt===tt?`${_e} - ${ot}`:_e).join()}},2069:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConcatAttributes=i.concat=void 0;const a=s(246),$=s(2039),j=s(1163);i.concat=(_e,nt,at)=>(tt(nt),_e.session.pack&&nt[0].dims.length>1?[_e.run((0,j.createPackedConcatProgramInfoLoader)(_e,nt,at),nt)]:[_e.run(et(_e,nt,at),nt)]);const et=(_e,nt,at)=>{const lt=(ut=nt.length,ct=at.cacheKey,{name:"Concat",inputNames:Array.from({length:ut},(dt,ft)=>`X${ft}`),inputTypes:Array(ut).fill($.TextureType.unpacked),cacheHint:ct});var ut,ct;return Object.assign(Object.assign({},lt),{get:()=>((dt,ft,ht,gt)=>{const yt=ht[0].dims.slice();if(gt>=yt.length||gt<-1*yt.length)throw new Error("axis specified for concat doesn't match input dimensionality");gt<0&&(gt=yt.length+gt);const bt=yt.slice(0);for(let kt=1;kt<ht.length;kt++){const It=ht[kt].dims.slice();for(let Pt=0;Pt<yt.length;Pt++)if(Pt===gt)bt[gt]+=It[Pt];else if(yt[Pt]!==It[Pt])throw new Error("non concat dimensions must match")}const vt=bt.length,mt=new Array(ht.length);let xt=0;for(let kt=0;kt<mt.length;++kt)xt+=ht[kt].dims[gt],mt[kt]=xt;let wt="";wt=ht.length<5?rt(mt):st(mt);const Ct=`
        ${it(ht.length,vt)}
        ${ot(mt)}
        ${wt}
        float process(int indices[${vt}]) {
          int textureIndex = getTextureWhereDataResides (indices[${gt}]);

          if(textureIndex != 0) {
            indices[${gt}] = indices[${gt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},ft),{output:{dims:bt,type:ht[0].type,textureType:$.TextureType.unpacked},shaderSource:Ct})})(0,lt,nt,at.axis)})},rt=_e=>`int getTextureWhereDataResides(int index) {
      ${_e.map((nt,at)=>`if(index<${nt}) {return ${at};}
`).join("")}
    }`,st=_e=>rt(_e),it=(_e,nt)=>{const at=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${nt}]) {`];for(let lt=0;lt<_e;++lt)lt===0?at.push(`	if (textureIndex == ${lt}) { return _X${lt}(indices); }`):lt===_e-1?at.push(`	else { return _X${lt}(indices); }`):at.push(`	else if (textureIndex == ${lt}) { return _X${lt}(indices); }`);return at.push("	}"),at.join(`
`)},ot=_e=>{const nt=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let at=0;at<_e.length;++at)at===0?nt.push(`	if (index == ${at}) { return ${_e[at]}; }`):at===_e.length-1?nt.push(`	else { return ${_e[at]}; }`):nt.push(`	else if (index == ${at}) { return ${_e[at]}; }`);return nt.push("	}"),nt.join(`
`)};i.parseConcatAttributes=_e=>(0,a.createAttributeWithCacheKey)({axis:_e.attributes.getInt("axis")});const tt=_e=>{if(!_e||_e.length<1)throw new Error("too few inputs");const nt=_e[0].type,at=_e[0].dims.length;if(nt==="string")throw new Error("string tensor is not supported yet");for(const lt of _e){if(lt.type!==nt)throw new Error("input tensors should be one type");if(lt.dims.length!==at)throw new Error("input tensors should have the same shape")}}},4770:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createUnpackedGroupedConvProgramInfoLoader=void 0;const a=s(6231),$=s(5060),j=s(2039),et=s(8138),rt=s(2823);i.createUnpackedGroupedConvProgramInfoLoader=(st,it,ot)=>{const tt=(_e=it.length>2,nt=ot.cacheKey,{name:"GroupedConv",inputNames:_e?["X","W","Bias"]:["X","W"],inputTypes:_e?[j.TextureType.unpacked,j.TextureType.unpacked,j.TextureType.unpacked]:[j.TextureType.unpacked,j.TextureType.unpacked],cacheHint:nt});var _e,nt;return Object.assign(Object.assign({},tt),{get:()=>((at,lt,ut,ct)=>{const dt=lt.length>2?"value += getBias(output_channel);":"",ft=lt[0].dims.slice(),ht=lt[1].dims.slice(),gt=ht[0]/ct.group;a.Logger.verbose("GroupedConv",`autpPad:${ct.autoPad}, dilations:${ct.dilations}, group:${ct.group}, kernelShape:${ct.kernelShape}, pads:${ct.pads}, strides:${ct.strides}`);const yt=(0,et.calculateOutputShape)(ft,ht,ct.dilations,ct.pads,ct.strides),bt=(0,$.getGlsl)(at.session.backend.glContext.version),{activationFunction:vt,applyActivation:mt}=(0,rt.getActivationSnippet)(ct),xt=`
  const ivec2 strides = ivec2(${ct.strides[0]}, ${ct.strides[1]});
  const ivec2 pads = ivec2(${ct.pads[0]}, ${ct.pads[1]});
  ${vt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${gt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${ht[1]}; wInChannel++) {
      int input_channel = group_id * ${ht[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${ht[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${ct.dilations[0]};

        if (xHeight < 0 || xHeight >= ${ft[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${ht[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${ct.dilations[1]};
          if (xWidth < 0 || xWidth >= ${ft[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${dt}
    ${mt}
    ${bt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},ut),{output:{dims:yt,type:lt[0].type,textureType:j.TextureType.unpacked},shaderSource:xt,hasMain:!0})})(st,it,tt,ot)})}},1386:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.conv2DPacked=i.conv2DPackedPointwise=void 0;const a=s(8138),$=s(8555),j=s(708);i.conv2DPackedPointwise=(et,rt,st)=>{const it=rt[0].dims,ot=rt[1].dims,tt=(0,a.calculateOutputShape)(it,ot,st.dilations,st.pads,st.strides),_e=et.reshapePacked(rt[0],[it[1],it[2]*it[3]]),nt=et.reshapePacked(rt[1],[ot[0],ot[1]]),at=rt.length>2?[nt,_e,rt[2]]:[nt,_e],lt=et.run((0,j.createPackedMatmulProgramInfoLoader)(et,at,st),at);return et.reshapePacked(lt,tt)},i.conv2DPacked=(et,rt,st)=>{const it=rt[0].dims,ot=rt[1].dims,tt=(0,a.calculateOutputShape)(it,ot,st.dilations,st.pads,st.strides),_e=et.run((0,$.createPackedIm2ColProgramInfoLoader)(et,rt[0],rt[1],tt,st),[rt[0]]),nt=et.reshapePacked(rt[1],[ot[0],ot[1]*ot[2]*ot[3]]),at=rt.length===3?[nt,_e,rt[2]]:[nt,_e],lt=et.run((0,j.createPackedMatmulProgramInfoLoader)(et,at,st),at);return et.reshapePacked(lt,tt)}},9663:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConvTransposeAttributes=i.convTranspose=void 0;const a=s(246),$=s(5060),j=s(2039),et=s(2823),rt=(nt,at,lt,ut,ct,dt)=>(nt-1)*at+lt+(ut-1)*ct+1-dt,st=(nt,at,lt,ut,ct)=>{const dt=Math.floor(nt/2);at==="SAME_UPPER"?(lt[ut]=dt,lt[ct]=nt-dt):at==="SAME_LOWER"&&(lt[ut]=nt-dt,lt[ct]=dt)};i.convTranspose=(nt,at,lt)=>(_e(at,lt),it(nt,at,lt));const it=(nt,at,lt)=>{const ut=tt(lt,at);return[ot(nt,at,ut)]},ot=(nt,at,lt)=>nt.run(((ut,ct,dt)=>{const ft=(ht=ct.length>2,gt=dt.cacheKey,{name:"ConvTranspose",inputNames:ht?["X","W","B"]:["X","W"],inputTypes:ht?[j.TextureType.unpacked,j.TextureType.unpacked,j.TextureType.unpacked]:[j.TextureType.unpacked,j.TextureType.unpacked],cacheHint:gt});var ht,gt;return Object.assign(Object.assign({},ft),{get:()=>((yt,bt,vt,mt)=>{const xt=bt.length>2?"getB(output_channel)":"0.0",wt=bt[0].dims,Ct=bt[1].dims,kt=Ct[1],It=Ct[0]/mt.group,Pt=[bt[0].dims[0],bt[1].dims[1]*mt.group,...mt.outputShape],St=(0,$.getGlsl)(yt.session.backend.glContext.version),{activationFunction:Ot,applyActivation:At}=(0,et.getActivationSnippet)(mt),$t=`
  const ivec2 strides = ivec2(${mt.strides[0]}, ${mt.strides[1]});
  const ivec2 pads = ivec2(${mt.pads[0]}, ${mt.pads[1]});
  ${Ot}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${kt};
    int wOutChannel = output_channel - group_id * ${kt};

    float value = ${xt};
    for (int inChannelOffset = 0; inChannelOffset < ${It}; inChannelOffset++) {
      int input_channel = group_id * ${It} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${Ct[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${Ct[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${mt.dilations[0]}, wHOff * ${mt.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${wt[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${wt[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${At}
    ${St.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},vt),{output:{dims:Pt,type:bt[0].type,textureType:j.TextureType.unpacked},shaderSource:$t,hasMain:!0})})(ut,ct,ft,dt)})})(nt,at,lt),at),tt=(nt,at)=>{const lt=nt.kernelShape.slice();if(nt.kernelShape.length===0)for(let ft=2;ft<at[1].dims.length;++ft)lt.push(at[1].dims[ft]);const ut=nt.pads.slice(),ct=nt.outputShape.slice();((ft,ht,gt,yt,bt,vt,mt,xt)=>{const wt=ft.length-2,Ct=xt.length===0;for(let kt=0;kt<wt;++kt){const It=Ct?ft[kt+2]*vt[kt]:xt[kt],Pt=rt(ft[kt+2],vt[kt],bt[kt],ht[kt],gt[kt],It);st(Pt,yt,bt,kt,kt+wt),Ct&&xt.push(vt[kt]*(ft[kt+2]-1)+mt[kt]+(ht[kt]-1)*gt[kt]+1-bt[kt]-bt[kt+wt])}})(at[0].dims,lt,nt.dilations,nt.autoPad,ut,nt.strides,nt.outputPadding,ct);const dt=Object.assign({},nt);return Object.assign(dt,{kernelShape:lt,pads:ut,outputShape:ct,cacheKey:nt.cacheKey}),dt};i.parseConvTransposeAttributes=nt=>{const at=nt.attributes,lt=(0,et.parseInternalActivationAttributes)(at),ut=at.getString("auto_pad","NOTSET"),ct=at.getInts("dilations",[1,1]),dt=at.getInt("group",1),ft=at.getInts("kernel_shape",[]),ht=at.getInts("output_padding",[0,0]),gt=at.getInts("output_shape",[]),yt=at.getInts("pads",[0,0,0,0]),bt=at.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:ut,dilations:ct,group:dt,kernelShape:ft,outputPadding:ht,outputShape:gt,pads:yt,strides:bt},lt))};const _e=(nt,at)=>{if(!nt||nt.length!==2&&nt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(nt[0].dims.length!==4||nt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(nt[0].dims[1]!==nt[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const lt=nt[1].dims[1]*at.group;if(nt.length===3&&(nt[2].dims.length!==1||nt[2].dims[0]!==lt))throw new Error("invalid bias");const ut=nt[0].dims.length-2;if(at.dilations.length!==ut)throw new Error(`dilations should be ${ut}D`);if(at.strides.length!==ut)throw new Error(`strides should be ${ut}D`);if(at.pads.length!==2*ut)throw new Error(`pads should be ${2*ut}D`);if(at.outputPadding.length!==ut)throw new Error(`output_padding should be ${ut}D`);if(at.kernelShape.length!==0&&at.kernelShape.length!==nt[1].dims.length-2)throw new Error("invalid kernel shape");if(at.outputShape.length!==0&&at.outputShape.length!==nt[0].dims.length-2)throw new Error("invalid output shape");if(nt[0].type!=="float32"||nt[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(nt.length===3&&nt[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseConvAttributes=i.conv=i.calculateOutputShape=void 0;const a=s(246),$=s(2517),j=s(4770),et=s(1386),rt=s(9828),st=s(2823),it=s(3248),ot=s(5623);i.calculateOutputShape=(ut,ct,dt,ft,ht)=>{const gt=ut[0],yt=ut.slice(2),bt=yt.length,vt=ct[0],mt=ct.slice(2).map((wt,Ct)=>wt+(wt-1)*(dt[Ct]-1)),xt=yt.map((wt,Ct)=>wt+ft[Ct]+ft[Ct+bt]).map((wt,Ct)=>Math.floor((wt-mt[Ct]+ht[Ct])/ht[Ct]));return[gt,vt].concat(...xt)},i.conv=(ut,ct,dt)=>(lt(ct,dt),tt(ut,ct,dt));const tt=(ut,ct,dt)=>{const ft=at(dt,ct),ht=ut.session.pack,gt=ft.kernelShape[0]===1&&ft.kernelShape[1]===1;return ft.group>1?[ut.run((0,j.createUnpackedGroupedConvProgramInfoLoader)(ut,ct,ft),ct)]:gt&&ht?[_e(ut,ct,ft)]:ht&&ct[0].dims.length===4&&ct[0].dims[0]===1&&!gt?[(0,et.conv2DPacked)(ut,ct,ft)]:[nt(ut,ct,ft)]},_e=(ut,ct,dt)=>{const ft=ct[0].dims,ht=ct[1].dims,gt=(0,i.calculateOutputShape)(ft,ht,dt.dilations,dt.pads,dt.strides),yt=ut.reshapeUnpacked(ct[0],[ft[1],ft[2]*ft[3]]),bt=ut.reshapeUnpacked(ct[1],[ht[0],ht[1]]),vt=ct.length>2?[bt,yt,ct[2]]:[bt,yt],mt=ut.run((0,ot.createMatmulProgramInfoLoader)(vt,dt),vt);return ut.reshapeUnpacked(mt,gt)},nt=(ut,ct,dt)=>{const ft=ct[0].dims,ht=ct[1].dims,gt=(0,i.calculateOutputShape)(ft,ht,dt.dilations,dt.pads,dt.strides),yt=ut.run((0,it.createIm2ColProgramInfoLoader)(ut,ct[0],ct[1],gt,dt),[ct[0]]),bt=ct.length===3?[yt,ct[1],ct[2]]:[yt,ct[1]];return ut.run((0,rt.createDotProductProgramInfoLoader)(ut,ct,gt,dt),bt)},at=(ut,ct)=>{const dt=ut.kernelShape.slice();if(ut.kernelShape.length===0)for(let gt=2;gt<ct[1].dims.length;++gt)dt.push(ct[1].dims[gt]);const ft=ut.pads.slice();$.PoolConvUtil.adjustPadsBasedOnAutoPad(ct[0].dims,ut.strides,ut.dilations,dt,ft,ut.autoPad);const ht=Object.assign({},ut);return Object.assign(ht,{kernelShape:dt,pads:ft,cacheKey:ut.cacheKey}),ht};i.parseConvAttributes=ut=>{const ct=ut.attributes,dt=(0,st.parseInternalActivationAttributes)(ct),ft=ct.getString("auto_pad","NOTSET"),ht=ct.getInts("dilations",[1,1]),gt=ct.getInt("group",1),yt=ct.getInts("kernel_shape",[]),bt=ct.getInts("pads",[0,0,0,0]),vt=ct.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:ft,dilations:ht,group:gt,kernelShape:yt,pads:bt,strides:vt},dt))};const lt=(ut,ct)=>{if(!ut||ut.length!==2&&ut.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(ut[0].dims.length!==4||ut[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(ut[0].dims[1]!==ut[1].dims[1]*ct.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(ut.length===3&&(ut[2].dims.length!==1||ut[1].dims[0]!==ut[2].dims[0]))throw new Error("invalid bias");const dt=ut[0].dims.length-2;if(ct.dilations.length!==dt)throw new Error(`dilations should be ${dt}D`);if(ct.strides.length!==dt)throw new Error(`strides should be ${dt}D`);if(ct.pads.length!==2*dt)throw new Error(`pads should be ${2*dt}D`);if(ct.kernelShape.length!==0&&ct.kernelShape.length!==ut[1].dims.length-2)throw new Error("invalid kernel shape");if(ut[0].type!=="float32"||ut[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(ut.length===3&&ut[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseDepthToSpaceAttributes=i.depthToSpace=void 0;const a=s(3738);i.depthToSpace=(j,et,rt)=>{$(et);const st=rt.blocksize,it=st*st,ot=rt.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],tt=rt.mode==="DCR"?[et[0].dims[0],st,st,et[0].dims[1]/it,et[0].dims[2],et[0].dims[3]]:[et[0].dims[0],et[0].dims[1]/it,st,st,et[0].dims[2],et[0].dims[3]],_e=j.reshapeUnpacked(et[0],tt),nt={perm:ot,cacheKey:`${ot}`},[at]=(0,a.transpose)(j,[_e],nt),lt=[et[0].dims[0],et[0].dims[1]/it,et[0].dims[2]*st,et[0].dims[3]*st];return[j.reshapeUnpacked(at,lt)]},i.parseDepthToSpaceAttributes=j=>{const et=j.attributes.getInt("blocksize");if(et<1)throw new Error(`blocksize must be >= 1, but got : ${et} for DepthToSpace`);const rt=j.attributes.getString("mode","DCR");if(rt!=="DCR"&&rt!=="CRD")throw new Error(`unrecognized mode: ${rt} for DepthToSpace`);return{mode:rt,blocksize:et}};const $=j=>{if(j.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${j.length}`);if(j[0].type==="string"||j[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createDotProductProgramInfoLoader=void 0;const a=s(2517),$=s(5060),j=s(2039),et=s(2823),rt=s(3248);i.createDotProductProgramInfoLoader=(st,it,ot,tt)=>{const _e=((nt,at)=>({name:"ConvDotProduct",inputNames:nt?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:nt?[j.TextureType.unpacked,j.TextureType.packedLastDimension,j.TextureType.unpacked]:[j.TextureType.unpacked,j.TextureType.packedLastDimension],cacheKey:at.activationCacheKey}))(it.length>2,tt);return Object.assign(Object.assign({},_e),{get:()=>((nt,at,lt,ut,ct)=>{const dt=lt[0].dims,ft=lt[1].dims,ht=[ft[0],Math.ceil(dt[1]*ft[2]*ft[3]/4)],gt=(0,rt.calculateIm2ColDims)(dt,ft,ut),[yt,bt]=nt.calculateTextureWidthAndHeight(ht,j.TextureType.packedLastDimension),vt=a.ShapeUtil.computeStrides(gt),[mt,xt]=nt.calculateTextureWidthAndHeight(gt,j.TextureType.packedLastDimension),wt=ut.length,Ct=lt.length<3?"0.0":"_B(b)",kt=Math.ceil(dt[1]*ft[2]*ft[3]/4),{activationFunction:It,applyActivation:Pt}=(0,et.getActivationSnippet)(ct),St=(0,$.getGlsl)(nt.session.backend.glContext.version),Ot=`
${It}
float process(int indices[${wt}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${vt[0]} + im2col[1] * ${vt[1]} + im2col[2] * ${vt[2]};
  int kernelOffset = indices[1] * ${ht[1]};
  float value = ${Ct};
  for (int i = 0; i < ${kt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${mt}, ${xt});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${yt}, ${bt});
    value += dot(${St.texture2D}(Im2Col, im2colCoords), ${St.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${Pt}
  return value;
}`;return Object.assign(Object.assign({},at),{output:{dims:ut,type:lt[0].type,textureType:j.TextureType.unpacked},shaderSource:Ot})})(st,_e,it,ot,tt)})}},7992:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseFlattenAttributes=i.flatten=void 0;const a=s(2517);i.flatten=(j,et,rt)=>{$(et,rt);const st=a.ShapeUtil.flattenShape(et[0].dims,rt);return[j.reshapeUnpacked(et[0],st)]},i.parseFlattenAttributes=j=>j.attributes.getInt("axis",1);const $=(j,et)=>{if(!j||j.length!==1)throw new Error("Flatten requires 1 input.");const rt=j[0].dims.length;if(rt===0)throw new Error("scalar tensor is not supported.");if(et<-rt||et>rt)throw new Error("Invalid axis");if(j[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInternalActivationAttributes=i.getActivationSnippet=void 0;const a=s(2517),$=s(4909);i.getActivationSnippet=function(j){let et;switch(j.activation){case"Relu":et=(0,$.glslRelu)();break;case"Sigmoid":et=(0,$.glslSigmoid)();break;case"Clip":et=(0,$.glslClip)(j.clipMin,j.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const rt=et.name;return{activationFunction:et.body,applyActivation:`value = ${rt}_(value);`}},i.parseInternalActivationAttributes=j=>{const et=j.getString("activation","");if(et==="Clip"){const[rt,st]=j.getFloats("activation_params",[a.MIN_CLIP,a.MAX_CLIP]);return{activation:et,clipMax:st,clipMin:rt,activationCacheKey:`${et}:${rt},${st}`}}return{activation:et,activationCacheKey:et}}},1253:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseGatherAttributes=i.gather=void 0;const a=s(246),$=s(782),j=s(2517),et=s(2039);i.gather=(ot,tt,_e)=>(it(tt,_e.axis),[ot.run(st(ot,tt,_e),tt)]),i.parseGatherAttributes=ot=>(0,a.createAttributeWithCacheKey)({axis:ot.attributes.getInt("axis",0)});const rt={name:"Gather",inputNames:["A","B"],inputTypes:[et.TextureType.unpacked,et.TextureType.unpacked]},st=(ot,tt,_e)=>{const nt=Object.assign(Object.assign({},rt),{cacheHint:_e.cacheKey});return Object.assign(Object.assign({},nt),{get:()=>((at,lt,ut,ct)=>{const dt=ut[0].dims.slice(),ft=ut[1].dims.slice(),ht=new Array(dt.length+ft.length-1);ct=j.ShapeUtil.normalizeAxis(ct,dt.length);const gt=[];for(let bt=0;bt<ht.length;bt++)bt<ct?(ht[bt]=dt[bt],gt.push(`inputIdx[${bt}] = outputIdx[${bt}];`)):bt<ct+ft.length?(ht[bt]=ft[bt-ct],gt.push(`indexDataIdx[${bt-ct}] = outputIdx[${bt}];`)):(ht[bt]=dt[bt-ft.length+1],gt.push(`inputIdx[${bt-ft.length+1}] = outputIdx[${bt}];`));const yt=`
      float process(int outputIdx[${ht.length||1}]) {
        int inputIdx[${dt.length}];
        int indexDataIdx[${ft.length||1}];
        indexDataIdx[0] = 0;
        ${gt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${ct}] = idx < 0 ? idx + ${dt[ct]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},lt),{output:{dims:ht,type:ut[0].type,textureType:et.TextureType.unpacked},shaderSource:yt})})(0,nt,tt,_e.axis)})},it=(ot,tt)=>{if(!ot||ot.length!==2)throw new Error("Gather requires 2 inputs.");const _e=ot[0].dims.length;if(_e<1)throw new Error("Invalid input shape.");if(tt<-_e||tt>_e-1)throw new Error("Invalid axis.");if($.NUMBER_TYPES.indexOf(ot[0].type)===-1)throw new Error("Invaid input type.");if(ot[1].type!=="int32"&&ot[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseGemmAttributesV11=i.parseGemmAttributesV7=i.gemm=void 0;const a=s(246),$=s(2517),j=s(2039);i.gemm=(ot,tt,_e)=>(it(tt,_e),[ot.run(rt(tt,_e),tt)]);const et=(ot,tt)=>{const _e=ot.attributes.getInt("transA",0)!==0,nt=ot.attributes.getInt("transB",0)!==0,at=ot.attributes.getFloat("alpha",1),lt=ot.attributes.getFloat("beta",1);return(0,a.createAttributeWithCacheKey)({transA:_e,transB:nt,alpha:at,beta:lt,isOptionalC:tt})};i.parseGemmAttributesV7=ot=>et(ot,!1),i.parseGemmAttributesV11=ot=>et(ot,!0);const rt=(ot,tt)=>{const _e={name:"Gemm",inputNames:ot.length===3?["A","B","C"]:["A","B"],inputTypes:ot.length===3?[j.TextureType.unpacked,j.TextureType.unpacked,j.TextureType.unpacked]:[j.TextureType.unpacked,j.TextureType.unpacked],key:tt.cacheKey};return Object.assign(Object.assign({},_e),{get:()=>st(_e,ot,tt)})},st=(ot,tt,_e)=>{const nt=tt[0].dims.slice(),at=tt[1].dims.slice(),[lt,ut]=$.GemmUtil.getShapeOfGemmResult(nt,_e.transA,at,_e.transB,tt.length===3?tt[2].dims:void 0),ct=[lt,ut];if(!ct)throw new Error("Can't use gemm on the given tensors");let dt=nt[nt.length-1],ft="";_e.transA&&(dt=nt[0]),_e.transA&&_e.transB?ft="value += _A_T(a) * _B_T(b);":_e.transA&&!_e.transB?ft="value += _A_T(a) * _B(b);":!_e.transA&&_e.transB?ft="value += _A(a) * _B_T(b);":_e.transA||_e.transB||(ft="value += _A(a) * _B(b);");const ht=ct.length,gt=`
      float process(int indices[${ht}]) {
          int a[${ht}];
          int b[${ht}];
          ${tt.length===3?`int c[${tt[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${tt.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${dt}; ++k) {
              a[${ht-1}] = k;
              b[${ht-2}] = k;
              ${ft}
          }

          value = value * alpha;
          ${tt.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},ot),{output:{dims:ct,type:tt[0].type,textureType:j.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:_e.alpha},{name:"beta",type:"float",data:_e.beta}],shaderSource:gt})},it=(ot,tt)=>{if(!ot)throw new Error("Input is missing");if(tt.isOptionalC&&(ot.length<2||ot.length>3))throw new Error("Invaid input shape.");if(!tt.isOptionalC&&ot.length!==3)throw new Error("Gemm requires 3 inputs");if(ot.length===3&&ot[2].dims.length!==1&&ot[2].dims.length!==2)throw new Error("Invalid input shape of C");if(ot[0].type!=="float32"&&ot[0].type!=="float64"||ot[1].type!=="float32"&&ot[1].type!=="float64"||ot.length===3&&ot[2].type!=="float32"&&ot[2].type!=="float64")throw new Error("Invalid input type.");if(ot[0].type!==ot[1].type||ot.length===3&&ot[0].type!==ot[2].type)throw new Error("Input types are mismatched")}},8555:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedIm2ColProgramInfoLoader=void 0;const a=s(5060),$=s(2039),j=s(2827);i.createPackedIm2ColProgramInfoLoader=(et,rt,st,it,ot)=>{const tt=(_e=ot.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[$.TextureType.packed],cacheHint:_e});var _e;return Object.assign(Object.assign({},tt),{get:()=>((nt,at,lt,ut,ct,dt)=>{const ft=lt.dims,ht=ut.dims,gt=ct.length,yt=[ht[1]*ht[2]*ht[3],ct[2]*ct[3]],bt=ht[2]*ht[3],vt=(0,j.unpackFromChannel)(),mt=(0,a.getGlsl)(nt.session.backend.glContext.version);let xt="";for(let Ct=0;Ct<=1;Ct++)for(let kt=0;kt<=1;kt++)xt+=`
            blockIndex = rc.x + ${kt};
            pos = rc.y + ${Ct};

            if(blockIndex < ${yt[1]} && pos < ${yt[0]}) {
              offsetY = int(blockIndex / (${ct[gt-1]})) * ${dt.strides[0]} -
                ${dt.pads[0]};
              d0 = offsetY + ${dt.dilations[0]} * (imod(pos, ${bt}) / ${ht[2]});

              if(d0 < ${ft[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${ct[gt-1]}) * ${dt.strides[1]} -
                  ${dt.pads[1]};
                d1 = offsetX + ${dt.dilations[1]} * imod(imod(pos, ${bt}), ${ht[2]});

                if(d1 < ${ft[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${bt}.);
                    innerDims = vec2(d0, d1);
                    result[${2*Ct+kt}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const wt=`
      ${vt}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${xt}
          ${mt.output} = result;
      }
            `;return Object.assign(Object.assign({},at),{output:{dims:yt,type:lt.type,textureType:$.TextureType.packed},shaderSource:wt,hasMain:!0})})(et,tt,rt,st,it,ot)})}},3248:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.calculateIm2ColDims=i.createIm2ColProgramInfoLoader=void 0;const a=s(2039);i.createIm2ColProgramInfoLoader=($,j,et,rt,st)=>{const it=(ot=st.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:ot});var ot;return Object.assign(Object.assign({},it),{get:()=>((tt,_e,nt,at,lt,ut)=>{const ct=nt.dims,dt=at.dims,ft=lt.length,ht=(0,i.calculateIm2ColDims)(ct,dt,lt,4),gt=`
        const int XC = ${ct[1]};
        const int XH = ${ct[2]};
        const int XW = ${ct[3]};
        const int KH = ${ut.kernelShape[0]};
        const int KW = ${ut.kernelShape[1]};
        const int dilationH = ${ut.dilations[0]};
        const int dilationW = ${ut.dilations[1]};
        const int strideH = ${ut.strides[0]};
        const int strideW = ${ut.strides[1]};
        const int padH = ${ut.pads[0]};
        const int padW = ${ut.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${ft}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${ct.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},_e),{output:{dims:ht,type:nt.type,textureType:a.TextureType.packedLastDimension},shaderSource:gt})})(0,it,j,et,rt,st)})},i.calculateIm2ColDims=($,j,et,rt=4)=>[et[0],et[2],et[3],Math.ceil($[1]*j[2]*j[3]/rt)]},6572:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseImageScalerAttributes=i.imageScaler=void 0;const a=s(246),$=s(2039);i.imageScaler=(it,ot,tt)=>(st(ot),[it.run(et(it,ot,tt),ot)]),i.parseImageScalerAttributes=it=>{const ot=it.attributes.getFloat("scale"),tt=it.attributes.getFloats("bias");return(0,a.createAttributeWithCacheKey)({scale:ot,bias:tt})};const j={name:"ImageScaler",inputNames:["X"],inputTypes:[$.TextureType.unpacked]},et=(it,ot,tt)=>{const _e=Object.assign(Object.assign({},j),{cacheHint:tt.cacheKey});return Object.assign(Object.assign({},_e),{get:()=>((nt,at,lt,ut)=>{const ct=lt[0].dims.slice(),dt=ct.length,ft=`
      ${rt(ut.bias.length)}
      float process(int indices[${dt}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},at),{output:{dims:ct,type:lt[0].type,textureType:$.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:ut.bias.length,data:ut.bias},{name:"scale",type:"float",data:ut.scale}],shaderSource:ft})})(0,_e,ot,tt)})},rt=it=>{const ot=[`float getBias(float bias[${it}], int channel) {`];for(let tt=0;tt<it;++tt)tt===0?ot.push(`	if (channel == ${tt}) { return bias[${tt}]; }`):tt===it-1?ot.push(`	else { return bias[${tt}]; }`):ot.push(`	else if (channel == ${tt}) { return bias[${tt}]; }`);return ot.push("	}"),ot.join(`
`)},st=it=>{if(!it||it.length!==1)throw new Error("ImageScaler requires 1 input.");if(it[0].dims.length!==4)throw new Error("Invalid input shape.");if(it[0].type!=="float32"&&it[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseInstanceNormalizationAttributes=i.instanceNormalization=void 0;const a=s(5060),$=s(2039);i.instanceNormalization=(ot,tt,_e)=>{it(tt);const nt=ot.run(et(tt[0]),tt);return[ot.run(st(ot,tt[0],_e,nt.dims),[tt[0],nt,tt[1],tt[2]])]},i.parseInstanceNormalizationAttributes=ot=>ot.attributes.getFloat("epsilon",1e-5);const j={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[$.TextureType.unpacked]},et=ot=>Object.assign(Object.assign({},j),{get:()=>((tt,_e)=>{const nt=_e.dims.slice(),at=nt[1],lt=nt[2]*nt[3],ut=[nt[0],at],ct=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${nt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${nt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${lt});
        temp = 0.0;
        for(int a2=0; a2<${nt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${nt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${lt});

        return v;
      }`;return Object.assign(Object.assign({},tt),{output:{dims:ut,type:_e.type,textureType:$.TextureType.packedLastDimension},shaderSource:ct})})(j,ot)}),rt={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[$.TextureType.unpacked,$.TextureType.packedLastDimension,$.TextureType.unpacked,$.TextureType.unpacked]},st=(ot,tt,_e,nt)=>{const at=Object.assign(Object.assign({},rt),{cacheHint:`${_e}`});return Object.assign(Object.assign({},at),{get:()=>((lt,ut,ct,dt,ft)=>{const ht=(0,a.getGlsl)(lt.session.backend.glContext.version),[gt,yt]=lt.calculateTextureWidthAndHeight(ft,$.TextureType.packedLastDimension),[bt,vt]=[gt/4,yt],mt=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${bt}, ${vt});
        return ${ht.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},ut),{output:{dims:ct.dims,type:ct.type,textureType:$.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:dt}],shaderSource:mt})})(ot,at,tt,_e,nt)})},it=ot=>{if(!ot||ot.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const tt=ot[0],_e=ot[1],nt=ot[2];if(tt.dims.length<3||_e.dims.length!==1||nt.dims.length!==1)throw new Error("Invalid input shape.");if(_e.dims[0]!==tt.dims[1]||nt.dims[0]!==tt.dims[1])throw new Error("Input shapes are mismatched.");if(tt.type!=="float32"&&tt.type!=="float64"||_e.type!=="float32"&&_e.type!=="float64"||nt.type!=="float32"&&nt.type!=="float64")throw new Error("Invalid input type.");if(ot[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackedMatmulProgramInfoLoader=void 0;const a=s(2517),$=s(5060),j=s(2039),et=s(9390),rt=s(2823),st=s(5623);i.createPackedMatmulProgramInfoLoader=(it,ot,tt)=>{const _e=(nt=ot.length>2,at=tt.activationCacheKey,{name:"MatMul (packed)",inputNames:nt?["A","B","Bias"]:["A","B"],inputTypes:nt?[j.TextureType.packed,j.TextureType.packed,j.TextureType.packed]:[j.TextureType.packed,j.TextureType.packed],cacheHint:at});var nt,at;return Object.assign(Object.assign({},_e),{get:()=>((lt,ut,ct,dt)=>{const ft=ct.length>2,ht=ft?"value += getBiasForMatmul();":"",gt=ct[0].dims,yt=ct[1].dims,bt=a.BroadcastUtil.calcShape(gt,yt,!0),vt=!a.ShapeUtil.areEqual(ct[0].dims,ct[1].dims);if(!bt)throw new Error("Can't use matmul on the given tensors");const mt=gt[gt.length-1],xt=Math.ceil(mt/2),wt=gt.length,Ct=yt.length,kt=(0,$.getGlsl)(lt.session.backend.glContext.version),It=(0,et.getCoordsDataType)(bt.length),Pt=bt.length,St=(0,et.getGlChannels)(),{activationFunction:Ot,applyActivation:At}=(0,rt.getActivationSnippet)(dt),$t=ft?`${(0,st.getBiasForMatmul)(It,St,ct[2].dims,bt,!0)}`:"",jt=vt?`${function(ir,sr,Jt,rr){let Yt=[],Kt=[];const er=Jt[0].dims,Bt=Jt[1].dims,cr=er.length,ar=Bt.length,pr=rr.length,Rr=pr-cr,kr=pr-ar;Yt=er.map((Pr,Dr)=>`coords.${sr[Dr+Rr]}`),Yt[cr-1]="i*2",Yt.join(", "),Kt=Bt.map((Pr,Dr)=>`coords.${sr[Dr+kr]}`),Kt[ar-2]="i*2",Kt.join(", ");const Fr=a.BroadcastUtil.getBroadcastDims(er,rr),Vr=a.BroadcastUtil.getBroadcastDims(Bt,rr),dr=Fr.map(Pr=>`coords.${sr[Pr+Rr]} = 0;`).join(`
`),Ar=Vr.map(Pr=>`coords.${sr[Pr+kr]} = 0;`).join(`
`),jr=`int lastDim = coords.${sr[pr-1]};
  coords.${sr[pr-1]} = coords.${sr[pr-2]};
  coords.${sr[pr-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${ir} coords = getOutputCoords();
  ${jr}
  ${dr}
  vec4 outputValue = getA(${Yt});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${ir} coords = getOutputCoords();
  ${jr}
  ${Ar}
  vec4 outputValue = getB(${Kt});
  return outputValue;
}`}(It,St,ct,bt)}`:"",zt=vt?"getAAtOutCoordsMatmul(i)":`getA(${function(ir,sr){let Jt="";for(let rr=0;rr<sr-2;rr++)Jt+=`rc.${ir[rr]}, `;return Jt+=`rc.${ir[sr-2]}, i*2`,Jt}(St,wt)})`,Xt=vt?"getBAtOutCoordsMatmul(i)":`getB(${function(ir,sr){let Jt="";for(let rr=0;rr<sr-2;rr++)Jt+=`rc.${ir[rr]}, `;return Jt+=`i*2, rc.${ir[sr-1]}`,Jt}(St,Ct)})`,tr=`
            ${jt}
            ${$t}
            ${Ot}
            void main() {
              ${vt?"":`${It} rc =
          getOutputCoords(); int lastDim = rc.${St[Pt-1]}; rc.${St[Pt-1]} =
          rc.${St[Pt-2]}; rc.${St[Pt-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${xt}; i++) {
                vec4 a = ${zt};
                vec4 b = ${Xt};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${ht}
              ${At}
              ${kt.output} = value;
            }`;return Object.assign(Object.assign({},ut),{output:{dims:bt,type:ct[0].type,textureType:j.TextureType.packed},shaderSource:tr,hasMain:!0})})(it,_e,ot,tt)})}},5623:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getBiasForMatmul=i.createMatmulProgramInfoLoader=i.parseMatMulAttributes=i.matMul=void 0;const a=s(2517),$=s(2039),j=s(9390),et=s(2823),rt=s(708);function st(tt,_e){const nt=(at=tt.length>2,lt=_e.activationCacheKey,{name:"MatMul",inputNames:at?["A","B","Bias"]:["A","B"],inputTypes:at?[$.TextureType.unpacked,$.TextureType.unpacked,$.TextureType.unpacked]:[$.TextureType.unpacked,$.TextureType.unpacked],cacheHint:lt});var at,lt;return Object.assign(Object.assign({},nt),{get:()=>function(ut,ct,dt){const ft=ct[0].dims,ht=ct[1].dims,gt=a.BroadcastUtil.calcShape(ft,ht,!0);if(!gt)throw new Error("Can't use matmul on the given tensors");const yt=(0,j.getCoordsDataType)(gt.length),bt=(0,j.getGlChannels)(),{activationFunction:vt,applyActivation:mt}=(0,et.getActivationSnippet)(dt),xt=ct.length>2,wt=xt?"value += getBiasForMatmul();":"",Ct=xt?`${ot(yt,bt,ct[2].dims,gt,!1)}`:"",kt=gt.length,It=ft.length,Pt=ht.length,St=`
    ${vt}
    ${Ct}
    float process(int indices[${kt}]) {
        int a[${It}];
        int b[${Pt}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${ft[ft.length-1]}; ++k) {
            a[${It-1}] = k;
            b[${Pt-2}] = k;
            value += _A(a) * _B(b);
        }
        ${wt}
        ${mt}
        return value;
    }`;return Object.assign(Object.assign({},ut),{output:{dims:gt,type:ct[0].type,textureType:$.TextureType.unpacked},shaderSource:St})}(nt,tt,_e)})}i.matMul=(tt,_e,nt)=>(it(_e),tt.session.pack?[tt.run((0,rt.createPackedMatmulProgramInfoLoader)(tt,_e,nt),_e)]:[tt.run(st(_e,nt),_e)]),i.parseMatMulAttributes=tt=>(0,et.parseInternalActivationAttributes)(tt.attributes),i.createMatmulProgramInfoLoader=st;const it=tt=>{if(!tt||tt.length!==2)throw new Error("MatMul requires 2 inputs.");if(tt[0].dims[tt[0].dims.length-1]!==tt[1].dims[tt[1].dims.length-2])throw new Error("shared dimension does not match.");if(tt[0].type!=="float32"&&tt[0].type!=="float64"||tt[1].type!=="float32"&&tt[1].type!=="float64")throw new Error("inputs should be float type");if(tt[0].type!==tt[1].type)throw new Error("inputs types should match")};function ot(tt,_e,nt,at,lt){let ut="";const ct=nt.length,dt=at.length,ft=dt-ct;ut=dt<2&&ct>0?"coords":nt.map((yt,bt)=>`coords.${_e[bt+ft]}`).join(", ");const ht=a.BroadcastUtil.getBroadcastDims(nt,at).map(yt=>`coords.${_e[yt+ft]} = 0;`).join(`
`);let gt="vec4(outputValue.xx, outputValue.yy)";return a.ShapeUtil.size(nt)===1&&(gt="vec4(outputValue.x)"),lt?`
vec4 getBiasForMatmul() {
  ${tt} coords = getOutputCoords();
  ${ht}
  vec4 outputValue = getBias(${ut});
  return ${gt};
}`:`
float getBiasForMatmul() {
  ${tt} coords = getOutputCoords();
  ${ht}
  return getBias(coords.x);
}`}i.getBiasForMatmul=ot},2403:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createPackProgramInfoLoader=void 0;const a=s(5060),$=s(2039),j=s(9390),et=s(2827),rt={name:"pack",inputNames:["A"],inputTypes:[$.TextureType.unpackedReversed]};i.createPackProgramInfoLoader=(st,it)=>Object.assign(Object.assign({},rt),{get:()=>((ot,tt)=>{const _e=(0,a.getGlsl)(ot.session.backend.glContext.version),nt=tt.dims,at=nt.length,lt=tt.dims.length,ut=(0,j.getCoordsDataType)(lt),ct=(0,et.getChannels)("rc",lt),dt=(ft=lt,ht=ct,gt=nt[nt.length-2],yt=nt[nt.length-1],ft===0||ft===1?"":`
    int r = ${ht[ft-2]};
    int c = ${ht[ft-1]};
    int rp1 = ${ht[ft-2]} + 1;
    int cp1 = ${ht[ft-1]} + 1;
    bool rEdge = rp1 >= ${yt};
    bool cEdge = cp1 >= ${gt};
    `);var ft,ht,gt,yt;let bt;bt=at===0?[1,1]:at===1?[nt[0],1]:[nt[lt-1],nt[lt-2]];const vt=function(wt,Ct,kt){if(wt===0)return"false";if(wt===1)return`rc > ${Ct[0]}`;let It="";for(let Pt=wt-2;Pt<wt;Pt++)It+=`${kt[Pt]} >= ${Ct[Pt-wt+2]}`,Pt<wt-1&&(It+="||");return It}(lt,bt,ct),mt=function(wt,Ct){const kt=wt.length;if(kt===0)return"getA(), 0, 0, 0";if(kt===1)return`getA(rc),
            rc + 1 >= ${wt[0]} ? 0. : getA(rc + 1),
            0, 0`;let It="";if(kt>2)for(let Pt=0;Pt<kt-2;++Pt)It+=`${Ct[Pt]},`;return`getA(${It}r, c),
          rEdge ? 0. : getA(${It}rp1, c),
          cEdge ? 0. : getA(${It}r, cp1),
          rEdge || cEdge ? 0. : getA(${It}rp1, cp1)`}(nt,ct),xt=`
        void main() {
          ${ut} rc = getOutputCoords();

          if(${vt}) {
            ${_e.output} = vec4(0);
          } else {
            ${dt}

            ${_e.output} = vec4(${mt});
          }
        }
      `;return Object.assign(Object.assign({},rt),{hasMain:!0,output:{dims:tt.dims,type:tt.type,textureType:$.TextureType.packed},shaderSource:xt})})(st,it)})},2827:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.unpackFromChannel=i.getChannels=i.getVecChannels=void 0;const a=s(9390);function $(j,et){return(0,a.getGlChannels)(et).map(rt=>`${j}.${rt}`)}i.getVecChannels=$,i.getChannels=function(j,et){return et===1?[j]:$(j,et)},i.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parsePadAttributesV11=i.padV11=i.parsePadAttributesV2=i.padV2=void 0;const a=s(246),$=s(2517),j=s(5060),et=s(2039),rt={name:"Pad",inputNames:["A"],inputTypes:[et.TextureType.unpacked]};i.padV2=(ut,ct,dt)=>(ot(ct),[ut.run(Object.assign(Object.assign({},rt),{cacheHint:dt.cacheKey,get:()=>it(ut,ct[0],dt)}),ct)]),i.parsePadAttributesV2=ut=>{const ct=ut.attributes.getString("mode","constant"),dt=ut.attributes.getFloat("value",0),ft=ut.attributes.getInts("pads");return(0,a.createAttributeWithCacheKey)({mode:ct,value:dt,pads:ft})},i.padV11=(ut,ct,dt)=>{tt(ct);const ft=st(ut,ct,dt);return(0,i.padV2)(ut,[ct[0]],ft)},i.parsePadAttributesV11=ut=>ut.attributes.getString("mode","constant");const st=(ut,ct,dt)=>{if(!ut.session.isInitializer(ct[1].dataId)||ct.length>=3&&!ut.session.isInitializer(ct[2].dataId))throw new Error("dynamic pad attributes are not allowed");const ft=Array.from(ct[1].integerData),ht=ct.length>=3?ct[2].floatData[0]:0;return(0,a.createAttributeWithCacheKey)({mode:dt,pads:ft,value:ht})},it=(ut,ct,dt)=>{const ft=$.ShapeUtil.padShape(ct.dims.slice(),dt.pads),ht=ft.length,gt=`
      ${_e(ut,ct,dt)}
      float process(int[${ht}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[et.TextureType.unpacked],output:{dims:ft,type:ct.type,textureType:et.TextureType.unpacked},shaderSource:gt}},ot=ut=>{if(!ut||ut.length!==1)throw new Error("Pad requires 1 input");if(ut[0].type!=="float32"&&ut[0].type!=="float64")throw new Error("Invalid input type.")},tt=ut=>{if(!ut||ut.length!==2&&ut.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(ut[1].type!=="int32")throw new Error("Invalid input type.");if(ut.length>=3&&ut[2].type==="string")throw new Error("Invalid input type.")},_e=(ut,ct,dt)=>{const ft=(0,j.getGlsl)(ut.session.backend.glContext.version),[ht,gt]=ut.calculateTextureWidthAndHeight(ct.dims,et.TextureType.unpacked),yt=$.ShapeUtil.computeStrides(ct.dims);switch(dt.mode){case"constant":return nt(ft,ct.dims,yt,ht,gt,dt.pads,dt.value);case"reflect":return at(ft,ct.dims,yt,ht,gt,dt.pads);case"edge":return lt(ft,ct.dims,yt,ht,gt,dt.pads);default:throw new Error("Invalid mode")}},nt=(ut,ct,dt,ft,ht,gt,yt)=>{const bt=ct.length;let vt="";for(let mt=bt-1;mt>=0;--mt)vt+=`
        k = m[${mt}] - ${gt[mt]};
        if (k < 0)  return constant;
        if (k >= ${ct[mt]}) return constant;
        offset += k * ${dt[mt]};
        `;return`
      float padA(int m[${bt}]) {
        const float constant = float(${yt});
        int offset = 0;
        int k = 0;
        ${vt}
        vec2 coords = offsetToCoords(offset, ${ft}, ${ht});
        float value = getColorAsFloat(${ut.texture2D}(A, coords));
        return value;
      }
      `},at=(ut,ct,dt,ft,ht,gt)=>{const yt=ct.length;let bt="";for(let vt=yt-1;vt>=0;--vt)bt+=`
        k = m[${vt}] - ${gt[vt]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(ct[vt]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${ct[vt]}) { k = _2n_1 - k; }
        }
        offset += k * ${dt[vt]};
        `;return`
      float padA(int m[${yt}]) {
        int offset = 0;
        int k = 0;
        ${bt}
        vec2 coords = offsetToCoords(offset, ${ft}, ${ht});
        float value = getColorAsFloat(${ut.texture2D}(A, coords));
        return value;
      }
      `},lt=(ut,ct,dt,ft,ht,gt)=>{const yt=ct.length;let bt="";for(let vt=yt-1;vt>=0;--vt)bt+=`
        k = m[${vt}] - ${gt[vt]};
        if (k < 0)  k = 0;
        if (k >= ${ct[vt]}) k = ${ct[vt]-1};
        offset += k * ${dt[vt]};
      `;return`
      float padA(int m[${yt}]) {
        int offset = 0;
        int k = 0;
        ${bt}
        vec2 coords = offsetToCoords(offset, ${ft}, ${ht});
        float value = getColorAsFloat(${ut.texture2D}(A, coords));
        return value;
      }
      `}},2143:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.globalMaxPool=i.parseMaxPoolAttributes=i.maxPool=i.parseGlobalAveragePoolAttributes=i.globalAveragePool=i.parseAveragePoolAttributes=i.averagePool=void 0;const a=s(246),$=s(2517),j=s(2039);i.averagePool=(lt,ut,ct)=>{tt(ut);const dt={name:"AveragePool",inputNames:["X"],inputTypes:[j.TextureType.unpacked],cacheHint:ct.cacheKey};return[lt.run(Object.assign(Object.assign({},dt),{get:()=>et(ut,dt,!1,ct)}),ut)]},i.parseAveragePoolAttributes=lt=>{const ut=lt.attributes.getString("auto_pad","NOTSET"),ct=lt.attributes.getInt("ceil_mode",0),dt=lt.attributes.getInt("count_include_pad",0)!==0,ft=lt.attributes.getInts("kernel_shape"),ht=lt.attributes.getInts("strides",[]),gt=lt.attributes.getInts("pads",[]);if(ct!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,a.createAttributeWithCacheKey)({autoPad:ut,ceilMode:ct,countIncludePad:dt,kernelShape:ft,strides:ht,pads:gt})};const et=(lt,ut,ct,dt)=>{const[ft,ht]=st(lt,dt,ct),gt=$.ShapeUtil.size(ft.kernelShape);let yt="";ft.countIncludePad?yt+=`value /= float(${gt});`:yt+=`value /= float(${gt} - pad);`;const bt=`
        ${_e(lt[0].dims,ft,"value += _X(x);",yt,"0.0")}
      `;return Object.assign(Object.assign({},ut),{output:{dims:ht,type:lt[0].type,textureType:j.TextureType.unpacked},shaderSource:bt})};i.globalAveragePool=(lt,ut,ct)=>{tt(ut);const dt={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[j.TextureType.unpacked],cacheHint:`${ct.countIncludePad}`};return[lt.run(Object.assign(Object.assign({},dt),{get:()=>et(ut,dt,!0,ct)}),ut)]},i.parseGlobalAveragePoolAttributes=lt=>{const ut=lt.attributes.getInt("count_include_pad",0)!==0;return(0,a.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:ut,kernelShape:[],strides:[],pads:[]})},i.maxPool=(lt,ut,ct)=>{tt(ut);const dt={name:"MaxPool",inputNames:["X"],inputTypes:[j.TextureType.unpacked],cacheHint:ct.cacheKey};return[lt.run(Object.assign(Object.assign({},dt),{get:()=>rt(ut,dt,!1,ct)}),ut)]},i.parseMaxPoolAttributes=lt=>{const ut=lt.attributes.getString("auto_pad","NOTSET"),ct=lt.attributes.getInt("ceil_mode",0),dt=lt.attributes.getInts("kernel_shape"),ft=lt.attributes.getInts("strides",[]),ht=lt.attributes.getInts("pads",[]),gt=lt.attributes.getInt("storage_order",0),yt=lt.attributes.getInts("dilations",[]);if(gt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(ct!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,a.createAttributeWithCacheKey)({autoPad:ut,ceilMode:ct,countIncludePad:!1,kernelShape:dt,strides:ft,pads:ht,storageOrder:gt,dilations:yt})};const rt=(lt,ut,ct,dt)=>{const[ft,ht]=st(lt,dt,ct),gt=`
      ${_e(lt[0].dims,ft,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},ut),{output:{dims:ht,type:lt[0].type,textureType:j.TextureType.unpacked},shaderSource:gt})},st=(lt,ut,ct)=>{const dt=lt[0].dims.slice(),ft=Object.hasOwnProperty.call(ut,"dilations"),ht=ut.kernelShape.slice(),gt=ut.strides.slice(),yt=ft?ut.dilations.slice():[],bt=ut.pads.slice();$.PoolConvUtil.adjustPoolAttributes(ct,dt,ht,gt,yt,bt);const vt=$.PoolConvUtil.computePoolOutputShape(ct,dt,gt,yt,ht,bt,ut.autoPad),mt=Object.assign({},ut);return ft?Object.assign(mt,{kernelShape:ht,strides:gt,pads:bt,dilations:yt,cacheKey:ut.cacheKey}):Object.assign(mt,{kernelShape:ht,strides:gt,pads:bt,cacheKey:ut.cacheKey}),[mt,vt]},it={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},ot={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[j.TextureType.unpacked]};i.globalMaxPool=(lt,ut)=>(tt(ut),[lt.run(Object.assign(Object.assign({},ot),{get:()=>rt(ut,ot,!0,it)}),ut)]);const tt=lt=>{if(!lt||lt.length!==1)throw new Error("Pool ops requires 1 input.");if(lt[0].type!=="float32"&&lt[0].type!=="float64")throw new Error("Invalid input type.")},_e=(lt,ut,ct,dt,ft)=>{const ht=lt.length;if(ut.kernelShape.length<=2){const gt=ut.kernelShape[ut.kernelShape.length-1],yt=ut.strides[ut.strides.length-1],bt=ut.pads[ut.pads.length/2-1],vt=ut.pads[ut.pads.length-1],mt=lt[ht-1];let xt="",wt="",Ct="";if(xt=bt+vt!==0?`
          for (int i = 0; i < ${gt}; i++) {
            x[${ht} - 1] = indices[${ht} - 1] * ${yt} - ${bt} + i;
            if (x[${ht} - 1] < 0 || x[${ht} - 1] >= ${mt}) {
              pad++;
              continue;
            }
            ${ct}
          }`:`
          for (int i = 0; i < ${gt}; i++) {
            x[${ht} - 1] = indices[${ht} - 1] * ${yt} - ${bt} + i;
            ${ct}
          }`,ut.kernelShape.length===2){const kt=ut.kernelShape[ut.kernelShape.length-2],It=ut.strides[ut.strides.length-2],Pt=ut.pads[ut.pads.length/2-2],St=ut.pads[ut.pads.length-2],Ot=lt[ht-2];wt=Pt+St!==0?`
            for (int j = 0; j < ${kt}; j++) {
              x[${ht} - 2] = indices[${ht} - 2] * ${It} - ${Pt} + j;
              if (x[${ht} - 2] < 0 || x[${ht} - 2] >= ${Ot}) {
                pad+= ${gt};
                continue;
              }
          `:`
            for (int j = 0; j < ${kt}; j++) {
              x[${ht} - 2] = indices[${ht} - 2] * ${It} - ${Pt} + j;
            `,Ct=`
          }
        `}return`
        float process(int indices[${ht}]) {
          int x[${ht}];
          copyVec(indices, x);

          float value = ${ft};
          int pad = 0;
          ${wt}
          ${xt}
          ${Ct}
          ${dt}
          return value;
        }
      `}{const gt=$.ShapeUtil.size(ut.kernelShape),yt=$.ShapeUtil.computeStrides(ut.kernelShape),bt=yt.length,vt=ut.pads.length,mt=at(bt),xt=nt(lt,"inputDims"),wt=nt(ut.pads,"pads"),Ct=nt(yt,"kernelStrides"),kt=nt(ut.strides,"strides");let It="";return It=ut.pads.reduce((Pt,St)=>Pt+St)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${ct}
          }`:`
          }
          ${ct}
        `,`
        ${mt}
        float process(int indices[${ht}]) {
          int x[${ht}];
          copyVec(indices, x);
          int offset[${bt}];
          int pads[${vt}];
          int inputDims[${ht}];
          int kernelStrides[${bt}];
          int strides[${bt}];
          ${wt}
          ${xt}
          ${kt}
          ${Ct}

          float value = ${ft};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${gt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${ht} - ${bt}; j < ${ht}; j++) {
              x[j] = indices[j] * strides[j - ${ht} + ${bt}]
                + offset[j - ${ht} + ${bt}] - pads[j - 2];
              ${It}
          }
          ${dt}

          return value;
        }
      `}},nt=(lt,ut)=>{let ct="";for(let dt=0;dt<lt.length;dt++)ct+=`
      ${ut}[${dt}] = ${lt[dt]};
    `;return ct},at=lt=>`
  void offsetToIndices(int offset, int[${lt}] strides, out int[${lt}] indices) {
    if (${lt} == 0) {
      return;
    }
    for (int i = 0; i < ${lt} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${lt} - 1] = offset;
  }`},4939:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.reduceLogSumSquare=i.reduceLogSum=i.reduceProd=i.reduceMin=i.reduceMax=i.reduceMean=i.reduceSum=i.parseReduceAttributes=void 0;const a=s(246),$=s(782),j=s(2517),et=s(2039),rt=(ot,tt,_e,nt,at)=>{it(tt);const lt={name:nt,inputNames:["A"],inputTypes:[et.TextureType.unpacked]};return[ot.run(Object.assign(Object.assign({},lt),{cacheHint:_e.cacheKey,get:()=>st(ot,tt,_e,nt,at,lt)}),tt)]};i.parseReduceAttributes=ot=>{const tt=ot.attributes.getInts("axes",[]),_e=ot.attributes.getInt("keepdims",1)===1;return(0,a.createAttributeWithCacheKey)({axes:tt,keepDims:_e})};const st=(ot,tt,_e,nt,at,lt)=>{const ut=[],ct=tt[0].dims.length||1,dt=[],ft=j.ShapeUtil.normalizeAxes(_e.axes,tt[0].dims.length),ht=at(tt,ft);let gt=ht[1];for(let bt=0;bt<tt[0].dims.length;bt++)ft.indexOf(bt)>=0||ft.length===0?(_e.keepDims&&ut.push(1),gt=`
          for(int j${bt} = 0; j${bt} < ${tt[0].dims[bt]}; j${bt}++) {
            inputIdx[${bt}] = j${bt};
            ${gt}
          }`):(dt.push(`inputIdx[${bt}] = outputIdx[${ut.length}];`),ut.push(tt[0].dims[bt]));const yt=`
      float process(int outputIdx[${ut.length||1}]) {
        float value;                 // final result
        int inputIdx[${ct}];      // addressing input data
        ${dt.join(`
`)}
        ${ht[0]}       // init ops for reduce max/min
        ${gt}
        ${ht[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},lt),{output:{dims:ut,type:tt[0].type,textureType:et.TextureType.unpacked},shaderSource:yt})},it=ot=>{if(!ot||ot.length!==1)throw new Error("Reduce op requires 1 input.");if($.NUMBER_TYPES.indexOf(ot[0].type)===-1)throw new Error("Invalid input type.")};i.reduceSum=(ot,tt,_e)=>rt(ot,tt,_e,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),i.reduceMean=(ot,tt,_e)=>rt(ot,tt,_e,"ReduceMean",(nt,at)=>{let lt=1;for(let ut=0;ut<nt[0].dims.length;ut++)(at.indexOf(ut)>=0||at.length===0)&&(lt*=nt[0].dims[ut]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${lt}.;`]}),i.reduceMax=(ot,tt,_e)=>rt(ot,tt,_e,"ReduceMax",(nt,at)=>{const lt=[];for(let ut=0;ut<nt[0].dims.length;ut++)(at.indexOf(ut)>=0||at.length===0)&&lt.push(`inputIdx[${ut}] = 0;`);return[`${lt.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),i.reduceMin=(ot,tt,_e)=>rt(ot,tt,_e,"ReduceMin",(nt,at)=>{const lt=[];for(let ut=0;ut<nt[0].dims.length;ut++)(at.indexOf(ut)>=0||at.length===0)&&lt.push(`inputIdx[${ut}] = 0;`);return[`${lt.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),i.reduceProd=(ot,tt,_e)=>rt(ot,tt,_e,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),i.reduceLogSum=(ot,tt,_e)=>rt(ot,tt,_e,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),i.reduceLogSumSquare=(ot,tt,_e)=>rt(ot,tt,_e,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isReshapeCheap=i.processDims3D=i.createPackedReshape3DProgramInfoLoader=void 0;const a=s(2517),$=s(5060),j=s(2039),et=s(2827);i.createPackedReshape3DProgramInfoLoader=(rt,st,it)=>{const ot=(tt=>({name:"Reshape (packed)",inputTypes:[j.TextureType.packed],inputNames:["A"],cacheHint:`${tt}`}))(it);return Object.assign(Object.assign({},ot),{get:()=>((tt,_e,nt,at)=>{const lt=_e.dims,ut=at;let ct="";for(let ht=0;ht<4;ht++){let gt="";switch(ht){case 0:gt="outputCoords = rc;";break;case 1:gt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:gt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:gt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}ct+=`
        ${gt}
        ${ht>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${ht}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${ht>0?"}":""}
      `}const dt=(0,$.getGlsl)(tt.session.backend.glContext.version),ft=`
      ${function(ht){const gt=a.ShapeUtil.computeStrides(ht),yt=["b","r","c"],bt="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${gt.map((vt,mt)=>`int ${yt[mt]} = ${bt} / ${vt}; ${mt===gt.length-1?`int ${yt[mt+1]} = ${bt} - ${yt[mt]} * ${vt}`:`index -= ${yt[mt]} * ${vt}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(lt)}
      ${function(ht){const gt=a.ShapeUtil.computeStrides(ht);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${gt[0]} + coords.z * ${gt[1]} + coords.y;
  }
`}(ut)}
      ${(0,et.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${ut[2]};
        int cols = ${ut[1]};

        ${ct}
        ${dt.output} = result;
      }
    `;return Object.assign(Object.assign({},nt),{output:{dims:ut,type:_e.type,textureType:j.TextureType.packed},shaderSource:ft,hasMain:!0})})(rt,st,ot,it)})},i.processDims3D=function(rt){if(rt.length===0)return[1,1,1];let st=1;for(let it=0;it<rt.length-2;++it)st*=rt[it];return[st,rt.length>1?rt[rt.length-2]:1,rt[rt.length-1]]},i.isReshapeCheap=function(rt,st){let it=!1;return it=rt.length===0||st.length===0||(rt.length<2||st.length<2?rt[rt.length-1]===st[st.length-1]:rt[rt.length-1]===st[st.length-1]&&rt[rt.length-2]===st[st.length-2]),it}},718:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.reshape=void 0;const a=s(2517);i.reshape=($,j)=>{const et=a.ShapeUtil.calculateReshapedDims(j[0].dims,j[1].integerData);return $.session.pack?[$.reshapePacked(j[0],et)]:[$.reshapeUnpacked(j[0],et)]}},2268:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseResizeAttributesV11=i.parseResizeAttributesV10=i.resize=void 0;const a=s(5060),$=s(2039),j=s(9390),et=s(2827),rt=s(9793),st={name:"Resize",inputNames:["A"],inputTypes:[$.TextureType.packed]};i.resize=(nt,at,lt)=>((0,rt.validateInputs)(at,lt),[nt.run(Object.assign(Object.assign({},st),{cacheHint:lt.cacheKey,get:()=>it(nt,at,lt)}),at)]),i.parseResizeAttributesV10=nt=>(0,rt.parseUpsampleAttributes)(nt,10),i.parseResizeAttributesV11=nt=>(0,rt.parseUpsampleAttributes)(nt,11);const it=(nt,at,lt)=>{const ut=(0,a.getGlsl)(nt.session.backend.glContext.version),[ct,dt]=ot(at,lt);if(ct.every(It=>It===1)&&lt.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},st),{output:{dims:dt,type:at[0].type,textureType:$.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${ut.texture2D}(X, TexCoords);
                    ${ut.output} = v;
                }`});const ft=dt.length;if(ft<2)throw new Error(`output dimension should be at least 2, but got ${ft}`);const ht=dt[ft-2],gt=dt[ft-1],yt=at[0].dims;if(ft!==yt.length)throw new Error(`output dimension should match input ${yt.length}, but got ${ft}`);const bt=yt[ft-2],vt=yt[ft-1],mt=ct[ft-2],xt=ct[ft-1];let wt="";if(lt.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${lt.mode}'`);switch(lt.coordinateTransformMode){case"asymmetric":wt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":wt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":wt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${gt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${ht}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${gt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${ht}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":wt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${gt}.0 - 1.0, ${ht}.0 - 1.0, ${gt}.0 - 1.0,
                            ${ht}.0 - 1.0);
                        vec4 original = vec4(${vt}.0 - 1.0, ${bt}.0 - 1.0, ${vt}.0 - 1.0,
                            ${bt}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${lt.coordinateTransformMode}'`)}const Ct=(0,j.getCoordsDataType)(ft),kt=`
            const vec2 inputWH = vec2(${bt}.0, ${vt}.0);
            const vec4 scaleWHWH = vec4(float(${mt}), float(${xt}), float(${mt}), float(${xt}));
            ${(0,et.unpackFromChannel)()}
            ${wt}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${Ct} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${ht-1};
                bool hasNextCol = rc.z < ${gt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${ut.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},st),{output:{dims:dt,type:at[0].type,textureType:$.TextureType.packed},hasMain:!0,shaderSource:kt})},ot=(nt,at)=>{const lt=nt[0].dims;let ut,ct=at.scales;if(ct.length===0){const ft=nt[at.scalesInputIdx];if(ft&&ft.size!==0){if(nt[at.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");ct=tt(ft,at.mode,at.isResize)}else{const ht=nt[at.sizesInputIdx];if(!ht||ht.size===0)throw new Error("Either scales or sizes MUST be provided as input.");ut=Array.from(ht.integerData),ct=_e(ut,lt,at.mode,at.isResize)}}else if(nt[at.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const dt=ut||lt.map((ft,ht)=>Math.floor(ft*ct[ht]));return[ct,dt]},tt=(nt,at,lt)=>{const ut=Array.from(nt.floatData);return(0,rt.scalesValidation)(ut,at,lt),ut},_e=(nt,at,lt,ut)=>{const ct=at.length,dt=new Array(ct);for(let ft=0,ht=ct;ft<ht;ft++)if(at[ft]===0){if(nt[ft]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");dt[ft]=1}else dt[ft]=nt[ft]/at[ft];return(0,rt.scalesValidation)(dt,lt,ut),dt}},8117:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.shape=void 0;const a=s(9162);i.shape=(j,et)=>($(et),[new a.Tensor([et[0].dims.length],"int32",void 0,void 0,new Int32Array(et[0].dims))]);const $=j=>{if(!j||j.length!==1)throw new Error("Shape requires 1 input.")}},2278:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sliceV10=i.parseSliceAttributes=i.slice=void 0;const a=s(246),$=s(782),j=s(2517),et=s(2039),rt={name:"Slice",inputNames:["A"],inputTypes:[et.TextureType.unpacked]};i.slice=(_e,nt,at)=>(it(nt),[_e.run(Object.assign(Object.assign({},rt),{cacheHint:at.cacheKey,get:()=>st(_e,nt[0],at)}),nt)]),i.parseSliceAttributes=_e=>{const nt=_e.attributes.getInts("starts"),at=_e.attributes.getInts("ends"),lt=_e.attributes.getInts("axes",[]);return(0,a.createAttributeWithCacheKey)({starts:nt,ends:at,axes:lt})};const st=(_e,nt,at)=>{const lt=at.axes.length===0?nt.dims.slice(0).map((yt,bt)=>bt):at.axes,ut=j.ShapeUtil.normalizeAxes(lt,nt.dims.length),ct=at.starts.map((yt,bt)=>yt>nt.dims[ut[bt]]-1?nt.dims[ut[bt]]:j.ShapeUtil.normalizeAxis(yt,nt.dims[ut[bt]])),dt=at.ends.map((yt,bt)=>yt>nt.dims[ut[bt]]-1?nt.dims[ut[bt]]:j.ShapeUtil.normalizeAxis(yt,nt.dims[ut[bt]])),ft=nt.dims.slice(),ht=[];for(let yt=0;yt<ut.length;yt++)ft[ut[yt]]=dt[yt]-ct[yt],ct[yt]>0&&ht.push(`outputIdx[${ut[yt]}] += ${ct[yt]};`);const gt=`
      float process(int outputIdx[${ft.length}]) {
        ${ht.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},rt),{output:{dims:ft,type:nt.type,textureType:et.TextureType.unpacked},shaderSource:gt})},it=_e=>{if(!_e||_e.length!==1)throw new Error("Slice requires 1 input.");if($.NUMBER_TYPES.indexOf(_e[0].type)===-1)throw new Error("Invalid input type.")};i.sliceV10=(_e,nt)=>{tt(nt);const at=ot(_e,nt);return[_e.run(Object.assign(Object.assign({},rt),{cacheHint:at.cacheKey,get:()=>st(_e,nt[0],at)}),[nt[0]])]};const ot=(_e,nt)=>{if(!_e.session.isInitializer(nt[1].dataId)||!_e.session.isInitializer(nt[2].dataId)||nt.length>=4&&!_e.session.isInitializer(nt[3].dataId)||nt.length>=5&&!_e.session.isInitializer(nt[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(nt.length>=5&&nt[4].integerData.some(ct=>ct!==1))throw new Error("currently non-1 steps is not supported for Slice");const at=Array.from(nt[1].integerData),lt=Array.from(nt[2].integerData),ut=nt.length>=4?Array.from(nt[3].integerData):[];return{starts:at,ends:lt,axes:ut,cacheKey:`${ut};${at};${lt}`}},tt=_e=>{if(!_e||_e.length<3||_e.length>5)throw new Error("Invalid input number.");if(_e[1].type!=="int32"||_e[1].dims.length!==1)throw new Error("Invalid input type.");if(_e[2].type!=="int32"||_e[2].dims.length!==1)throw new Error("Invalid input type.");if(_e.length>=4&&(_e[3].type!=="int32"||_e[3].dims.length!==1))throw new Error("Invalid input type.");if(_e.length>=5&&(_e[4].type!=="int32"||_e[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.softmaxV13=i.parseSoftmaxAttributesV13=i.parseSoftmaxAttributes=i.softmax=void 0;const a=s(246),$=s(2517),j=s(5060),et=s(2039),rt=s(3738),st={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[et.TextureType.unpacked]},it={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[et.TextureType.unpacked,et.TextureType.unpacked]},ot={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[et.TextureType.unpacked,et.TextureType.unpacked,et.TextureType.unpacked]};i.softmax=(ut,ct,dt)=>{lt(ct);const ft=ct[0].dims.slice(),ht=$.ShapeUtil.normalizeAxis(dt.axis,ft.length),gt=$.ShapeUtil.sizeToDimension(ft,ht),yt=$.ShapeUtil.sizeFromDimension(ft,ht);return tt(ut,ct,dt,gt,yt)},i.parseSoftmaxAttributes=ut=>(0,a.createAttributeWithCacheKey)({axis:ut.attributes.getInt("axis",1)}),i.parseSoftmaxAttributesV13=ut=>(0,a.createAttributeWithCacheKey)({axis:ut.attributes.getInt("axis",-1)}),i.softmaxV13=(ut,ct,dt)=>{lt(ct);const ft=ct[0].dims.slice(),ht=$.ShapeUtil.normalizeAxis(dt.axis,ft.length),gt=ft.length,yt=ht!==gt-1,bt=[];let vt,mt=[],xt=[];yt&&(mt=Array.from({length:gt}).map((It,Pt)=>Pt),mt[ht]=gt-1,mt[gt-1]=ht,mt.map(It=>bt.push(ft[It])),vt=(0,a.createAttributeWithCacheKey)({perm:mt}),xt=(0,rt.transpose)(ut,ct,vt));const wt=yt?$.ShapeUtil.sizeToDimension(bt,gt-1):$.ShapeUtil.sizeToDimension(ft,gt-1),Ct=yt?$.ShapeUtil.sizeFromDimension(bt,gt-1):$.ShapeUtil.sizeFromDimension(ft,gt-1),kt=tt(ut,yt?xt:ct,dt,wt,Ct);return yt?(0,rt.transpose)(ut,kt,vt):kt};const tt=(ut,ct,dt,ft,ht)=>{const gt=_e(ut,ct[0],ft,ht,[ft]),yt=ut.run(Object.assign(Object.assign({},st),{cacheHint:dt.cacheKey,get:()=>gt}),ct),bt=nt(ut,ct[0],ft,ht,gt.output.dims,[ft]),vt=ut.run(Object.assign(Object.assign({},it),{cacheHint:dt.cacheKey,get:()=>bt}),[ct[0],yt]),mt=at(ut,ct[0],ft,ht,gt.output.dims,bt.output.dims);return[ut.run(Object.assign(Object.assign({},ot),{cacheHint:dt.cacheKey,get:()=>mt}),[ct[0],yt,vt])]},_e=(ut,ct,dt,ft,ht)=>{const[gt,yt]=ut.calculateTextureWidthAndHeight(ct.dims,et.TextureType.unpacked),bt=ht.length;if(dt<1||ft<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ht.length!==1)throw new Error("Dimensionality of the output should be 1");if(ht[0]!==dt)throw new Error("Shape of the output should be equal to logical row count");const vt=(0,j.getGlsl)(ut.session.backend.glContext.version),mt=`
      float process(int[${bt}] indices) {
        int logical_row_start_offset = indices[0] * ${ft};

        float max = getColorAsFloat(${vt.texture2D}(A, offsetToCoords(logical_row_start_offset, ${gt},
        ${yt} )));
        for(int i=1; i<${ft}; ++i)
        {
          float current = getColorAsFloat(${vt.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${gt}, ${yt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},st),{output:{dims:ht,type:ct.type,textureType:et.TextureType.unpacked},shaderSource:mt})},nt=(ut,ct,dt,ft,ht,gt)=>{const[yt,bt]=ut.calculateTextureWidthAndHeight(ct.dims,et.TextureType.unpacked),vt=gt.length;if(dt<1||ft<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(gt.length!==1)throw new Error("Dimensionality of the output should be 1");if(gt[0]!==dt)throw new Error("Shape of the output should be equal to logical row count");if(ht.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ht[0]!==dt)throw new Error("Shape of the intermediate results should be equal to logical row count");const mt=`
      float process(int[${vt}] indices) {
        int logical_row_start_offset = indices[0] * ${ft};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${ft}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,j.getGlsl)(ut.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${yt}, ${bt}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},it),{output:{dims:gt,type:ct.type,textureType:et.TextureType.unpacked},shaderSource:mt})},at=(ut,ct,dt,ft,ht,gt)=>{const[yt,bt]=ut.calculateTextureWidthAndHeight(ct.dims,et.TextureType.unpacked),vt=ct.dims.length;if(dt<1||ft<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(ht.length!==1||gt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(ht[0]!==dt||gt[0]!==dt)throw new Error("Shape of the intermediate results should be equal to logical row count");const mt=`
      float process(int[${vt}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${yt}, ${bt});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${ft};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},ot),{output:{dims:ct.dims,type:ct.type,textureType:et.TextureType.unpacked},shaderSource:mt})},lt=ut=>{if(!ut||ut.length!==1)throw new Error("Softmax requires 1 input.");if(ut[0].type!=="float32"&&ut[0].type!=="float64")throw new Error("Invalid input type")}},5975:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseSplitAttributes=i.split=void 0;const a=s(246),$=s(2517),j=s(2039),et={name:"Split",inputNames:["A"],inputTypes:[j.TextureType.unpacked]};i.split=(ot,tt,_e)=>{it(tt);const nt=$.ShapeUtil.normalizeAxis(_e.axis,tt[0].dims.length),at=rt(ot,tt,nt,_e),lt=[];for(let ut=0;ut<at;++ut)lt.push(ot.run(Object.assign(Object.assign({},et),{cacheHint:`${_e.cacheKey};${ut}`,get:()=>st(ot,tt[0],_e,nt,ut)}),tt));return lt},i.parseSplitAttributes=ot=>{const tt=ot.attributes.getInt("axis",0),_e=ot.attributes.getInts("split",[]),nt=ot.outputs.length;return(0,a.createAttributeWithCacheKey)({axis:tt,split:_e,numOutputs:nt})};const rt=(ot,tt,_e,nt)=>{const[,at]=$.SplitUtil.splitShape(tt[0].dims,_e,nt.split,nt.numOutputs);return at.length},st=(ot,tt,_e,nt,at)=>{const[lt,ut]=$.SplitUtil.splitShape(tt.dims,nt,_e.split,_e.numOutputs),ct=ut[at],dt=lt[at],ft=`
      float process(int indices[${dt.length}]) {
        indices[${nt}] += ${ct};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},et),{cacheHint:`${_e.cacheKey}:${at}`,output:{dims:dt,type:tt.type,textureType:j.TextureType.unpacked},shaderSource:ft})},it=ot=>{if(!ot||ot.length!==1)throw new Error("Split requires one input.");if(ot[0].type!=="int8"&&ot[0].type!=="uint8"&&ot[0].type!=="int16"&&ot[0].type!=="uint16"&&ot[0].type!=="int32"&&ot[0].type!=="uint32"&&ot[0].type!=="float32"&&ot[0].type!=="float64"&&ot[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseSqueezeAttributes=i.squeezeV13=i.squeeze=void 0;const a=s(2517);i.squeeze=(et,rt,st)=>{$(rt);const it=a.ShapeUtil.squeezeShape(rt[0].dims,st);return[et.reshapeUnpacked(rt[0],it)]},i.squeezeV13=(et,rt)=>(j(rt),(0,i.squeeze)(et,[rt[0]],Array.from(rt[1].integerData))),i.parseSqueezeAttributes=et=>et.attributes.getInts("axes");const $=et=>{if(!et||et.length!==1)throw new Error("Squeeze requires 1 input.");if(et[0].type==="string")throw new Error("invalid input tensor types.")},j=et=>{if(!et||et.length!==2)throw new Error("Squeeze requires 2 inputs.");if(et[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.sum=void 0;const a=s(5060),$=s(2039);i.sum=(rt,st)=>{et(st);const it={name:"Sum",inputNames:st.map((ot,tt)=>`X${tt}`),inputTypes:new Array(st.length).fill($.TextureType.unpacked)};return[rt.run(Object.assign(Object.assign({},it),{get:()=>j(rt,st,it)}),st)]};const j=(rt,st,it)=>{const ot=(0,a.getGlsl)(rt.session.backend.glContext.version),tt=st[0].dims.slice(),_e=`
      void main() {
        vec4 result = ${st.map((nt,at)=>`${ot.texture2D}(X${at},TexCoords)`).join(" + ")};
        ${ot.output} = result;
      }
    `;return Object.assign(Object.assign({},it),{output:{dims:tt,type:st[0].type,textureType:$.TextureType.unpacked},hasMain:!0,shaderSource:_e})},et=rt=>{if(!rt||rt.length===0)throw new Error("Sum requires inputs.");const st=rt[0].dims.length;for(let it=1;it<rt.length;it++){if(st!==rt[it].dims.length)throw new Error("Input shapes are mismatched.");for(let ot=0;ot<st;ot++)if(rt[0].dims[ot]!==rt[it].dims[ot])throw new Error("Input shapes are not matched.")}if(rt[0].type!=="float32"&&rt[0].type!=="float64")throw new Error("Invalid input type.");for(let it=1;it<rt.length;it++)if(rt[0].type!==rt[it].type)throw new Error("Input types are not matched.")}},5723:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tile=void 0;const a=s(782),$=s(2039);i.tile=(rt,st)=>{et(st);const it={name:"Tile",inputNames:["A"],inputTypes:[$.TextureType.unpacked]};return[rt.run(Object.assign(Object.assign({},it),{get:()=>j(rt,st,it)}),st)]};const j=(rt,st,it)=>{const ot=st[0].dims.slice(),tt=new Array(ot.length),_e=[];for(let lt=0;lt<ot.length;lt++)tt[lt]=ot[lt]*st[1].numberData[lt],_e.push(`inputIdx[${lt}] = int(mod(float(outputIdx[${lt}]), ${ot[lt]}.));`);const nt=tt.length,at=`
      float process(int outputIdx[${nt}]) {
        int inputIdx[${nt}];
        ${_e.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},it),{output:{dims:tt,type:st[0].type,textureType:$.TextureType.unpacked},shaderSource:at})},et=rt=>{if(!rt||rt.length!==2)throw new Error("Tile requires 2 input.");if(rt[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(rt[1].dims[0]!==rt[0].dims.length)throw new Error("Invalid input shape.");if(a.NUMBER_TYPES.indexOf(rt[0].type)===-1)throw new Error("Invalid input type.");if(rt[1].type!=="int32"&&rt[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseTransposeAttributes=i.transpose=void 0;const a=s(246),$=s(2517),j=s(2039),et={name:"Transpose",inputNames:["A"],inputTypes:[j.TextureType.unpacked]};i.transpose=(_e,nt,at)=>(tt(nt),[_e.run(Object.assign(Object.assign({},et),{cacheHint:at.cacheKey,get:()=>rt(_e,nt[0],at.perm)}),nt)]),i.parseTransposeAttributes=_e=>(0,a.createAttributeWithCacheKey)({perm:_e.attributes.getInts("perm",[])});const rt=(_e,nt,at)=>{const lt=nt.dims;at=st(lt,at);const ut=it(lt,at),ct=lt.length,dt=`
      ${ot("perm",at,ct)}
      float process(int indices[${ct}]) {
        int a[${ct}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},et),{output:{dims:ut,type:nt.type,textureType:j.TextureType.unpacked},shaderSource:dt})},st=(_e,nt)=>(nt&&nt.length!==_e.length&&(nt=[..._e.keys()].reverse()),nt),it=(_e,nt)=>(nt=st(_e,nt),$.ShapeUtil.sortBasedOnPerm(_e,nt)),ot=(_e,nt,at)=>{const lt=[];lt.push(`void ${_e}(out int a[${at}], int src[${at}]) {`);for(let ut=0;ut<at;++ut)lt.push(`	a[${nt[ut]}]=src[${ut}];`);return lt.push("	}"),lt.join(`
`)},tt=_e=>{if(!_e||_e.length!==1)throw new Error("Transpose requires 1 input.");if(_e[0].type!=="float32"&&_e[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.encodeAsUint8=void 0;const a=s(5060),$=s(2039);i.encodeAsUint8=(j,et)=>{const rt=et.shape,st=(0,a.getGlsl)(j.session.backend.glContext.version),it=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${st.texture2D}(X,TexCoords).r;
      ${st.output} = encodeAsUint8(value);
    }`,ot={name:"Uint8Encode",inputTypes:[$.TextureType.unpacked],inputNames:["X"],output:{dims:rt,type:et.tensor.type,textureType:$.TextureType.downloadUint8AsFloat},shaderSource:it,hasMain:!0};return j.executeProgram(ot,[et.tensor])}},4909:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tanh=i.tan=i.sqrt=i.sin=i.sigmoid=i.relu=i.not=i.neg=i.log=i.parseLeakyReluAttributes=i.leakyRelu=i.identity=i.floor=i.exp=i.parseEluAttributes=i.elu=i.cos=i.ceil=i.clipV11=i.parseClipAttributes=i.clip=i.atan=i.asin=i.acos=i.abs=i.glslTanh=i.glslTan=i.glslSqrt=i.glslSigmoid=i.glslRelu=i.glslSin=i.glslNot=i.glslNeg=i.glslLog=i.glslLeakyRelu=i.glslIdentity=i.glslClip=i.glslFloor=i.glslExp=i.glslElu=i.glslCos=i.glslCeil=i.glslAtan=i.glslAsin=i.glslAcos=i.glslAbs=void 0;const a=s(246),$=s(2517),j=s(8520),et=s(5060),rt=s(2039);function st(){return kt("abs")}function it(){return kt("acos")}function ot(){return kt("asin")}function tt(){return kt("atan")}function _e(){return kt("ceil")}function nt(){return kt("cos")}function at(St){const Ot="elu";return{body:`
  const float alpha = float(${St});

  float ${Ot}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${Ot}_(vec4 v) {
    return vec4(${Ot}_(v.x), ${Ot}_(v.y), ${Ot}_(v.z), ${Ot}_(v.w));
  }
  `,name:Ot,type:j.FunctionType.ValueBased}}function lt(){return kt("exp")}function ut(){return kt("floor")}function ct(St,Ot){const At="clip";return{body:`
  const float min = float(${St});
  const float max = float(${Ot});

  float ${At}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${At}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:At,type:j.FunctionType.ValueBased}}function dt(){const St="indentity";return{body:`
  float ${St}_(float a) {
    return a;
  }
  vec4 ${St}_(vec4 v) {
    return v;
  }
  `,name:St,type:j.FunctionType.ValueBased}}function ft(St){const Ot="leakyRelu";return{body:`
  const float alpha = float(${St});

  float ${Ot}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Ot}_(vec4 v) {
    return vec4(${Ot}_(v.x), ${Ot}_(v.y), ${Ot}_(v.z), ${Ot}_(v.w));
  }
  `,name:Ot,type:j.FunctionType.ValueBased}}function ht(){return kt("log")}function gt(){const St="neg";return{body:`
  float ${St}_(float a) {
    return -a;
  }
  vec4 ${St}_(vec4 v) {
    return -v;
  }
  `,name:St,type:j.FunctionType.ValueBased}}function yt(){const St="not";return{body:`
  float ${St}_(float a) {
    return float( ! bool(a) );
  }
  bool ${St}_(bool a) {
    return !a;
  }
  vec4 ${St}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${St}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:St,type:j.FunctionType.ValueBased}}function bt(){return kt("sin")}function vt(){const St="relu";return{body:`
  float ${St}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${St}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:St,type:j.FunctionType.ValueBased}}function mt(){const St="sigmoid";return{body:`
  float ${St}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${St}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:St,type:j.FunctionType.ValueBased}}function xt(){return kt("sqrt")}function wt(){return kt("tan")}function Ct(){const St="tanh";return{body:`
  float ${St}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${St}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:St,type:j.FunctionType.ValueBased}}function kt(St){return{body:`
  float ${St}_(float a) {
    return ${St}(a);
  }
  vec4 ${St}_(vec4 v) {
    return ${St}(v);
  }
  `,name:St,type:j.FunctionType.ValueBased}}i.glslAbs=st,i.glslAcos=it,i.glslAsin=ot,i.glslAtan=tt,i.glslCeil=_e,i.glslCos=nt,i.glslElu=at,i.glslExp=lt,i.glslFloor=ut,i.glslClip=ct,i.glslIdentity=dt,i.glslLeakyRelu=ft,i.glslLog=ht,i.glslNeg=gt,i.glslNot=yt,i.glslSin=bt,i.glslRelu=vt,i.glslSigmoid=mt,i.glslSqrt=xt,i.glslTan=wt,i.glslTanh=Ct;const It=(St,Ot,At,$t)=>{const jt=St.session.pack?rt.TextureType.packed:rt.TextureType.unpacked,zt={name:At.name,inputTypes:[jt],inputNames:["A"],cacheHint:$t};return Object.assign(Object.assign({},zt),{get:()=>((Xt,tr,ir,sr)=>{const Jt=Xt.session.pack?rt.TextureType.packed:rt.TextureType.unpacked,rr=(0,et.getGlsl)(Xt.session.backend.glContext.version);return Object.assign(Object.assign({},tr),{output:{dims:ir.dims,type:ir.type,textureType:Jt},shaderSource:`
     ${sr.body}
     void main() {
       vec4 v = ${rr.texture2D}(A, TexCoords);
       v = ${sr.name}_(v);
       ${rr.output} = v;
     }
     `,hasMain:!0})})(St,zt,Ot,At)})};i.abs=(St,Ot)=>[St.run(It(St,Ot[0],st()),Ot)],i.acos=(St,Ot)=>[St.run(It(St,Ot[0],it()),Ot)],i.asin=(St,Ot)=>[St.run(It(St,Ot[0],ot()),Ot)],i.atan=(St,Ot)=>[St.run(It(St,Ot[0],tt()),Ot)],i.clip=(St,Ot,At)=>[St.run(It(St,Ot[0],ct(At.min,At.max),At.cacheKey),Ot)],i.parseClipAttributes=St=>(0,a.createAttributeWithCacheKey)({min:St.attributes.getFloat("min",$.MIN_CLIP),max:St.attributes.getFloat("max",$.MAX_CLIP)}),i.clipV11=(St,Ot)=>{const At=Pt(St,Ot);return(0,i.clip)(St,[Ot[0]],At)};const Pt=(St,Ot)=>{if(Ot.length>=3&&(!St.session.isInitializer(Ot[1].dataId)||!St.session.isInitializer(Ot[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const At=Ot.length>=3?Ot[1].numberData[0]:$.MIN_CLIP,$t=Ot.length>=3?Ot[2].numberData[0]:$.MAX_CLIP;return(0,a.createAttributeWithCacheKey)({min:At,max:$t})};i.ceil=(St,Ot)=>[St.run(It(St,Ot[0],_e()),Ot)],i.cos=(St,Ot)=>[St.run(It(St,Ot[0],nt()),Ot)],i.elu=(St,Ot,At)=>[St.run(It(St,Ot[0],at(At.alpha),At.cacheKey),Ot)],i.parseEluAttributes=St=>(0,a.createAttributeWithCacheKey)({alpha:St.attributes.getFloat("alpha",1)}),i.exp=(St,Ot)=>[St.run(It(St,Ot[0],lt()),Ot)],i.floor=(St,Ot)=>[St.run(It(St,Ot[0],ut()),Ot)],i.identity=(St,Ot)=>[St.run(It(St,Ot[0],dt()),Ot)],i.leakyRelu=(St,Ot,At)=>[St.run(It(St,Ot[0],ft(At.alpha),At.cacheKey),Ot)],i.parseLeakyReluAttributes=St=>(0,a.createAttributeWithCacheKey)({alpha:St.attributes.getFloat("alpha",.01)}),i.log=(St,Ot)=>[St.run(It(St,Ot[0],ht()),Ot)],i.neg=(St,Ot)=>[St.run(It(St,Ot[0],gt()),Ot)],i.not=(St,Ot)=>[St.run(It(St,Ot[0],yt()),Ot)],i.relu=(St,Ot)=>[St.run(It(St,Ot[0],vt()),Ot)],i.sigmoid=(St,Ot)=>[St.run(It(St,Ot[0],mt()),Ot)],i.sin=(St,Ot)=>[St.run(It(St,Ot[0],bt()),Ot)],i.sqrt=(St,Ot)=>[St.run(It(St,Ot[0],xt()),Ot)],i.tan=(St,Ot)=>[St.run(It(St,Ot[0],wt()),Ot)],i.tanh=(St,Ot)=>[St.run(It(St,Ot[0],Ct()),Ot)]},5611:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createUnpackProgramInfoLoader=i.createUnpackProgramInfo=void 0;const a=s(5060),$=s(2039),j=s(9390),et=s(2827),rt={name:"unpack",inputNames:["A"],inputTypes:[$.TextureType.packed]};i.createUnpackProgramInfo=(st,it)=>{const ot=it.dims.length,tt=(0,et.getChannels)("rc",ot),_e=tt.slice(-2),nt=(0,j.getCoordsDataType)(ot),at=(0,et.unpackFromChannel)(),lt=it.dims.length===0?"":function(dt,ft){if(dt===1)return"rc";let ht="";for(let gt=0;gt<dt;gt++)ht+=ft[gt],gt<dt-1&&(ht+=",");return ht}(ot,tt),ut=ot<=1?"rc":`vec2(${_e.join(",")})`,ct=`
    ${at}
    void main() {
      ${nt} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${lt});

       ${(0,a.getGlsl)(st.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${ut}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},rt),{hasMain:!0,output:{dims:it.dims,type:it.type,textureType:$.TextureType.unpacked},shaderSource:ct})},i.createUnpackProgramInfoLoader=(st,it)=>Object.assign(Object.assign({},rt),{get:()=>(0,i.createUnpackProgramInfo)(st,it)})},8428:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseUnsqueezeAttributes=i.unsqueezeV13=i.unsqueeze=void 0;const a=s(2517);i.unsqueeze=(et,rt,st)=>{$(rt);const it=a.ShapeUtil.unsqueezeShape(rt[0].dims,st);return[et.reshapeUnpacked(rt[0],it)]},i.unsqueezeV13=(et,rt)=>(j(rt),(0,i.unsqueeze)(et,[rt[0]],Array.from(rt[1].integerData))),i.parseUnsqueezeAttributes=et=>et.attributes.getInts("axes");const $=et=>{if(!et||et.length!==1)throw new Error("Unsqueeze requires 1 input.");if(et[0].type==="string")throw new Error("invalid input tensor types.")},j=et=>{if(!et||et.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(et[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.scalesValidation=i.validateInputs=i.parseUpsampleAttributes=i.parseUpsampleAttributesV9=i.parseUpsampleAttributesV7=i.upsample=void 0;const a=s(246),$=s(5060),j=s(2039),et={name:"Upsample",inputNames:["X"],inputTypes:[j.TextureType.unpacked]};i.upsample=(st,it,ot)=>((0,i.validateInputs)(it,ot),[st.run(Object.assign(Object.assign({},et),{cacheHint:ot.cacheKey,get:()=>rt(st,it,ot)}),it)]),i.parseUpsampleAttributesV7=st=>(0,i.parseUpsampleAttributes)(st,7),i.parseUpsampleAttributesV9=st=>(0,i.parseUpsampleAttributes)(st,9),i.parseUpsampleAttributes=(st,it)=>{const ot=it>=10,tt=st.attributes.getString("mode","nearest");if(tt!=="nearest"&&tt!=="linear"&&(it<11||tt!=="cubic"))throw new Error(`unrecognized mode: ${tt}`);let _e=[];it<9&&(_e=st.attributes.getFloats("scales"),(0,i.scalesValidation)(_e,tt,ot));const nt=st.attributes.getFloat("extrapolation_value",0),at=it>10?st.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(at)===-1)throw new Error(`coordinate_transform_mode '${at}' is not supported`);const lt=at==="tf_crop_and_resize",ut=lt,ct=tt==="nearest"&&it>=11?st.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(ct)===-1)throw new Error(`nearest_mode '${ct}' is not supported`);const dt=st.attributes.getFloat("cubic_coeff_a",-.75),ft=st.attributes.getInt("exclude_outside",0)!==0;if(ft&&tt!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const ht=it<11||tt==="nearest"&&at==="asymmetric"&&ct==="floor";let gt=0,yt=0,bt=0;return it>10?st.inputs.length>2?(gt=1,yt=2,bt=3):(yt=1,bt=2):it===9&&(yt=1),(0,a.createAttributeWithCacheKey)({opset:it,isResize:ot,mode:tt,scales:_e,extrapolationValue:nt,coordinateTransformMode:at,useExtrapolation:ut,needRoiInput:lt,nearestMode:ct,cubicCoefficientA:dt,excludeOutside:ft,useNearest2xOptimization:ht,roiInputIdx:gt,scalesInputIdx:yt,sizesInputIdx:bt})};const rt=(st,it,ot)=>{const tt=(0,$.getGlsl)(st.session.backend.glContext.version),[_e,nt]=st.calculateTextureWidthAndHeight(it[0].dims,j.TextureType.unpacked),at=it[0].dims.map((bt,vt)=>Math.floor(bt*ot.scales[vt])),[lt,ut]=st.calculateTextureWidthAndHeight(at,j.TextureType.unpacked),ct=at.length,dt=new Array(ct),ft=new Array(ct);let ht=`
      int output_pitches[${ct}];
      int input_pitches[${ct}];
      `;for(let bt=ct-1;bt>=0;bt--)dt[bt]=bt===ct-1?1:dt[bt+1]*at[bt+1],ft[bt]=bt===ct-1?1:ft[bt+1]*it[0].dims[bt+1],ht+=`
        output_pitches[${bt}] = ${dt[bt]};
        input_pitches[${bt}] = ${ft[bt]};
        `;const gt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${_e}, ${nt});
        float value = getColorAsFloat(${tt.texture2D}(X, coords));
        return value;
      }
      `,yt=ot.mode==="nearest"?`
    ${gt}
    float process(int indices[${ct}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${ut});

      ${ht}

      int d, m;
      for (int dim = 0; dim < ${ct}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:ct===4?`
    ${gt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${ut});

      ${ht}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${it[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${gt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${lt}, ${ut});

      ${ht}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${it[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},et),{output:{dims:at,type:it[0].type,textureType:j.TextureType.unpacked},shaderSource:yt,variables:[{name:"scales",type:"int",arrayLength:ot.scales.length,data:ot.scales.map(bt=>Math.ceil(bt))}]})};i.validateInputs=(st,it)=>{if(!st||it.opset<9&&st.length!==1||it.opset>=9&&it.opset<11&&st.length!==2||it.opset>=11&&st.length<2)throw new Error("invalid inputs.");if(it.scales.length>0&&st[0].dims.length!==it.scales.length)throw new Error("Invalid input shape.");if(st[0].type==="string")throw new Error("Invalid input tensor types.")},i.scalesValidation=(st,it,ot)=>{if(ot){for(const tt of st)if(tt<=0)throw new Error("Scale value should be greater than 0.")}else for(const tt of st)if(tt<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(it!=="linear"&&it!=="cubic"||st.length===2||st.length===4&&st[0]===1&&st[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${ot?"Resize":"Upsample"} opeartor.`)}},1958:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ProgramManager=void 0;const a=s(1670),$=s(6231),j=s(8879),et=s(5060);i.ProgramManager=class{constructor(rt,st,it){this.profiler=rt,this.glContext=st,this.textureLayoutStrategy=it,this.repo=new Map,this.attributesBound=!1}getArtifact(rt){return this.repo.get(rt)}setArtifact(rt,st){this.repo.set(rt,st)}run(rt,st,it){var ot;this.profiler.event("op",`ProgramManager.run ${(ot=rt.programInfo.name)!==null&&ot!==void 0?ot:"unknown kernel"}`,()=>{var tt;const _e=this.glContext.gl,nt=rt.program;_e.useProgram(nt);try{this.bindOutput(it),this.attributesBound||this.bindAttributes(rt.attribLocations),this.bindUniforms(rt.uniformLocations,(tt=rt.programInfo.variables)!==null&&tt!==void 0?tt:[],st)}catch(at){throw $.Logger.error("ProgramManager",rt.programInfo.shaderSource),at}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(rt=>this.glContext.deleteProgram(rt.program))}build(rt,st,it){return this.profiler.event("backend","ProgramManager.build",()=>{const ot=new j.GlslPreprocessor(this.glContext,rt,st,it),tt=ot.preprocess(),_e=this.compile(tt);return{programInfo:rt,program:_e,uniformLocations:this.getUniformLocations(_e,ot.context.programInfo.inputNames,ot.context.programInfo.variables),attribLocations:this.getAttribLocations(_e)}})}compile(rt){if(!this.vertexShader){$.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const ot=(0,et.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(ot,this.glContext.gl.VERTEX_SHADER)}a.env.debug&&$.Logger.verbose("ProrgramManager",`FragShader:
${rt}
`);const st=this.glContext.compileShader(rt,this.glContext.gl.FRAGMENT_SHADER),it=this.glContext.createProgram(this.vertexShader,st);return this.glContext.deleteShader(st),it}bindOutput(rt){const st=rt.width,it=rt.height;$.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${st}/${it}, shape=${rt.shape}, type=${rt.tensor.type}`),this.glContext.attachFramebuffer(rt.texture,st,it)}bindAttributes(rt){const st=rt.position,it=rt.textureCoord;this.glContext.setVertexAttributes(st,it),this.attributesBound=!0}bindUniforms(rt,st,it){var ot;const tt=this.glContext.gl;let _e=0;for(const{name:nt,type:at,location:lt,arrayLength:ut}of rt){const ct=(ot=st.find(dt=>dt.name===nt))===null||ot===void 0?void 0:ot.data;if(at!=="sampler2D"&&!ct)throw new Error(`variable '${nt}' does not have data defined in program info`);switch(at){case"sampler2D":this.bindTexture(it[_e],lt,_e),_e++;break;case"float":ut?tt.uniform1fv(lt,ct):tt.uniform1f(lt,ct);break;case"int":ut?tt.uniform1iv(lt,ct):tt.uniform1i(lt,ct);break;default:throw new Error(`Uniform not implemented: ${at}`)}}}bindTexture(rt,st,it){this.glContext.bindTextureToUniform(rt.texture,it,st)}getAttribLocations(rt){return{position:this.getAttribLocation(rt,"position"),textureCoord:this.getAttribLocation(rt,"textureCoord")}}getUniformLocations(rt,st,it){const ot=[];if(st)for(const tt of st)ot.push({name:tt,type:"sampler2D",location:this.getUniformLocation(rt,tt)});if(it)for(const tt of it)ot.push(Object.assign(Object.assign({},tt),{location:this.getUniformLocation(rt,tt.name)}));return ot}getUniformLocation(rt,st){const it=this.glContext.gl.getUniformLocation(rt,st);if(it===null)throw new Error(`Uniform ${st} not found.`);return it}getAttribLocation(rt,st){return this.glContext.gl.getAttribLocation(rt,st)}}},6416:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLSessionHandler=void 0;const a=s(6231),$=s(1047),j=s(8316),et=s(1640),rt=s(1958),st=s(7859),it=s(5702);i.WebGLSessionHandler=class{constructor(ot,tt){this.backend=ot,this.context=tt,this.layoutStrategy=new st.PreferLogicalStrategy(ot.glContext.maxTextureSize),this.programManager=new rt.ProgramManager(this.context.profiler,ot.glContext,this.layoutStrategy),this.textureManager=new it.TextureManager(ot.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:ot.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=ot.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new j.WebGLInferenceHandler(this)}onGraphInitialized(ot){const tt=ot.getValues().filter(_e=>_e.from===-1&&_e.tensor).map(_e=>_e.tensor.dataId);this.initializers=new Set(tt)}isInitializer(ot){return!!this.initializers&&this.initializers.has(ot)}addInitializer(ot){this.initializers.add(ot)}getTextureData(ot,tt){return tt?this.packedTextureDataCache.get(ot):this.unpackedTextureDataCache.get(ot)}setTextureData(ot,tt,_e=!1){a.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),_e?this.packedTextureDataCache.set(ot,tt):this.unpackedTextureDataCache.set(ot,tt)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(ot=>this.textureManager.releaseTexture(ot,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(ot=>this.textureManager.releaseTexture(ot,!0)),this.unpackedTextureDataCache=new Map}resolve(ot,tt,_e){const nt=(0,$.resolveOperator)(ot,tt,et.WEBGL_OP_RESOLVE_RULES);return{impl:nt.opImpl,context:nt.opInit?nt.opInit(ot,_e):ot}}}},7769:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Uint8DataEncoder=i.RGBAFloatDataEncoder=i.RedFloat32DataEncoder=void 0;const a=s(6231);i.RedFloat32DataEncoder=class{constructor($,j=1){if(j===1)this.internalFormat=$.R32F,this.format=$.RED,this.textureType=$.FLOAT,this.channelSize=j;else{if(j!==4)throw new Error(`Invalid number of channels: ${j}`);this.internalFormat=$.RGBA32F,this.format=$.RGBA,this.textureType=$.FLOAT,this.channelSize=j}}encode($,j){let et,rt;return $.constructor!==Float32Array&&(a.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),rt=new Float32Array($)),j*this.channelSize>$.length?(a.Logger.warning("Encoder","Source data too small. Allocating larger array"),rt=$,et=this.allocate(j*this.channelSize),rt.forEach((st,it)=>et[it]=st)):(rt=$,et=rt),et}allocate($){return new Float32Array(4*$)}decode($,j){return this.channelSize===1?$.filter((et,rt)=>rt%4==0).subarray(0,j):$.subarray(0,j)}},i.RGBAFloatDataEncoder=class{constructor($,j=1,et){if(j!==1&&j!==4)throw new Error(`Invalid number of channels: ${j}`);this.internalFormat=$.RGBA,this.format=$.RGBA,this.channelSize=j,this.textureType=et||$.FLOAT}encode($,j){let et=$;return this.channelSize===1&&(a.Logger.verbose("Encoder","Exploding into a larger array"),et=this.allocate(j),$.forEach((rt,st)=>et[4*st]=rt)),et}allocate($){return new Float32Array(4*$)}decode($,j){return this.channelSize===1?$.filter((et,rt)=>rt%4==0).subarray(0,j):$.subarray(0,j)}},i.Uint8DataEncoder=class{constructor($,j=1){if(this.channelSize=4,j===1)this.internalFormat=$.ALPHA,this.format=$.ALPHA,this.textureType=$.UNSIGNED_BYTE,this.channelSize=j;else{if(j!==4)throw new Error(`Invalid number of channels: ${j}`);this.internalFormat=$.RGBA,this.format=$.RGBA,this.textureType=$.UNSIGNED_BYTE,this.channelSize=j}}encode($,j){return new Uint8Array($.buffer,$.byteOffset,$.byteLength)}allocate($){return new Uint8Array($*this.channelSize)}decode($,j){if($ instanceof Uint8Array)return $.subarray(0,j);throw new Error(`Invalid array type: ${$.constructor}`)}}},7859:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getBatchDim=i.sizeToSquarishShape=i.getRowsCols=i.sizeFromShape=i.isInt=i.parseAxisParam=i.squeezeShape=i.PreferLogicalStrategy=i.AlwaysKeepOriginalSizeStrategy=void 0;const a=s(6231),$=s(2517);function j(ot,tt){const _e=[],nt=[],at=tt!=null&&Array.isArray(tt)&&tt.length===0,lt=tt==null||at?null:et(tt,ot).sort();let ut=0;for(let ct=0;ct<ot.length;++ct){if(lt!=null){if(lt[ut]===ct&&ot[ct]!==1)throw new Error(`Can't squeeze axis ${ct} since its dim '${ot[ct]}' is not 1`);(lt[ut]==null||lt[ut]>ct)&&ot[ct]===1&&(_e.push(ot[ct]),nt.push(ct)),lt[ut]<=ct&&ut++}ot[ct]!==1&&(_e.push(ot[ct]),nt.push(ct))}return{newShape:_e,keptDims:nt}}function et(ot,tt){const _e=tt.length;return ot=ot==null?tt.map((nt,at)=>at):[].concat(ot),(0,$.assert)(ot.every(nt=>nt>=-_e&&nt<_e),()=>`All values in axis param must be in range [-${_e}, ${_e}) but got axis ${ot}`),(0,$.assert)(ot.every(rt),()=>`All values in axis param must be integers but got axis ${ot}`),ot.map(nt=>nt<0?_e+nt:nt)}function rt(ot){return ot%1==0}function st(ot){if(ot.length===0)return 1;let tt=ot[0];for(let _e=1;_e<ot.length;_e++)tt*=ot[_e];return tt}function it(ot){const tt=Math.ceil(Math.sqrt(ot));return[tt,Math.ceil(ot/tt)]}i.AlwaysKeepOriginalSizeStrategy=class{constructor(ot){this.maxTextureSize=ot}computeTextureWH(ot,tt){if(ot.length===0)return[1,1];const _e=this.maxTextureSize;if(tt&&tt.breakAxis!==void 0){const lt=tt.breakAxis>=ot.length?1:ot.slice(tt.breakAxis).reduce((ct,dt)=>ct*dt),ut=tt.breakAxis<=0?1:ot.slice(0,tt.breakAxis).reduce((ct,dt)=>ct*dt);if(!(lt>_e||ut>_e))return[lt,ut];a.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${ot}, breakAxis:${tt.breakAxis}`)}const nt=ot.reduce((lt,ut)=>lt*ut);let at=Math.floor(Math.sqrt(nt));for(;at<_e&&at<nt&&nt%at!=0;at++);if(at>=_e||nt%at!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${ot}`);return[at,nt/at]}},i.PreferLogicalStrategy=class{constructor(ot){this.maxTextureSize=ot}computeTextureWH(ot,tt){const _e=this.computeTexture(ot,tt);return tt&&tt.isPacked&&(_e[0]/=2,_e[1]/=2),tt&&tt.reverseWH?[_e[1],_e[0]]:_e}computeTexture(ot,tt){const _e=tt&&tt.isPacked;if(ot.length===0)return _e?[2,2]:[1,1];let nt=this.maxTextureSize;if(tt&&tt.breakAxis!==void 0){const ut=tt.breakAxis>=ot.length?1:ot.slice(tt.breakAxis).reduce((dt,ft)=>dt*ft),ct=tt.breakAxis<=0?1:ot.slice(0,tt.breakAxis).reduce((dt,ft)=>dt*ft);if(!(ut>nt||ct>nt))return[ut,ct];a.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${ot}, breakAxis:${tt.breakAxis}`)}let at=ot.slice(0);_e&&(nt*=2,at=at.map((ut,ct)=>ct>=at.length-2?at[ct]%2==0?at[ct]:at[ct]+1:at[ct]),at.length===1&&(at=[2,at[0]])),at.length!==2&&(at=j(at).newShape);const lt=st(at);return at.length<=1&&lt<=nt?[1,lt]:at.length===2&&at[0]<=nt&&at[1]<=nt?at:at.length===3&&at[0]*at[1]<=nt&&at[2]<=nt?[at[0]*at[1],at[2]]:at.length===3&&at[0]<=nt&&at[1]*at[2]<=nt?[at[0],at[1]*at[2]]:at.length===4&&at[0]*at[1]*at[2]<=nt&&at[3]<=nt?[at[0]*at[1]*at[2],at[3]]:at.length===4&&at[0]<=nt&&at[1]*at[2]*at[3]<=nt?[at[0],at[1]*at[2]*at[3]]:_e?it(lt/4).map(ut=>2*ut):it(lt)}},i.squeezeShape=j,i.parseAxisParam=et,i.isInt=rt,i.sizeFromShape=st,i.getRowsCols=function(ot){if(ot.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[ot.length>1?ot[ot.length-2]:1,ot[ot.length-1]]},i.sizeToSquarishShape=it,i.getBatchDim=function(ot,tt=2){return st(ot.slice(0,ot.length-tt))}},4057:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createTextureLayoutFromShape=i.calculateTextureWidthAndHeight=i.createTextureLayoutFromTextureType=void 0;const a=s(2517),$=s(2039);i.createTextureLayoutFromTextureType=(j,et,rt)=>{const st=rt===$.TextureType.unpacked||rt===$.TextureType.unpackedReversed?1:4,it=rt===$.TextureType.packed,ot=rt===$.TextureType.unpackedReversed||rt===$.TextureType.packed,tt=rt===$.TextureType.packedLastDimension?et.length-1:void 0,_e=rt===$.TextureType.packedLastDimension?et.map((nt,at)=>at===et.length-1?4*nt:nt):void 0;return(0,i.createTextureLayoutFromShape)(j,et,st,_e,{isPacked:it,reverseWH:ot,breakAxis:tt})},i.calculateTextureWidthAndHeight=(j,et,rt)=>{const st=(0,i.createTextureLayoutFromTextureType)(j,et,rt);return[st.width,st.height]},i.createTextureLayoutFromShape=(j,et,rt=1,st,it)=>{const ot=!(!it||!it.isPacked),[tt,_e]=j.computeTextureWH(ot&&st||et,it),nt=et.length;let at=et.slice(0);if(nt===0&&(at=[1]),rt===1)st=et;else if(ot){if(rt!==4)throw new Error("a packed texture must be 4-channel");st=et,nt>0&&(at[nt-1]=Math.ceil(at[nt-1]/2)),nt>1&&(at[nt-2]=Math.ceil(at[nt-2]/2))}else if(!st)throw new Error("Unpacked shape is needed when using channels > 1");return{width:tt,height:_e,channels:rt,isPacked:ot,shape:at,strides:a.ShapeUtil.computeStrides(at),unpackedShape:st,reversedWH:it&&it.reverseWH}}},5702:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextureManager=void 0;const a=s(6231);i.TextureManager=class{constructor($,j,et,rt){this.glContext=$,this.layoutStrategy=j,this.profiler=et,this.config=rt,this.pendingRead=new Map,rt.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout($,j,et,rt){const st=this.toEncoderType($),it=this.glContext.getEncoder(st,j.channels||1,rt);if(j.isPacked&&rt===1)throw new Error("not implemented");const ot=j.width,tt=j.height;let _e,nt;if(this.config.reuseTextures){_e=`${ot}x${tt}_${it.format}_${it.internalFormat}_${it.textureType}`,nt=this.inUseTextures.get(_e),nt||(nt=[],this.inUseTextures.set(_e,nt));const lt=this.idleTextures.get(_e);if(lt&&lt.length>0){const ut=lt.pop();return nt.push(ut),rt===1&&this.glContext.updateTexture(ut,ot,tt,it,this.toTextureData($,et)),ut}}a.Logger.verbose("TextureManager",`Creating new texture of size ${j.width}x${j.height}`);const at=this.glContext.allocateTexture(ot,tt,it,this.toTextureData($,et));return this.config.reuseTextures&&(nt.push(at),this.textureLookup.set(at,_e)),at}readTexture($,j,et){return et||(et=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const rt=$.shape.reduce((it,ot)=>it*ot)*et,st=this.glContext.readTexture($.texture,$.width,$.height,rt,this.toEncoderType(j),et);return this.toTensorData(j,st)})}async readTextureAsync($,j,et){const rt=$.tensor.dataId;if(et||(et=1),this.pendingRead.has(rt)){const st=this.pendingRead.get(rt);return new Promise(it=>st==null?void 0:st.push(it))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(rt,[]);const st=$.shape.reduce((_e,nt)=>_e*nt)*et;await this.glContext.createAndWaitForFence();const it=this.glContext.readTexture($.texture,$.width,$.height,st,this.toEncoderType(j),et),ot=this.toTensorData(j,it),tt=this.pendingRead.get(rt);return this.pendingRead.delete(rt),tt==null||tt.forEach(_e=>_e(ot)),ot})}readUint8TextureAsFloat($){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const j=$.shape.reduce((rt,st)=>rt*st),et=this.glContext.readTexture($.texture,$.width,$.height,4*j,"byte",4);return new Float32Array(et.buffer,et.byteOffset,j)})}releaseTexture($,j){let et;if(this.config.reuseTextures&&(et=this.textureLookup.get($.texture),et)){j&&this.textureLookup.delete(et);const rt=this.inUseTextures.get(et);if(rt){const st=rt.indexOf($.texture);if(st!==-1){rt.splice(st,1);let it=this.idleTextures.get(et);it||(it=[],this.idleTextures.set(et,it)),it.push($.texture)}}}et&&!j||(a.Logger.verbose("TextureManager",`Deleting texture of size ${$.width}x${$.height}`),this.glContext.deleteTexture($.texture))}toTensorData($,j){switch($){case"int16":return j instanceof Int16Array?j:Int16Array.from(j);case"int32":return j instanceof Int32Array?j:Int32Array.from(j);case"int8":return j instanceof Int8Array?j:Int8Array.from(j);case"uint16":return j instanceof Uint16Array?j:Uint16Array.from(j);case"uint32":return j instanceof Uint32Array?j:Uint32Array.from(j);case"uint8":case"bool":return j instanceof Uint8Array?j:Uint8Array.from(j);case"float32":return j instanceof Float32Array?j:Float32Array.from(j);case"float64":return j instanceof Float64Array?j:Float64Array.from(j);default:throw new Error(`TensorData type ${$} is not supported`)}}toTextureData($,j){if(j)return j instanceof Float32Array?j:new Float32Array(j)}toEncoderType($){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(o,i)=>{var s;Object.defineProperty(i,"__esModule",{value:!0}),i.TextureType=void 0,(s=i.TextureType||(i.TextureType={}))[s.unpacked=0]="unpacked",s[s.unpackedReversed=1]="unpackedReversed",s[s.packed=2]="packed",s[s.downloadUint8AsFloat=3]="downloadUint8AsFloat",s[s.packedLastDimension=4]="packedLastDimension"},9390:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getGlChannels=i.getCoordsDataType=i.getSqueezedParams=i.squeezeInputShape=i.generateShaderFuncNameFromInputSamplerNameAtOutCoords=i.generateShaderFuncNameFromInputSamplerName=i.repeatedTry=i.getPackedShape=void 0;const a=s(2517);i.getPackedShape=function($){const j=$.length;return $.slice(0,j-1).concat($[j-1]/4)},i.repeatedTry=async function($,j=rt=>0,et){return new Promise((rt,st)=>{let it=0;const ot=()=>{if($())return void rt();it++;const tt=j(it);et!=null&&it>=et?st():setTimeout(ot,tt)};ot()})},i.generateShaderFuncNameFromInputSamplerName=function($){return(0,a.assert)($!==void 0&&$.length!==0,()=>"empty string found for sampler name"),"get"+$.charAt(0).toUpperCase()+$.slice(1)},i.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function($){return(0,a.assert)($!==void 0&&$.length!==0,()=>"empty string found for sampler name"),"get"+$.charAt(0).toUpperCase()+$.slice(1)+"AtOutCoords"},i.squeezeInputShape=function($,j){let et=JSON.parse(JSON.stringify($));return et=j,et},i.getSqueezedParams=function($,j){return j.map(et=>$[et]).join(", ")},i.getCoordsDataType=function($){if($<=1)return"int";if($===2)return"ivec2";if($===3)return"ivec3";if($===4)return"ivec4";if($===5)return"ivec5";if($===6)return"ivec6";throw Error(`GPU for rank ${$} is not yet supported`)},i.getGlChannels=function($=6){return["x","y","z","w","u","v"].slice(0,$)}},7305:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createNewWebGLContext=i.createWebGLContext=void 0;const a=s(6231),$=s(1713),j={};function et(rt){const st=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const tt=document.createElement("canvas");return tt.width=1,tt.height=1,tt}();let it;const ot={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!rt||rt==="webgl2")&&(it=st.getContext("webgl2",ot),it))try{return new $.WebGLContext(it,2)}catch(tt){a.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${tt}`)}if((!rt||rt==="webgl")&&(it=st.getContext("webgl",ot)||st.getContext("experimental-webgl",ot),it))try{return new $.WebGLContext(it,1)}catch(tt){a.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${tt}`)}throw new Error("WebGL is not supported")}i.createWebGLContext=function rt(st){let it;st&&st!=="webgl2"||!("webgl2"in j)?st&&st!=="webgl"||!("webgl"in j)||(it=j.webgl):it=j.webgl2,it=it||et(st),st=st||it.version===1?"webgl":"webgl2";const ot=it.gl;return j[st]=it,ot.isContextLost()?(delete j[st],rt(st)):(ot.disable(ot.DEPTH_TEST),ot.disable(ot.STENCIL_TEST),ot.disable(ot.BLEND),ot.disable(ot.DITHER),ot.disable(ot.POLYGON_OFFSET_FILL),ot.disable(ot.SAMPLE_COVERAGE),ot.enable(ot.SCISSOR_TEST),ot.enable(ot.CULL_FACE),ot.cullFace(ot.BACK),it)},i.createNewWebGLContext=et},1713:function(o,i,s){var a=this&&this.__createBinding||(Object.create?function(ot,tt,_e,nt){nt===void 0&&(nt=_e);var at=Object.getOwnPropertyDescriptor(tt,_e);at&&!("get"in at?!tt.__esModule:at.writable||at.configurable)||(at={enumerable:!0,get:function(){return tt[_e]}}),Object.defineProperty(ot,nt,at)}:function(ot,tt,_e,nt){nt===void 0&&(nt=_e),ot[nt]=tt[_e]}),$=this&&this.__setModuleDefault||(Object.create?function(ot,tt){Object.defineProperty(ot,"default",{enumerable:!0,value:tt})}:function(ot,tt){ot.default=tt}),j=this&&this.__importStar||function(ot){if(ot&&ot.__esModule)return ot;var tt={};if(ot!=null)for(var _e in ot)_e!=="default"&&Object.prototype.hasOwnProperty.call(ot,_e)&&a(tt,ot,_e);return $(tt,ot),tt};Object.defineProperty(i,"__esModule",{value:!0}),i.WebGLContext=i.linearSearchLastTrue=void 0;const et=s(1670),rt=j(s(7769)),st=s(9390);function it(ot){let tt=0;for(;tt<ot.length&&ot[tt]();++tt);return tt-1}i.linearSearchLastTrue=it,i.WebGLContext=class{constructor(ot,tt){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=ot,this.version=tt,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(ot,tt,_e,nt){const at=this.gl,lt=at.createTexture();at.bindTexture(at.TEXTURE_2D,lt),at.texParameteri(at.TEXTURE_2D,at.TEXTURE_MIN_FILTER,at.NEAREST),at.texParameteri(at.TEXTURE_2D,at.TEXTURE_MAG_FILTER,at.NEAREST),at.texParameteri(at.TEXTURE_2D,at.TEXTURE_WRAP_S,at.CLAMP_TO_EDGE),at.texParameteri(at.TEXTURE_2D,at.TEXTURE_WRAP_T,at.CLAMP_TO_EDGE);const ut=nt?_e.encode(nt,ot*tt):null;return at.texImage2D(at.TEXTURE_2D,0,_e.internalFormat,ot,tt,0,_e.format,_e.textureType,ut),this.checkError(),lt}updateTexture(ot,tt,_e,nt,at){const lt=this.gl;lt.bindTexture(lt.TEXTURE_2D,ot);const ut=nt.encode(at,tt*_e);lt.texSubImage2D(lt.TEXTURE_2D,0,0,0,tt,_e,nt.format,nt.textureType,ut),this.checkError()}attachFramebuffer(ot,tt,_e){const nt=this.gl;nt.bindTexture(nt.TEXTURE_2D,ot),nt.bindFramebuffer(nt.FRAMEBUFFER,this.framebuffer),nt.framebufferTexture2D(nt.FRAMEBUFFER,nt.COLOR_ATTACHMENT0,nt.TEXTURE_2D,ot,0),this.checkError(),nt.viewport(0,0,tt,_e),nt.scissor(0,0,tt,_e)}readTexture(ot,tt,_e,nt,at,lt){const ut=this.gl;lt||(lt=1),this.frameBufferBound||this.attachFramebuffer(ot,tt,_e);const ct=this.getEncoder(at,lt),dt=ct.allocate(tt*_e);return ut.bindTexture(ut.TEXTURE_2D,ot),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,ot,0),ut.readPixels(0,0,tt,_e,ut.RGBA,ct.textureType,dt),this.checkError(),ct.decode(dt,nt)}isFramebufferReady(){return!0}getActiveTexture(){const ot=this.gl;return"TEXTURE"+(ot.getParameter(this.gl.ACTIVE_TEXTURE)-ot.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(ot,tt){const _e=this.gl;_e.vertexAttribPointer(ot,3,_e.FLOAT,!1,20,0),_e.enableVertexAttribArray(ot),tt!==-1&&(_e.vertexAttribPointer(tt,2,_e.FLOAT,!1,20,12),_e.enableVertexAttribArray(tt)),this.checkError()}createProgram(ot,tt){const _e=this.gl,nt=_e.createProgram();return _e.attachShader(nt,ot),_e.attachShader(nt,tt),_e.linkProgram(nt),nt}compileShader(ot,tt){const _e=this.gl,nt=_e.createShader(tt);if(!nt)throw new Error(`createShader() returned null with type ${tt}`);if(_e.shaderSource(nt,ot),_e.compileShader(nt),_e.getShaderParameter(nt,_e.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${_e.getShaderInfoLog(nt)}
Shader source:
${ot}`);return nt}deleteShader(ot){this.gl.deleteShader(ot)}bindTextureToUniform(ot,tt,_e){const nt=this.gl;nt.activeTexture(nt.TEXTURE0+tt),this.checkError(),nt.bindTexture(nt.TEXTURE_2D,ot),this.checkError(),nt.uniform1i(_e,tt),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(et.env.debug){const ot=this.gl,tt=ot.getError();let _e="";switch(tt){case ot.NO_ERROR:return;case ot.INVALID_ENUM:_e="INVALID_ENUM";break;case ot.INVALID_VALUE:_e="INVALID_VALUE";break;case ot.INVALID_OPERATION:_e="INVALID_OPERATION";break;case ot.INVALID_FRAMEBUFFER_OPERATION:_e="INVALID_FRAMEBUFFER_OPERATION";break;case ot.OUT_OF_MEMORY:_e="OUT_OF_MEMORY";break;case ot.CONTEXT_LOST_WEBGL:_e="CONTEXT_LOST_WEBGL";break;default:_e=`Unknown WebGL Error: ${tt.toString(16)}`}throw new Error(_e)}}deleteTexture(ot){this.gl.deleteTexture(ot)}deleteProgram(ot){this.gl.deleteProgram(ot)}getEncoder(ot,tt,_e=0){if(this.version===2)return new rt.RedFloat32DataEncoder(this.gl,tt);switch(ot){case"float":return _e===1||this.isRenderFloat32Supported?new rt.RGBAFloatDataEncoder(this.gl,tt):new rt.RGBAFloatDataEncoder(this.gl,tt,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new rt.Uint8DataEncoder(this.gl,tt);default:throw new Error(`Invalid dataType: ${ot}`)}}clearActiveTextures(){const ot=this.gl;for(let tt=0;tt<this.maxTextureImageUnits;++tt)ot.activeTexture(ot.TEXTURE0+tt),ot.bindTexture(ot.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const ot=this.gl;ot.bindFramebuffer(ot.FRAMEBUFFER,null),ot.deleteFramebuffer(this.framebuffer),ot.bindBuffer(ot.ARRAY_BUFFER,null),ot.deleteBuffer(this.vertexbuffer),ot.bindBuffer(ot.ELEMENT_ARRAY_BUFFER,null),ot.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const ot=this.gl,tt=ot.createBuffer();if(!tt)throw new Error("createBuffer() returned null");const _e=this.createDefaultGeometry();return ot.bindBuffer(ot.ARRAY_BUFFER,tt),ot.bufferData(ot.ARRAY_BUFFER,_e,ot.STATIC_DRAW),this.checkError(),tt}createFramebuffer(){const ot=this.gl.createFramebuffer();if(!ot)throw new Error("createFramebuffer returned null");return ot}queryVitalParameters(){const ot=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=ot.getParameter(ot.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=ot.getParameter(ot.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const ot=this.gl,tt=ot.createTexture();ot.bindTexture(ot.TEXTURE_2D,tt);const _e=this.version===2?ot.RGBA32F:ot.RGBA;ot.texImage2D(ot.TEXTURE_2D,0,_e,1,1,0,ot.RGBA,ot.FLOAT,null);const nt=ot.createFramebuffer();ot.bindFramebuffer(ot.FRAMEBUFFER,nt),ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,tt,0);const at=ot.checkFramebufferStatus(ot.FRAMEBUFFER)===ot.FRAMEBUFFER_COMPLETE;return ot.bindTexture(ot.TEXTURE_2D,null),ot.bindFramebuffer(ot.FRAMEBUFFER,null),ot.deleteTexture(tt),ot.deleteFramebuffer(nt),at}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const ot=this.gl;let tt,_e,nt,at,lt;try{tt=ot.createTexture(),_e=ot.createFramebuffer(),ot.bindTexture(ot.TEXTURE_2D,tt);const ut=this.version===2?ot.RGBA32F:ot.RGBA;return ot.texImage2D(ot.TEXTURE_2D,0,ut,1,1,0,ot.RGBA,ot.FLOAT,null),ot.bindFramebuffer(ot.FRAMEBUFFER,_e),ot.framebufferTexture2D(ot.FRAMEBUFFER,ot.COLOR_ATTACHMENT0,ot.TEXTURE_2D,tt,0),ot.enable(ot.BLEND),nt=ot.createShader(ot.VERTEX_SHADER),!!nt&&(ot.shaderSource(nt,"void main(){}"),ot.compileShader(nt),at=ot.createShader(ot.FRAGMENT_SHADER),!!at&&(ot.shaderSource(at,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),ot.compileShader(at),lt=ot.createProgram(),!!lt&&(ot.attachShader(lt,nt),ot.attachShader(lt,at),ot.linkProgram(lt),ot.useProgram(lt),ot.drawArrays(ot.POINTS,0,1),ot.getError()===ot.NO_ERROR)))}finally{ot.disable(ot.BLEND),lt&&ot.deleteProgram(lt),nt&&ot.deleteShader(nt),at&&ot.deleteShader(at),_e&&(ot.bindFramebuffer(ot.FRAMEBUFFER,null),ot.deleteFramebuffer(_e)),tt&&(ot.bindTexture(ot.TEXTURE_2D,null),ot.deleteTexture(tt))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const ot=this.gl,tt=this.disjointTimerQueryWebgl2Extension,_e=ot.createQuery();return ot.beginQuery(tt.TIME_ELAPSED_EXT,_e),_e}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const ot=this.gl,tt=this.disjointTimerQueryWebgl2Extension;ot.endQuery(tt.TIME_ELAPSED_EXT)}}isTimerResultAvailable(ot){let tt=!1,_e=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const nt=this.gl,at=this.disjointTimerQueryWebgl2Extension;tt=nt.getQueryParameter(ot,nt.QUERY_RESULT_AVAILABLE),_e=nt.getParameter(at.GPU_DISJOINT_EXT)}return tt&&!_e}getTimerResult(ot){let tt=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const _e=this.gl;tt=_e.getQueryParameter(ot,_e.QUERY_RESULT),_e.deleteQuery(ot)}return tt/1e6}async waitForQueryAndGetTime(ot){return await(0,st.repeatedTry)(()=>this.isTimerResultAvailable(ot)),this.getTimerResult(ot)}async createAndWaitForFence(){const ot=this.createFence(this.gl);return this.pollFence(ot)}createFence(ot){let tt;const _e=ot,nt=_e.fenceSync(_e.SYNC_GPU_COMMANDS_COMPLETE,0);return ot.flush(),tt=nt===null?()=>!0:()=>{const at=_e.clientWaitSync(nt,0,0);return at===_e.ALREADY_SIGNALED||at===_e.CONDITION_SATISFIED},{query:nt,isFencePassed:tt}}async pollFence(ot){return new Promise(tt=>{this.addItemToPoll(()=>ot.isFencePassed(),()=>tt())})}pollItems(){const ot=it(this.itemsToPoll.map(tt=>tt.isDoneFn));for(let tt=0;tt<=ot;++tt){const{resolveFn:_e}=this.itemsToPoll[tt];_e()}this.itemsToPoll=this.itemsToPoll.slice(ot+1)}async addItemToPoll(ot,tt){this.itemsToPoll.push({isDoneFn:ot,resolveFn:tt}),this.itemsToPoll.length>1||await(0,st.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},1036:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExecutionPlan=void 0;const a=s(6231);class ${constructor(et,rt){this.op=et,this.node=rt}}i.ExecutionPlan=class{constructor(j,et,rt){this.graph=j,this.profiler=rt,this.initialize(et)}initialize(j){this.profiler.event("session","ExecutionPlan.initialize",()=>{const et=this.graph.getNodes();if(et.length!==j.length)throw new Error("The size of nodes and OPs do not match.");this._ops=j.map((rt,st)=>new $(rt,et[st])),this.reset(),this._starter=[],this._ops.forEach((rt,st)=>{let it=!0;for(const ot of rt.node.inputs)if(!this._values[ot]&&this.graph.getInputIndices().indexOf(ot)===-1){it=!1;break}it&&this._starter.push(st)})})}reset(){this._values=this.graph.getValues().map(j=>j.tensor)}async execute(j,et){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const rt=j.createInferenceHandler(),st=this.graph.getInputIndices();if(et.length!==st.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${et.length} expected: ${st.length}`);et.forEach((at,lt)=>{const ut=st[lt];this._values[ut]=at});const it=this._starter.slice(0),ot=this.graph.getValues(),tt=this.graph.getNodes();let _e=0;for(;_e<it.length;){const at=it[_e++],lt=this._ops[at],ut=lt.node.inputs.map(ht=>this._values[ht]);if(ut.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${lt.node}`);const ct=ut;a.Logger.verbose("ExecPlan",`Runing op:${lt.node.name} (${ct.map((ht,gt)=>`'${lt.node.inputs[gt]}': ${ht.type}[${ht.dims.join(",")}]`).join(", ")})`);const dt=await this.profiler.event("node",lt.node.name,async()=>lt.op.impl(rt,ct,lt.op.context));if(dt.length!==lt.node.outputs.length)throw new Error("the size of output does not match model definition.");dt.forEach((ht,gt)=>{const yt=lt.node.outputs[gt];if(this._values[yt])throw new Error(`output [${yt}] already has value: op:${lt.node.name}`);this._values[yt]=ht});const ft=new Set;dt.forEach((ht,gt)=>{const yt=lt.node.outputs[gt];for(const bt of ot[yt].to){const vt=tt[bt];let mt=!0;for(const xt of vt.inputs)if(!this._values[xt]){mt=!1;break}mt&&ft.add(bt)}}),it.push(...ft)}const nt=[];for(let at=0;at<this.graph.getOutputIndices().length;at++){const lt=this.graph.getOutputIndices()[at],ut=this._values[lt];if(ut===void 0)throw new Error(`required output [${lt}] does not have value`);lt===0?await ut.getData():ut.data,nt.push(ut)}return a.Logger.verbose("ExecPlan","disposing of inferenceHandler"),rt.dispose(),nt})}}},7070:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Graph=void 0;const a=s(1446),$=s(7778),j=s(9395),et=s(9162),rt=s(2517);var st=j.onnxruntime.experimental.fbs;i.Graph={from:(_e,nt)=>new tt(_e,nt)};class it{constructor(nt){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,nt&&(this.type=rt.ProtoUtil.tensorValueTypeFromProto(nt.type.tensorType))}get from(){return this._from}get to(){return this._to}}class ot{constructor(nt,at){nt instanceof a.onnx.NodeProto?(this.name=nt.name,this.opType=nt.opType,this.attributes=new $.Attribute(nt.attribute)):nt instanceof st.Node&&(this.name=at??nt.name(),this.opType=nt.opType(),this.attributes=new $.Attribute(rt.ProtoUtil.tensorAttributesFromORTFormat(nt))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class tt{constructor(nt,at){if(!nt)throw new TypeError("graph is empty");this.buildGraph(nt),this.transformGraph(at),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(nt){if(nt instanceof a.onnx.GraphProto)this.buildGraphFromOnnxFormat(nt);else{if(!(nt instanceof st.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(nt)}}buildGraphFromOnnxFormat(nt){const at=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const lt=new Map;if(!nt.input)throw new Error("missing information in graph: input");const ut=[];for(const ct of nt.input){if(at.has(ct.name))throw new Error(`duplicated input name: ${ct.name}`);const dt=this._allData.push(new it(ct))-1;at.set(ct.name,dt),ut.push(ct.name)}if(!nt.initializer)throw new Error("missing information in graph: initializer");for(const ct of nt.initializer){let dt=at.get(ct.name);if(dt===void 0){const ft=new it;ft.type={shape:{dims:rt.ProtoUtil.tensorDimsFromProto(ct.dims)},tensorType:rt.ProtoUtil.tensorDataTypeFromProto(ct.dataType)},dt=this._allData.push(ft)-1,at.set(ct.name,dt)}this._allData[dt]._from=-1,this._allData[dt].tensor=et.Tensor.fromProto(ct)}for(let ct=0;ct<this._allData.length;ct++)this._allData[ct].tensor||(this._allInputIndices.push(ct),this._allInputNames.push(ut[ct]));if(!nt.output)throw new Error("missing information in graph: output");for(const ct of nt.output){if(at.has(ct.name))throw new Error(`duplicated output name: ${ct.name}`);const dt=this._allData.push(new it(ct))-1;at.set(ct.name,dt),this._allOutputIndices.push(dt),this._allOutputNames.push(ct.name)}if(!nt.node)throw new Error("missing information in graph: node");for(const ct of nt.node){if(!ct.name)for(let ft=0;;ft++){const ht=`unnamed_${ct.opType}_${ft}`;if(!lt.has(ht)){ct.name=ht;break}}if(lt.has(ct.name))throw new Error(`duplicated node name: ${ct.name}`);const dt=this._nodes.push(new ot(ct))-1;lt.set(ct.name,dt)}for(let ct=0;ct<this._nodes.length;ct++){const dt=this._nodes[ct],ft=nt.node[ct];if(!ft.output)throw new Error(`missing output for node: ${ft.name}`);for(const ht of ft.output){let gt=at.get(ht);if(gt===void 0&&(gt=this._allData.push(new it)-1,at.set(ht,gt)),dt.outputs.push(gt),this._allData[gt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${gt}`);if(this._allData[gt]._from=ct,ft.opType==="Constant"){if(!ft.attribute||ft.attribute.length!==1||!ft.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!ft.output||ft.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");dt.outputs.pop(),dt.executeNode=!1,this._allData[gt]._from=-1,this._allData[gt].tensor=et.Tensor.fromProto(ft.attribute[0].t)}}}for(let ct=0;ct<this._nodes.length;ct++){const dt=this._nodes[ct],ft=nt.node[ct];if(!ft.input)throw new Error(`missing input for node: ${ft.name}`);for(const ht of ft.input){const gt=at.get(ht);if(gt===void 0){if(ht===""&&ft.input.length===3&&ft.opType==="Resize")continue;throw new Error(`unrecognized input '${ht}' for node: ${ft.name}`)}dt.inputs.push(gt),this._allData[gt]._to.push(ct)}}return!0}buildGraphFromOrtFormat(nt){var at,lt,ut;const ct=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const dt=new Map,ft=[];for(let ht=0;ht<nt.inputsLength();ht++){const gt=nt.inputs(ht);if(ct.has(gt))throw new Error(`duplicated input name: ${gt}`);for(let yt=0;yt<nt.nodeArgsLength();yt++)if(((at=nt.nodeArgs(yt))===null||at===void 0?void 0:at.name())===gt){const bt=new it;if(((ut=(lt=nt.nodeArgs(yt))===null||lt===void 0?void 0:lt.type())===null||ut===void 0?void 0:ut.valueType())!==st.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const vt=nt.nodeArgs(yt).type().value(new st.TensorTypeAndShape),mt=rt.ProtoUtil.tensorDataTypeFromProto(vt.elemType()),xt=vt.shape(),wt=[];for(let kt=0;kt<xt.dimLength();kt++)wt.push(rt.LongUtil.longToNumber(xt.dim(kt).value().dimValue()));bt.type={shape:{dims:wt},tensorType:mt};const Ct=this._allData.push(bt)-1;ct.set(gt,Ct),ft.push(gt)}}for(let ht=0;ht<nt.initializersLength();ht++){const gt=nt.initializers(ht);let yt=ct.get(gt.name());if(yt===void 0){const bt=new it,vt=rt.ProtoUtil.tensorDimsFromORTFormat(gt),mt=rt.ProtoUtil.tensorDataTypeFromProto(gt.dataType());bt.type={shape:{dims:vt},tensorType:mt},yt=this._allData.push(bt)-1,ct.set(gt.name(),yt)}this._allData[yt]._from=-1,this._allData[yt].tensor=et.Tensor.fromOrtTensor(gt)}for(let ht=0;ht<this._allData.length;ht++)this._allData[ht].tensor||(this._allInputIndices.push(ht),this._allInputNames.push(ft[ht]));for(let ht=0;ht<nt.outputsLength();ht++){const gt=nt.outputs(ht);if(ct.has(gt))throw new Error(`duplicated output name: ${gt}`);const yt=this._allData.push(new it)-1;ct.set(gt,yt),this._allOutputIndices.push(yt),this._allOutputNames.push(gt)}if(!nt.nodes)throw new Error("missing information in graph: node");for(let ht=0;ht<nt.nodesLength();ht++){const gt=nt.nodes(ht);let yt=gt.name();if(!yt)for(let vt=0;yt=`unnamed_${gt.opType()}_${vt}`,dt.has(yt);vt++);if(dt.has(yt))throw new Error(`duplicated node name: ${yt}`);const bt=this._nodes.push(new ot(gt,yt))-1;dt.set(yt,bt)}for(let ht=0;ht<this._nodes.length;ht++){const gt=this._nodes[ht],yt=nt.nodes(ht);if(yt==null)throw new Error(`No node exists at index ${ht}`);if((yt==null?void 0:yt.outputsLength())===0)throw new Error(`missing output for node: ${yt.name}`);for(let bt=0;bt<(yt==null?void 0:yt.outputsLength());bt++){const vt=yt==null?void 0:yt.outputs(bt);let mt=ct.get(vt);if(mt===void 0&&(mt=this._allData.push(new it)-1,ct.set(vt,mt)),gt.outputs.push(mt),this._allData[mt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${mt}`);if(this._allData[mt]._from=ht,yt.opType()==="Constant"){if(yt.attributesLength()!==1||!yt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(yt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");gt.outputs.pop(),gt.executeNode=!1,this._allData[mt]._from=-1,this._allData[mt].tensor=et.Tensor.fromOrtTensor(yt.attributes(0).t())}}}for(let ht=0;ht<this._nodes.length;ht++){const gt=this._nodes[ht],yt=nt.nodes(ht);if(yt.inputsLength()===0)throw new Error(`missing input for node: ${yt.name}`);for(let bt=0;bt<yt.inputsLength();bt++){const vt=yt.inputs(bt),mt=ct.get(vt);if(mt===void 0)throw new Error(`unrecognized input '${vt}' for node: ${yt.name()}`);gt.inputs.push(mt),this._allData[mt]._to.push(ht)}}}checkIsAcyclic(){const nt=new Set;this._allInputIndices.forEach(ut=>{this._allData[ut]._to.forEach(ct=>{nt.add(ct)})});const at=Array.from(nt),lt=new Array(this._nodes.length).fill("white");for(;at.length>0;){const ut=at.pop();lt[ut]==="gray"?lt[ut]="black":(at.push(ut),lt[ut]="gray",this._nodes[ut].outputs.forEach(ct=>{const dt=this._allData[ct];if(dt.tensor!==void 0)throw new Error("node outputs should not be initialized");if(dt._from!==ut)throw new Error("from property of the Value object doesn't match index of Node being processed");dt._to.forEach(ft=>{if(lt[ft]==="gray")throw new Error("model graph is cyclic");lt[ft]==="white"&&at.push(ft)})}))}}transformGraph(nt){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),nt&&nt.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let nt=0;for(let at=0;at<this._nodes.length;at++)this._nodes[at].executeNode?nt>0&&(this._nodes[at].inputs.forEach(lt=>{const ut=this._allData[lt]._to.indexOf(at+nt);ut!==-1&&(this._allData[lt]._to[ut]=at)}),this._nodes[at].outputs.forEach(lt=>{this._allData[lt]._from&&this._allData[lt]._from===at+nt&&(this._allData[lt]._from=at)})):(nt++,this._nodes[at].outputs.forEach(lt=>{this._allData[lt]._from=-2}),this._nodes.splice(at,1),at--);nt=0;for(let at=0;at<this._allData.length;at++)if(this._allData[at].from!==-2||this._allOutputIndices.indexOf(at+nt)!==-1){if(nt>0){let lt=-1;this._allData[at].from!==void 0&&this._allData[at].from!==-1?(lt=this._nodes[this._allData[at].from].outputs.indexOf(at+nt),lt!==-1&&(this._nodes[this._allData[at].from].outputs[lt]=at)):(lt=this._allInputIndices.indexOf(at+nt),lt!==-1&&(this._allInputIndices[lt]=at)),this._allData[at].to.forEach(ut=>{lt=this._nodes[ut].inputs.indexOf(at+nt),lt!==-1&&(this._nodes[ut].inputs[lt]=at)}),this._allData[at].to.length===0&&(lt=this._allOutputIndices.indexOf(at+nt),lt!==-1&&(this._allOutputIndices[lt]=at))}}else nt++,this._allData.splice(at,1),at--}deleteNode(nt){const at=this._nodes[nt];if(at.outputs.length>1){for(let ht=1;ht<at.outputs.length;ht++)if(this._allData[at.outputs[ht]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}at.executeNode=!1;const lt=at.inputs[0],ut=at.outputs[0],ct=this._allData[ut].to,dt=this._allData[lt].to.indexOf(nt);if(dt===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[lt].to.splice(dt,1),this._allData[ut]._to=[];const ft=this._allOutputIndices.indexOf(ut);if(ft!==-1&&(this._allOutputIndices[ft]=lt),ct&&ct.length>0)for(const ht of ct){const gt=this._nodes[ht].inputs.indexOf(ut);if(gt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[ht].inputs[gt]=lt,this._allData[lt].to.push(ht)}}removeAllDropoutNodes(){let nt=0;for(const at of this._nodes){if(at.opType==="Dropout"){if(at.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(at.outputs.length!==1&&at.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(at.outputs.length===2&&this._allData[at.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(nt)}nt++}}removeAllIdentityNodes(){let nt=0;for(const at of this._nodes)at.opType==="Identity"&&this.deleteNode(nt),nt++}isActivation(nt){switch(nt.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const nt of this._nodes)if(nt.opType==="Conv"){const at=this._allData[nt.outputs[0]]._to;if(at.length===1&&this.isActivation(this._nodes[at[0]])){const lt=this._nodes[at[0]];if(lt.opType==="Clip")if(lt.inputs.length===1)try{nt.attributes.set("activation_params","floats",[lt.attributes.getFloat("min"),lt.attributes.getFloat("max")])}catch{nt.attributes.set("activation_params","floats",[rt.MIN_CLIP,rt.MAX_CLIP])}else{if(!(lt.inputs.length>=3&&this._allData[lt.inputs[1]].tensor!==void 0&&this._allData[lt.inputs[2]].tensor!==void 0))continue;nt.attributes.set("activation_params","floats",[this._allData[lt.inputs[1]].tensor.floatData[0],this._allData[lt.inputs[2]].tensor.floatData[0]])}nt.attributes.set("activation","string",lt.opType),this.deleteNode(at[0])}}}}},6231:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.now=i.Profiler=i.Logger=void 0;const s={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},a={none:new class{log(ot,tt,_e){}},console:new class{log(ot,tt,_e){console.log(`${this.color(ot)} ${_e?"\x1B[35m"+_e+"\x1B[0m ":""}${tt}`)}color(ot){switch(ot){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${ot}`)}}}},$={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let j={"":$};function et(ot,tt,_e,nt){if(tt===void 0)return at=ot,{verbose:et.verbose.bind(null,at),info:et.info.bind(null,at),warning:et.warning.bind(null,at),error:et.error.bind(null,at),fatal:et.fatal.bind(null,at)};if(_e===void 0)rt(ot,tt);else if(typeof _e=="number"&&nt===void 0)rt(ot,tt);else if(typeof _e=="string"&&nt===void 0)rt(ot,_e,0,tt);else{if(typeof _e!="string"||typeof nt!="number")throw new TypeError("input is valid");rt(ot,_e,0,tt)}var at}function rt(ot,tt,_e,nt){const at=j[nt||""]||j[""];s[ot]<s[at.minimalSeverity]||(at.logDateTime&&(tt=`${new Date().toISOString()}|${tt}`),at.logSourceLocation,a[at.provider].log(ot,tt,nt))}(function(ot){function tt(nt){j={},_e("",nt||{})}function _e(nt,at){if(nt==="*")tt(at);else{const lt=j[nt]||$;j[nt]={provider:at.provider||lt.provider,minimalSeverity:at.minimalSeverity||lt.minimalSeverity,logDateTime:at.logDateTime===void 0?lt.logDateTime:at.logDateTime,logSourceLocation:at.logSourceLocation===void 0?lt.logSourceLocation:at.logSourceLocation}}}ot.verbose=function(nt,at){ot("verbose",nt,at)},ot.info=function(nt,at){ot("info",nt,at)},ot.warning=function(nt,at){ot("warning",nt,at)},ot.error=function(nt,at){ot("error",nt,at)},ot.fatal=function(nt,at){ot("fatal",nt,at)},ot.reset=tt,ot.set=_e,ot.setWithEnv=function(nt){const at={};nt.logLevel&&(at.minimalSeverity=nt.logLevel),_e("",at)}})(et||(et={})),i.Logger=et;class st{constructor(tt,_e,nt,at,lt,ut){this.category=tt,this.name=_e,this.startTime=nt,this.endCallback=at,this.timer=lt,this.ctx=ut}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class it{constructor(tt,_e,nt,at){this.category=tt,this.name=_e,this.startTime=nt,this.endTime=at}}i.Profiler=class{static create(ot){return ot===void 0?new this:new this(ot.maxNumberEvents,ot.flushBatchSize,ot.flushIntervalInMilliseconds)}constructor(ot,tt,_e){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=ot===void 0?1e4:ot,this._flushBatchSize=tt===void 0?10:tt,this._flushIntervalInMilliseconds=_e===void 0?5e3:_e}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,i.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(ot,tt,_e,nt){const at=this._started?this.begin(ot,tt,nt):void 0;let lt=!1;const ut=_e();if(ut&&typeof ut.then=="function")return lt=!0,new Promise((ct,dt)=>{ut.then(async ft=>{at&&await at.end(),ct(ft)},async ft=>{at&&await at.end(),dt(ft)})});if(!lt&&at){const ct=at.end();if(ct&&typeof ct.then=="function")return new Promise((dt,ft)=>{ct.then(()=>{dt(ut)},ht=>{ft(ht)})})}return ut}begin(ot,tt,_e){if(!this._started)throw new Error("profiler is not started yet");if(_e===void 0){const nt=(0,i.now)();return this.flush(nt),new st(ot,tt,nt,at=>this.endSync(at))}{const nt=_e.beginTimer();return new st(ot,tt,0,async at=>this.end(at),nt,_e)}}async end(ot){const tt=await ot.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new it(ot.category,ot.name,ot.startTime,tt)),this.flush(tt))}endSync(ot){const tt=(0,i.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new it(ot.category,ot.name,ot.startTime,tt)),this.flush(tt))}logOneEvent(ot){i.Logger.verbose(`Profiler.${ot.category}`,`${(ot.endTime-ot.startTime).toFixed(2)}ms on event '${ot.name}' at ${ot.endTime.toFixed(2)}`)}flush(ot){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||ot-this._flushTime>=this._flushIntervalInMilliseconds){for(const tt=this._flushPointer;this._flushPointer<tt+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,i.now)()}}get started(){return this._started}},i.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Model=void 0;const a=s(5686),$=s(1446),j=s(7070),et=s(9395),rt=s(2517);var st=et.onnxruntime.experimental.fbs;i.Model=class{constructor(){}load(it,ot,tt){if(!tt)try{return void this.loadFromOnnxFormat(it,ot)}catch(_e){if(tt!==void 0)throw _e}this.loadFromOrtFormat(it,ot)}loadFromOnnxFormat(it,ot){const tt=$.onnx.ModelProto.decode(it);if(rt.LongUtil.longToNumber(tt.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=tt.opsetImport.map(_e=>({domain:_e.domain,version:rt.LongUtil.longToNumber(_e.version)})),this._graph=j.Graph.from(tt.graph,ot)}loadFromOrtFormat(it,ot){const tt=new a.flatbuffers.ByteBuffer(it),_e=st.InferenceSession.getRootAsInferenceSession(tt).model();if(rt.LongUtil.longToNumber(_e.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let nt=0;nt<_e.opsetImportLength();nt++){const at=_e.opsetImport(nt);this._opsets.push({domain:at==null?void 0:at.domain(),version:rt.LongUtil.longToNumber(at.version())})}this._graph=j.Graph.from(_e.graph(),ot)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FLOAT_TYPES=i.INT_TYPES=i.NUMBER_TYPES=void 0,i.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],i.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],i.FLOAT_TYPES=["float32","float64"]},1047:(o,i)=>{function s(a,$){if($.endsWith("+")){const j=Number.parseInt($.substring(0,$.length-1),10);return!isNaN(j)&&j<=a}if($.split("-").length===2){const j=$.split("-"),et=Number.parseInt(j[0],10),rt=Number.parseInt(j[1],10);return!isNaN(et)&&!isNaN(rt)&&et<=a&&a<=rt}return Number.parseInt($,10)===a}Object.defineProperty(i,"__esModule",{value:!0}),i.resolveOperator=void 0,i.resolveOperator=function(a,$,j){for(const et of j){const rt=et[0],st=et[1],it=et[2],ot=et[3],tt=et[4];if(a.opType===rt){for(const _e of $)if((_e.domain===st||_e.domain==="ai.onnx"&&st==="")&&s(_e.version,it))return{opImpl:ot,opInit:tt}}}throw new TypeError(`cannot resolve operator '${a.opType}' with opsets: ${$.map(et=>`${et.domain||"ai.onnx"} v${et.version}`).join(", ")}`)}},9395:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.onnxruntime=void 0;const a=s(5686);var $,j;$=i.onnxruntime||(i.onnxruntime={}),function(et){(function(rt){rt[rt.UNDEFINED=0]="UNDEFINED",rt[rt.FLOAT=1]="FLOAT",rt[rt.INT=2]="INT",rt[rt.STRING=3]="STRING",rt[rt.TENSOR=4]="TENSOR",rt[rt.GRAPH=5]="GRAPH",rt[rt.FLOATS=6]="FLOATS",rt[rt.INTS=7]="INTS",rt[rt.STRINGS=8]="STRINGS",rt[rt.TENSORS=9]="TENSORS",rt[rt.GRAPHS=10]="GRAPHS",rt[rt.SPARSE_TENSOR=11]="SPARSE_TENSOR",rt[rt.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(et.AttributeType||(et.AttributeType={}))}((j=$.experimental||($.experimental={})).fbs||(j.fbs={})),function(et){(function(rt){(function(st){(function(it){it[it.UNKNOWN=0]="UNKNOWN",it[it.VALUE=1]="VALUE",it[it.PARAM=2]="PARAM"})(st.DimensionValueType||(st.DimensionValueType={}))})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){(function(it){it[it.UNDEFINED=0]="UNDEFINED",it[it.FLOAT=1]="FLOAT",it[it.UINT8=2]="UINT8",it[it.INT8=3]="INT8",it[it.UINT16=4]="UINT16",it[it.INT16=5]="INT16",it[it.INT32=6]="INT32",it[it.INT64=7]="INT64",it[it.STRING=8]="STRING",it[it.BOOL=9]="BOOL",it[it.FLOAT16=10]="FLOAT16",it[it.DOUBLE=11]="DOUBLE",it[it.UINT32=12]="UINT32",it[it.UINT64=13]="UINT64",it[it.COMPLEX64=14]="COMPLEX64",it[it.COMPLEX128=15]="COMPLEX128",it[it.BFLOAT16=16]="BFLOAT16"})(st.TensorDataType||(st.TensorDataType={}))})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){(function(it){it[it.Primitive=0]="Primitive",it[it.Fused=1]="Fused"})(st.NodeType||(st.NodeType={}))})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){(function(it){it[it.NONE=0]="NONE",it[it.tensor_type=1]="tensor_type",it[it.sequence_type=2]="sequence_type",it[it.map_type=3]="map_type"})(st.TypeInfoValue||(st.TypeInfoValue={}))})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsShape(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsShape(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}dim(tt,_e){let nt=this.bb.__offset(this.bb_pos,4);return nt?(_e||new et.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}dimLength(){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startShape(tt){tt.startObject(1)}static addDim(tt,_e){tt.addFieldOffset(0,_e,0)}static createDimVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startDimVector(tt,_e){tt.startVector(4,_e,4)}static endShape(tt){return tt.endObject()}static createShape(tt,_e){return it.startShape(tt),it.addDim(tt,_e),it.endShape(tt)}}st.Shape=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsDimension(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsDimension(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}value(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?(tt||new et.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}denotation(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__string(this.bb_pos+_e,tt):null}static startDimension(tt){tt.startObject(2)}static addValue(tt,_e){tt.addFieldOffset(0,_e,0)}static addDenotation(tt,_e){tt.addFieldOffset(1,_e,0)}static endDimension(tt){return tt.endObject()}static createDimension(tt,_e,nt){return it.startDimension(tt),it.addValue(tt,_e),it.addDenotation(tt,nt),it.endDimension(tt)}}st.Dimension=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsDimensionValue(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsDimensionValue(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}dimType(){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.readInt8(this.bb_pos+tt):et.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.readInt64(this.bb_pos+tt):this.bb.createLong(0,0)}dimParam(tt){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.__string(this.bb_pos+_e,tt):null}static startDimensionValue(tt){tt.startObject(3)}static addDimType(tt,_e){tt.addFieldInt8(0,_e,et.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(tt,_e){tt.addFieldInt64(1,_e,tt.createLong(0,0))}static addDimParam(tt,_e){tt.addFieldOffset(2,_e,0)}static endDimensionValue(tt){return tt.endObject()}static createDimensionValue(tt,_e,nt,at){return it.startDimensionValue(tt),it.addDimType(tt,_e),it.addDimValue(tt,nt),it.addDimParam(tt,at),it.endDimensionValue(tt)}}st.DimensionValue=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsTensorTypeAndShape(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsTensorTypeAndShape(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}elemType(){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.readInt32(this.bb_pos+tt):et.experimental.fbs.TensorDataType.UNDEFINED}shape(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?(tt||new et.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}static startTensorTypeAndShape(tt){tt.startObject(2)}static addElemType(tt,_e){tt.addFieldInt32(0,_e,et.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(tt,_e){tt.addFieldOffset(1,_e,0)}static endTensorTypeAndShape(tt){return tt.endObject()}static createTensorTypeAndShape(tt,_e,nt){return it.startTensorTypeAndShape(tt),it.addElemType(tt,_e),it.addShape(tt,nt),it.endTensorTypeAndShape(tt)}}st.TensorTypeAndShape=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsMapType(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsMapType(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}keyType(){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.readInt32(this.bb_pos+tt):et.experimental.fbs.TensorDataType.UNDEFINED}valueType(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?(tt||new et.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}static startMapType(tt){tt.startObject(2)}static addKeyType(tt,_e){tt.addFieldInt32(0,_e,et.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(tt,_e){tt.addFieldOffset(1,_e,0)}static endMapType(tt){return tt.endObject()}static createMapType(tt,_e,nt){return it.startMapType(tt),it.addKeyType(tt,_e),it.addValueType(tt,nt),it.endMapType(tt)}}st.MapType=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsSequenceType(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsSequenceType(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}elemType(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?(tt||new et.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}static startSequenceType(tt){tt.startObject(1)}static addElemType(tt,_e){tt.addFieldOffset(0,_e,0)}static endSequenceType(tt){return tt.endObject()}static createSequenceType(tt,_e){return it.startSequenceType(tt),it.addElemType(tt,_e),it.endSequenceType(tt)}}st.SequenceType=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(rt.fbs||(rt.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(st,it){return this.bb_pos=st,this.bb=it,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(st,it,ot,tt){return st.prep(4,12),st.writeInt32(tt),st.writeInt32(ot),st.writeInt32(it),st.offset()}}})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsNodeEdge(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsNodeEdge(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}nodeIndex(){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.readUint32(this.bb_pos+tt):0}inputEdges(tt,_e){let nt=this.bb.__offset(this.bb_pos,6);return nt?(_e||new et.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+nt)+12*tt,this.bb):null}inputEdgesLength(){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__vector_len(this.bb_pos+tt):0}outputEdges(tt,_e){let nt=this.bb.__offset(this.bb_pos,8);return nt?(_e||new et.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+nt)+12*tt,this.bb):null}outputEdgesLength(){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startNodeEdge(tt){tt.startObject(3)}static addNodeIndex(tt,_e){tt.addFieldInt32(0,_e,0)}static addInputEdges(tt,_e){tt.addFieldOffset(1,_e,0)}static startInputEdgesVector(tt,_e){tt.startVector(12,_e,4)}static addOutputEdges(tt,_e){tt.addFieldOffset(2,_e,0)}static startOutputEdgesVector(tt,_e){tt.startVector(12,_e,4)}static endNodeEdge(tt){return tt.endObject()}static createNodeEdge(tt,_e,nt,at){return it.startNodeEdge(tt),it.addNodeIndex(tt,_e),it.addInputEdges(tt,nt),it.addOutputEdges(tt,at),it.endNodeEdge(tt)}}st.NodeEdge=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsNode(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsNode(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}name(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__string(this.bb_pos+_e,tt):null}docString(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__string(this.bb_pos+_e,tt):null}domain(tt){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.__string(this.bb_pos+_e,tt):null}sinceVersion(){let tt=this.bb.__offset(this.bb_pos,10);return tt?this.bb.readInt32(this.bb_pos+tt):0}index(){let tt=this.bb.__offset(this.bb_pos,12);return tt?this.bb.readUint32(this.bb_pos+tt):0}opType(tt){let _e=this.bb.__offset(this.bb_pos,14);return _e?this.bb.__string(this.bb_pos+_e,tt):null}type(){let tt=this.bb.__offset(this.bb_pos,16);return tt?this.bb.readInt32(this.bb_pos+tt):et.experimental.fbs.NodeType.Primitive}executionProviderType(tt){let _e=this.bb.__offset(this.bb_pos,18);return _e?this.bb.__string(this.bb_pos+_e,tt):null}inputs(tt,_e){let nt=this.bb.__offset(this.bb_pos,20);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*tt,_e):null}inputsLength(){let tt=this.bb.__offset(this.bb_pos,20);return tt?this.bb.__vector_len(this.bb_pos+tt):0}outputs(tt,_e){let nt=this.bb.__offset(this.bb_pos,22);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*tt,_e):null}outputsLength(){let tt=this.bb.__offset(this.bb_pos,22);return tt?this.bb.__vector_len(this.bb_pos+tt):0}attributes(tt,_e){let nt=this.bb.__offset(this.bb_pos,24);return nt?(_e||new et.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}attributesLength(){let tt=this.bb.__offset(this.bb_pos,24);return tt?this.bb.__vector_len(this.bb_pos+tt):0}inputArgCounts(tt){let _e=this.bb.__offset(this.bb_pos,26);return _e?this.bb.readInt32(this.bb.__vector(this.bb_pos+_e)+4*tt):0}inputArgCountsLength(){let tt=this.bb.__offset(this.bb_pos,26);return tt?this.bb.__vector_len(this.bb_pos+tt):0}inputArgCountsArray(){let tt=this.bb.__offset(this.bb_pos,26);return tt?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+tt),this.bb.__vector_len(this.bb_pos+tt)):null}implicitInputs(tt,_e){let nt=this.bb.__offset(this.bb_pos,28);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*tt,_e):null}implicitInputsLength(){let tt=this.bb.__offset(this.bb_pos,28);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startNode(tt){tt.startObject(13)}static addName(tt,_e){tt.addFieldOffset(0,_e,0)}static addDocString(tt,_e){tt.addFieldOffset(1,_e,0)}static addDomain(tt,_e){tt.addFieldOffset(2,_e,0)}static addSinceVersion(tt,_e){tt.addFieldInt32(3,_e,0)}static addIndex(tt,_e){tt.addFieldInt32(4,_e,0)}static addOpType(tt,_e){tt.addFieldOffset(5,_e,0)}static addType(tt,_e){tt.addFieldInt32(6,_e,et.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(tt,_e){tt.addFieldOffset(7,_e,0)}static addInputs(tt,_e){tt.addFieldOffset(8,_e,0)}static createInputsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startInputsVector(tt,_e){tt.startVector(4,_e,4)}static addOutputs(tt,_e){tt.addFieldOffset(9,_e,0)}static createOutputsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startOutputsVector(tt,_e){tt.startVector(4,_e,4)}static addAttributes(tt,_e){tt.addFieldOffset(10,_e,0)}static createAttributesVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startAttributesVector(tt,_e){tt.startVector(4,_e,4)}static addInputArgCounts(tt,_e){tt.addFieldOffset(11,_e,0)}static createInputArgCountsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addInt32(_e[nt]);return tt.endVector()}static startInputArgCountsVector(tt,_e){tt.startVector(4,_e,4)}static addImplicitInputs(tt,_e){tt.addFieldOffset(12,_e,0)}static createImplicitInputsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startImplicitInputsVector(tt,_e){tt.startVector(4,_e,4)}static endNode(tt){return tt.endObject()}static createNode(tt,_e,nt,at,lt,ut,ct,dt,ft,ht,gt,yt,bt,vt){return it.startNode(tt),it.addName(tt,_e),it.addDocString(tt,nt),it.addDomain(tt,at),it.addSinceVersion(tt,lt),it.addIndex(tt,ut),it.addOpType(tt,ct),it.addType(tt,dt),it.addExecutionProviderType(tt,ft),it.addInputs(tt,ht),it.addOutputs(tt,gt),it.addAttributes(tt,yt),it.addInputArgCounts(tt,bt),it.addImplicitInputs(tt,vt),it.endNode(tt)}}st.Node=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsValueInfo(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsValueInfo(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}name(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__string(this.bb_pos+_e,tt):null}docString(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__string(this.bb_pos+_e,tt):null}type(tt){let _e=this.bb.__offset(this.bb_pos,8);return _e?(tt||new et.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}static startValueInfo(tt){tt.startObject(3)}static addName(tt,_e){tt.addFieldOffset(0,_e,0)}static addDocString(tt,_e){tt.addFieldOffset(1,_e,0)}static addType(tt,_e){tt.addFieldOffset(2,_e,0)}static endValueInfo(tt){return tt.endObject()}static createValueInfo(tt,_e,nt,at){return it.startValueInfo(tt),it.addName(tt,_e),it.addDocString(tt,nt),it.addType(tt,at),it.endValueInfo(tt)}}st.ValueInfo=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsTypeInfo(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsTypeInfo(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}denotation(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__string(this.bb_pos+_e,tt):null}valueType(){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.readUint8(this.bb_pos+tt):et.experimental.fbs.TypeInfoValue.NONE}value(tt){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.__union(tt,this.bb_pos+_e):null}static startTypeInfo(tt){tt.startObject(3)}static addDenotation(tt,_e){tt.addFieldOffset(0,_e,0)}static addValueType(tt,_e){tt.addFieldInt8(1,_e,et.experimental.fbs.TypeInfoValue.NONE)}static addValue(tt,_e){tt.addFieldOffset(2,_e,0)}static endTypeInfo(tt){return tt.endObject()}static createTypeInfo(tt,_e,nt,at){return it.startTypeInfo(tt),it.addDenotation(tt,_e),it.addValueType(tt,nt),it.addValue(tt,at),it.endTypeInfo(tt)}}st.TypeInfo=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsOperatorSetId(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsOperatorSetId(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}domain(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__string(this.bb_pos+_e,tt):null}version(){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.readInt64(this.bb_pos+tt):this.bb.createLong(0,0)}static startOperatorSetId(tt){tt.startObject(2)}static addDomain(tt,_e){tt.addFieldOffset(0,_e,0)}static addVersion(tt,_e){tt.addFieldInt64(1,_e,tt.createLong(0,0))}static endOperatorSetId(tt){return tt.endObject()}static createOperatorSetId(tt,_e,nt){return it.startOperatorSetId(tt),it.addDomain(tt,_e),it.addVersion(tt,nt),it.endOperatorSetId(tt)}}st.OperatorSetId=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsTensor(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsTensor(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}name(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__string(this.bb_pos+_e,tt):null}docString(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__string(this.bb_pos+_e,tt):null}dims(tt){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.readInt64(this.bb.__vector(this.bb_pos+_e)+8*tt):this.bb.createLong(0,0)}dimsLength(){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.__vector_len(this.bb_pos+tt):0}dataType(){let tt=this.bb.__offset(this.bb_pos,10);return tt?this.bb.readInt32(this.bb_pos+tt):et.experimental.fbs.TensorDataType.UNDEFINED}rawData(tt){let _e=this.bb.__offset(this.bb_pos,12);return _e?this.bb.readUint8(this.bb.__vector(this.bb_pos+_e)+tt):0}rawDataLength(){let tt=this.bb.__offset(this.bb_pos,12);return tt?this.bb.__vector_len(this.bb_pos+tt):0}rawDataArray(){let tt=this.bb.__offset(this.bb_pos,12);return tt?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+tt),this.bb.__vector_len(this.bb_pos+tt)):null}stringData(tt,_e){let nt=this.bb.__offset(this.bb_pos,14);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*tt,_e):null}stringDataLength(){let tt=this.bb.__offset(this.bb_pos,14);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startTensor(tt){tt.startObject(6)}static addName(tt,_e){tt.addFieldOffset(0,_e,0)}static addDocString(tt,_e){tt.addFieldOffset(1,_e,0)}static addDims(tt,_e){tt.addFieldOffset(2,_e,0)}static createDimsVector(tt,_e){tt.startVector(8,_e.length,8);for(let nt=_e.length-1;nt>=0;nt--)tt.addInt64(_e[nt]);return tt.endVector()}static startDimsVector(tt,_e){tt.startVector(8,_e,8)}static addDataType(tt,_e){tt.addFieldInt32(3,_e,et.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(tt,_e){tt.addFieldOffset(4,_e,0)}static createRawDataVector(tt,_e){tt.startVector(1,_e.length,1);for(let nt=_e.length-1;nt>=0;nt--)tt.addInt8(_e[nt]);return tt.endVector()}static startRawDataVector(tt,_e){tt.startVector(1,_e,1)}static addStringData(tt,_e){tt.addFieldOffset(5,_e,0)}static createStringDataVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startStringDataVector(tt,_e){tt.startVector(4,_e,4)}static endTensor(tt){return tt.endObject()}static createTensor(tt,_e,nt,at,lt,ut,ct){return it.startTensor(tt),it.addName(tt,_e),it.addDocString(tt,nt),it.addDims(tt,at),it.addDataType(tt,lt),it.addRawData(tt,ut),it.addStringData(tt,ct),it.endTensor(tt)}}st.Tensor=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsSparseTensor(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsSparseTensor(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}values(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?(tt||new et.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}indices(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?(tt||new et.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}dims(tt){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.readInt64(this.bb.__vector(this.bb_pos+_e)+8*tt):this.bb.createLong(0,0)}dimsLength(){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startSparseTensor(tt){tt.startObject(3)}static addValues(tt,_e){tt.addFieldOffset(0,_e,0)}static addIndices(tt,_e){tt.addFieldOffset(1,_e,0)}static addDims(tt,_e){tt.addFieldOffset(2,_e,0)}static createDimsVector(tt,_e){tt.startVector(8,_e.length,8);for(let nt=_e.length-1;nt>=0;nt--)tt.addInt64(_e[nt]);return tt.endVector()}static startDimsVector(tt,_e){tt.startVector(8,_e,8)}static endSparseTensor(tt){return tt.endObject()}static createSparseTensor(tt,_e,nt,at){return it.startSparseTensor(tt),it.addValues(tt,_e),it.addIndices(tt,nt),it.addDims(tt,at),it.endSparseTensor(tt)}}st.SparseTensor=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsAttribute(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsAttribute(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}name(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__string(this.bb_pos+_e,tt):null}docString(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.__string(this.bb_pos+_e,tt):null}type(){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.readInt32(this.bb_pos+tt):et.experimental.fbs.AttributeType.UNDEFINED}f(){let tt=this.bb.__offset(this.bb_pos,10);return tt?this.bb.readFloat32(this.bb_pos+tt):0}i(){let tt=this.bb.__offset(this.bb_pos,12);return tt?this.bb.readInt64(this.bb_pos+tt):this.bb.createLong(0,0)}s(tt){let _e=this.bb.__offset(this.bb_pos,14);return _e?this.bb.__string(this.bb_pos+_e,tt):null}t(tt){let _e=this.bb.__offset(this.bb_pos,16);return _e?(tt||new et.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}g(tt){let _e=this.bb.__offset(this.bb_pos,18);return _e?(tt||new et.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}floats(tt){let _e=this.bb.__offset(this.bb_pos,20);return _e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+_e)+4*tt):0}floatsLength(){let tt=this.bb.__offset(this.bb_pos,20);return tt?this.bb.__vector_len(this.bb_pos+tt):0}floatsArray(){let tt=this.bb.__offset(this.bb_pos,20);return tt?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+tt),this.bb.__vector_len(this.bb_pos+tt)):null}ints(tt){let _e=this.bb.__offset(this.bb_pos,22);return _e?this.bb.readInt64(this.bb.__vector(this.bb_pos+_e)+8*tt):this.bb.createLong(0,0)}intsLength(){let tt=this.bb.__offset(this.bb_pos,22);return tt?this.bb.__vector_len(this.bb_pos+tt):0}strings(tt,_e){let nt=this.bb.__offset(this.bb_pos,24);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*tt,_e):null}stringsLength(){let tt=this.bb.__offset(this.bb_pos,24);return tt?this.bb.__vector_len(this.bb_pos+tt):0}tensors(tt,_e){let nt=this.bb.__offset(this.bb_pos,26);return nt?(_e||new et.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}tensorsLength(){let tt=this.bb.__offset(this.bb_pos,26);return tt?this.bb.__vector_len(this.bb_pos+tt):0}graphs(tt,_e){let nt=this.bb.__offset(this.bb_pos,28);return nt?(_e||new et.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}graphsLength(){let tt=this.bb.__offset(this.bb_pos,28);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startAttribute(tt){tt.startObject(13)}static addName(tt,_e){tt.addFieldOffset(0,_e,0)}static addDocString(tt,_e){tt.addFieldOffset(1,_e,0)}static addType(tt,_e){tt.addFieldInt32(2,_e,et.experimental.fbs.AttributeType.UNDEFINED)}static addF(tt,_e){tt.addFieldFloat32(3,_e,0)}static addI(tt,_e){tt.addFieldInt64(4,_e,tt.createLong(0,0))}static addS(tt,_e){tt.addFieldOffset(5,_e,0)}static addT(tt,_e){tt.addFieldOffset(6,_e,0)}static addG(tt,_e){tt.addFieldOffset(7,_e,0)}static addFloats(tt,_e){tt.addFieldOffset(8,_e,0)}static createFloatsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addFloat32(_e[nt]);return tt.endVector()}static startFloatsVector(tt,_e){tt.startVector(4,_e,4)}static addInts(tt,_e){tt.addFieldOffset(9,_e,0)}static createIntsVector(tt,_e){tt.startVector(8,_e.length,8);for(let nt=_e.length-1;nt>=0;nt--)tt.addInt64(_e[nt]);return tt.endVector()}static startIntsVector(tt,_e){tt.startVector(8,_e,8)}static addStrings(tt,_e){tt.addFieldOffset(10,_e,0)}static createStringsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startStringsVector(tt,_e){tt.startVector(4,_e,4)}static addTensors(tt,_e){tt.addFieldOffset(11,_e,0)}static createTensorsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startTensorsVector(tt,_e){tt.startVector(4,_e,4)}static addGraphs(tt,_e){tt.addFieldOffset(12,_e,0)}static createGraphsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startGraphsVector(tt,_e){tt.startVector(4,_e,4)}static endAttribute(tt){return tt.endObject()}static createAttribute(tt,_e,nt,at,lt,ut,ct,dt,ft,ht,gt,yt,bt,vt){return it.startAttribute(tt),it.addName(tt,_e),it.addDocString(tt,nt),it.addType(tt,at),it.addF(tt,lt),it.addI(tt,ut),it.addS(tt,ct),it.addT(tt,dt),it.addG(tt,ft),it.addFloats(tt,ht),it.addInts(tt,gt),it.addStrings(tt,yt),it.addTensors(tt,bt),it.addGraphs(tt,vt),it.endAttribute(tt)}}st.Attribute=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsGraph(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsGraph(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}initializers(tt,_e){let nt=this.bb.__offset(this.bb_pos,4);return nt?(_e||new et.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}initializersLength(){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__vector_len(this.bb_pos+tt):0}nodeArgs(tt,_e){let nt=this.bb.__offset(this.bb_pos,6);return nt?(_e||new et.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}nodeArgsLength(){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__vector_len(this.bb_pos+tt):0}nodes(tt,_e){let nt=this.bb.__offset(this.bb_pos,8);return nt?(_e||new et.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}nodesLength(){let tt=this.bb.__offset(this.bb_pos,8);return tt?this.bb.__vector_len(this.bb_pos+tt):0}maxNodeIndex(){let tt=this.bb.__offset(this.bb_pos,10);return tt?this.bb.readUint32(this.bb_pos+tt):0}nodeEdges(tt,_e){let nt=this.bb.__offset(this.bb_pos,12);return nt?(_e||new et.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}nodeEdgesLength(){let tt=this.bb.__offset(this.bb_pos,12);return tt?this.bb.__vector_len(this.bb_pos+tt):0}inputs(tt,_e){let nt=this.bb.__offset(this.bb_pos,14);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*tt,_e):null}inputsLength(){let tt=this.bb.__offset(this.bb_pos,14);return tt?this.bb.__vector_len(this.bb_pos+tt):0}outputs(tt,_e){let nt=this.bb.__offset(this.bb_pos,16);return nt?this.bb.__string(this.bb.__vector(this.bb_pos+nt)+4*tt,_e):null}outputsLength(){let tt=this.bb.__offset(this.bb_pos,16);return tt?this.bb.__vector_len(this.bb_pos+tt):0}sparseInitializers(tt,_e){let nt=this.bb.__offset(this.bb_pos,18);return nt?(_e||new et.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}sparseInitializersLength(){let tt=this.bb.__offset(this.bb_pos,18);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startGraph(tt){tt.startObject(8)}static addInitializers(tt,_e){tt.addFieldOffset(0,_e,0)}static createInitializersVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startInitializersVector(tt,_e){tt.startVector(4,_e,4)}static addNodeArgs(tt,_e){tt.addFieldOffset(1,_e,0)}static createNodeArgsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startNodeArgsVector(tt,_e){tt.startVector(4,_e,4)}static addNodes(tt,_e){tt.addFieldOffset(2,_e,0)}static createNodesVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startNodesVector(tt,_e){tt.startVector(4,_e,4)}static addMaxNodeIndex(tt,_e){tt.addFieldInt32(3,_e,0)}static addNodeEdges(tt,_e){tt.addFieldOffset(4,_e,0)}static createNodeEdgesVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startNodeEdgesVector(tt,_e){tt.startVector(4,_e,4)}static addInputs(tt,_e){tt.addFieldOffset(5,_e,0)}static createInputsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startInputsVector(tt,_e){tt.startVector(4,_e,4)}static addOutputs(tt,_e){tt.addFieldOffset(6,_e,0)}static createOutputsVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startOutputsVector(tt,_e){tt.startVector(4,_e,4)}static addSparseInitializers(tt,_e){tt.addFieldOffset(7,_e,0)}static createSparseInitializersVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startSparseInitializersVector(tt,_e){tt.startVector(4,_e,4)}static endGraph(tt){return tt.endObject()}static createGraph(tt,_e,nt,at,lt,ut,ct,dt,ft){return it.startGraph(tt),it.addInitializers(tt,_e),it.addNodeArgs(tt,nt),it.addNodes(tt,at),it.addMaxNodeIndex(tt,lt),it.addNodeEdges(tt,ut),it.addInputs(tt,ct),it.addOutputs(tt,dt),it.addSparseInitializers(tt,ft),it.endGraph(tt)}}st.Graph=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsModel(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsModel(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}irVersion(){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.readInt64(this.bb_pos+tt):this.bb.createLong(0,0)}opsetImport(tt,_e){let nt=this.bb.__offset(this.bb_pos,6);return nt?(_e||new et.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}opsetImportLength(){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__vector_len(this.bb_pos+tt):0}producerName(tt){let _e=this.bb.__offset(this.bb_pos,8);return _e?this.bb.__string(this.bb_pos+_e,tt):null}producerVersion(tt){let _e=this.bb.__offset(this.bb_pos,10);return _e?this.bb.__string(this.bb_pos+_e,tt):null}domain(tt){let _e=this.bb.__offset(this.bb_pos,12);return _e?this.bb.__string(this.bb_pos+_e,tt):null}modelVersion(){let tt=this.bb.__offset(this.bb_pos,14);return tt?this.bb.readInt64(this.bb_pos+tt):this.bb.createLong(0,0)}docString(tt){let _e=this.bb.__offset(this.bb_pos,16);return _e?this.bb.__string(this.bb_pos+_e,tt):null}graph(tt){let _e=this.bb.__offset(this.bb_pos,18);return _e?(tt||new et.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}graphDocString(tt){let _e=this.bb.__offset(this.bb_pos,20);return _e?this.bb.__string(this.bb_pos+_e,tt):null}static startModel(tt){tt.startObject(9)}static addIrVersion(tt,_e){tt.addFieldInt64(0,_e,tt.createLong(0,0))}static addOpsetImport(tt,_e){tt.addFieldOffset(1,_e,0)}static createOpsetImportVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startOpsetImportVector(tt,_e){tt.startVector(4,_e,4)}static addProducerName(tt,_e){tt.addFieldOffset(2,_e,0)}static addProducerVersion(tt,_e){tt.addFieldOffset(3,_e,0)}static addDomain(tt,_e){tt.addFieldOffset(4,_e,0)}static addModelVersion(tt,_e){tt.addFieldInt64(5,_e,tt.createLong(0,0))}static addDocString(tt,_e){tt.addFieldOffset(6,_e,0)}static addGraph(tt,_e){tt.addFieldOffset(7,_e,0)}static addGraphDocString(tt,_e){tt.addFieldOffset(8,_e,0)}static endModel(tt){return tt.endObject()}static createModel(tt,_e,nt,at,lt,ut,ct,dt,ft,ht){return it.startModel(tt),it.addIrVersion(tt,_e),it.addOpsetImport(tt,nt),it.addProducerName(tt,at),it.addProducerVersion(tt,lt),it.addDomain(tt,ut),it.addModelVersion(tt,ct),it.addDocString(tt,dt),it.addGraph(tt,ft),it.addGraphDocString(tt,ht),it.endModel(tt)}}st.Model=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsKernelCreateInfos(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsKernelCreateInfos(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}nodeIndices(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.readUint32(this.bb.__vector(this.bb_pos+_e)+4*tt):0}nodeIndicesLength(){let tt=this.bb.__offset(this.bb_pos,4);return tt?this.bb.__vector_len(this.bb_pos+tt):0}nodeIndicesArray(){let tt=this.bb.__offset(this.bb_pos,4);return tt?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+tt),this.bb.__vector_len(this.bb_pos+tt)):null}kernelDefHashes(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?this.bb.readUint64(this.bb.__vector(this.bb_pos+_e)+8*tt):this.bb.createLong(0,0)}kernelDefHashesLength(){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startKernelCreateInfos(tt){tt.startObject(2)}static addNodeIndices(tt,_e){tt.addFieldOffset(0,_e,0)}static createNodeIndicesVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addInt32(_e[nt]);return tt.endVector()}static startNodeIndicesVector(tt,_e){tt.startVector(4,_e,4)}static addKernelDefHashes(tt,_e){tt.addFieldOffset(1,_e,0)}static createKernelDefHashesVector(tt,_e){tt.startVector(8,_e.length,8);for(let nt=_e.length-1;nt>=0;nt--)tt.addInt64(_e[nt]);return tt.endVector()}static startKernelDefHashesVector(tt,_e){tt.startVector(8,_e,8)}static endKernelCreateInfos(tt){return tt.endObject()}static createKernelCreateInfos(tt,_e,nt){return it.startKernelCreateInfos(tt),it.addNodeIndices(tt,_e),it.addKernelDefHashes(tt,nt),it.endKernelCreateInfos(tt)}}st.KernelCreateInfos=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsSubGraphSessionState(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsSubGraphSessionState(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}graphId(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__string(this.bb_pos+_e,tt):null}sessionState(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?(tt||new et.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}static startSubGraphSessionState(tt){tt.startObject(2)}static addGraphId(tt,_e){tt.addFieldOffset(0,_e,0)}static addSessionState(tt,_e){tt.addFieldOffset(1,_e,0)}static endSubGraphSessionState(tt){let _e=tt.endObject();return tt.requiredField(_e,4),_e}static createSubGraphSessionState(tt,_e,nt){return it.startSubGraphSessionState(tt),it.addGraphId(tt,_e),it.addSessionState(tt,nt),it.endSubGraphSessionState(tt)}}st.SubGraphSessionState=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsSessionState(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsSessionState(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}kernels(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?(tt||new et.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}subGraphSessionStates(tt,_e){let nt=this.bb.__offset(this.bb_pos,6);return nt?(_e||new et.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+nt)+4*tt),this.bb):null}subGraphSessionStatesLength(){let tt=this.bb.__offset(this.bb_pos,6);return tt?this.bb.__vector_len(this.bb_pos+tt):0}static startSessionState(tt){tt.startObject(2)}static addKernels(tt,_e){tt.addFieldOffset(0,_e,0)}static addSubGraphSessionStates(tt,_e){tt.addFieldOffset(1,_e,0)}static createSubGraphSessionStatesVector(tt,_e){tt.startVector(4,_e.length,4);for(let nt=_e.length-1;nt>=0;nt--)tt.addOffset(_e[nt]);return tt.endVector()}static startSubGraphSessionStatesVector(tt,_e){tt.startVector(4,_e,4)}static endSessionState(tt){return tt.endObject()}static createSessionState(tt,_e,nt){return it.startSessionState(tt),it.addKernels(tt,_e),it.addSubGraphSessionStates(tt,nt),it.endSessionState(tt)}}st.SessionState=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={})),function(et){(function(rt){(function(st){class it{constructor(){this.bb=null,this.bb_pos=0}__init(tt,_e){return this.bb_pos=tt,this.bb=_e,this}static getRootAsInferenceSession(tt,_e){return(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static getSizePrefixedRootAsInferenceSession(tt,_e){return tt.setPosition(tt.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(_e||new it).__init(tt.readInt32(tt.position())+tt.position(),tt)}static bufferHasIdentifier(tt){return tt.__has_identifier("ORTM")}ortVersion(tt){let _e=this.bb.__offset(this.bb_pos,4);return _e?this.bb.__string(this.bb_pos+_e,tt):null}model(tt){let _e=this.bb.__offset(this.bb_pos,6);return _e?(tt||new et.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}sessionState(tt){let _e=this.bb.__offset(this.bb_pos,8);return _e?(tt||new et.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+_e),this.bb):null}static startInferenceSession(tt){tt.startObject(3)}static addOrtVersion(tt,_e){tt.addFieldOffset(0,_e,0)}static addModel(tt,_e){tt.addFieldOffset(1,_e,0)}static addSessionState(tt,_e){tt.addFieldOffset(2,_e,0)}static endInferenceSession(tt){return tt.endObject()}static finishInferenceSessionBuffer(tt,_e){tt.finish(_e,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(tt,_e){tt.finish(_e,"ORTM",!0)}static createInferenceSession(tt,_e,nt,at){return it.startInferenceSession(tt),it.addOrtVersion(tt,_e),it.addModel(tt,nt),it.addSessionState(tt,at),it.endInferenceSession(tt)}}st.InferenceSession=it})(rt.fbs||(rt.fbs={}))})(et.experimental||(et.experimental={}))}(i.onnxruntime||(i.onnxruntime={}))},7448:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OnnxjsSessionHandler=void 0;const a=s(1670),$=s(9162);i.OnnxjsSessionHandler=class{constructor(j){this.session=j,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(j,et,rt){const st=new Map;for(const tt in j)if(Object.hasOwnProperty.call(j,tt)){const _e=j[tt];st.set(tt,new $.Tensor(_e.dims,_e.type,void 0,void 0,_e.data))}const it=await this.session.run(st),ot={};return it.forEach((tt,_e)=>{ot[_e]=new a.Tensor(tt.type,tt.data,tt.dims)}),ot}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Session=void 0;const a=s(7067),$=s(1296),j=s(7091),et=s(1036),rt=s(6231),st=s(2644);i.Session=class{constructor(it={}){this._initialized=!1,this.backendHint=it.backendHint,this.profiler=rt.Profiler.create(it.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(it,ot,tt){await this.profiler.event("session","Session.loadModel",async()=>{const _e=await(0,j.resolveBackend)(this.backendHint);if(this.sessionHandler=_e.createSessionHandler(this.context),this._model=new st.Model,typeof it=="string"){const nt=it.endsWith(".ort");if(typeof fetch>"u"){const at=await(0,$.promisify)(a.readFile)(it);this.initialize(at,nt)}else{const at=await fetch(it),lt=await at.arrayBuffer();this.initialize(new Uint8Array(lt),nt)}}else if(ArrayBuffer.isView(it))this.initialize(it);else{const nt=new Uint8Array(it,ot||0,tt||it.byteLength);this.initialize(nt)}})}initialize(it,ot){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const tt=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(it,tt,ot),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new et.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(it){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const ot=this.normalizeAndValidateInputs(it),tt=await this._executionPlan.execute(this.sessionHandler,ot);return this.createOutput(tt)})}normalizeAndValidateInputs(it){const ot=this._model.graph.getInputNames();if(Array.isArray(it)){if(it.length!==ot.length)throw new Error(`incorrect input array length: expected ${ot.length} but got ${it.length}`)}else{if(it.size!==ot.length)throw new Error(`incorrect input map size: expected ${ot.length} but got ${it.size}`);const tt=new Array(it.size);let _e=0;for(let nt=0;nt<ot.length;++nt){const at=it.get(ot[nt]);if(!at)throw new Error(`missing input tensor for: '${name}'`);tt[_e++]=at}it=tt}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,it,!1);else{const tt=this._model.graph.getInputIndices(),_e=this._model.graph.getValues(),nt=new Array(tt.length);for(let at=0;at<tt.length;++at){const lt=_e[tt[at]];nt[at]=lt.type.shape.dims,this.context.graphInputTypes.push(lt.type.tensorType),this.context.graphInputDims.push(it[at].dims)}this.validateInputTensorDims(nt,it,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,it),it}validateInputTensorTypes(it,ot){for(let tt=0;tt<ot.length;tt++){const _e=it[tt],nt=ot[tt].type;if(_e!==nt)throw new Error(`input tensor[${tt}] check failed: expected type '${_e}' but got ${nt}`)}}validateInputTensorDims(it,ot,tt){for(let _e=0;_e<ot.length;_e++){const nt=it[_e],at=ot[_e].dims;if(!this.compareTensorDims(nt,at,tt))throw new Error(`input tensor[${_e}] check failed: expected shape '[${nt.join(",")}]' but got [${at.join(",")}]`)}}compareTensorDims(it,ot,tt){if(it.length!==ot.length)return!1;for(let _e=0;_e<it.length;++_e)if(it[_e]!==ot[_e]&&(!tt||it[_e]!==0))return!1;return!0}createOutput(it){const ot=this._model.graph.getOutputNames();if(it.length!==ot.length)throw new Error("expected number of outputs do not match number of generated outputs");const tt=new Map;for(let _e=0;_e<ot.length;++_e)tt.set(ot[_e],it[_e]);return tt}initializeOps(it){const ot=it.getNodes();this._ops=new Array(ot.length);for(let tt=0;tt<ot.length;tt++)this._ops[tt]=this.sessionHandler.resolve(ot[tt],this._model.opsets,it)}}},9162:function(o,i,s){var a=this&&this.__importDefault||function(lt){return lt&&lt.__esModule?lt:{default:lt}};Object.defineProperty(i,"__esModule",{value:!0}),i.Tensor=void 0;const $=s(3442),j=a(s(3720)),et=s(1446),rt=s(9395),st=s(2517);var it=rt.onnxruntime.experimental.fbs;class ot{get data(){if(this.cache===void 0){const ut=this.dataProvider(this.dataId);if(ut.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=ut}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(ut){return this.data[st.ShapeUtil.indicesToOffset(ut,this.strides)]}set(ut,ct){this.data[st.ShapeUtil.indicesToOffset(ut,this.strides)]=ct}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=st.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(ut,ct,dt,ft,ht,gt=$.Guid.create()){this.dims=ut,this.type=ct,this.dataProvider=dt,this.asyncDataProvider=ft,this.cache=ht,this.dataId=gt,this.size=st.ShapeUtil.validateDimsAndCalcSize(ut);const yt=this.size,bt=dt===void 0&&ft===void 0&&ht===void 0;if(ht!==void 0&&ht.length!==yt)throw new RangeError("Input dims doesn't match data length.");if(ct==="string"){if(!(ht===void 0||Array.isArray(ht)&&ht.every(vt=>typeof vt=="string")))throw new TypeError("cache should be a string array");bt&&(this.cache=new Array(yt))}else{if(ht!==void 0){const vt=_e(ct);if(!(ht instanceof vt))throw new TypeError(`cache should be type ${vt.name}`)}if(bt){const vt=new ArrayBuffer(yt*function(mt){switch(mt){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${mt}`)}}(ct));this.cache=function(mt,xt){return new(_e(xt))(mt)}(vt,ct)}}}static fromProto(ut){if(!ut)throw new Error("cannot construct Value from an empty tensor");const ct=st.ProtoUtil.tensorDataTypeFromProto(ut.dataType),dt=st.ProtoUtil.tensorDimsFromProto(ut.dims),ft=new ot(dt,ct);if(ct==="string")ut.stringData.forEach((ht,gt)=>{ft.data[gt]=(0,st.decodeUtf8String)(ht)});else if(ut.rawData&&typeof ut.rawData.byteLength=="number"&&ut.rawData.byteLength>0){const ht=ft.data,gt=new DataView(ut.rawData.buffer,ut.rawData.byteOffset,ut.rawData.byteLength),yt=tt(ut.dataType),bt=ut.rawData.byteLength/yt;if(ut.rawData.byteLength%yt!=0)throw new Error("invalid buffer length");if(ht.length!==bt)throw new Error("buffer length mismatch");for(let vt=0;vt<bt;vt++){const mt=at(gt,ut.dataType,vt*yt);ht[vt]=mt}}else{let ht;switch(ut.dataType){case et.onnx.TensorProto.DataType.FLOAT:ht=ut.floatData;break;case et.onnx.TensorProto.DataType.INT32:case et.onnx.TensorProto.DataType.INT16:case et.onnx.TensorProto.DataType.UINT16:case et.onnx.TensorProto.DataType.INT8:case et.onnx.TensorProto.DataType.UINT8:case et.onnx.TensorProto.DataType.BOOL:ht=ut.int32Data;break;case et.onnx.TensorProto.DataType.INT64:ht=ut.int64Data;break;case et.onnx.TensorProto.DataType.DOUBLE:ht=ut.doubleData;break;case et.onnx.TensorProto.DataType.UINT32:case et.onnx.TensorProto.DataType.UINT64:ht=ut.uint64Data;break;default:throw new Error("unspecific error")}if(ht==null)throw new Error("failed to populate data from a tensorproto value");const gt=ft.data;if(gt.length!==ht.length)throw new Error("array length mismatch");for(let yt=0;yt<ht.length;yt++){const bt=ht[yt];j.default.isLong(bt)?gt[yt]=nt(bt,ut.dataType):gt[yt]=bt}}return ft}static fromData(ut,ct,dt){return new ot(ct,dt,void 0,void 0,ut)}static fromOrtTensor(ut){if(!ut)throw new Error("cannot construct Value from an empty tensor");const ct=st.ProtoUtil.tensorDimsFromORTFormat(ut),dt=st.ProtoUtil.tensorDataTypeFromProto(ut.dataType()),ft=new ot(ct,dt);if(dt==="string")for(let ht=0;ht<ut.stringDataLength();ht++)ft.data[ht]=ut.stringData(ht);else if(ut.rawDataArray()&&typeof ut.rawDataLength()=="number"&&ut.rawDataLength()>0){const ht=ft.data,gt=new DataView(ut.rawDataArray().buffer,ut.rawDataArray().byteOffset,ut.rawDataLength()),yt=tt(ut.dataType()),bt=ut.rawDataLength()/yt;if(ut.rawDataLength()%yt!=0)throw new Error("invalid buffer length");if(ht.length!==bt)throw new Error("buffer length mismatch");for(let vt=0;vt<bt;vt++){const mt=at(gt,ut.dataType(),vt*yt);ht[vt]=mt}}return ft}}function tt(lt){switch(lt){case et.onnx.TensorProto.DataType.UINT8:case et.onnx.TensorProto.DataType.INT8:case et.onnx.TensorProto.DataType.BOOL:return 1;case et.onnx.TensorProto.DataType.UINT16:case et.onnx.TensorProto.DataType.INT16:return 2;case et.onnx.TensorProto.DataType.FLOAT:case et.onnx.TensorProto.DataType.INT32:case et.onnx.TensorProto.DataType.UINT32:return 4;case et.onnx.TensorProto.DataType.INT64:case et.onnx.TensorProto.DataType.DOUBLE:case et.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${et.onnx.TensorProto.DataType[lt]}`)}}function _e(lt){switch(lt){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function nt(lt,ut){if(ut===et.onnx.TensorProto.DataType.INT64||ut===it.TensorDataType.INT64){if(lt.greaterThanOrEqual(2147483648)||lt.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(ut!==et.onnx.TensorProto.DataType.UINT32&&ut!==it.TensorDataType.UINT32&&ut!==et.onnx.TensorProto.DataType.UINT64&&ut!==it.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${et.onnx.TensorProto.DataType[ut]}`);if(lt.greaterThanOrEqual(4294967296)||lt.lessThan(0))throw new TypeError("uint64 is not supported")}return lt.toNumber()}function at(lt,ut,ct){switch(ut){case et.onnx.TensorProto.DataType.BOOL:case et.onnx.TensorProto.DataType.UINT8:return lt.getUint8(ct);case et.onnx.TensorProto.DataType.INT8:return lt.getInt8(ct);case et.onnx.TensorProto.DataType.UINT16:return lt.getUint16(ct,!0);case et.onnx.TensorProto.DataType.INT16:return lt.getInt16(ct,!0);case et.onnx.TensorProto.DataType.FLOAT:return lt.getFloat32(ct,!0);case et.onnx.TensorProto.DataType.INT32:return lt.getInt32(ct,!0);case et.onnx.TensorProto.DataType.UINT32:return lt.getUint32(ct,!0);case et.onnx.TensorProto.DataType.INT64:return nt(j.default.fromBits(lt.getUint32(ct,!0),lt.getUint32(ct+4,!0),!1),ut);case et.onnx.TensorProto.DataType.DOUBLE:return lt.getFloat64(ct,!0);case et.onnx.TensorProto.DataType.UINT64:return nt(j.default.fromBits(lt.getUint32(ct,!0),lt.getUint32(ct+4,!0),!0),ut);default:throw new Error(`cannot read from DataView for type ${et.onnx.TensorProto.DataType[ut]}`)}}i.Tensor=ot},2517:function(o,i,s){var a=this&&this.__importDefault||function(ut){return ut&&ut.__esModule?ut:{default:ut}};Object.defineProperty(i,"__esModule",{value:!0}),i.decodeUtf8String=i.MAX_CLIP=i.MIN_CLIP=i.PoolConvUtil=i.ReduceUtil=i.SplitUtil=i.MathUtil=i.ShapeUtil=i.LongUtil=i.ProtoUtil=i.GemmUtil=i.arrayCopyHelper=i.BroadcastUtil=i.MatMulUtil=i.ArrayUtil=i.assert=i.checkInputsShape=void 0;const $=s(5686),j=a(s(3720)),et=s(1446),rt=s(9162);i.checkInputsShape=function(ut,...ct){if(!ut||ut.length!==ct.length)return!1;for(let dt=0;dt<ut.length;dt++)if(!ut[dt].dims||ut[dt].dims.length!==ct[dt])return!1;return!0},i.assert=function(ut,ct){if(!ut)throw new Error(typeof ct=="string"?ct:ct())},i.ArrayUtil=class{static arraysEqual(ut,ct){if(ut.length!==ct.length)return!1;for(let dt=0;dt<ut.length;dt++)if(ut[dt]!==ct[dt])return!1;return!0}};class st{static preprocessInputShapes(ct,dt){return[ct.length===1?[1,ct[0]]:ct,dt.length===1?[dt[0],1]:dt]}static postprocessOutputShape(ct,dt,ft){dt===1&&ct.splice(ct.length-2,1),ft===1&&ct.pop()}static calcMatMulShape(ct,dt){return ct[1]!==dt[0]?void 0:[ct[0],dt[1]]}}i.MatMulUtil=st;class it{static calcShape(ct,dt,ft=!1){const ht=ct.length,gt=dt.length;if(ht===0)return dt;if(gt===0)return ct;const yt=Math.max(ct.length,dt.length),bt=new Array(yt);if(ft){if(ht<2||gt<2)return;const vt=st.calcMatMulShape([ct[ht-2],ct[ht-1]],[dt[gt-2],dt[gt-1]]);if(vt===void 0)return;[bt[yt-2],bt[yt-1]]=vt}for(let vt=ft?3:1;vt<=yt;vt++){const mt=ht-vt<0?1:ct[ht-vt],xt=gt-vt<0?1:dt[gt-vt];if(mt!==xt&&mt>1&&xt>1)return;bt[yt-vt]=Math.max(mt,xt)}return bt}static index(ct,dt){const ft=new Array(dt.length);return it.fillIndex(ct,dt,ft),ft}static fillIndex(ct,dt,ft){const ht=ct.length-dt.length;for(let gt=0;gt<dt.length;gt++)ft[gt]=ct[ht+gt]%dt[gt]}static calc(ct,dt,ft,ht,gt){const yt=it.calcShape(ct.dims,dt.dims);if(yt){if(ht&&!_e.areEqual(yt,ct.dims))return;const bt=_e.size(yt),vt=ht?ct:new rt.Tensor(yt,gt||ct.type);if(yt.length===0)vt.set([],ft(ct.get([]),dt.get([])));else{const mt=new Array(yt.length),xt=new Array(ct.dims.length),wt=new Array(dt.dims.length);let Ct,kt=0,It=0,Pt=!1,St=!1;ct.dims.length===0&&(kt=ct.get([]),Pt=!0),dt.dims.length===0&&(It=dt.get([]),St=!0);for(let Ot=0;Ot<bt;Ot++){Ct=Ot;for(let At=yt.length-1;At>=0;At--)mt[At]=Ct%yt[At],Ct=Math.floor(Ct/yt[At]);Pt||(it.fillIndex(mt,ct.dims,xt),kt=ct.get(xt)),St||(it.fillIndex(mt,dt.dims,wt),It=dt.get(wt)),vt.set(mt,ft(kt,It))}}return vt}}static isValidBroadcast(ct,dt){const ft=ct.length,ht=dt.length;if(ft>ht)return!1;for(let gt=1;gt<=ft;gt++)if(ct[ft-gt]!==1&&ct[ft-gt]!==dt[ht-gt])return!1;return!0}static getBroadcastDims(ct,dt){const ft=ct.length,ht=[];for(let gt=0;gt<ft;gt++){const yt=ft-1-gt,bt=ct[yt]||1;(dt[dt.length-1-gt]||1)>1&&bt===1&&ht.unshift(yt)}return ht}}i.BroadcastUtil=it,i.arrayCopyHelper=function(ut,ct,dt,ft,ht){if(ft<0||ft>=ct.length)throw new Error("sourceIndex out of bounds");if(dt<0||dt>=ut.length)throw new Error("targetIndex out of bounds");if(ft+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(dt+ht>ut.length)throw new Error("target array is too small to hold result");for(let gt=0;gt<ht;gt++)ut[dt+gt]=ct[ft+gt]},i.GemmUtil=class{static getShapeOfGemmResult(ut,ct,dt,ft,ht){if(ut.length!==2||dt.length!==2)throw new Error("shape need to be of size 2");let gt,yt,bt;ct?(gt=ut[1],yt=ut[0]):(gt=ut[0],yt=ut[1]);let vt=-1;if(ft?(bt=dt[0],vt=1):(bt=dt[1],vt=0),dt[vt]!==yt)throw new Error("dimension mismatch");if(gt<=0||bt<=0||yt<=0)throw new Error("invalid shape specified");if(ht&&!it.isValidBroadcast(ht,[gt,bt]))throw new Error("gemm: invalid bias shape for broadcast");return[gt,bt,yt]}};class ot{static tensorDataTypeFromProto(ct){switch(ct){case et.onnx.TensorProto.DataType.INT8:return"int8";case et.onnx.TensorProto.DataType.UINT8:return"uint8";case et.onnx.TensorProto.DataType.BOOL:return"bool";case et.onnx.TensorProto.DataType.INT16:return"int16";case et.onnx.TensorProto.DataType.UINT16:return"uint16";case et.onnx.TensorProto.DataType.INT32:return"int32";case et.onnx.TensorProto.DataType.UINT32:return"uint32";case et.onnx.TensorProto.DataType.FLOAT:return"float32";case et.onnx.TensorProto.DataType.DOUBLE:return"float64";case et.onnx.TensorProto.DataType.STRING:return"string";case et.onnx.TensorProto.DataType.INT64:return"int32";case et.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${et.onnx.TensorProto.DataType[ct]}`)}}static tensorDataTypeStringToEnum(ct){switch(ct){case"int8":return et.onnx.TensorProto.DataType.INT8;case"uint8":return et.onnx.TensorProto.DataType.UINT8;case"bool":return et.onnx.TensorProto.DataType.BOOL;case"int16":return et.onnx.TensorProto.DataType.INT16;case"uint16":return et.onnx.TensorProto.DataType.UINT16;case"int32":return et.onnx.TensorProto.DataType.INT32;case"uint32":return et.onnx.TensorProto.DataType.UINT32;case"float32":return et.onnx.TensorProto.DataType.FLOAT;case"float64":return et.onnx.TensorProto.DataType.DOUBLE;case"string":return et.onnx.TensorProto.DataType.STRING;case"int64":return et.onnx.TensorProto.DataType.INT64;case"uint64":return et.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${ct}`)}}static tensorDimsFromProto(ct){return ct.map(dt=>j.default.isLong(dt)?dt.toNumber():dt)}static tensorValueTypeFromProto(ct){return{tensorType:ot.tensorDataTypeFromProto(ct.elemType),shape:{dims:ot.tensorDimsFromProto(ct.shape.dim.map(dt=>dt.dimValue))}}}static tensorDimsFromORTFormat(ct){const dt=[];for(let ft=0;ft<ct.dimsLength();ft++)dt.push(tt.longToNumber(ct.dims(ft)));return dt}static tensorAttributesFromORTFormat(ct){const dt=[];for(let ft=0;ft<ct.attributesLength();ft++)dt.push(ct.attributes(ft));return dt}}i.ProtoUtil=ot;class tt{static longToNumber(ct,dt){return j.default.isLong(ct)?ct.toNumber():ct instanceof $.flatbuffers.Long?j.default.fromValue({low:ct.low,high:ct.high,unsigned:dt!=null&&dt}).toNumber():ct}static isLong(ct){return j.default.isLong(ct)||ct instanceof $.flatbuffers.Long}}i.LongUtil=tt;class _e{static size(ct){return _e.getSizeFromDimensionRange(ct,0,ct.length)}static sizeFromDimension(ct,dt){if(dt<0||dt>ct.length)throw new Error(`invalid dimension of ${dt} for sizeFromDimension as Tensor has ${ct.length} dimensions.`);return _e.getSizeFromDimensionRange(ct,dt,ct.length)}static sizeToDimension(ct,dt){if(dt<0||dt>ct.length)throw new Error(`invalid dimension of ${dt} for sizeToDimension as Tensor has ${ct.length} dimensions.`);return _e.getSizeFromDimensionRange(ct,0,dt)}static getSizeFromDimensionRange(ct,dt,ft){let ht=1;for(let gt=dt;gt<ft;gt++){if(ct[gt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");ht*=ct[gt]}return ht}static computeStrides(ct){const dt=ct.length;if(dt===0)return[];if(dt===1)return[1];const ft=new Array(dt);ft[dt-1]=1,ft[dt-2]=ct[dt-1];for(let ht=dt-3;ht>=0;--ht)ft[ht]=ft[ht+1]*ct[ht+1];return ft}static transpose(ct){return ct.slice().reverse()}static indicesToOffset(ct,dt,ft){ft===void 0&&(ft=ct.length);let ht=0;for(let gt=0;gt<ft;++gt)ht+=dt[gt]*ct[gt];return ht}static offsetToIndices(ct,dt){const ft=dt.length;if(ft===0)return[];if(ft===1)return[ct*dt[0]];const ht=new Array(dt.length);for(let gt=0;gt<ht.length-1;++gt)ht[gt]=Math.floor(ct/dt[gt]),ct-=ht[gt]*dt[gt];return ht[ht.length-1]=ct,ht}static normalizeAxis(ct,dt){if(ct<-dt&&ct>=dt)throw new Error("unsupported axis for this operation.");return ct<0?ct+dt:ct}static normalizeAxes(ct,dt){return ct.map(ft=>this.normalizeAxis(ft,dt))}static incrementIndex(ct,dt,ft){if(dt.length===0||ct.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(ft===void 0)ft=dt.length;else if(ft<=0||ft>dt.length)throw new Error("Incorrect axis to increment on");for(let ht=ft-1;ht>=0&&(ct[ht]++,!(ct[ht]<dt[ht]));--ht)ct[ht]=0}static calculateReshapedDims(ct,dt){if(dt.length===0){if(ct.length===0||_e.size(ct)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const ft=dt.length,ht=new Array(ft);let gt=-1,yt=1;for(let vt=0;vt<ft;vt++){if(dt[vt]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(dt[vt]===-1){if(gt!==-1)throw new Error("at most one dimension in shape hints can be -1");gt=vt}else{if(dt[vt]===0){if(vt>=ct.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");ht[vt]=ct[vt]}else ht[vt]=dt[vt];yt*=ht[vt]}}const bt=_e.size(ct);if(gt!==-1){if(bt%yt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${ct}] Output shape: [${dt}]`);ht[gt]=bt/yt}else if(yt!==bt)throw new Error("reshapedDims and originalDims don't have matching sizes");return ht}static sortBasedOnPerm(ct,dt){return dt?dt.map(ft=>ct[ft]):ct.slice().reverse()}static padShape(ct,dt){const ft=ct.length;return ct.map((ht,gt)=>ht+dt[gt]+dt[gt+ft])}static areEqual(ct,dt){return ct.length===dt.length&&ct.every((ft,ht)=>ft===dt[ht])}static validateDimsAndCalcSize(ct){if(ct.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let dt=1;for(const ft of ct){if(!Number.isInteger(ft))throw new TypeError(`Invalid shape: ${ft} is not an integer`);if(ft<0||ft>2147483647)throw new TypeError(`Invalid shape: length ${ft} is not allowed`);dt*=ft}return dt}static flattenShape(ct,dt){dt<0&&(dt+=ct.length);const ft=ct.reduce((gt,yt)=>gt*yt,1),ht=ct.slice(dt).reduce((gt,yt)=>gt*yt,1);return[ft/ht,ht]}static squeezeShape(ct,dt){const ft=new Array;dt=_e.normalizeAxes(dt,ct.length);for(let ht=0;ht<ct.length;ht++){const gt=dt.indexOf(ht)>=0;if(gt&&ct[ht]!==1)throw new Error("squeeze an axis of size different than 1");(dt.length===0&&ct[ht]>1||dt.length>0&&!gt)&&ft.push(ct[ht])}return ft}static unsqueezeShape(ct,dt){const ft=new Array(ct.length+dt.length);ft.fill(0);for(let gt=0;gt<dt.length;gt++){const yt=_e.normalizeAxis(dt[gt],ft.length);if(yt>=ft.length)throw new Error("'axes' has an out of range axis");if(ft[yt]!==0)throw new Error("'axes' has a duplicate axis");ft[yt]=1}let ht=0;for(let gt=0;gt<ft.length;gt++)ft[gt]===0&&(ft[gt]=ct[ht++]);if(ht!==ct.length)throw new Error("the unsqueezed dimension could not be established");return ft}}i.ShapeUtil=_e,i.MathUtil=class{static sqr(ut,ct,dt,ft,ht){if(ft<0||ft>=ct.length)throw new Error("sourceIndex out of bounds");if(dt<0||dt>=ut.length)throw new Error("targetIndex out of bounds");if(ft+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(dt+ht>ut.length)throw new Error("target array is too small to hold result");for(let gt=0;gt<ht;gt++)ut[dt+gt]+=Math.pow(ct[ft+gt],2)}static axpy(ut,ct,dt,ft,ht,gt){if(ft<0||ft>=ct.length)throw new Error("sourceIndex out of bounds");if(dt<0||dt>=ut.length)throw new Error("targetIndex out of bounds");if(ft+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(dt+ht>ut.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<ht;yt++)ut[dt+yt]+=gt*ct[ft+yt]}static powx(ut,ct,dt,ft,ht,gt){if(ft<0||ft>=ct.length)throw new Error("sourceIndex out of bounds");if(dt<0||dt>=ut.length)throw new Error("targetIndex out of bounds");if(ft+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(dt+ht>ut.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<ht;yt++)ut[dt+yt]=Math.pow(ct[ft+yt],gt)}static mul(ut,ct,dt,ft,ht){if(ft<0||ft>=ct.length)throw new Error("sourceIndex out of bounds");if(dt<0||dt>=ut.length)throw new Error("targetIndex out of bounds");if(ft+ht>ct.length)throw new Error("source indices to be copied are outside bounds");if(dt+ht>ut.length)throw new Error("target array is too small to hold result");for(let gt=0;gt<ht;gt++)ut[dt+gt]=ct[ft+gt]*ut[dt+gt]}};class nt{static splitShape(ct,dt,ft,ht){if(ft.length===0){if(!ht)throw new Error("need to know number of outputs when the 'split' attribute is not specified");nt.determineSplit(ct[dt],ht,ft)}const gt=[],yt=[0];for(let bt=0;bt<ft.length;++bt){bt!==0&&yt.push(yt[bt-1]+ft[bt-1]);const vt=ct.slice();vt[dt]=ft[bt],gt.push(vt)}return[gt,yt]}static determineSplit(ct,dt,ft){if(ct%dt!=0)throw new Error("cannot split tensor to equal sized parts");for(let ht=0;ht<dt;++ht)ft.push(ct/dt)}}i.SplitUtil=nt;class at{static calcReduce(ct,dt,ft,ht,gt){const yt=ct.dims.slice(0);dt.length===0&&yt.forEach((kt,It)=>dt.push(It));const bt=at.calcReduceShape(yt,dt,!0),vt=_e.size(bt),mt=new rt.Tensor(bt,ct.type),xt=_e.computeStrides(bt),wt=_e.computeStrides(yt),Ct=new Array(yt.length);for(let kt=0;kt<vt;kt++){const It=_e.offsetToIndices(kt,xt);it.fillIndex(It,yt,Ct),mt.set(It,at.calcReduceByAxis(ct.numberData,dt,yt,0,_e.indicesToOffset(Ct,wt),ht,gt))}return ft?mt:new rt.Tensor(at.calcReduceShape(yt,dt,ft),mt.type,void 0,void 0,mt.data,mt.dataId)}static calcReduceByAxis(ct,dt,ft,ht,gt,yt,bt){let vt=0;if(ht>=dt.length)return yt(ct[gt]);const mt=dt[ht],xt=mt>=ft.length?1:_e.size(ft.slice(mt+1));for(let wt=0;wt<ft[mt];wt++)vt=wt===0?at.calcReduceByAxis(ct,dt,ft,ht+1,gt,yt,bt):bt(vt,at.calcReduceByAxis(ct,dt,ft,ht+1,gt,yt,bt)),gt+=xt;return vt}static calcReduceShape(ct,dt,ft){const ht=ct.slice();for(let gt=0;gt<dt.length;gt++)ht[dt[gt]]=ft?1:0;return ht.filter(gt=>gt!==0)}}i.ReduceUtil=at;class lt{static adjustPoolAttributes(ct,dt,ft,ht,gt,yt){if(!ct&&ft.length!==dt.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(ct)for(let bt=0;bt<dt.length-2;bt++)bt>=ft.length?ft.push(dt[bt+2]):ft[bt]=dt[bt+2];for(let bt=0;bt<ft.length;bt++)if(bt<ht.length){if(ht[bt]<0)throw new Error("strides should be greater than or equal to 1")}else ht.push(1);for(let bt=0;bt<ft.length;bt++)if(bt<gt.length){if(gt[bt]<0)throw new Error("dilations should be greater than or equal to 1")}else gt.push(1);for(let bt=0;bt<2*ft.length;bt++)if(bt<yt.length){if(yt[bt]<0)throw new Error("pad should be greater than or equal to 1")}else yt.push(0);for(let bt=0;bt<ft.length;bt++){if(ft[bt]<=0)throw new Error("kernel shapes need to be greater than 0");if(yt[bt]>=ft[bt]||yt[bt+ft.length]>=ft[bt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(ct,dt,ft,ht,gt,yt){if(yt){if(gt.length!==2*(ct.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(dt.length!==ct.length-2)throw new Error("length of strides should be the length of data dimensions");if(ht.length!==ct.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let bt=0;bt<ct.length-2;bt++)lt.adjustPadAndReturnShape(ct[bt+2],dt[bt],ft[bt],ht[bt],gt,bt,bt+ct.length-2,yt)}}static computePoolOutputShape(ct,dt,ft,ht,gt,yt,bt){if(dt.length<=0)throw new Error("input shape must be of size greater than 0");const vt=[dt[0],dt[1]];return lt.computeShapeHelper(ct,dt,vt,ft,ht,gt,yt,bt),vt}static computeConvOutputShape(ct,dt,ft,ht,gt,yt,bt){if(ct.length<=0||dt.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const vt=[ct[0],dt[0]];return lt.computeShapeHelper(!1,ct,vt,ft,ht,gt,yt,bt),vt}static computeShapeHelper(ct,dt,ft,ht,gt,yt,bt,vt){if(ct)for(let mt=0;mt<dt.length-2;mt++)ft.push(1);else for(let mt=0;mt<dt.length-2;mt++)ft.push(lt.adjustPadAndReturnShape(dt[mt+2],ht[mt],gt[mt],yt[mt],bt,mt,mt+dt.length-2,vt))}static adjustPadAndReturnShape(ct,dt,ft,ht,gt,yt,bt,vt){const mt=ft*(ht-1)+1;if(!vt||vt==="NOTSET")return Math.floor((ct+gt[yt]+gt[bt]-mt)/dt+1);switch(vt){case"VALID":return gt[yt]=0,gt[bt]=0,Math.floor((ct-mt)/dt+1);case"SAME_LOWER":case"SAME_UPPER":if(ft!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const xt=((ct+dt-1)/dt-1)*dt+ht-ct;return gt[yt]=Math.floor(vt==="SAME_LOWER"?(xt+1)/2:xt/2),gt[bt]=xt-gt[yt],Math.floor((ct+xt-ht)/dt+1)}default:throw new Error("Unsupported AutoPad type")}}}i.PoolConvUtil=lt,i.MIN_CLIP=-34028234663852886e22,i.MAX_CLIP=34028234663852886e22,i.decodeUtf8String=function(ut){return new TextDecoder().decode(ut)}},7967:(o,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.iterateExtraOptions=void 0,i.iterateExtraOptions=(s,a,$,j)=>{if(typeof s=="object"&&s!==null){if($.has(s))throw new Error("Circular reference in options");$.add(s)}Object.entries(s).forEach(([et,rt])=>{const st=a?a+et:et;if(typeof rt=="object")(0,i.iterateExtraOptions)(rt,st+".",$,j);else if(typeof rt=="string"||typeof rt=="number")j(st,rt.toString());else{if(typeof rt!="boolean")throw new Error("Can't handle extra config type: "+typeof rt);j(st,rt?"1":"0")}})}},2157:function(o,i,s){var a,$=this&&this.__createBinding||(Object.create?function(xt,wt,Ct,kt){kt===void 0&&(kt=Ct);var It=Object.getOwnPropertyDescriptor(wt,Ct);It&&!("get"in It?!wt.__esModule:It.writable||It.configurable)||(It={enumerable:!0,get:function(){return wt[Ct]}}),Object.defineProperty(xt,kt,It)}:function(xt,wt,Ct,kt){kt===void 0&&(kt=Ct),xt[kt]=wt[Ct]}),j=this&&this.__setModuleDefault||(Object.create?function(xt,wt){Object.defineProperty(xt,"default",{enumerable:!0,value:wt})}:function(xt,wt){xt.default=wt}),et=this&&this.__importStar||function(xt){if(xt&&xt.__esModule)return xt;var wt={};if(xt!=null)for(var Ct in xt)Ct!=="default"&&Object.prototype.hasOwnProperty.call(xt,Ct)&&$(wt,xt,Ct);return j(wt,xt),wt};Object.defineProperty(i,"__esModule",{value:!0}),i.endProfiling=i.run=i.releaseSession=i.createSession=i.createSessionFinalize=i.createSessionAllocate=i.initOrt=i.initWasm=void 0;const rt=s(1670),st=et(s(349)),it=s(6361),ot=()=>!!rt.env.wasm.proxy&&typeof document<"u";let tt,_e,nt,at=!1,lt=!1,ut=!1;const ct=[],dt=[],ft=[],ht=[],gt=[],yt=[],bt=()=>{if(at||!lt||ut||!tt)throw new Error("worker not ready")},vt=xt=>{switch(xt.data.type){case"init-wasm":at=!1,xt.data.err?(ut=!0,_e[1](xt.data.err)):(lt=!0,_e[0]());break;case"init-ort":xt.data.err?nt[1](xt.data.err):nt[0]();break;case"create_allocate":xt.data.err?ct.shift()[1](xt.data.err):ct.shift()[0](xt.data.out);break;case"create_finalize":xt.data.err?dt.shift()[1](xt.data.err):dt.shift()[0](xt.data.out);break;case"create":xt.data.err?ft.shift()[1](xt.data.err):ft.shift()[0](xt.data.out);break;case"release":xt.data.err?ht.shift()[1](xt.data.err):ht.shift()[0]();break;case"run":xt.data.err?gt.shift()[1](xt.data.err):gt.shift()[0](xt.data.out);break;case"end-profiling":xt.data.err?yt.shift()[1](xt.data.err):yt.shift()[0]()}},mt=typeof document<"u"?(a=document==null?void 0:document.currentScript)===null||a===void 0?void 0:a.src:void 0;i.initWasm=async()=>{if(ot()){if(lt)return;if(at)throw new Error("multiple calls to 'initWasm()' detected.");if(ut)throw new Error("previous call to 'initWasm()' failed.");return at=!0,rt.env.wasm.wasmPaths===void 0&&mt&&mt.indexOf("blob:")!==0&&(rt.env.wasm.wasmPaths=mt.substr(0,+mt.lastIndexOf("/")+1)),new Promise((xt,wt)=>{tt==null||tt.terminate(),tt=s(9710).Z(),tt.onmessage=vt,_e=[xt,wt];const Ct={type:"init-wasm",in:rt.env.wasm};tt.postMessage(Ct)})}return(0,it.initializeWebAssembly)(rt.env.wasm)},i.initOrt=async(xt,wt)=>{if(ot())return bt(),new Promise((Ct,kt)=>{nt=[Ct,kt];const It={type:"init-ort",in:{numThreads:xt,loggingLevel:wt}};tt.postMessage(It)});st.initOrt(xt,wt)},i.createSessionAllocate=async xt=>ot()?(bt(),new Promise((wt,Ct)=>{ct.push([wt,Ct]);const kt={type:"create_allocate",in:{model:xt}};tt.postMessage(kt,[xt.buffer])})):st.createSessionAllocate(xt),i.createSessionFinalize=async(xt,wt)=>ot()?(bt(),new Promise((Ct,kt)=>{dt.push([Ct,kt]);const It={type:"create_finalize",in:{modeldata:xt,options:wt}};tt.postMessage(It)})):st.createSessionFinalize(xt,wt),i.createSession=async(xt,wt)=>ot()?(bt(),new Promise((Ct,kt)=>{ft.push([Ct,kt]);const It={type:"create",in:{model:xt,options:wt}};tt.postMessage(It,[xt.buffer])})):st.createSession(xt,wt),i.releaseSession=async xt=>{if(ot())return bt(),new Promise((wt,Ct)=>{ht.push([wt,Ct]);const kt={type:"release",in:xt};tt.postMessage(kt)});st.releaseSession(xt)},i.run=async(xt,wt,Ct,kt,It)=>ot()?(bt(),new Promise((Pt,St)=>{gt.push([Pt,St]);const Ot={type:"run",in:{sessionId:xt,inputIndices:wt,inputs:Ct,outputIndices:kt,options:It}};tt.postMessage(Ot,st.extractTransferableBuffers(Ct))})):st.run(xt,wt,Ct,kt,It),i.endProfiling=async xt=>{if(ot())return bt(),new Promise((wt,Ct)=>{yt.push([wt,Ct]);const kt={type:"end-profiling",in:xt};tt.postMessage(kt)});st.endProfiling(xt)}},586:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.setRunOptions=void 0;const a=s(7967),$=s(4983),j=s(6361);i.setRunOptions=et=>{const rt=(0,j.getInstance)();let st=0;const it=[],ot=et||{};try{if((et==null?void 0:et.logSeverityLevel)===void 0)ot.logSeverityLevel=2;else if(typeof et.logSeverityLevel!="number"||!Number.isInteger(et.logSeverityLevel)||et.logSeverityLevel<0||et.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${et.logSeverityLevel}`);if((et==null?void 0:et.logVerbosityLevel)===void 0)ot.logVerbosityLevel=0;else if(typeof et.logVerbosityLevel!="number"||!Number.isInteger(et.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${et.logVerbosityLevel}`);(et==null?void 0:et.terminate)===void 0&&(ot.terminate=!1);let tt=0;if((et==null?void 0:et.tag)!==void 0&&(tt=(0,$.allocWasmString)(et.tag,it)),st=rt._OrtCreateRunOptions(ot.logSeverityLevel,ot.logVerbosityLevel,!!ot.terminate,tt),st===0)throw new Error("Can't create run options");return(et==null?void 0:et.extra)!==void 0&&(0,a.iterateExtraOptions)(et.extra,"",new WeakSet,(_e,nt)=>{const at=(0,$.allocWasmString)(_e,it),lt=(0,$.allocWasmString)(nt,it);if(rt._OrtAddRunConfigEntry(st,at,lt)!==0)throw new Error(`Can't set a run config entry: ${_e} - ${nt}`)}),[st,it]}catch(tt){throw st!==0&&rt._OrtReleaseRunOptions(st),it.forEach(rt._free),tt}}},2306:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OnnxruntimeWebAssemblySessionHandler=void 0;const a=s(2806),$=s(1670),j=s(2850),et=s(2157);let rt;i.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(st){const it=await fetch(st),ot=await it.arrayBuffer();return(0,et.createSessionAllocate)(new Uint8Array(ot))}async loadModel(st,it){if(rt||(await(0,et.initOrt)($.env.wasm.numThreads,(ot=>{switch(ot){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${ot}`)}})($.env.logLevel)),rt=!0),typeof st=="string")if(typeof fetch>"u"){const ot=await(0,j.promisify)(a.readFile)(st);[this.sessionId,this.inputNames,this.outputNames]=await(0,et.createSession)(ot,it)}else{const ot=await this.createSessionAllocate(st);[this.sessionId,this.inputNames,this.outputNames]=await(0,et.createSessionFinalize)(ot,it)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,et.createSession)(st,it)}async dispose(){return(0,et.releaseSession)(this.sessionId)}async run(st,it,ot){const tt=[],_e=[];Object.entries(st).forEach(ut=>{const ct=ut[0],dt=ut[1],ft=this.inputNames.indexOf(ct);if(ft===-1)throw new Error(`invalid input '${ct}'`);tt.push(dt),_e.push(ft)});const nt=[];Object.entries(it).forEach(ut=>{const ct=ut[0],dt=this.outputNames.indexOf(ct);if(dt===-1)throw new Error(`invalid output '${ct}'`);nt.push(dt)});const at=await(0,et.run)(this.sessionId,_e,tt.map(ut=>[ut.type,ut.dims,ut.data]),nt,ot),lt={};for(let ut=0;ut<at.length;ut++)lt[this.outputNames[nt[ut]]]=new $.Tensor(at[ut][0],at[ut][2],at[ut][1]);return lt}startProfiling(){}endProfiling(){(0,et.endProfiling)(this.sessionId)}}},4919:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.setSessionOptions=void 0;const a=s(7967),$=s(4983),j=s(6361);i.setSessionOptions=et=>{const rt=(0,j.getInstance)();let st=0;const it=[],ot=et||{};(tt=>{tt.extra||(tt.extra={}),tt.extra.session||(tt.extra.session={});const _e=tt.extra.session;_e.use_ort_model_bytes_directly||(_e.use_ort_model_bytes_directly="1")})(ot);try{(et==null?void 0:et.graphOptimizationLevel)===void 0&&(ot.graphOptimizationLevel="all");const tt=(at=>{switch(at){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${at}`)}})(ot.graphOptimizationLevel);(et==null?void 0:et.enableCpuMemArena)===void 0&&(ot.enableCpuMemArena=!0),(et==null?void 0:et.enableMemPattern)===void 0&&(ot.enableMemPattern=!0),(et==null?void 0:et.executionMode)===void 0&&(ot.executionMode="sequential");const _e=(at=>{switch(at){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${at}`)}})(ot.executionMode);let nt=0;if((et==null?void 0:et.logId)!==void 0&&(nt=(0,$.allocWasmString)(et.logId,it)),(et==null?void 0:et.logSeverityLevel)===void 0)ot.logSeverityLevel=2;else if(typeof et.logSeverityLevel!="number"||!Number.isInteger(et.logSeverityLevel)||et.logSeverityLevel<0||et.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${et.logSeverityLevel}`);if((et==null?void 0:et.logVerbosityLevel)===void 0)ot.logVerbosityLevel=0;else if(typeof et.logVerbosityLevel!="number"||!Number.isInteger(et.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${et.logVerbosityLevel}`);if((et==null?void 0:et.enableProfiling)===void 0&&(ot.enableProfiling=!1),st=rt._OrtCreateSessionOptions(tt,!!ot.enableCpuMemArena,!!ot.enableMemPattern,_e,!!ot.enableProfiling,0,nt,ot.logSeverityLevel,ot.logVerbosityLevel),st===0)throw new Error("Can't create session options");return et!=null&&et.executionProviders&&((at,lt,ut)=>{for(const ct of lt){let dt=typeof ct=="string"?ct:ct.name;switch(dt){case"xnnpack":dt="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${dt}`)}const ft=(0,$.allocWasmString)(dt,ut);if((0,j.getInstance)()._OrtAppendExecutionProvider(at,ft)!==0)throw new Error(`Can't append execution provider: ${dt}`)}})(st,et.executionProviders,it),(et==null?void 0:et.extra)!==void 0&&(0,a.iterateExtraOptions)(et.extra,"",new WeakSet,(at,lt)=>{const ut=(0,$.allocWasmString)(at,it),ct=(0,$.allocWasmString)(lt,it);if(rt._OrtAddSessionConfigEntry(st,ut,ct)!==0)throw new Error(`Can't set a session config entry: ${at} - ${lt}`)}),[st,it]}catch(tt){throw st!==0&&rt._OrtReleaseSessionOptions(st),it.forEach(rt._free),tt}}},4983:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.allocWasmString=void 0;const a=s(6361);i.allocWasmString=($,j)=>{const et=(0,a.getInstance)(),rt=et.lengthBytesUTF8($)+1,st=et._malloc(rt);return et.stringToUTF8($,st,rt),j.push(st),st}},349:(o,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.extractTransferableBuffers=i.endProfiling=i.run=i.releaseSession=i.createSession=i.createSessionFinalize=i.createSessionAllocate=i.initOrt=void 0;const a=s(586),$=s(4919),j=s(4983),et=s(6361);i.initOrt=(tt,_e)=>{const nt=(0,et.getInstance)()._OrtInit(tt,_e);if(nt!==0)throw new Error(`Can't initialize onnxruntime. error code = ${nt}`)};const rt=new Map;i.createSessionAllocate=tt=>{const _e=(0,et.getInstance)(),nt=_e._malloc(tt.byteLength);return _e.HEAPU8.set(tt,nt),[nt,tt.byteLength]},i.createSessionFinalize=(tt,_e)=>{const nt=(0,et.getInstance)();let at=0,lt=0,ut=[];try{if([lt,ut]=(0,$.setSessionOptions)(_e),at=nt._OrtCreateSession(tt[0],tt[1],lt),at===0)throw new Error("Can't create a session")}finally{nt._free(tt[0]),nt._OrtReleaseSessionOptions(lt),ut.forEach(nt._free)}const ct=nt._OrtGetInputCount(at),dt=nt._OrtGetOutputCount(at),ft=[],ht=[],gt=[],yt=[];for(let bt=0;bt<ct;bt++){const vt=nt._OrtGetInputName(at,bt);if(vt===0)throw new Error("Can't get an input name");ht.push(vt),ft.push(nt.UTF8ToString(vt))}for(let bt=0;bt<dt;bt++){const vt=nt._OrtGetOutputName(at,bt);if(vt===0)throw new Error("Can't get an output name");yt.push(vt),gt.push(nt.UTF8ToString(vt))}return rt.set(at,[at,ht,yt]),[at,ft,gt]},i.createSession=(tt,_e)=>{const nt=(0,i.createSessionAllocate)(tt);return(0,i.createSessionFinalize)(nt,_e)},i.releaseSession=tt=>{const _e=(0,et.getInstance)(),nt=rt.get(tt);if(!nt)throw new Error("invalid session id");const at=nt[0],lt=nt[1],ut=nt[2];lt.forEach(_e._OrtFree),ut.forEach(_e._OrtFree),_e._OrtReleaseSession(at),rt.delete(tt)};const st=tt=>{switch(tt){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${tt}`)}},it=tt=>{switch(tt){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${tt}`)}},ot=tt=>{switch(tt){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${tt}`)}};i.run=(tt,_e,nt,at,lt)=>{const ut=(0,et.getInstance)(),ct=rt.get(tt);if(!ct)throw new Error("invalid session id");const dt=ct[0],ft=ct[1],ht=ct[2],gt=_e.length,yt=at.length;let bt=0,vt=[];const mt=[],xt=[];try{[bt,vt]=(0,a.setRunOptions)(lt);for(let St=0;St<gt;St++){const Ot=nt[St][0],At=nt[St][1],$t=nt[St][2];let jt,zt;if(Array.isArray($t)){zt=4*$t.length,jt=ut._malloc(zt),xt.push(jt);let ir=jt/4;for(let sr=0;sr<$t.length;sr++){if(typeof $t[sr]!="string")throw new TypeError(`tensor data at index ${sr} is not a string`);ut.HEAPU32[ir++]=(0,j.allocWasmString)($t[sr],xt)}}else zt=$t.byteLength,jt=ut._malloc(zt),xt.push(jt),ut.HEAPU8.set(new Uint8Array($t.buffer,$t.byteOffset,zt),jt);const Xt=ut.stackSave(),tr=ut.stackAlloc(4*At.length);try{let ir=tr/4;At.forEach(Jt=>ut.HEAP32[ir++]=Jt);const sr=ut._OrtCreateTensor(st(Ot),jt,zt,tr,At.length);if(sr===0)throw new Error("Can't create a tensor");mt.push(sr)}finally{ut.stackRestore(Xt)}}const wt=ut.stackSave(),Ct=ut.stackAlloc(4*gt),kt=ut.stackAlloc(4*gt),It=ut.stackAlloc(4*yt),Pt=ut.stackAlloc(4*yt);try{let St=Ct/4,Ot=kt/4,At=It/4,$t=Pt/4;for(let Xt=0;Xt<gt;Xt++)ut.HEAPU32[St++]=mt[Xt],ut.HEAPU32[Ot++]=ft[_e[Xt]];for(let Xt=0;Xt<yt;Xt++)ut.HEAPU32[At++]=0,ut.HEAPU32[$t++]=ht[at[Xt]];let jt=ut._OrtRun(dt,kt,Ct,gt,Pt,yt,It,bt);const zt=[];if(jt===0)for(let Xt=0;Xt<yt;Xt++){const tr=ut.HEAPU32[It/4+Xt],ir=ut.stackSave(),sr=ut.stackAlloc(16);let Jt,rr=0;try{if(jt=ut._OrtGetTensorData(tr,sr,sr+4,sr+8,sr+12),jt!==0)throw new Error(`Can't access output tensor data. error code = ${jt}`);let Yt=sr/4;const Kt=ut.HEAPU32[Yt++];rr=ut.HEAPU32[Yt++];const er=ut.HEAPU32[Yt++],Bt=ut.HEAPU32[Yt++],cr=[];for(let pr=0;pr<Bt;pr++)cr.push(ut.HEAPU32[er/4+pr]);ut._OrtFree(er);const ar=cr.length===0?1:cr.reduce((pr,Rr)=>pr*Rr);if(Jt=it(Kt),Jt==="string"){const pr=[];let Rr=rr/4;for(let kr=0;kr<ar;kr++){const Fr=ut.HEAPU32[Rr++],Vr=kr===ar-1?void 0:ut.HEAPU32[Rr]-Fr;pr.push(ut.UTF8ToString(Fr,Vr))}zt.push([Jt,cr,pr])}else{const pr=new(ot(Jt))(ar);new Uint8Array(pr.buffer,pr.byteOffset,pr.byteLength).set(ut.HEAPU8.subarray(rr,rr+pr.byteLength)),zt.push([Jt,cr,pr])}}finally{ut.stackRestore(ir),Jt==="string"&&rr&&ut._free(rr),ut._OrtReleaseTensor(tr)}}if(jt===0)return zt;throw new Error(`failed to call OrtRun(). error code = ${jt}.`)}finally{ut.stackRestore(wt)}}finally{mt.forEach(ut._OrtReleaseTensor),xt.forEach(ut._free),ut._OrtReleaseRunOptions(bt),vt.forEach(ut._free)}},i.endProfiling=tt=>{const _e=(0,et.getInstance)(),nt=rt.get(tt);if(!nt)throw new Error("invalid session id");const at=nt[0],lt=_e._OrtEndProfiling(at);if(lt===0)throw new Error("Can't get an profile file name");_e._OrtFree(lt)},i.extractTransferableBuffers=tt=>{const _e=[];for(const nt of tt){const at=nt[2];!Array.isArray(at)&&at.buffer&&_e.push(at.buffer)}return _e}},6361:function(o,i,s){var a=this&&this.__createBinding||(Object.create?function(lt,ut,ct,dt){dt===void 0&&(dt=ct);var ft=Object.getOwnPropertyDescriptor(ut,ct);ft&&!("get"in ft?!ut.__esModule:ft.writable||ft.configurable)||(ft={enumerable:!0,get:function(){return ut[ct]}}),Object.defineProperty(lt,dt,ft)}:function(lt,ut,ct,dt){dt===void 0&&(dt=ct),lt[dt]=ut[ct]}),$=this&&this.__setModuleDefault||(Object.create?function(lt,ut){Object.defineProperty(lt,"default",{enumerable:!0,value:ut})}:function(lt,ut){lt.default=ut}),j=this&&this.__importStar||function(lt){if(lt&&lt.__esModule)return lt;var ut={};if(lt!=null)for(var ct in lt)ct!=="default"&&Object.prototype.hasOwnProperty.call(lt,ct)&&a(ut,lt,ct);return $(ut,lt),ut},et=this&&this.__importDefault||function(lt){return lt&&lt.__esModule?lt:{default:lt}};Object.defineProperty(i,"__esModule",{value:!0}),i.dispose=i.getInstance=i.initializeWebAssembly=void 0;const rt=j(s(6449)),st=et(s(932)),it=s(3474);let ot,tt=!1,_e=!1,nt=!1;const at=(lt,ut)=>ut?lt?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":lt?"ort-wasm-simd.wasm":"ort-wasm.wasm";i.initializeWebAssembly=async lt=>{if(tt)return Promise.resolve();if(_e)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(nt)throw new Error("previous call to 'initializeWebAssembly()' failed.");_e=!0;const ut=lt.initTimeout,ct=lt.numThreads,dt=lt.simd,ft=ct>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),ht=dt&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),gt=typeof lt.wasmPaths=="string"?lt.wasmPaths:void 0,yt=at(!1,ft),bt=at(ht,ft),vt=typeof lt.wasmPaths=="object"?lt.wasmPaths[bt]:void 0;let mt=!1;const xt=[];if(ut>0&&xt.push(new Promise(wt=>{setTimeout(()=>{mt=!0,wt()},ut)})),xt.push(new Promise((wt,Ct)=>{const kt=ft?it:st.default,It={locateFile:(Pt,St)=>ft&&Pt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([s(4154)],{type:"text/javascript"})):Pt===yt?vt??(gt??St)+bt:St+Pt};if(ft)if(typeof Blob>"u")It.mainScriptUrlOrBlob=rt.join("/","ort-wasm-threaded.js");else{const Pt=`var ortWasmThreaded=(function(){var _scriptDir;return ${kt.toString()}})();`;It.mainScriptUrlOrBlob=new Blob([Pt],{type:"text/javascript"})}kt(It).then(Pt=>{_e=!1,tt=!0,ot=Pt,wt()},Pt=>{_e=!1,nt=!0,Ct(Pt)})})),await Promise.race(xt),mt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${ut}ms`)},i.getInstance=()=>{if(tt&&ot)return ot;throw new Error("WebAssembly is not initialized yet.")},i.dispose=()=>{var lt;!tt||_e||nt||(_e=!0,(lt=ot.PThread)===null||lt===void 0||lt.terminateAllThreads(),ot=void 0,_e=!1,tt=!1,nt=!0)}},9710:(o,i,s)=>{s.d(i,{Z:()=>j});var a=s(477),$=s.n(a);function j(){return $()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:o=>{o.exports=function(i,s,a,$){var j=self||window;try{try{var et;try{et=new j.Blob([i])}catch{(et=new(j.BlobBuilder||j.WebKitBlobBuilder||j.MozBlobBuilder||j.MSBlobBuilder)).append(i),et=et.getBlob()}var rt=j.URL||j.webkitURL,st=rt.createObjectURL(et),it=new j[s](st,a);return rt.revokeObjectURL(st),it}catch{return new j[s]("data:application/javascript,".concat(encodeURIComponent(i)),a)}}catch{if(!$)throw Error("Inline worker is not supported");return new j[s]($,a)}}},4154:o=>{o.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:o=>{o.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(o,i,s)=>{s.r(i),s.d(i,{flatbuffers:()=>a});var a={};a.Offset,a.Table,a.SIZEOF_SHORT=2,a.SIZEOF_INT=4,a.FILE_IDENTIFIER_LENGTH=4,a.SIZE_PREFIX_LENGTH=4,a.Encoding={UTF8_BYTES:1,UTF16_STRING:2},a.int32=new Int32Array(2),a.float32=new Float32Array(a.int32.buffer),a.float64=new Float64Array(a.int32.buffer),a.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,a.Long=function($,j){this.low=0|$,this.high=0|j},a.Long.create=function($,j){return $==0&&j==0?a.Long.ZERO:new a.Long($,j)},a.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},a.Long.prototype.equals=function($){return this.low==$.low&&this.high==$.high},a.Long.ZERO=new a.Long(0,0),a.Builder=function($){if($)j=$;else var j=1024;this.bb=a.ByteBuffer.allocate(j),this.space=j,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.forceDefaults=function($){this.force_defaults=$},a.Builder.prototype.dataBuffer=function(){return this.bb},a.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},a.Builder.prototype.prep=function($,j){$>this.minalign&&(this.minalign=$);for(var et=1+~(this.bb.capacity()-this.space+j)&$-1;this.space<et+$+j;){var rt=this.bb.capacity();this.bb=a.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-rt}this.pad(et)},a.Builder.prototype.pad=function($){for(var j=0;j<$;j++)this.bb.writeInt8(--this.space,0)},a.Builder.prototype.writeInt8=function($){this.bb.writeInt8(this.space-=1,$)},a.Builder.prototype.writeInt16=function($){this.bb.writeInt16(this.space-=2,$)},a.Builder.prototype.writeInt32=function($){this.bb.writeInt32(this.space-=4,$)},a.Builder.prototype.writeInt64=function($){this.bb.writeInt64(this.space-=8,$)},a.Builder.prototype.writeFloat32=function($){this.bb.writeFloat32(this.space-=4,$)},a.Builder.prototype.writeFloat64=function($){this.bb.writeFloat64(this.space-=8,$)},a.Builder.prototype.addInt8=function($){this.prep(1,0),this.writeInt8($)},a.Builder.prototype.addInt16=function($){this.prep(2,0),this.writeInt16($)},a.Builder.prototype.addInt32=function($){this.prep(4,0),this.writeInt32($)},a.Builder.prototype.addInt64=function($){this.prep(8,0),this.writeInt64($)},a.Builder.prototype.addFloat32=function($){this.prep(4,0),this.writeFloat32($)},a.Builder.prototype.addFloat64=function($){this.prep(8,0),this.writeFloat64($)},a.Builder.prototype.addFieldInt8=function($,j,et){(this.force_defaults||j!=et)&&(this.addInt8(j),this.slot($))},a.Builder.prototype.addFieldInt16=function($,j,et){(this.force_defaults||j!=et)&&(this.addInt16(j),this.slot($))},a.Builder.prototype.addFieldInt32=function($,j,et){(this.force_defaults||j!=et)&&(this.addInt32(j),this.slot($))},a.Builder.prototype.addFieldInt64=function($,j,et){!this.force_defaults&&j.equals(et)||(this.addInt64(j),this.slot($))},a.Builder.prototype.addFieldFloat32=function($,j,et){(this.force_defaults||j!=et)&&(this.addFloat32(j),this.slot($))},a.Builder.prototype.addFieldFloat64=function($,j,et){(this.force_defaults||j!=et)&&(this.addFloat64(j),this.slot($))},a.Builder.prototype.addFieldOffset=function($,j,et){(this.force_defaults||j!=et)&&(this.addOffset(j),this.slot($))},a.Builder.prototype.addFieldStruct=function($,j,et){j!=et&&(this.nested(j),this.slot($))},a.Builder.prototype.nested=function($){if($!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},a.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},a.Builder.prototype.slot=function($){this.vtable[$]=this.offset()},a.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},a.Builder.growByteBuffer=function($){var j=$.capacity();if(3221225472&j)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var et=j<<1,rt=a.ByteBuffer.allocate(et);return rt.setPosition(et-j),rt.bytes().set($.bytes(),et-j),rt},a.Builder.prototype.addOffset=function($){this.prep(a.SIZEOF_INT,0),this.writeInt32(this.offset()-$+a.SIZEOF_INT)},a.Builder.prototype.startObject=function($){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=$;for(var j=0;j<$;j++)this.vtable[j]=0;this.isNested=!0,this.object_start=this.offset()},a.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var $=this.offset(),j=this.vtable_in_use-1;j>=0&&this.vtable[j]==0;j--);for(var et=j+1;j>=0;j--)this.addInt16(this.vtable[j]!=0?$-this.vtable[j]:0);this.addInt16($-this.object_start);var rt=(et+2)*a.SIZEOF_SHORT;this.addInt16(rt);var st=0,it=this.space;e:for(j=0;j<this.vtables.length;j++){var ot=this.bb.capacity()-this.vtables[j];if(rt==this.bb.readInt16(ot)){for(var tt=a.SIZEOF_SHORT;tt<rt;tt+=a.SIZEOF_SHORT)if(this.bb.readInt16(it+tt)!=this.bb.readInt16(ot+tt))continue e;st=this.vtables[j];break}}return st?(this.space=this.bb.capacity()-$,this.bb.writeInt32(this.space,st-$)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-$,this.offset()-$)),this.isNested=!1,$},a.Builder.prototype.finish=function($,j,et){var rt=et?a.SIZE_PREFIX_LENGTH:0;if(j){var st=j;if(this.prep(this.minalign,a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH+rt),st.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var it=a.FILE_IDENTIFIER_LENGTH-1;it>=0;it--)this.writeInt8(st.charCodeAt(it))}this.prep(this.minalign,a.SIZEOF_INT+rt),this.addOffset($),rt&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},a.Builder.prototype.finishSizePrefixed=function($,j){this.finish($,j,!0)},a.Builder.prototype.requiredField=function($,j){var et=this.bb.capacity()-$,rt=et-this.bb.readInt32(et);if(this.bb.readInt16(rt+j)==0)throw new Error("FlatBuffers: field "+j+" must be set")},a.Builder.prototype.startVector=function($,j,et){this.notNested(),this.vector_num_elems=j,this.prep(a.SIZEOF_INT,$*j),this.prep(et,$*j)},a.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},a.Builder.prototype.createString=function($){if($ instanceof Uint8Array)var j=$;else{j=[];for(var et=0;et<$.length;){var rt,st=$.charCodeAt(et++);(rt=st<55296||st>=56320?st:(st<<10)+$.charCodeAt(et++)+-56613888)<128?j.push(rt):(rt<2048?j.push(rt>>6&31|192):(rt<65536?j.push(rt>>12&15|224):j.push(rt>>18&7|240,rt>>12&63|128),j.push(rt>>6&63|128)),j.push(63&rt|128))}}this.addInt8(0),this.startVector(1,j.length,1),this.bb.setPosition(this.space-=j.length),et=0;for(var it=this.space,ot=this.bb.bytes();et<j.length;et++)ot[it++]=j[et];return this.endVector()},a.Builder.prototype.createLong=function($,j){return a.Long.create($,j)},a.ByteBuffer=function($){this.bytes_=$,this.position_=0},a.ByteBuffer.allocate=function($){return new a.ByteBuffer(new Uint8Array($))},a.ByteBuffer.prototype.clear=function(){this.position_=0},a.ByteBuffer.prototype.bytes=function(){return this.bytes_},a.ByteBuffer.prototype.position=function(){return this.position_},a.ByteBuffer.prototype.setPosition=function($){this.position_=$},a.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},a.ByteBuffer.prototype.readInt8=function($){return this.readUint8($)<<24>>24},a.ByteBuffer.prototype.readUint8=function($){return this.bytes_[$]},a.ByteBuffer.prototype.readInt16=function($){return this.readUint16($)<<16>>16},a.ByteBuffer.prototype.readUint16=function($){return this.bytes_[$]|this.bytes_[$+1]<<8},a.ByteBuffer.prototype.readInt32=function($){return this.bytes_[$]|this.bytes_[$+1]<<8|this.bytes_[$+2]<<16|this.bytes_[$+3]<<24},a.ByteBuffer.prototype.readUint32=function($){return this.readInt32($)>>>0},a.ByteBuffer.prototype.readInt64=function($){return new a.Long(this.readInt32($),this.readInt32($+4))},a.ByteBuffer.prototype.readUint64=function($){return new a.Long(this.readUint32($),this.readUint32($+4))},a.ByteBuffer.prototype.readFloat32=function($){return a.int32[0]=this.readInt32($),a.float32[0]},a.ByteBuffer.prototype.readFloat64=function($){return a.int32[a.isLittleEndian?0:1]=this.readInt32($),a.int32[a.isLittleEndian?1:0]=this.readInt32($+4),a.float64[0]},a.ByteBuffer.prototype.writeInt8=function($,j){this.bytes_[$]=j},a.ByteBuffer.prototype.writeUint8=function($,j){this.bytes_[$]=j},a.ByteBuffer.prototype.writeInt16=function($,j){this.bytes_[$]=j,this.bytes_[$+1]=j>>8},a.ByteBuffer.prototype.writeUint16=function($,j){this.bytes_[$]=j,this.bytes_[$+1]=j>>8},a.ByteBuffer.prototype.writeInt32=function($,j){this.bytes_[$]=j,this.bytes_[$+1]=j>>8,this.bytes_[$+2]=j>>16,this.bytes_[$+3]=j>>24},a.ByteBuffer.prototype.writeUint32=function($,j){this.bytes_[$]=j,this.bytes_[$+1]=j>>8,this.bytes_[$+2]=j>>16,this.bytes_[$+3]=j>>24},a.ByteBuffer.prototype.writeInt64=function($,j){this.writeInt32($,j.low),this.writeInt32($+4,j.high)},a.ByteBuffer.prototype.writeUint64=function($,j){this.writeUint32($,j.low),this.writeUint32($+4,j.high)},a.ByteBuffer.prototype.writeFloat32=function($,j){a.float32[0]=j,this.writeInt32($,a.int32[0])},a.ByteBuffer.prototype.writeFloat64=function($,j){a.float64[0]=j,this.writeInt32($,a.int32[a.isLittleEndian?0:1]),this.writeInt32($+4,a.int32[a.isLittleEndian?1:0])},a.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var $="",j=0;j<a.FILE_IDENTIFIER_LENGTH;j++)$+=String.fromCharCode(this.readInt8(this.position_+a.SIZEOF_INT+j));return $},a.ByteBuffer.prototype.__offset=function($,j){var et=$-this.readInt32($);return j<this.readInt16(et)?this.readInt16(et+j):0},a.ByteBuffer.prototype.__union=function($,j){return $.bb_pos=j+this.readInt32(j),$.bb=this,$},a.ByteBuffer.prototype.__string=function($,j){$+=this.readInt32($);var et=this.readInt32($),rt="",st=0;if($+=a.SIZEOF_INT,j===a.Encoding.UTF8_BYTES)return this.bytes_.subarray($,$+et);for(;st<et;){var it,ot=this.readUint8($+st++);if(ot<192)it=ot;else{var tt=this.readUint8($+st++);if(ot<224)it=(31&ot)<<6|63&tt;else{var _e=this.readUint8($+st++);it=ot<240?(15&ot)<<12|(63&tt)<<6|63&_e:(7&ot)<<18|(63&tt)<<12|(63&_e)<<6|63&this.readUint8($+st++)}}it<65536?rt+=String.fromCharCode(it):(it-=65536,rt+=String.fromCharCode(55296+(it>>10),56320+(1023&it)))}return rt},a.ByteBuffer.prototype.__indirect=function($){return $+this.readInt32($)},a.ByteBuffer.prototype.__vector=function($){return $+this.readInt32($)+a.SIZEOF_INT},a.ByteBuffer.prototype.__vector_len=function($){return this.readInt32($+this.readInt32($))},a.ByteBuffer.prototype.__has_identifier=function($){if($.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var j=0;j<a.FILE_IDENTIFIER_LENGTH;j++)if($.charCodeAt(j)!=this.readInt8(this.position_+a.SIZEOF_INT+j))return!1;return!0},a.ByteBuffer.prototype.createLong=function($,j){return a.Long.create($,j)}}},__webpack_module_cache__={};function __webpack_require__(o){var i=__webpack_module_cache__[o];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o].call(s.exports,s,s.exports,__webpack_require__),s.exports}__webpack_require__.n=o=>{var i=o&&o.__esModule?()=>o.default:()=>o;return __webpack_require__.d(i,{a:i}),i},__webpack_require__.d=(o,i)=>{for(var s in i)__webpack_require__.o(i,s)&&!__webpack_require__.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:i[s]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),__webpack_require__.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})())})(ortWeb_min);var ortWeb_minExports=ortWeb_min.exports,models={},common$2={};Object.defineProperty(common$2,"__esModule",{value:!0});var legacy={},_a$1;Object.defineProperty(legacy,"__esModule",{value:!0});legacy.SileroLegacy=void 0;const logging_1$2=logging;class SileroLegacy{constructor(i,s,a,$,j){this.ortInstance=i,this._session=s,this._h=a,this._c=$,this._sr=j,this.reset_state=()=>{const et=Array(128).fill(0);this._h=new this.ortInstance.Tensor("float32",et,[2,1,64]),this._c=new this.ortInstance.Tensor("float32",et,[2,1,64])},this.process=async et=>{var _e;const st={input:new this.ortInstance.Tensor("float32",et,[1,et.length]),h:this._h,c:this._c,sr:this._sr},it=await this._session.run(st);this._h=it.hn,this._c=it.cn;const[ot]=(_e=it.output)==null?void 0:_e.data;return{notSpeech:1-ot,isSpeech:ot}}}}legacy.SileroLegacy=SileroLegacy;_a$1=SileroLegacy;SileroLegacy.new=async(o,i)=>{logging_1$2.log.debug("initializing vad");const s=await i(),a=await o.InferenceSession.create(s),$=new o.Tensor("int64",[16000n]),j=Array(2*64).fill(0),et=new o.Tensor("float32",j,[2,1,64]),rt=new o.Tensor("float32",j,[2,1,64]);return logging_1$2.log.debug("vad is initialized"),new _a$1(o,a,et,rt,$)};var v5={},_a;Object.defineProperty(v5,"__esModule",{value:!0});v5.SileroV5=void 0;const logging_1$1=logging;function getNewState(o){const i=Array(256).fill(0);return new o.Tensor("float32",i,[2,1,128])}class SileroV5{constructor(i,s,a,$){this._session=i,this._state=s,this._sr=a,this.ortInstance=$,this.reset_state=()=>{this._state=getNewState(this.ortInstance)},this.process=async j=>{var tt;const rt={input:new this.ortInstance.Tensor("float32",j,[1,j.length]),state:this._state,sr:this._sr},st=await this._session.run(rt);this._state=st.stateN;const[it]=(tt=st.output)==null?void 0:tt.data;return{notSpeech:1-it,isSpeech:it}}}}v5.SileroV5=SileroV5;_a=SileroV5;SileroV5.new=async(o,i)=>{logging_1$1.log.debug("Loading VAD...");const s=await i(),a=await o.InferenceSession.create(s),$=new o.Tensor("int64",[16000n]),j=getNewState(o);return logging_1$1.log.debug("...finished loading VAD"),new _a(a,j,$,o)};(function(o){var i=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(j,et,rt,st){st===void 0&&(st=rt);var it=Object.getOwnPropertyDescriptor(et,rt);(!it||("get"in it?!et.__esModule:it.writable||it.configurable))&&(it={enumerable:!0,get:function(){return et[rt]}}),Object.defineProperty(j,st,it)}:function(j,et,rt,st){st===void 0&&(st=rt),j[st]=et[rt]}),s=commonjsGlobal&&commonjsGlobal.__exportStar||function(j,et){for(var rt in j)rt!=="default"&&!Object.prototype.hasOwnProperty.call(et,rt)&&i(et,j,rt)};Object.defineProperty(o,"__esModule",{value:!0}),o.SileroV5=o.SileroLegacy=void 0,s(common$2,o);var a=legacy;Object.defineProperty(o,"SileroLegacy",{enumerable:!0,get:function(){return a.SileroLegacy}});var $=v5;Object.defineProperty(o,"SileroV5",{enumerable:!0,get:function(){return $.SileroV5}})})(models);var resampler={};Object.defineProperty(resampler,"__esModule",{value:!0});resampler.Resampler=void 0;const logging_1=logging;class Resampler{constructor(i){this.options=i,this.process=s=>{const a=[];for(const $ of s)for(this.inputBuffer.push($);this.hasEnoughDataForFrame();){const j=this.generateOutputFrame();a.push(j)}return a},i.nativeSampleRate<16e3&&logging_1.log.error("nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate"),this.inputBuffer=[]}async*stream(i){for(const s of i)for(this.inputBuffer.push(s);this.hasEnoughDataForFrame();)yield this.generateOutputFrame()}hasEnoughDataForFrame(){return this.inputBuffer.length*this.options.targetSampleRate/this.options.nativeSampleRate>=this.options.targetFrameSize}generateOutputFrame(){const i=new Float32Array(this.options.targetFrameSize);let s=0,a=0;for(;s<this.options.targetFrameSize;){let $=0,j=0;for(;a<Math.min(this.inputBuffer.length,(s+1)*this.options.nativeSampleRate/this.options.targetSampleRate);){const et=this.inputBuffer[a];et!==void 0&&($+=et,j++),a++}i[s]=$/j,s++}return this.inputBuffer=this.inputBuffer.slice(a),i}}resampler.Resampler=Resampler;(function(o){var i=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(_e,nt,at,lt){lt===void 0&&(lt=at);var ut=Object.getOwnPropertyDescriptor(nt,at);(!ut||("get"in ut?!nt.__esModule:ut.writable||ut.configurable))&&(ut={enumerable:!0,get:function(){return nt[at]}}),Object.defineProperty(_e,lt,ut)}:function(_e,nt,at,lt){lt===void 0&&(lt=at),_e[lt]=nt[at]}),s=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(_e,nt){Object.defineProperty(_e,"default",{enumerable:!0,value:nt})}:function(_e,nt){_e.default=nt}),a=commonjsGlobal&&commonjsGlobal.__importStar||function(_e){if(_e&&_e.__esModule)return _e;var nt={};if(_e!=null)for(var at in _e)at!=="default"&&Object.prototype.hasOwnProperty.call(_e,at)&&i(nt,_e,at);return s(nt,_e),nt};Object.defineProperty(o,"__esModule",{value:!0}),o.NonRealTimeVAD=o.defaultNonRealTimeVADOptions=void 0;const $=a(ortWeb_minExports),j=assetPath,et=defaultModelFetcher$1,rt=frameProcessor,st=messages,it=models,ot=resampler;o.defaultNonRealTimeVADOptions={...rt.defaultLegacyFrameProcessorOptions,ortConfig:void 0,modelURL:j.baseAssetPath+"silero_vad_legacy.onnx",modelFetcher:et.defaultModelFetcher};class tt{static async new(nt={}){const at={...o.defaultNonRealTimeVADOptions,...nt};(0,rt.validateOptions)(at),at.ortConfig!==void 0&&at.ortConfig($);const lt=()=>at.modelFetcher(at.modelURL),ut=await it.SileroLegacy.new($,lt),ct=new rt.FrameProcessor(ut.process,ut.reset_state,{frameSamples:at.frameSamples,positiveSpeechThreshold:at.positiveSpeechThreshold,negativeSpeechThreshold:at.negativeSpeechThreshold,redemptionFrames:at.redemptionFrames,preSpeechPadFrames:at.preSpeechPadFrames,minSpeechFrames:at.minSpeechFrames,submitUserSpeechOnPause:at.submitUserSpeechOnPause});return ct.resume(),new this(lt,$,at,ct)}constructor(nt,at,lt,ut){this.modelFetcher=nt,this.ort=at,this.options=lt,this.frameProcessor=ut}async*run(nt,at){const lt={nativeSampleRate:at,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples},ut=new ot.Resampler(lt);let ct=0,dt=0,ft=0,ht=[];for await(const bt of ut.stream(nt)){await this.frameProcessor.process(bt,vt=>{ht.push(vt)});for(const vt of ht)switch(vt.msg){case st.Message.SpeechStart:ct=ft*this.options.frameSamples/16;break;case st.Message.SpeechEnd:dt=(ft+1)*this.options.frameSamples/16,yield{audio:vt.audio,start:ct,end:dt};break}ft++}const{msg:gt,audio:yt}=this.frameProcessor.endSegment(bt=>{ht.push(bt)});for(const bt of ht)switch(bt.msg){case st.Message.SpeechEnd:yield{audio:bt.audio,start:ct,end:ft*this.options.frameSamples/16}}}}o.NonRealTimeVAD=tt})(nonRealTimeVad);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.audioFileToArray=utils.encodeWAV=utils.arrayBufferToBase64=utils.minFramesForTargetMS=void 0;function minFramesForTargetMS(o,i,s=16e3){return Math.ceil(o*s/1e3/i)}utils.minFramesForTargetMS=minFramesForTargetMS;function arrayBufferToBase64(o){const i=new Uint8Array(o),s=i.byteLength,a=new Array(s);for(var $=0;$<s;$++){const j=i[$];if(j===void 0)break;a[$]=String.fromCharCode(j)}return btoa(a.join(""))}utils.arrayBufferToBase64=arrayBufferToBase64;function encodeWAV(o,i=3,s=16e3,a=1,$=32){var j=$/8,et=a*j,rt=new ArrayBuffer(44+o.length*j),st=new DataView(rt);return writeString(st,0,"RIFF"),st.setUint32(4,36+o.length*j,!0),writeString(st,8,"WAVE"),writeString(st,12,"fmt "),st.setUint32(16,16,!0),st.setUint16(20,i,!0),st.setUint16(22,a,!0),st.setUint32(24,s,!0),st.setUint32(28,s*et,!0),st.setUint16(32,et,!0),st.setUint16(34,$,!0),writeString(st,36,"data"),st.setUint32(40,o.length*j,!0),i===1?floatTo16BitPCM(st,44,o):writeFloat32(st,44,o),rt}utils.encodeWAV=encodeWAV;function writeFloat32(o,i,s){for(var a=0;a<s.length;a++,i+=4)o.setFloat32(i,s[a],!0)}function floatTo16BitPCM(o,i,s){for(var a=0;a<s.length;a++,i+=2){var $=Math.max(-1,Math.min(1,s[a]));o.setInt16(i,$<0?$*32768:$*32767,!0)}}function writeString(o,i,s){for(var a=0;a<s.length;a++)o.setUint8(i+a,s.charCodeAt(a))}async function audioFileToArray(o){const i=new OfflineAudioContext(1,1,44100),s=new FileReader;let a=null;if(await new Promise(et=>{s.addEventListener("loadend",rt=>{const st=s.result;i.decodeAudioData(st,it=>{a=it,i.startRendering().then(ot=>{console.log("Rendering completed successfully"),et()}).catch(ot=>{console.error(`Rendering failed: ${ot}`)})},it=>{console.log(`Error with decoding audio data: ${it}`)})}),s.readAsArrayBuffer(o)}),a===null)throw Error("some shit");let $=a,j=new Float32Array($.length);for(let et=0;et<$.length;et++)for(let rt=0;rt<$.numberOfChannels;rt++)j[et]+=$.getChannelData(rt)[et];return{audio:j,sampleRate:$.sampleRate}}utils.audioFileToArray=audioFileToArray;var realTimeVad={};(function(o){var i=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ct,dt,ft,ht){ht===void 0&&(ht=ft);var gt=Object.getOwnPropertyDescriptor(dt,ft);(!gt||("get"in gt?!dt.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return dt[ft]}}),Object.defineProperty(ct,ht,gt)}:function(ct,dt,ft,ht){ht===void 0&&(ht=ft),ct[ht]=dt[ft]}),s=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ct,dt){Object.defineProperty(ct,"default",{enumerable:!0,value:dt})}:function(ct,dt){ct.default=dt}),a=commonjsGlobal&&commonjsGlobal.__importStar||function(ct){if(ct&&ct.__esModule)return ct;var dt={};if(ct!=null)for(var ft in ct)ft!=="default"&&Object.prototype.hasOwnProperty.call(ct,ft)&&i(dt,ct,ft);return s(dt,ct),dt};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioNodeVAD=o.MicVAD=o.getDefaultRealTimeVADOptions=o.ort=o.DEFAULT_MODEL=void 0;const $=a(ortWeb_minExports),j=defaultModelFetcher$1,et=frameProcessor,rt=logging,st=messages,it=models,ot=resampler;o.DEFAULT_MODEL="legacy",o.ort=$;const tt="vad.worklet.bundle.min.js",_e="silero_vad_v5.onnx",nt="silero_vad_legacy.onnx",at=ct=>({...ct==="v5"?et.defaultV5FrameProcessorOptions:et.defaultLegacyFrameProcessorOptions,onFrameProcessed:(ft,ht)=>{},onVADMisfire:()=>{rt.log.debug("VAD misfire")},onSpeechStart:()=>{rt.log.debug("Detected speech start")},onSpeechEnd:()=>{rt.log.debug("Detected speech end")},onSpeechRealStart:()=>{rt.log.debug("Detected real speech start")},baseAssetPath:"https://cdn.jsdelivr.net/npm/@ricky0123/vad-web@latest/dist/",onnxWASMBasePath:"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.14.0/dist/",stream:void 0,ortConfig:void 0,model:ct,workletOptions:{}});o.getDefaultRealTimeVADOptions=at;class lt{static async new(dt={}){const ft={...(0,o.getDefaultRealTimeVADOptions)(dt.model??o.DEFAULT_MODEL),...dt};(0,et.validateOptions)(ft);let ht;ft.stream===void 0?ht=await navigator.mediaDevices.getUserMedia({audio:{...ft.additionalAudioConstraints,channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):ht=ft.stream;const gt=new AudioContext,yt=new MediaStreamAudioSourceNode(gt,{mediaStream:ht}),bt=await ut.new(gt,ft);return bt.receive(yt),new lt(ft,gt,ht,bt,yt)}constructor(dt,ft,ht,gt,yt,bt=!1){this.options=dt,this.audioContext=ft,this.stream=ht,this.audioNodeVAD=gt,this.sourceNode=yt,this.listening=bt,this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},this.destroy=()=>{this.listening&&this.pause(),this.options.stream===void 0&&this.stream.getTracks().forEach(vt=>vt.stop()),this.sourceNode.disconnect(),this.audioNodeVAD.destroy(),this.audioContext.close()},this.setOptions=vt=>{this.audioNodeVAD.setFrameProcessorOptions(vt)}}}o.MicVAD=lt;class ut{static async new(dt,ft={}){const ht={...(0,o.getDefaultRealTimeVADOptions)(ft.model??o.DEFAULT_MODEL),...ft};(0,et.validateOptions)(ht),o.ort.env.wasm.wasmPaths=ht.onnxWASMBasePath,ht.ortConfig!==void 0&&ht.ortConfig(o.ort);const gt=ht.model==="v5"?_e:nt,yt=ht.baseAssetPath+gt,bt=ht.model==="v5"?it.SileroV5.new:it.SileroLegacy.new;let vt;try{vt=await bt(o.ort,()=>(0,j.defaultModelFetcher)(yt))}catch(wt){throw console.error(`Encountered an error while loading model file ${yt}`),wt}const mt=new et.FrameProcessor(vt.process,vt.reset_state,{frameSamples:ht.frameSamples,positiveSpeechThreshold:ht.positiveSpeechThreshold,negativeSpeechThreshold:ht.negativeSpeechThreshold,redemptionFrames:ht.redemptionFrames,preSpeechPadFrames:ht.preSpeechPadFrames,minSpeechFrames:ht.minSpeechFrames,submitUserSpeechOnPause:ht.submitUserSpeechOnPause}),xt=new ut(dt,ht,mt);return await xt.setupAudioNode(),xt}constructor(dt,ft,ht){this.ctx=dt,this.options=ft,this.bufferIndex=0,this.pause=()=>{this.frameProcessor.pause(this.handleFrameProcessorEvent)},this.start=()=>{this.frameProcessor.resume()},this.receive=gt=>{gt.connect(this.audioNode)},this.processFrame=async gt=>{await this.frameProcessor.process(gt,this.handleFrameProcessorEvent)},this.handleFrameProcessorEvent=gt=>{switch(gt.msg){case st.Message.FrameProcessed:this.options.onFrameProcessed(gt.probs,gt.frame);break;case st.Message.SpeechStart:this.options.onSpeechStart();break;case st.Message.SpeechRealStart:this.options.onSpeechRealStart();break;case st.Message.VADMisfire:this.options.onVADMisfire();break;case st.Message.SpeechEnd:this.options.onSpeechEnd(gt.audio);break}},this.destroy=()=>{var gt;this.audioNode instanceof AudioWorkletNode&&this.audioNode.port.postMessage({message:st.Message.SpeechStop}),this.audioNode.disconnect(),(gt=this.gainNode)==null||gt.disconnect()},this.setFrameProcessorOptions=gt=>{this.frameProcessor.options={...this.frameProcessor.options,...gt}},this.frameProcessor=ht}async setupAudioNode(){if("audioWorklet"in this.ctx&&typeof AudioWorkletNode=="function")try{const gt=this.options.baseAssetPath+tt;await this.ctx.audioWorklet.addModule(gt);const yt=this.options.workletOptions??{};yt.processorOptions={...yt.processorOptions??{},frameSamples:this.options.frameSamples},this.audioNode=new AudioWorkletNode(this.ctx,"vad-helper-worklet",yt),this.audioNode.port.onmessage=async bt=>{var vt;switch((vt=bt.data)==null?void 0:vt.message){case st.Message.AudioFrame:let mt=bt.data.data;mt instanceof ArrayBuffer||(mt=new ArrayBuffer(bt.data.data.byteLength),new Uint8Array(mt).set(new Uint8Array(bt.data.data)));const xt=new Float32Array(mt);await this.processFrame(xt);break}};return}catch(gt){console.log("AudioWorklet setup failed, falling back to ScriptProcessor",gt)}this.resampler=new ot.Resampler({nativeSampleRate:this.ctx.sampleRate,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples??480});const ft=4096;this.audioNode=this.ctx.createScriptProcessor(ft,1,1),this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=0;let ht=!1;this.audioNode.onaudioprocess=async gt=>{if(!ht){ht=!0;try{const yt=gt.inputBuffer.getChannelData(0);if(gt.outputBuffer.getChannelData(0).fill(0),this.resampler){const vt=this.resampler.process(yt);for(const mt of vt)await this.processFrame(mt)}}catch(yt){console.error("Error processing audio:",yt)}finally{ht=!1}}},this.audioNode.connect(this.gainNode),this.gainNode.connect(this.ctx.destination)}}o.AudioNodeVAD=ut})(realTimeVad);(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.getDefaultRealTimeVADOptions=o.MicVAD=o.DEFAULT_MODEL=o.AudioNodeVAD=o.utils=o.NonRealTimeVAD=o.Message=o.FrameProcessor=o.defaultModelFetcher=o.baseAssetPath=void 0;var i=assetPath;Object.defineProperty(o,"baseAssetPath",{enumerable:!0,get:function(){return i.baseAssetPath}});var s=defaultModelFetcher$1;Object.defineProperty(o,"defaultModelFetcher",{enumerable:!0,get:function(){return s.defaultModelFetcher}});var a=frameProcessor;Object.defineProperty(o,"FrameProcessor",{enumerable:!0,get:function(){return a.FrameProcessor}});var $=messages;Object.defineProperty(o,"Message",{enumerable:!0,get:function(){return $.Message}});var j=nonRealTimeVad;Object.defineProperty(o,"NonRealTimeVAD",{enumerable:!0,get:function(){return j.NonRealTimeVAD}});const et=utils;o.utils={audioFileToArray:et.audioFileToArray,minFramesForTargetMS:et.minFramesForTargetMS,arrayBufferToBase64:et.arrayBufferToBase64,encodeWAV:et.encodeWAV};var rt=realTimeVad;Object.defineProperty(o,"AudioNodeVAD",{enumerable:!0,get:function(){return rt.AudioNodeVAD}}),Object.defineProperty(o,"DEFAULT_MODEL",{enumerable:!0,get:function(){return rt.DEFAULT_MODEL}}),Object.defineProperty(o,"MicVAD",{enumerable:!0,get:function(){return rt.MicVAD}}),Object.defineProperty(o,"getDefaultRealTimeVADOptions",{enumerable:!0,get:function(){return rt.getDefaultRealTimeVADOptions}})})(dist);class TaskQueue{constructor(i=3e3){qt(this,"queue",[]);qt(this,"running",!1);qt(this,"taskInterval");qt(this,"pendingComplete",!1);qt(this,"activeTasks",new Set);this.taskInterval=i}addTask(i){this.queue.push(i),this.runNextTask()}clearQueue(){this.queue=[],this.activeTasks.clear(),this.running=!1}async runNextTask(){if(this.running||this.queue.length===0){this.queue.length===0&&this.activeTasks.size===0&&this.pendingComplete&&(this.pendingComplete=!1,await new Promise(s=>setTimeout(s,this.taskInterval)));return}this.running=!0;const i=this.queue.shift();if(i){const s=i();this.activeTasks.add(s);try{await s,await new Promise(a=>setTimeout(a,this.taskInterval))}catch(a){console.error("Task Queue Error",a)}finally{this.activeTasks.delete(s),this.running=!1,this.runNextTask()}}}hasTask(){return this.queue.length>0||this.activeTasks.size>0||this.running}waitForCompletion(){return this.pendingComplete=!0,new Promise(i=>{const s=()=>{this.hasTask()?setTimeout(s,100):i()};s()})}}const audioTaskQueue=new TaskQueue(20),ScreenCaptureContext=reactExports.createContext(void 0);function ScreenCaptureProvider({children:o}){const{t:i}=useTranslation(),[s,a]=reactExports.useState(null),[$,j]=reactExports.useState(!1),[et,rt]=reactExports.useState(""),st=async()=>{try{let ot;if(window.electron){const _e={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:await window.electron.ipcRenderer.invoke("get-screen-capture"),minWidth:1280,maxWidth:1280,minHeight:720,maxHeight:720}},audio:!1};ot=await navigator.mediaDevices.getUserMedia(_e)}else{const tt={video:!0,audio:!1};ot=await navigator.mediaDevices.getDisplayMedia(tt)}a(ot),j(!0),rt("")}catch(ot){rt(i("error.failedStartScreenCapture")),toaster.create({title:`${i("error.failedStartScreenCapture")}: ${ot}`,type:"error",duration:2e3}),console.error(ot)}},it=()=>{s&&(s.getTracks().forEach(ot=>ot.stop()),a(null),j(!1))};return jsxRuntimeExports.jsx(ScreenCaptureContext.Provider,{value:{stream:s,isStreaming:$,error:et,startCapture:st,stopCapture:it},children:o})}const useScreenCaptureContext=()=>{const o=reactExports.useContext(ScreenCaptureContext);if(o===void 0)throw new Error("useScreenCaptureContext must be used within a ScreenCaptureProvider");return o};function useMediaCapture(){const{t:o}=useTranslation(),{stream:i}=useCamera(),{stream:s}=useScreenCaptureContext(),a=reactExports.useCallback(()=>{const st=localStorage.getItem(IMAGE_COMPRESSION_QUALITY_KEY);if(st){const it=parseFloat(st);if(!Number.isNaN(it)&&it>=.1&&it<=1)return it}return DEFAULT_IMAGE_COMPRESSION_QUALITY},[]),$=reactExports.useCallback(()=>{const st=localStorage.getItem(IMAGE_MAX_WIDTH_KEY);if(st){const it=parseInt(st,10);if(!Number.isNaN(it)&&it>=0)return it}return DEFAULT_IMAGE_MAX_WIDTH},[]),j=reactExports.useCallback(async(st,it)=>{if(!st)return console.warn(`No ${it} stream available`),null;const ot=st.getVideoTracks()[0];if(!ot)return console.warn(`No video track in ${it} stream`),null;const tt=new ImageCapture(ot);try{const _e=await tt.grabFrame(),nt=document.createElement("canvas");let{width:at,height:lt}=_e;const ut=$();ut>0&&at>ut&&(lt=ut/at*lt,at=ut),nt.width=at,nt.height=lt;const ct=nt.getContext("2d");if(!ct)return console.error("Failed to get canvas context"),null;ct.drawImage(_e,0,0,at,lt);const dt=a();return nt.toDataURL("image/jpeg",dt)}catch(_e){return console.error(`Error capturing ${it} frame:`,_e),toaster.create({title:`${o("error.failedCapture",{source:it})}: ${_e}`,type:"error",duration:2e3}),null}},[o,a,$]),et=reactExports.useCallback(async st=>{const ot=await j(st==="camera"?i:s,st);return ot?{source:st,data:ot,mime_type:"image/jpeg"}:null},[i,s,j]);return{captureAllMedia:reactExports.useCallback(async()=>{const st=[];if(i){const it=await et("camera");it&&st.push(it)}if(s){const it=await et("screen");it&&st.push(it)}return console.log("images: ",st),st},[i,s,et]),captureCamera:()=>et("camera"),captureScreen:()=>et("screen")}}function float32ToPCM16(o){const i=new Int16Array(o.length);for(let s=0;s<o.length;s+=1){let a=o[s];a>1&&(a=1),a<-1&&(a=-1),i[s]=a<0?a*32768:a*32767}return i}function pcm16ToBase64(o){const i=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);let s="";const a=32768;for(let $=0;$<i.length;$+=a){const j=i.subarray($,$+a);s+=String.fromCharCode(...j)}return btoa(s)}const isAudioDebugEnabled$2=()=>{try{return localStorage.getItem("debugAudio")==="1"}catch{return!1}};function useSendAudio(){const{sendMessage:o}=useWebSocket(),{captureAllMedia:i}=useMediaCapture();return{sendAudioPartition:reactExports.useCallback(async(a,$,j)=>{const st=isAudioDebugEnabled$2();st&&console.info("[audio] send mic start",{frames:a.length,sampleRate:$,channels:j});for(let ot=0;ot<a.length;ot+=4096){const tt=Math.min(ot+4096,a.length),_e=a.slice(ot,tt),nt=float32ToPCM16(_e),at=pcm16ToBase64(nt);o({type:"mic-audio-data",audio_pcm:at,audio_format:"pcm16",audio_sample_rate:$,audio_channels:j})}await new Promise(ot=>setTimeout(ot,150));const it=await i();o({type:"mic-audio-end",images:it}),st&&console.info("[audio] send mic end")},[o,i])}}var AiStateEnum=(o=>(o.IDLE="idle",o.THINKING_SPEAKING="thinking-speaking",o.INTERRUPTED="interrupted",o.LOADING="loading",o.LISTENING="listening",o.WAITING="waiting",o))(AiStateEnum||{});const initialState="loading",AiStateContext=reactExports.createContext(null);function AiStateProvider({children:o}){const[i,s]=reactExports.useState(initialState),[a,$]=reactExports.useState(!1),j=reactExports.useRef(null),et=reactExports.useCallback(ot=>{const tt=typeof ot=="function"?ot(i):ot;tt==="waiting"?i!=="thinking-speaking"&&(s(tt),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{s("idle"),j.current=null},2e3)):(s(tt),j.current&&(clearTimeout(j.current),j.current=null))},[i]),rt=reactExports.useMemo(()=>({isIdle:i==="idle",isThinkingSpeaking:i==="thinking-speaking",isInterrupted:i==="interrupted",isLoading:i==="loading",isListening:i==="listening",isWaiting:i==="waiting"}),[i]),st=reactExports.useCallback(()=>{et("idle")},[et]);reactExports.useEffect(()=>()=>{j.current&&clearTimeout(j.current)},[]);const it=reactExports.useMemo(()=>({aiState:i,setAiState:et,backendSynthComplete:a,setBackendSynthComplete:$,...rt,resetState:st}),[i,et,a,rt,st]);return jsxRuntimeExports.jsx(AiStateContext.Provider,{value:it,children:o})}function useAiState(){const o=reactExports.useContext(AiStateContext);if(!o)throw new Error("useAiState must be used within a AiStateProvider");return o}class AudioManager{constructor(){qt(this,"currentAudio",null);qt(this,"currentModel",null)}setCurrentAudio(i,s){this.currentAudio=i,this.currentModel=s}stopCurrentAudioAndLipSync(){var i;if(this.currentAudio){console.log("[AudioManager] Stopping current audio and lip sync");const s=this.currentAudio;"pause"in s&&typeof s.pause=="function"?(s.pause(),s.src="",(i=s.load)==null||i.call(s)):"stop"in s&&typeof s.stop=="function"&&s.stop();const a=this.currentModel;if(a&&a._wavFileHandler)try{a._wavFileHandler.releasePcmData(),console.log("[AudioManager] Called _wavFileHandler.releasePcmData()"),a._wavFileHandler._lastRms=0,a._wavFileHandler._sampleOffset=0,a._wavFileHandler._userTimeSeconds=0,console.log("[AudioManager] Also reset _lastRms, _sampleOffset, _userTimeSeconds as fallback")}catch($){console.error("[AudioManager] Error stopping/resetting wavFileHandler:",$)}else a?console.warn("[AudioManager] Current model does not have _wavFileHandler to stop/reset."):console.log("[AudioManager] No associated model found to stop lip sync.");this.currentAudio=null,this.currentModel=null}else console.log("[AudioManager] No current audio playing to stop.")}clearCurrentAudio(i){this.currentAudio===i&&(this.currentAudio=null,this.currentModel=null)}hasCurrentAudio(){return this.currentAudio!==null}}const audioManager=new AudioManager,DEFAULT_VAD_SETTINGS={positiveSpeechThreshold:50,negativeSpeechThreshold:35,redemptionFrames:35},VAD_OUTPUT_SAMPLE_RATE=16e3,VAD_OUTPUT_CHANNELS=1,isAudioDebugEnabled$1=()=>{try{return localStorage.getItem("debugAudio")==="1"}catch{return!1}},getDefaultBoolean=(o,i)=>i,getDefaultVADState=()=>{const i=!(typeof window<"u"&&window.api!==void 0),s=getDefaultBoolean(void 0,i),a=getDefaultBoolean(void 0,!1);return{micOn:s,autoStopMic:!1,autoStartMicOn:!1,autoStartMicOnConvEnd:a,voiceInterruptEnabled:!1}},DEFAULT_VAD_STATE=getDefaultVADState(),VADContext=reactExports.createContext(null);function VADProvider({children:o}){const{t:i}=useTranslation(),s=reactExports.useRef(null),a=reactExports.useRef(0),$=reactExports.useRef("idle"),[j,et]=useLocalStorage("micOn",DEFAULT_VAD_STATE.micOn),rt=reactExports.useRef(DEFAULT_VAD_STATE.autoStopMic),[st,it]=useLocalStorage("autoStopMic",DEFAULT_VAD_STATE.autoStopMic),[ot,tt]=useLocalStorage("vadSettings",DEFAULT_VAD_SETTINGS),[_e,nt]=useLocalStorage("autoStartMicOn",DEFAULT_VAD_STATE.autoStartMicOn),at=reactExports.useRef(DEFAULT_VAD_STATE.autoStartMicOn),[lt,ut]=useLocalStorage("autoStartMicOnConvEnd",DEFAULT_VAD_STATE.autoStartMicOnConvEnd),ct=reactExports.useRef(DEFAULT_VAD_STATE.autoStartMicOnConvEnd),[dt,ft]=useLocalStorage("voiceInterruptEnabled",DEFAULT_VAD_STATE.voiceInterruptEnabled),ht=reactExports.useRef(!1),[gt,yt]=useLocalStorage("autoStartOnLoad",!0),bt=reactExports.useRef(!0),[,vt]=reactExports.useReducer(dr=>dr+1,0),{interrupt:mt}=useInterrupt(),{sendAudioPartition:xt}=useSendAudio(),{setSubtitleText:wt}=reactExports.useContext(SubtitleContext),{aiState:Ct,setAiState:kt}=reactExports.useContext(AiStateContext),It=reactExports.useRef(mt),Pt=reactExports.useRef(xt),St=reactExports.useRef(Ct),Ot=reactExports.useRef(wt),At=reactExports.useRef(kt),$t=reactExports.useRef(!1),jt=reactExports.useRef(!1),zt=reactExports.useRef(!1),Xt=reactExports.useRef(null);reactExports.useEffect(()=>{St.current=Ct},[Ct]),reactExports.useEffect(()=>{It.current=mt},[mt]),reactExports.useEffect(()=>{Pt.current=xt},[xt]),reactExports.useEffect(()=>{Ot.current=wt},[wt]),reactExports.useEffect(()=>{At.current=kt},[kt]),reactExports.useEffect(()=>{rt.current=st},[st]),reactExports.useEffect(()=>{at.current=_e},[_e]),reactExports.useEffect(()=>{ct.current=lt},[lt]),reactExports.useEffect(()=>{ht.current=dt},[dt]),reactExports.useEffect(()=>{bt.current=gt},[gt]);const tr=reactExports.useCallback(dr=>{a.current=dr,vt()},[]),ir=reactExports.useCallback(()=>{if(isAudioDebugEnabled$1()&&console.info("[vad] speech start",{micOn:j,voiceInterruptEnabled:ht.current,aiState:St.current}),console.log("Speech started - saving current state"),St.current==="thinking-speaking"&&!ht.current&&audioManager.hasCurrentAudio()){console.log("Voice interruption disabled; ignore speech during AI response"),$t.current=!1;return}$.current=St.current,$t.current=!0},[]),sr=reactExports.useCallback(()=>{$t.current&&(isAudioDebugEnabled$1()&&console.info("[vad] speech real start",{micOn:j,voiceInterruptEnabled:ht.current,aiState:St.current}),console.log("Real speech confirmed - checking if need to interrupt"),$.current==="thinking-speaking"&&ht.current&&audioManager.hasCurrentAudio()&&(console.log("Interrupting AI speech due to user speaking"),It.current()),At.current("listening"))},[]),Jt=reactExports.useCallback(dr=>{dr.isSpeech>a.current&&tr(dr.isSpeech)},[]),rr=reactExports.useCallback(dr=>{$t.current&&(isAudioDebugEnabled$1()&&console.info("[vad] speech end",{frames:dr.length,sampleRate:VAD_OUTPUT_SAMPLE_RATE,channels:VAD_OUTPUT_CHANNELS,micOn:j}),console.log("Speech ended"),audioTaskQueue.clearQueue(),rt.current?cr():console.log("Auto stop mic is OFF, keeping mic active"),tr(0),Pt.current(dr,VAD_OUTPUT_SAMPLE_RATE,VAD_OUTPUT_CHANNELS),$t.current=!1,At.current("thinking-speaking"))},[]),Yt=reactExports.useCallback(()=>{$t.current&&(isAudioDebugEnabled$1()&&console.info("[vad] misfire"),console.log("VAD misfire detected"),tr(0),$t.current=!1,At.current($.current),Ot.current(i("error.vadMisfire")))},[i]),Kt=reactExports.useCallback(dr=>{tt(dr),s.current&&(cr(),setTimeout(()=>{Bt()},100))},[]),er=async()=>{isAudioDebugEnabled$1()&&console.info("[vad] init");const dr=await dist.MicVAD.new({model:"v5",preSpeechPadFrames:20,positiveSpeechThreshold:ot.positiveSpeechThreshold/100,negativeSpeechThreshold:ot.negativeSpeechThreshold/100,redemptionFrames:ot.redemptionFrames,baseAssetPath:"./libs/",onnxWASMBasePath:"./libs/",onSpeechStart:ir,onSpeechRealStart:sr,onFrameProcessed:Jt,onSpeechEnd:rr,onVADMisfire:Yt});s.current=dr,dr.start()},Bt=reactExports.useCallback(async(dr="user")=>{if(!zt.current){zt.current=!0;try{isAudioDebugEnabled$1()&&console.info("[mic] start",{source:dr}),s.current?(console.log("Starting VAD"),s.current.start()):(console.log("Initializing VAD"),await er()),et(!0),dr==="user"&&yt(!0),Xt.current&&(window.removeEventListener("pointerdown",Xt.current),window.removeEventListener("keydown",Xt.current),Xt.current=null)}catch(Ar){console.error("Failed to start VAD:",Ar);const jr=(Ar==null?void 0:Ar.name)??"",Pr=String(Ar),Dr=jr==="NotAllowedError"||jr==="SecurityError"||/NotAllowedError|Permission denied/i.test(Pr);dr==="auto"&&Dr?toaster.create({title:i("error.micAutoStartBlocked"),type:"warning",duration:3e3}):(et(!1),toaster.create({title:`${i("error.failedStartVAD")}: ${Ar}`,type:"error",duration:2e3}));return}finally{zt.current=!1}}},[i]);reactExports.useEffect(()=>{!jt.current&&(j||bt.current)&&(jt.current=!0,Bt("auto"))},[j,Bt]),reactExports.useEffect(()=>{if(!j||s.current)return;const dr=()=>{Bt("user")};return Xt.current=dr,window.addEventListener("pointerdown",dr,{once:!0}),window.addEventListener("keydown",dr,{once:!0}),()=>{window.removeEventListener("pointerdown",dr),window.removeEventListener("keydown",dr),Xt.current===dr&&(Xt.current=null)}},[j,Bt]);const cr=reactExports.useCallback((dr="system")=>{isAudioDebugEnabled$1()&&console.info("[mic] stop",{source:dr}),console.log("Stopping VAD"),s.current?(s.current.pause(),s.current.destroy(),s.current=null,console.log("VAD stopped and destroyed successfully"),tr(0)):console.log("VAD instance not found"),et(!1),dr==="user"&&yt(!1),$t.current=!1},[]),ar=reactExports.useCallback(dr=>{rt.current=dr,it(dr),vt()},[]),pr=reactExports.useCallback(dr=>{at.current=dr,nt(dr),vt()},[]),Rr=reactExports.useCallback(dr=>{ct.current=dr,ut(dr),vt()},[]),kr=reactExports.useCallback(dr=>{ht.current=dr,ft(dr),vt()},[]),Fr=reactExports.useCallback(dr=>{bt.current=dr,yt(dr),vt()},[]),Vr=reactExports.useMemo(()=>({autoStopMic:rt.current,micOn:j,setMicOn:et,setAutoStopMic:ar,startMic:Bt,stopMic:cr,previousTriggeredProbability:a.current,setPreviousTriggeredProbability:tr,settings:ot,updateSettings:Kt,autoStartMicOn:at.current,setAutoStartMicOn:pr,autoStartMicOnConvEnd:ct.current,setAutoStartMicOnConvEnd:Rr,voiceInterruptEnabled:ht.current,setVoiceInterruptEnabled:kr,autoStartOnLoad:bt.current,setAutoStartOnLoad:Fr}),[j,Bt,cr,ot,Kt,dt,kr,Fr]);return jsxRuntimeExports.jsx(VADContext.Provider,{value:Vr,children:o})}function useVAD(){const o=reactExports.useContext(VADContext);if(!o)throw new Error("useVAD must be used within a VADProvider");return o}function useMicToggle(){const{startMic:o,stopMic:i,micOn:s}=useVAD(),{aiState:a,setAiState:$}=useAiState();return{handleMicToggle:async()=>{s?(i("user"),a==="listening"&&$("idle")):await o("user")},micOn:s}}const createStoreImpl=o=>{let i;const s=new Set,a=(it,ot)=>{const tt=typeof it=="function"?it(i):it;if(!Object.is(tt,i)){const _e=i;i=ot??(typeof tt!="object"||tt===null)?tt:Object.assign({},i,tt),s.forEach(nt=>nt(i,_e))}},$=()=>i,rt={setState:a,getState:$,getInitialState:()=>st,subscribe:it=>(s.add(it),()=>s.delete(it))},st=i=o(a,$,rt);return rt},createStore=o=>o?createStoreImpl(o):createStoreImpl,identity=o=>o;function useStore(o,i=identity){const s=React.useSyncExternalStore(o.subscribe,()=>i(o.getState()),()=>i(o.getInitialState()));return React.useDebugValue(s),s}const createImpl=o=>{const i=createStore(o),s=a=>useStore(i,a);return Object.assign(s,i),s},create=o=>o?createImpl(o):createImpl,useForceIgnoreMouseStore=create(o=>({forceIgnoreMouse:!1,setForceIgnoreMouse:i=>o({forceIgnoreMouse:i})}));function useForceIgnoreMouse(){const{forceIgnoreMouse:o,setForceIgnoreMouse:i}=useForceIgnoreMouseStore();return{forceIgnoreMouse:o,setForceIgnoreMouse:i}}const ModeContext=reactExports.createContext(void 0),ModeProvider=({children:o})=>{const i=window.api!==void 0,s="window",[a,$]=reactExports.useState(s),j=et=>{if(et==="pet"&&!i){toaster.create({title:"Pet mode unavailable",description:"Pet mode is only available in the desktop application",type:"info",duration:2e3});return}i&&window.api?window.api.setMode(et):$(et)};return reactExports.useEffect(()=>{if(i&&window.electron){const et=(st,it)=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{var ot;(ot=window.electron)==null||ot.ipcRenderer.send("renderer-ready-for-mode-change",it)})})},rt=(st,it)=>{$(it),requestAnimationFrame(()=>{requestAnimationFrame(()=>{var ot;(ot=window.electron)==null||ot.ipcRenderer.send("mode-change-rendered")})})};return window.electron.ipcRenderer.on("pre-mode-changed",et),window.electron.ipcRenderer.on("mode-changed",rt),()=>{window.electron&&(window.electron.ipcRenderer.removeListener("pre-mode-changed",et),window.electron.ipcRenderer.removeListener("mode-changed",rt))}}},[i]),reactExports.useEffect(()=>{},[s,i]),jsxRuntimeExports.jsx(ModeContext.Provider,{value:{mode:a,setMode:j,isElectron:i},children:o})},useMode=()=>{const o=reactExports.useContext(ModeContext);if(o===void 0)throw new Error("useMode must be used within a ModeProvider");return o};function useIpcHandlers(){const{handleMicToggle:o}=useMicToggle(),{interrupt:i}=useInterrupt(),{modelInfo:s,setModelInfo:a}=useLive2DConfig(),{switchCharacter:$}=useSwitchCharacter(),{setForceIgnoreMouse:j}=useForceIgnoreMouse(),{mode:et}=useMode(),rt=et==="pet",st=reactExports.useCallback(()=>{o()},[o]),it=reactExports.useCallback(()=>{i()},[i]),ot=reactExports.useCallback(()=>{s&&a({...s,scrollToResize:!s.scrollToResize})},[s,a]),tt=reactExports.useCallback((at,lt)=>{$(lt)},[$]),_e=reactExports.useCallback((at,lt)=>{console.log("Force ignore mouse changed:",lt),j(lt)},[j]),nt=reactExports.useCallback(()=>{window.api.toggleForceIgnoreMouse()},[]);reactExports.useEffect(()=>{var at;if((at=window.electron)!=null&&at.ipcRenderer&&rt)return window.electron.ipcRenderer.removeAllListeners("mic-toggle"),window.electron.ipcRenderer.removeAllListeners("interrupt"),window.electron.ipcRenderer.removeAllListeners("toggle-scroll-to-resize"),window.electron.ipcRenderer.removeAllListeners("switch-character"),window.electron.ipcRenderer.removeAllListeners("toggle-force-ignore-mouse"),window.electron.ipcRenderer.removeAllListeners("force-ignore-mouse-changed"),window.electron.ipcRenderer.on("mic-toggle",st),window.electron.ipcRenderer.on("interrupt",it),window.electron.ipcRenderer.on("toggle-scroll-to-resize",ot),window.electron.ipcRenderer.on("switch-character",tt),window.electron.ipcRenderer.on("toggle-force-ignore-mouse",nt),window.electron.ipcRenderer.on("force-ignore-mouse-changed",_e),()=>{var lt,ut,ct,dt,ft,ht;(lt=window.electron)==null||lt.ipcRenderer.removeAllListeners("mic-toggle"),(ut=window.electron)==null||ut.ipcRenderer.removeAllListeners("interrupt"),(ct=window.electron)==null||ct.ipcRenderer.removeAllListeners("toggle-scroll-to-resize"),(dt=window.electron)==null||dt.ipcRenderer.removeAllListeners("switch-character"),(ft=window.electron)==null||ft.ipcRenderer.removeAllListeners("toggle-force-ignore-mouse"),(ht=window.electron)==null||ht.ipcRenderer.removeAllListeners("force-ignore-mouse-changed")}},[st,it,ot,tt,nt,_e,rt])}const DEFAULT_HISTORY={messages:[],historyList:[],currentHistoryUid:null,fullResponse:""},ChatHistoryContext=reactExports.createContext(null);function ChatHistoryProvider({children:o}){const[i,s]=reactExports.useState(DEFAULT_HISTORY.messages),[a,$]=reactExports.useState(DEFAULT_HISTORY.historyList),[j,et]=reactExports.useState(DEFAULT_HISTORY.currentHistoryUid),[rt,st]=reactExports.useState(DEFAULT_HISTORY.fullResponse),[it,ot]=reactExports.useState(!1),tt=reactExports.useCallback(ft=>{const ht={id:Date.now().toString(),content:ft,role:"human",type:"text",timestamp:new Date().toISOString()};s(gt=>[...gt,ht])},[]),_e=reactExports.useCallback((ft,ht,gt)=>{s(yt=>{const bt=yt[yt.length-1];return it||!bt||bt.role!=="ai"||bt.type!=="text"?(ot(!1),[...yt,{id:Date.now().toString(),content:ft,role:"ai",type:"text",timestamp:new Date().toISOString(),name:ht,avatar:gt}]):[...yt.slice(0,-1),{...bt,content:bt.content+ft,timestamp:new Date().toISOString()}]})},[it,ot]),nt=reactExports.useCallback((ft,ht,gt)=>{s(yt=>{const bt=yt[yt.length-1];return bt&&bt.role==="ai"&&bt.type!=="tool_call_status"?[...yt.slice(0,-1),{...bt,content:ft,name:ht??bt.name,avatar:gt??bt.avatar,timestamp:new Date().toISOString()}]:[...yt,{id:Date.now().toString(),content:ft,role:"ai",type:"text",timestamp:new Date().toISOString(),name:ht,avatar:gt}]})},[]),at=reactExports.useCallback(ft=>{if(!ft.tool_id||!ft.tool_name||!ft.status||!ft.timestamp){console.error("Incomplete tool message data received:",ft);return}s(ht=>{const gt=ht.findIndex(yt=>yt.type==="tool_call_status"&&yt.tool_id===ft.tool_id);if(gt!==-1){const yt=[...ht],bt=yt[gt];return yt[gt]={...bt,status:ft.status,name:ft.name||bt.name,content:ft.content||bt.content,timestamp:ft.timestamp},yt}else{const yt={id:ft.tool_id,role:"ai",type:"tool_call_status",name:ft.name||"",tool_id:ft.tool_id,tool_name:ft.tool_name,status:ft.status,content:ft.content||"",timestamp:ft.timestamp};return[...ht,yt]}})},[]),lt=reactExports.useCallback((ft,ht)=>{ft||console.error("updateHistoryList: uid is null"),j||console.error("updateHistoryList: currentHistoryUid is null"),$(gt=>gt.map(yt=>yt.uid===ft?{...yt,latest_message:ht?{content:ht.content,role:ht.role,timestamp:ht.timestamp}:null,timestamp:(ht==null?void 0:ht.timestamp)||yt.timestamp}:yt))},[j]),ut=reactExports.useCallback(ft=>{st(ht=>ht+(ft||""))},[]),ct=reactExports.useCallback(()=>{st(DEFAULT_HISTORY.fullResponse)},[]),dt=reactExports.useMemo(()=>({messages:i,historyList:a,currentHistoryUid:j,appendHumanMessage:tt,appendAIMessage:_e,upsertAIMessage:nt,appendOrUpdateToolCallMessage:at,setMessages:s,setHistoryList:$,setCurrentHistoryUid:et,updateHistoryList:lt,fullResponse:rt,setFullResponse:st,appendResponse:ut,clearResponse:ct,setForceNewMessage:ot}),[i,a,j,tt,_e,nt,at,lt,rt,ut,ct,ot]);return jsxRuntimeExports.jsx(ChatHistoryContext.Provider,{value:dt,children:o})}function useChatHistory(){const o=reactExports.useContext(ChatHistoryContext);if(!o)throw new Error("useChatHistory must be used within a ChatHistoryProvider");return o}class PcmPlayer{constructor(){qt(this,"context");qt(this,"scheduledTime");qt(this,"activeSources");qt(this,"latencySeconds",.02);qt(this,"fadeMs",5);const i=window.AudioContext||window.webkitAudioContext;this.context=new i,this.scheduledTime=this.context.currentTime,this.activeSources=new Set}async enqueue(i,s,a,$){if(!await this.ensureRunning())return{pcm:new Int16Array(0),started:!1};const et=this.decodeBase64ToInt16(i),rt=this.toAudioBuffer(et,s,a),st=this.context.createBufferSource();st.buffer=rt,st.connect(this.context.destination);const it=Math.max(this.scheduledTime,this.context.currentTime+this.latencySeconds);return st.start(it),this.scheduledTime=it+rt.duration,this.activeSources.add(st),st.onended=()=>{this.activeSources.delete(st),$==null||$()},{pcm:et,started:!0}}stopAll(){this.activeSources.forEach(i=>{try{i.stop()}catch(s){console.warn("[PcmPlayer] Failed to stop source:",s)}}),this.activeSources.clear(),this.scheduledTime=this.context.currentTime}makeWavBlob(i,s,a){const j=a*2,et=s*j,rt=i.length*2,st=new ArrayBuffer(44+rt),it=new DataView(st),ot=(_e,nt)=>{for(let at=0;at<nt.length;at+=1)it.setUint8(_e+at,nt.charCodeAt(at))};ot(0,"RIFF"),it.setUint32(4,36+rt,!0),ot(8,"WAVE"),ot(12,"fmt "),it.setUint32(16,16,!0),it.setUint16(20,1,!0),it.setUint16(22,a,!0),it.setUint32(24,s,!0),it.setUint32(28,et,!0),it.setUint16(32,j,!0),it.setUint16(34,16,!0),ot(36,"data"),it.setUint32(40,rt,!0);let tt=44;for(let _e=0;_e<i.length;_e+=1)it.setInt16(tt,i[_e],!0),tt+=2;return new Blob([it],{type:"audio/wav"})}async ensureRunning(){if(this.context.state==="running")return!0;try{await this.context.resume()}catch(i){console.warn("[PcmPlayer] AudioContext resume failed:",i)}return this.context.state==="running"}decodeBase64ToInt16(i){const s=atob(i),a=s.length,$=new ArrayBuffer(a),j=new Uint8Array($);for(let et=0;et<a;et+=1)j[et]=s.charCodeAt(et);return new Int16Array($)}toAudioBuffer(i,s,a){const $=Math.floor(i.length/a),j=this.context.createBuffer(a,$,s),et=Math.min(Math.floor($/2),Math.max(1,Math.floor(s*this.fadeMs/1e3)));for(let rt=0;rt<a;rt+=1){const st=j.getChannelData(rt);let it=rt;for(let ot=0;ot<$;ot+=1)st[ot]=i[it]/32768,it+=a;if(et>0){for(let ot=0;ot<et;ot+=1)st[ot]*=ot/et;for(let ot=0;ot<et;ot+=1){const tt=$-1-ot;st[tt]*=ot/et}}}return j}}const pcmPlayer=new PcmPlayer,useLive2DExpression=()=>{const o=reactExports.useCallback((s,a,$)=>{try{if(typeof s=="string")a.setExpression(s);else if(typeof s=="number"){const j=a.getExpressionName(s);j&&a.setExpression(j)}$&&console.log($)}catch(j){console.error("Failed to set expression:",j)}},[]),i=reactExports.useCallback((s,a)=>{if(s)try{const $=s.getModel();if(!$||!$._modelSetting){console.log("Model or model settings not loaded yet, skipping expression reset");return}if((a==null?void 0:a.defaultEmotion)!==void 0)o(a.defaultEmotion,s,`Reset expression to default: ${a.defaultEmotion}`);else if(s.getExpressionCount()>0){const et=s.getExpressionName(0);et&&o(et,s)}}catch($){console.log("Failed to reset expression:",$)}},[o]);return{setExpression:o,resetExpression:i}},In=class In{constructor(i=0){i<1?(this._ptr=[],this._capacity=0,this._size=0):(this._ptr=new Array(i),this._capacity=i,this._size=0)}at(i){return this._ptr[i]}set(i,s){this._ptr[i]=s}get(i=0){const s=new Array;for(let a=i;a<this._size;a++)s.push(this._ptr[a]);return s}pushBack(i){this._size>=this._capacity&&this.prepareCapacity(this._capacity==0?In.DefaultSize:this._capacity*2),this._ptr[this._size++]=i}clear(){this._ptr.length=0,this._size=0}getSize(){return this._size}assign(i,s){this._size<i&&this.prepareCapacity(i);for(let $=0;$<i;$++)this._ptr[$]=s;this._size=i}resize(i,s=null){this.updateSize(i,s,!0)}updateSize(i,s=null,a=!0){if(this._size<i)if(this.prepareCapacity(i),a)for(let j=this._size;j<i;j++)typeof s=="function"?this._ptr[j]=JSON.parse(JSON.stringify(new s)):this._ptr[j]=s;else for(let j=this._size;j<i;j++)this._ptr[j]=s;else{const j=this._size-i;this._ptr.splice(this._size-j,j)}this._size=i}insert(i,s,a){let $=i._index;const j=s._index,et=a._index,rt=et-j;this.prepareCapacity(this._size+rt);const st=this._size-$;if(st>0)for(let it=0;it<st;it++)this._ptr.splice($+it,0,null);for(let it=j;it<et;it++,$++)this._ptr[$]=s._vector._ptr[it];this._size=this._size+rt}remove(i){return i<0||this._size<=i?!1:(this._ptr.splice(i,1),--this._size,!0)}erase(i){const s=i._index;return s<0||this._size<=s?i:(this._ptr.splice(s,1),--this._size,new iterator$1(this,s))}prepareCapacity(i){i>this._capacity&&(this._capacity==0?(this._ptr=new Array(i),this._capacity=i):(this._ptr.length=i,this._capacity=i))}begin(){return this._size==0?this.end():new iterator$1(this,0)}end(){return new iterator$1(this,this._size)}getOffset(i){const s=new In;return s._ptr=this.get(i),s._size=this.get(i).length,s._capacity=this.get(i).length,s}};In.DefaultSize=10;let csmVector=In,iterator$1=class Un{constructor(i,s){this._vector=i??null,this._index=s??0}set(i){return this._index=i._index,this._vector=i._vector,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new Un(this._vector,this._index++)}decrement(){return new Un(this._vector,this._index--)}ptr(){return this._vector._ptr[this._index]}substitution(i){return this._index=i._index,this._vector=i._vector,this}notEqual(i){return this._index!=i._index||this._vector!=i._vector}};var Live2DCubismFramework$E;(o=>{o.csmVector=csmVector,o.iterator=iterator$1})(Live2DCubismFramework$E||(Live2DCubismFramework$E={}));class csmString{append(i,s){return this.s+=s!==void 0?i.substr(0,s):i,this}expansion(i,s){for(let a=0;a<i;a++)this.append(s);return this}getBytes(){return encodeURIComponent(this.s).replace(/%../g,"x").length}getLength(){return this.s.length}isLess(i){return this.s<i.s}isGreat(i){return this.s>i.s}isEqual(i){return this.s==i}isEmpty(){return this.s.length==0}constructor(i){this.s=i}}var Live2DCubismFramework$D;(o=>{o.csmString=csmString})(Live2DCubismFramework$D||(Live2DCubismFramework$D={}));class CubismId{static createIdInternal(i){return new CubismId(i)}getString(){return this._id}isEqual(i){return typeof i=="string"?this._id.isEqual(i):i instanceof csmString?this._id.isEqual(i.s):i instanceof CubismId?this._id.isEqual(i._id.s):!1}isNotEqual(i){return typeof i=="string"?!this._id.isEqual(i):i instanceof csmString?!this._id.isEqual(i.s):i instanceof CubismId?!this._id.isEqual(i._id.s):!1}constructor(i){if(typeof i=="string"){this._id=new csmString(i);return}this._id=i}}var Live2DCubismFramework$C;(o=>{o.CubismId=CubismId})(Live2DCubismFramework$C||(Live2DCubismFramework$C={}));class CubismIdManager{constructor(){this._ids=new csmVector}release(){for(let i=0;i<this._ids.getSize();++i)this._ids.set(i,void 0);this._ids=null}registerIds(i){for(let s=0;s<i.length;s++)this.registerId(i[s])}registerId(i){let s=null;if(typeof i=="string"){if((s=this.findId(i))!=null)return s;s=CubismId.createIdInternal(i),this._ids.pushBack(s)}else return this.registerId(i.s);return s}getId(i){return this.registerId(i)}isExist(i){return typeof i=="string"?this.findId(i)!=null:this.isExist(i.s)}findId(i){for(let s=0;s<this._ids.getSize();++s)if(this._ids.at(s).getString().isEqual(i))return this._ids.at(s);return null}}var Live2DCubismFramework$B;(o=>{o.CubismIdManager=CubismIdManager})(Live2DCubismFramework$B||(Live2DCubismFramework$B={}));class CubismMatrix44{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(i,s,a){const $=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),j=4;for(let et=0;et<j;++et)for(let rt=0;rt<j;++rt)for(let st=0;st<j;++st)$[rt+et*4]+=i[st+et*4]*s[rt+st*4];for(let et=0;et<16;++et)a[et]=$[et]}loadIdentity(){const i=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(i)}setMatrix(i){for(let s=0;s<16;++s)this._tr[s]=i[s]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(i){return this._tr[0]*i+this._tr[12]}transformY(i){return this._tr[5]*i+this._tr[13]}invertTransformX(i){return(i-this._tr[12])/this._tr[0]}invertTransformY(i){return(i-this._tr[13])/this._tr[5]}translateRelative(i,s){const a=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,i,s,0,1]);CubismMatrix44.multiply(a,this._tr,this._tr)}translate(i,s){this._tr[12]=i,this._tr[13]=s}translateX(i){this._tr[12]=i}translateY(i){this._tr[13]=i}scaleRelative(i,s){const a=new Float32Array([i,0,0,0,0,s,0,0,0,0,1,0,0,0,0,1]);CubismMatrix44.multiply(a,this._tr,this._tr)}scale(i,s){this._tr[0]=i,this._tr[5]=s}multiplyByMatrix(i){CubismMatrix44.multiply(i.getArray(),this._tr,this._tr)}clone(){const i=new CubismMatrix44;for(let s=0;s<this._tr.length;s++)i._tr[s]=this._tr[s];return i}}var Live2DCubismFramework$A;(o=>{o.CubismMatrix44=CubismMatrix44})(Live2DCubismFramework$A||(Live2DCubismFramework$A={}));class csmRect{constructor(i,s,a,$){this.x=i,this.y=s,this.width=a,this.height=$}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(i){this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height}expand(i,s){this.x-=i,this.y-=s,this.width+=i*2,this.height+=s*2}}var Live2DCubismFramework$z;(o=>{o.csmRect=csmRect})(Live2DCubismFramework$z||(Live2DCubismFramework$z={}));class CubismRenderer{static create(){return null}static delete(i){}initialize(i){this._model=i}drawModel(){this.getModel()!=null&&(this.saveProfile(),this.doDrawModel(),this.restoreProfile())}setMvpMatrix(i){this._mvpMatrix4x4.setMatrix(i.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(i,s,a,$){i<0?i=0:i>1&&(i=1),s<0?s=0:s>1&&(s=1),a<0?a=0:a>1&&(a=1),$<0?$=0:$>1&&($=1),this._modelColor.r=i,this._modelColor.g=s,this._modelColor.b=a,this._modelColor.a=$}getModelColor(){return JSON.parse(JSON.stringify(this._modelColor))}getModelColorWithOpacity(i){const s=this.getModelColor();return s.a*=i,this.isPremultipliedAlpha()&&(s.r*=s.a,s.g*=s.a,s.b*=s.a),s}setIsPremultipliedAlpha(i){this._isPremultipliedAlpha=i}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(i){this._isCulling=i}isCulling(){return this._isCulling}setAnisotropy(i){this._anisotropy=i}getAnisotropy(){return this._anisotropy}getModel(){return this._model}useHighPrecisionMask(i){this._useHighPrecisionMask=i}isUsingHighPrecisionMask(){return this._useHighPrecisionMask}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisotropy=0,this._model=null,this._modelColor=new CubismTextureColor,this._useHighPrecisionMask=!1,this._mvpMatrix4x4=new CubismMatrix44,this._mvpMatrix4x4.loadIdentity()}}var CubismBlendMode=(o=>(o[o.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",o[o.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",o[o.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",o))(CubismBlendMode||{});class CubismTextureColor{constructor(i=1,s=1,a=1,$=1){this.r=i,this.g=s,this.b=a,this.a=$}}class CubismClippingContext{constructor(i,s){this._clippingIdList=i,this._clippingIdCount=s,this._allClippedDrawRect=new csmRect,this._layoutBounds=new csmRect,this._clippedDrawableIndexList=[],this._matrixForMask=new CubismMatrix44,this._matrixForDraw=new CubismMatrix44,this._bufferIndex=0}release(){this._layoutBounds!=null&&(this._layoutBounds=null),this._allClippedDrawRect!=null&&(this._allClippedDrawRect=null),this._clippedDrawableIndexList!=null&&(this._clippedDrawableIndexList=null)}addClippedDrawable(i){this._clippedDrawableIndexList.push(i)}}var Live2DCubismFramework$y;(o=>{o.CubismBlendMode=CubismBlendMode,o.CubismRenderer=CubismRenderer,o.CubismTextureColor=CubismTextureColor})(Live2DCubismFramework$y||(Live2DCubismFramework$y={}));const CubismLogPrint=(o,i,s)=>{CubismDebug.print(o,"[CSM]"+i,s)},CubismLogPrintIn=(o,i,s)=>{CubismLogPrint(o,i+`
`,s)},CSM_ASSERT=o=>{console.assert(o)};let CubismLogDebug,CubismLogInfo,CubismLogWarning,CubismLogError;CubismLogDebug=(o,...i)=>{CubismLogPrintIn(LogLevel.LogLevel_Debug,"[D]"+o,i)},CubismLogInfo=(o,...i)=>{CubismLogPrintIn(LogLevel.LogLevel_Info,"[I]"+o,i)},CubismLogWarning=(o,...i)=>{CubismLogPrintIn(LogLevel.LogLevel_Warning,"[W]"+o,i)},CubismLogError=(o,...i)=>{CubismLogPrintIn(LogLevel.LogLevel_Error,"[E]"+o,i)};class CubismDebug{static print(i,s,a){if(i<CubismFramework.getLoggingLevel())return;const $=CubismFramework.coreLogFunction;if(!$)return;const j=s.replace(/\{(\d+)\}/g,(et,rt)=>a[rt]);$(j)}static dumpBytes(i,s,a){for(let $=0;$<a;$++)$%16==0&&$>0?this.print(i,`
`):$%8==0&&$>0&&this.print(i,"  "),this.print(i,"{0} ",[s[$]&255]);this.print(i,`
`)}constructor(){}}var Live2DCubismFramework$x;(o=>{o.CubismDebug=CubismDebug})(Live2DCubismFramework$x||(Live2DCubismFramework$x={}));class csmPair{constructor(i,s){this.first=i??null,this.second=s??null}}const kn=class kn{constructor(i){i!=null?i<1?(this._keyValues=[],this._dummyValue=null,this._size=0):(this._keyValues=new Array(i),this._size=i):(this._keyValues=[],this._dummyValue=null,this._size=0)}release(){this.clear()}appendKey(i){this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new csmPair(i),this._size+=1}getValue(i){let s=-1;for(let a=0;a<this._size;a++)if(this._keyValues[a].first==i){s=a;break}return s>=0?this._keyValues[s].second:(this.appendKey(i),this._keyValues[this._size-1].second)}setValue(i,s){let a=-1;for(let $=0;$<this._size;$++)if(this._keyValues[$].first==i){a=$;break}a>=0?this._keyValues[a].second=s:(this.appendKey(i),this._keyValues[this._size-1].second=s)}isExist(i){for(let s=0;s<this._size;s++)if(this._keyValues[s].first==i)return!0;return!1}clear(){this._keyValues=void 0,this._keyValues=null,this._keyValues=[],this._size=0}getSize(){return this._size}prepareCapacity(i,s){i>this._keyValues.length&&(this._keyValues.length==0?(!s&&i<kn.DefaultSize&&(i=kn.DefaultSize),this._keyValues.length=i):(!s&&i<this._keyValues.length*2&&(i=this._keyValues.length*2),this._keyValues.length=i))}begin(){return new iterator(this,0)}end(){return new iterator(this,this._size)}erase(i){const s=i._index;return s<0||this._size<=s?i:(this._keyValues.splice(s,1),--this._size,new iterator(this,s))}dumpAsInt(){for(let i=0;i<this._size;i++)CubismLogDebug("{0} ,",this._keyValues[i]),CubismLogDebug(`
`)}};kn.DefaultSize=10;let csmMap=kn;class iterator{constructor(i,s){this._map=i??new csmMap,this._index=s??0}set(i){return this._index=i._index,this._map=i._map,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new iterator(this._map,this._index++)}decrement(){const i=new iterator(this._map,this._index);return this._map=i._map,this._index=i._index,this}ptr(){return this._map._keyValues[this._index]}notEqual(i){return this._index!=i._index||this._map!=i._map}}var Live2DCubismFramework$w;(o=>{o.csmMap=csmMap,o.csmPair=csmPair,o.iterator=iterator})(Live2DCubismFramework$w||(Live2DCubismFramework$w={}));class CubismJsonExtension{static parseJsonObject(i,s){return Object.keys(i).forEach(a=>{if(typeof i[a]=="boolean"){const $=!!i[a];s.put(a,new JsonBoolean($))}else if(typeof i[a]=="string"){const $=String(i[a]);s.put(a,new JsonString($))}else if(typeof i[a]=="number"){const $=Number(i[a]);s.put(a,new JsonFloat($))}else i[a]instanceof Array?s.put(a,CubismJsonExtension.parseJsonArray(i[a])):i[a]instanceof Object?s.put(a,CubismJsonExtension.parseJsonObject(i[a],new JsonMap)):i[a]==null?s.put(a,new JsonNullvalue):s.put(a,i[a])}),s}static parseJsonArray(i){const s=new JsonArray;return Object.keys(i).forEach(a=>{if(typeof Number(a)=="number")if(typeof i[a]=="boolean"){const j=!!i[a];s.add(new JsonBoolean(j))}else if(typeof i[a]=="string"){const j=String(i[a]);s.add(new JsonString(j))}else if(typeof i[a]=="number"){const j=Number(i[a]);s.add(new JsonFloat(j))}else i[a]instanceof Array?s.add(this.parseJsonArray(i[a])):i[a]instanceof Object?s.add(this.parseJsonObject(i[a],new JsonMap)):i[a]==null?s.add(new JsonNullvalue):s.add(i[a]);else if(i[a]instanceof Array)s.add(this.parseJsonArray(i[a]));else if(i[a]instanceof Object)s.add(this.parseJsonObject(i[a],new JsonMap));else if(i[a]==null)s.add(new JsonNullvalue);else{const j=Array(i[a]);for(let et=0;et<j.length;et++)s.add(j[et])}}),s}}const CSM_JSON_ERROR_TYPE_MISMATCH="Error: type mismatch",CSM_JSON_ERROR_INDEX_OF_BOUNDS="Error: index out of bounds";let Value$2=class Xr{constructor(){}getRawString(i,s){return this.getString(i,s)}toInt(i=0){return i}toFloat(i=0){return i}toBoolean(i=!1){return i}getSize(){return 0}getArray(i=null){return i}getVector(i=new csmVector){return i}getMap(i){return i}getValueByIndex(i){return Xr.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH)}getValueByString(i){return Xr.nullValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH)}getKeys(){return Xr.dummyKeys}isError(){return!1}isNull(){return!1}isBool(){return!1}isFloat(){return!1}isString(){return!1}isArray(){return!1}isMap(){return!1}equals(i){return!1}isStatic(){return!1}setErrorNotForClientCall(i){return JsonError.errorValue}static staticInitializeNotForClientCall(){JsonBoolean.trueValue=new JsonBoolean(!0),JsonBoolean.falseValue=new JsonBoolean(!1),Xr.errorValue=new JsonError("ERROR",!0),Xr.nullValue=new JsonNullvalue,Xr.dummyKeys=new csmVector}static staticReleaseNotForClientCall(){JsonBoolean.trueValue=null,JsonBoolean.falseValue=null,Xr.errorValue=null,Xr.nullValue=null,Xr.dummyKeys=null}};class CubismJson{constructor(i,s){this._parseCallback=CubismJsonExtension.parseJsonObject,this._error=null,this._lineCount=0,this._root=null,i!=null&&this.parseBytes(i,s,this._parseCallback)}static create(i,s){const a=new CubismJson;return a.parseBytes(i,s,a._parseCallback)?a:(CubismJson.delete(a),null)}static delete(i){}getRoot(){return this._root}static arrayBufferToString(i){const s=new Uint8Array(i);let a="";for(let $=0,j=s.length;$<j;++$)a+="%"+this.pad(s[$].toString(16));return a=decodeURIComponent(a),a}static pad(i){return i.length<2?"0"+i:i}parseBytes(i,s,a){const $=new Array(1),j=CubismJson.arrayBufferToString(i);if(a==null?this._root=this.parseValue(j,s,0,$):this._root=a(JSON.parse(j),new JsonMap),this._error){let et="\0";return et="Json parse error : @line "+(this._lineCount+1)+`
`,this._root=new JsonString(et),CubismLogInfo("{0}",this._root.getRawString()),!1}else if(this._root==null)return this._root=new JsonError(new csmString(this._error),!1),!1;return!0}getParseError(){return this._error}checkEndOfFile(){return this._root.getArray()[1].equals("EOF")}parseValue(i,s,a,$){if(this._error)return null;let j=null,et=a,rt;for(;et<s;et++)switch(i[et]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{const it=new Array(1);return rt=strtod(i.slice(et),it),$[0]=i.indexOf(it[0]),new JsonFloat(rt)}case'"':return new JsonString(this.parseString(i,s,et+1,$));case"[":return j=this.parseArray(i,s,et+1,$),j;case"{":return j=this.parseObject(i,s,et+1,$),j;case"n":return et+3<s?(j=new JsonNullvalue,$[0]=et+4):this._error="parse null",j;case"t":return et+3<s?(j=JsonBoolean.trueValue,$[0]=et+4):this._error="parse true",j;case"f":return et+4<s?(j=JsonBoolean.falseValue,$[0]=et+5):this._error="illegal ',' position",j;case",":return this._error="illegal ',' position",null;case"]":return $[0]=et,null;case`
`:this._lineCount++}return this._error="illegal end of value",null}parseString(i,s,a,$){if(this._error)return null;if(!i)return this._error="string is null",null;let j=a,et,rt;const st=new csmString("");let it=a;for(;j<s;j++)switch(et=i[j],et){case'"':return $[0]=j+1,st.append(i.slice(it),j-it),st.s;case"//":if(j++,j-1>it&&st.append(i.slice(it),j-it),it=j+1,j<s)switch(rt=i[j],rt){case"\\":st.expansion(1,"\\");break;case'"':st.expansion(1,'"');break;case"/":st.expansion(1,"/");break;case"b":st.expansion(1,"\b");break;case"f":st.expansion(1,"\f");break;case"n":st.expansion(1,`
`);break;case"r":st.expansion(1,"\r");break;case"t":st.expansion(1,"	");break;case"u":this._error="parse string/unicord escape not supported";break}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null}parseObject(i,s,a,$){if(this._error)return null;if(!i)return this._error="buffer is null",null;const j=new JsonMap;let et="",rt=a,st="";const it=Array(1);let ot=!1;for(;rt<s;rt++){e:for(;rt<s;rt++)switch(st=i[rt],st){case'"':if(et=this.parseString(i,s,rt+1,it),this._error)return null;rt=it[0],ot=!0;break e;case"}":return $[0]=rt+1,j;case":":this._error="illegal ':' position";break;case`
`:this._lineCount++}if(!ot)return this._error="key not found",null;ot=!1;e:for(;rt<s;rt++)switch(st=i[rt],st){case":":ot=!0,rt++;break e;case"}":this._error="illegal '}' position";break;case`
`:this._lineCount++}if(!ot)return this._error="':' not found",null;const tt=this.parseValue(i,s,rt,it);if(this._error)return null;rt=it[0],j.put(et,tt);e:for(;rt<s;rt++)switch(st=i[rt],st){case",":break e;case"}":return $[0]=rt+1,j;case`
`:this._lineCount++}}return this._error="illegal end of perseObject",null}parseArray(i,s,a,$){if(this._error)return null;if(!i)return this._error="buffer is null",null;let j=new JsonArray,et=a,rt;const st=new Array(1);for(;et<s;et++){const it=this.parseValue(i,s,et,st);if(this._error)return null;et=st[0],it&&j.add(it);e:for(;et<s;et++)switch(rt=i[et],rt){case",":break e;case"]":return $[0]=et+1,j;case`
`:++this._lineCount}}return j=void 0,this._error="illegal end of parseObject",null}}class JsonFloat extends Value$2{constructor(i){super(),this._value=i}isFloat(){return!0}getString(i,s){const a="\0";return this._value=parseFloat(a),this._stringBuffer=a,this._stringBuffer}toInt(i=0){return parseInt(this._value.toString())}toFloat(i=0){return this._value}equals(i){return typeof i=="number"?Math.round(i)?!1:i==this._value:!1}}class JsonBoolean extends Value$2{isBool(){return!0}toBoolean(i=!1){return this._boolValue}getString(i,s){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer}equals(i){return typeof i=="boolean"?i==this._boolValue:!1}isStatic(){return!0}constructor(i){super(),this._boolValue=i}}class JsonString extends Value$2{constructor(i){super(),typeof i=="string"&&(this._stringBuffer=i),i instanceof csmString&&(this._stringBuffer=i.s)}isString(){return!0}getString(i,s){return this._stringBuffer}equals(i){return typeof i=="string"?this._stringBuffer==i:i instanceof csmString?this._stringBuffer==i.s:!1}}class JsonError extends JsonString{isStatic(){return this._isStatic}setErrorNotForClientCall(i){return this._stringBuffer=i,this}constructor(i,s){typeof i=="string"?super(i):super(i),this._isStatic=s}isError(){return!0}}class JsonNullvalue extends Value$2{isNull(){return!0}getString(i,s){return this._stringBuffer}isStatic(){return!0}setErrorNotForClientCall(i){return this._stringBuffer=i,JsonError.nullValue}constructor(){super(),this._stringBuffer="NullValue"}}class JsonArray extends Value$2{constructor(){super(),this._array=new csmVector}release(){for(let i=this._array.begin();i.notEqual(this._array.end());i.preIncrement()){let s=i.ptr();s&&!s.isStatic()&&(s=void 0,s=null)}}isArray(){return!0}getValueByIndex(i){if(i<0||this._array.getSize()<=i)return Value$2.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_INDEX_OF_BOUNDS);const s=this._array.at(i);return s??Value$2.nullValue}getValueByString(i){return Value$2.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH)}getString(i,s){const a=s+`[
`;for(let $=this._array.begin();$.notEqual(this._array.end());$.increment()){const j=$.ptr();this._stringBuffer+=s+""+j.getString(s+" ")+`
`}return this._stringBuffer=a+s+`]
`,this._stringBuffer}add(i){this._array.pushBack(i)}getVector(i=null){return this._array}getSize(){return this._array.getSize()}}class JsonMap extends Value$2{constructor(){super(),this._map=new csmMap}release(){const i=this._map.begin();for(;i.notEqual(this._map.end());){let s=i.ptr().second;s&&!s.isStatic()&&(s=void 0,s=null),i.preIncrement()}}isMap(){return!0}getValueByString(i){if(i instanceof csmString){const s=this._map.getValue(i.s);return s??Value$2.nullValue}for(let s=this._map.begin();s.notEqual(this._map.end());s.preIncrement())if(s.ptr().first==i)return s.ptr().second==null?Value$2.nullValue:s.ptr().second;return Value$2.nullValue}getValueByIndex(i){return Value$2.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH)}getString(i,s){this._stringBuffer=s+`{
`;const a=this._map.begin();for(;a.notEqual(this._map.end());){const $=a.ptr().first,j=a.ptr().second;this._stringBuffer+=s+" "+$+" : "+j.getString(s+"   ")+` 
`,a.preIncrement()}return this._stringBuffer+=s+`}
`,this._stringBuffer}getMap(i){return this._map}put(i,s){this._map.setValue(i,s)}getKeys(){if(!this._keys){this._keys=new csmVector;const i=this._map.begin();for(;i.notEqual(this._map.end());){const s=i.ptr().first;this._keys.pushBack(s),i.preIncrement()}}return this._keys}getSize(){return this._keys.getSize()}}var Live2DCubismFramework$v;(o=>{o.CubismJson=CubismJson,o.JsonArray=JsonArray,o.JsonBoolean=JsonBoolean,o.JsonError=JsonError,o.JsonFloat=JsonFloat,o.JsonMap=JsonMap,o.JsonNullvalue=JsonNullvalue,o.JsonString=JsonString,o.Value=Value$2})(Live2DCubismFramework$v||(Live2DCubismFramework$v={}));function strtod(o,i){let s=0;for(let $=1;;$++){const j=o.slice($-1,$);if(j=="e"||j=="-"||j=="E")continue;const et=o.substring(0,$),rt=Number(et);if(isNaN(rt))break;s=$}let a=parseFloat(o);return isNaN(a)&&(a=NaN),i[0]=o.slice(s),a}let s_isStarted=!1,s_isInitialized=!1,s_option=null,s_cubismIdManager=null;const Constant=Object.freeze({vertexOffset:0,vertexStep:2});function csmDelete(o){o&&(o=void 0)}class CubismFramework{static startUp(i=null){if(s_isStarted)return CubismLogInfo("CubismFramework.startUp() is already done."),s_isStarted;if(s_option=i,s_option!=null&&Live2DCubismCore.Logging.csmSetLogFunction(s_option.logFunction),s_isStarted=!0,s_isStarted){const s=Live2DCubismCore.Version.csmGetVersion(),a=(s&4278190080)>>24,$=(s&16711680)>>16,j=s&65535,et=s;CubismLogInfo("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+a).slice(-2),("00"+$).slice(-2),("0000"+j).slice(-4),et)}return CubismLogInfo("CubismFramework.startUp() is complete."),s_isStarted}static cleanUp(){s_isStarted=!1,s_isInitialized=!1,s_option=null,s_cubismIdManager=null}static initialize(i=0){if(CSM_ASSERT(s_isStarted),!s_isStarted){CubismLogWarning("CubismFramework is not started.");return}if(s_isInitialized){CubismLogWarning("CubismFramework.initialize() skipped, already initialized.");return}Value$2.staticInitializeNotForClientCall(),s_cubismIdManager=new CubismIdManager,Live2DCubismCore.Memory.initializeAmountOfMemory(i),s_isInitialized=!0,CubismLogInfo("CubismFramework.initialize() is complete.")}static dispose(){if(CSM_ASSERT(s_isStarted),!s_isStarted){CubismLogWarning("CubismFramework is not started.");return}if(!s_isInitialized){CubismLogWarning("CubismFramework.dispose() skipped, not initialized.");return}Value$2.staticReleaseNotForClientCall(),s_cubismIdManager.release(),s_cubismIdManager=null,CubismRenderer.staticRelease(),s_isInitialized=!1,CubismLogInfo("CubismFramework.dispose() is complete.")}static isStarted(){return s_isStarted}static isInitialized(){return s_isInitialized}static coreLogFunction(i){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(i)}static getLoggingLevel(){return s_option!=null?s_option.loggingLevel:5}static getIdManager(){return s_cubismIdManager}constructor(){}}class Option{}var LogLevel=(o=>(o[o.LogLevel_Verbose=0]="LogLevel_Verbose",o[o.LogLevel_Debug=1]="LogLevel_Debug",o[o.LogLevel_Info=2]="LogLevel_Info",o[o.LogLevel_Warning=3]="LogLevel_Warning",o[o.LogLevel_Error=4]="LogLevel_Error",o[o.LogLevel_Off=5]="LogLevel_Off",o))(LogLevel||{}),Live2DCubismFramework$u;(o=>{o.Constant=Constant,o.csmDelete=csmDelete,o.CubismFramework=CubismFramework})(Live2DCubismFramework$u||(Live2DCubismFramework$u={}));const CanvasSize="auto",ViewScale=1;let CurrentKScale=ViewScale;const ViewMaxScale=2,ViewMinScale=.8,ViewLogicalLeft=-1,ViewLogicalRight=1,ViewLogicalBottom=-1,ViewLogicalTop=1,ViewLogicalMaxLeft=-2,ViewLogicalMaxRight=2,ViewLogicalMaxBottom=-2,ViewLogicalMaxTop=2;let ResourcesPath="",ModelDir=[],ModelFileNames=[];function updateModelConfig(o,i,s,a){console.log("Updating model config:",{resourcePath:o,modelDirectory:i,modelFileName:s,kScale:a}),ResourcesPath=o,ModelDir=[i],ModelFileNames=[s],a!==void 0&&(CurrentKScale=a),ModelDirSize=ModelDir.length}let ModelDirSize=ModelDir.length;const BackImageName="back_class_normal.png",GearImageName="icon_gear.png",PowerImageName="CloseNormal.png",MotionGroupIdle="Idle",MotionGroupTapBody="TapBody",HitAreaNameHead="Head",HitAreaNameBody="Body",PriorityNone=0,PriorityIdle=1,PriorityNormal=2,PriorityForce=3,MOCConsistencyValidationEnable=!0,DebugLogEnable=!1,DebugTouchLogEnable=!1,CubismLoggingLevel=LogLevel.LogLevel_Verbose,RenderTargetWidth=1900,RenderTargetHeight=1e3,ENABLE_LIMITED_FRAME_RATE=!0,LIMITED_FRAME_RATE=60,LAppDefine=Object.freeze(Object.defineProperty({__proto__:null,BackImageName,CanvasSize,CubismLoggingLevel,get CurrentKScale(){return CurrentKScale},DebugLogEnable,DebugTouchLogEnable,ENABLE_LIMITED_FRAME_RATE,GearImageName,HitAreaNameBody,HitAreaNameHead,LIMITED_FRAME_RATE,MOCConsistencyValidationEnable,get ModelDir(){return ModelDir},get ModelDirSize(){return ModelDirSize},get ModelFileNames(){return ModelFileNames},MotionGroupIdle,MotionGroupTapBody,PowerImageName,PriorityForce,PriorityIdle,PriorityNone,PriorityNormal,RenderTargetHeight,RenderTargetWidth,get ResourcesPath(){return ResourcesPath},ViewLogicalBottom,ViewLogicalLeft,ViewLogicalMaxBottom,ViewLogicalMaxLeft,ViewLogicalMaxRight,ViewLogicalMaxTop,ViewLogicalRight,ViewLogicalTop,ViewMaxScale,ViewMinScale,ViewScale,updateModelConfig},Symbol.toStringTag,{value:"Module"})),useAudioTask=()=>{const{t:o}=useTranslation(),{aiState:i,backendSynthComplete:s,setBackendSynthComplete:a}=useAiState(),{setSubtitleText:$}=useSubtitle(),{messages:j,appendResponse:et,appendAIMessage:rt}=useChatHistory(),{sendMessage:st}=useWebSocket(),{setExpression:it}=useLive2DExpression(),ot=reactExports.useRef({aiState:i,setSubtitleText:$,messages:j,appendResponse:et,appendAIMessage:rt});ot.current={aiState:i,setSubtitleText:$,messages:j,appendResponse:et,appendAIMessage:rt};const tt=reactExports.useCallback(()=>{audioManager.stopCurrentAudioAndLipSync()},[]),_e=at=>new Promise(async lt=>{var Pt,St;const{aiState:ut,setSubtitleText:ct,messages:dt,appendResponse:ft,appendAIMessage:ht}=ot.current;if(ut==="interrupted"){console.warn("Audio playback blocked by interruption state."),lt();return}const{audioBase64:gt,audioPcmBase64:yt,audioFormat:bt,audioSampleRate:vt,audioChannels:mt,displayText:xt,expressions:wt,forwarded:Ct}=at,kt=!!(yt&&(!bt||bt==="pcm16")),It=!!(gt||kt);if(xt){const Ot=dt[dt.length-1];(Ot==null?void 0:Ot.role)==="ai"&&Ot.type!=="tool_call_status"&&Ot.content===xt.text||(ft(xt.text),ht(xt.text,xt.name,xt.avatar)),It&&ct(xt.text),Ct||st({type:"audio-play-start",display_text:xt,forwarded:!0})}try{const Ot=At=>{var Jt,rr;const $t=(Jt=window.getLive2DManager)==null?void 0:Jt.call(window);if(!$t){console.error("Live2D manager not found"),lt();return}const jt=$t.getModel(0);if(!jt){console.error("Live2D model not found at index 0"),lt();return}console.log("Found model for audio playback"),jt._wavFileHandler?console.log("Model has _wavFileHandler available"):console.warn("Model does not have _wavFileHandler for lip sync");const zt=(rr=window.getLAppAdapter)==null?void 0:rr.call(window);zt&&(wt==null?void 0:wt[0])!==void 0&&it(wt[0],zt,`Set expression to: ${wt[0]}`),LAppDefine&&PriorityNormal?(console.log("Starting random 'Talk' motion"),jt.startRandomMotion("Talk",PriorityNormal)):console.warn("LAppDefine.PriorityNormal not found - cannot start talk motion");const Xt=new Audio(At);audioManager.setCurrentAudio(Xt,jt);let tr=!1;const ir=()=>{audioManager.clearCurrentAudio(Xt),tr||(tr=!0,lt())},sr=2;Xt.addEventListener("canplaythrough",()=>{if(ot.current.aiState==="interrupted"||!audioManager.hasCurrentAudio()){console.warn("Audio playback cancelled due to interruption or audio was stopped"),ir();return}if(console.log("Starting audio playback with lip sync"),Xt.play().catch(Yt=>{console.error("Audio play error:",Yt),ir()}),jt._wavFileHandler){if(!jt._wavFileHandler._initialized){console.log("Applying enhanced lip sync"),jt._wavFileHandler._initialized=!0;const Yt=jt._wavFileHandler.update.bind(jt._wavFileHandler);jt._wavFileHandler.update=function(Kt){const er=Yt(Kt);return this._lastRms=Math.min(2,this._lastRms*sr),er}}audioManager.hasCurrentAudio()?jt._wavFileHandler.start(At):console.warn("WavFileHandler start skipped - audio was stopped")}}),Xt.addEventListener("ended",()=>{console.log("Audio playback completed"),ir()}),Xt.addEventListener("error",Yt=>{console.error("Audio playback error:",Yt),ir()}),Xt.load()};if(kt){const At=(Pt=window.getLive2DManager)==null?void 0:Pt.call(window);if(!At){console.error("Live2D manager not found"),lt();return}const $t=At.getModel(0);if(!$t){console.error("Live2D model not found at index 0"),lt();return}console.log("Found model for audio playback"),$t._wavFileHandler?console.log("Model has _wavFileHandler available"):console.warn("Model does not have _wavFileHandler for lip sync");const jt=(St=window.getLAppAdapter)==null?void 0:St.call(window);jt&&(wt==null?void 0:wt[0])!==void 0&&it(wt[0],jt,`Set expression to: ${wt[0]}`),LAppDefine&&PriorityNormal?(console.log("Starting random 'Talk' motion"),$t.startRandomMotion("Talk",PriorityNormal)):console.warn("LAppDefine.PriorityNormal not found - cannot start talk motion");const zt={stop:()=>pcmPlayer.stopAll()};audioManager.setCurrentAudio(zt,$t);let Xt=!1;const tr=()=>{audioManager.clearCurrentAudio(zt),Xt||(Xt=!0,lt())},ir=vt||16e3,sr=mt||1,Jt=await pcmPlayer.enqueue(yt,ir,sr,tr);if(!Jt.started){if(audioManager.clearCurrentAudio(zt),gt){Ot(`data:audio/wav;base64,${gt}`);return}lt();return}if($t._wavFileHandler){const rr=pcmPlayer.makeWavBlob(Jt.pcm,ir,sr),Yt=URL.createObjectURL(rr);if(!$t._wavFileHandler._initialized){console.log("Applying enhanced lip sync"),$t._wavFileHandler._initialized=!0;const Kt=$t._wavFileHandler.update.bind($t._wavFileHandler);$t._wavFileHandler.update=function(er){const Bt=Kt(er);return this._lastRms=Math.min(2,this._lastRms*2),Bt}}audioManager.hasCurrentAudio()?$t._wavFileHandler.start(Yt):console.warn("WavFileHandler start skipped - audio was stopped"),setTimeout(()=>URL.revokeObjectURL(Yt),1e3)}}else gt?Ot(`data:audio/wav;base64,${gt}`):lt()}catch(Ot){console.error("Audio playback setup error:",Ot),toaster.create({title:`${o("error.audioPlayback")}: ${Ot}`,type:"error",duration:2e3}),lt()}});return reactExports.useEffect(()=>{let at=!0;return(async()=>{await audioTaskQueue.waitForCompletion(),at&&s&&(tt(),st({type:"frontend-playback-complete"}),a(!1))})(),()=>{at=!1}},[s,st,a,tt]),{addAudioTask:async at=>{var ut;const{aiState:lt}=ot.current;if(lt==="interrupted"){console.log("Skipping audio task due to interrupted state");return}console.log(`Adding audio task ${(ut=at.displayText)==null?void 0:ut.text} to queue`),audioTaskQueue.addTask(()=>_e(at))},appendResponse:et,stopCurrentAudioAndLipSync:tt}},useInterrupt=()=>{const{aiState:o,setAiState:i}=useAiState(),{sendMessage:s}=useWebSocket(),{fullResponse:a,clearResponse:$}=useChatHistory(),{subtitleText:j,setSubtitleText:et}=useSubtitle(),{stopCurrentAudioAndLipSync:rt}=useAudioTask();return{interrupt:(it=!0)=>{o==="thinking-speaking"&&(console.log("Interrupting conversation chain"),rt(),audioTaskQueue.clearQueue(),i("interrupted"),it&&s({type:"interrupt-signal",text:a}),$(),j==="Thinking..."&&et(""),console.log("Interrupted!"))}}};let canvas=null,gl=null,s_instance$4=null;class LAppGlManager{static getInstance(){return s_instance$4==null&&(s_instance$4=new LAppGlManager),s_instance$4}static releaseInstance(){s_instance$4!=null&&s_instance$4.release(),s_instance$4=null}constructor(){if(canvas=document.getElementById("canvas"),!canvas){console.warn("Canvas element not found during LAppGlManager initialization");return}gl=canvas.getContext("webgl2"),gl||(alert("Cannot initialize WebGL. This browser does not support."),gl=null,document.body.innerHTML="This browser does not support the <code>&lt;canvas&gt;</code> element.")}release(){}}const CubismDefaultParameterId=Object.freeze({HitAreaPrefix:"HitArea",HitAreaHead:"Head",HitAreaBody:"Body",PartsIdCore:"Parts01Core",PartsArmPrefix:"Parts01Arm_",PartsArmLPrefix:"Parts01ArmL_",PartsArmRPrefix:"Parts01ArmR_",ParamAngleX:"ParamAngleX",ParamAngleY:"ParamAngleY",ParamAngleZ:"ParamAngleZ",ParamEyeLOpen:"ParamEyeLOpen",ParamEyeLSmile:"ParamEyeLSmile",ParamEyeROpen:"ParamEyeROpen",ParamEyeRSmile:"ParamEyeRSmile",ParamEyeBallX:"ParamEyeBallX",ParamEyeBallY:"ParamEyeBallY",ParamEyeBallForm:"ParamEyeBallForm",ParamBrowLY:"ParamBrowLY",ParamBrowRY:"ParamBrowRY",ParamBrowLX:"ParamBrowLX",ParamBrowRX:"ParamBrowRX",ParamBrowLAngle:"ParamBrowLAngle",ParamBrowRAngle:"ParamBrowRAngle",ParamBrowLForm:"ParamBrowLForm",ParamBrowRForm:"ParamBrowRForm",ParamMouthForm:"ParamMouthForm",ParamMouthOpenY:"ParamMouthOpenY",ParamCheek:"ParamCheek",ParamBodyAngleX:"ParamBodyAngleX",ParamBodyAngleY:"ParamBodyAngleY",ParamBodyAngleZ:"ParamBodyAngleZ",ParamBreath:"ParamBreath",ParamArmLA:"ParamArmLA",ParamArmRA:"ParamArmRA",ParamArmLB:"ParamArmLB",ParamArmRB:"ParamArmRB",ParamHandL:"ParamHandL",ParamHandR:"ParamHandR",ParamHairFront:"ParamHairFront",ParamHairSide:"ParamHairSide",ParamHairBack:"ParamHairBack",ParamHairFluffy:"ParamHairFluffy",ParamShoulderY:"ParamShoulderY",ParamBustX:"ParamBustX",ParamBustY:"ParamBustY",ParamBaseX:"ParamBaseX",ParamBaseY:"ParamBaseY",ParamNONE:"NONE:"});var Live2DCubismFramework$t;(o=>{o.HitAreaBody=CubismDefaultParameterId.HitAreaBody,o.HitAreaHead=CubismDefaultParameterId.HitAreaHead,o.HitAreaPrefix=CubismDefaultParameterId.HitAreaPrefix,o.ParamAngleX=CubismDefaultParameterId.ParamAngleX,o.ParamAngleY=CubismDefaultParameterId.ParamAngleY,o.ParamAngleZ=CubismDefaultParameterId.ParamAngleZ,o.ParamArmLA=CubismDefaultParameterId.ParamArmLA,o.ParamArmLB=CubismDefaultParameterId.ParamArmLB,o.ParamArmRA=CubismDefaultParameterId.ParamArmRA,o.ParamArmRB=CubismDefaultParameterId.ParamArmRB,o.ParamBaseX=CubismDefaultParameterId.ParamBaseX,o.ParamBaseY=CubismDefaultParameterId.ParamBaseY,o.ParamBodyAngleX=CubismDefaultParameterId.ParamBodyAngleX,o.ParamBodyAngleY=CubismDefaultParameterId.ParamBodyAngleY,o.ParamBodyAngleZ=CubismDefaultParameterId.ParamBodyAngleZ,o.ParamBreath=CubismDefaultParameterId.ParamBreath,o.ParamBrowLAngle=CubismDefaultParameterId.ParamBrowLAngle,o.ParamBrowLForm=CubismDefaultParameterId.ParamBrowLForm,o.ParamBrowLX=CubismDefaultParameterId.ParamBrowLX,o.ParamBrowLY=CubismDefaultParameterId.ParamBrowLY,o.ParamBrowRAngle=CubismDefaultParameterId.ParamBrowRAngle,o.ParamBrowRForm=CubismDefaultParameterId.ParamBrowRForm,o.ParamBrowRX=CubismDefaultParameterId.ParamBrowRX,o.ParamBrowRY=CubismDefaultParameterId.ParamBrowRY,o.ParamBustX=CubismDefaultParameterId.ParamBustX,o.ParamBustY=CubismDefaultParameterId.ParamBustY,o.ParamCheek=CubismDefaultParameterId.ParamCheek,o.ParamEyeBallForm=CubismDefaultParameterId.ParamEyeBallForm,o.ParamEyeBallX=CubismDefaultParameterId.ParamEyeBallX,o.ParamEyeBallY=CubismDefaultParameterId.ParamEyeBallY,o.ParamEyeLOpen=CubismDefaultParameterId.ParamEyeLOpen,o.ParamEyeLSmile=CubismDefaultParameterId.ParamEyeLSmile,o.ParamEyeROpen=CubismDefaultParameterId.ParamEyeROpen,o.ParamEyeRSmile=CubismDefaultParameterId.ParamEyeRSmile,o.ParamHairBack=CubismDefaultParameterId.ParamHairBack,o.ParamHairFluffy=CubismDefaultParameterId.ParamHairFluffy,o.ParamHairFront=CubismDefaultParameterId.ParamHairFront,o.ParamHairSide=CubismDefaultParameterId.ParamHairSide,o.ParamHandL=CubismDefaultParameterId.ParamHandL,o.ParamHandR=CubismDefaultParameterId.ParamHandR,o.ParamMouthForm=CubismDefaultParameterId.ParamMouthForm,o.ParamMouthOpenY=CubismDefaultParameterId.ParamMouthOpenY,o.ParamNONE=CubismDefaultParameterId.ParamNONE,o.ParamShoulderY=CubismDefaultParameterId.ParamShoulderY,o.PartsArmLPrefix=CubismDefaultParameterId.PartsArmLPrefix,o.PartsArmPrefix=CubismDefaultParameterId.PartsArmPrefix,o.PartsArmRPrefix=CubismDefaultParameterId.PartsArmRPrefix,o.PartsIdCore=CubismDefaultParameterId.PartsIdCore})(Live2DCubismFramework$t||(Live2DCubismFramework$t={}));class ICubismModelSetting{}var Live2DCubismFramework$s;(o=>{o.ICubismModelSetting=ICubismModelSetting})(Live2DCubismFramework$s||(Live2DCubismFramework$s={}));const FileReferences="FileReferences",Groups$1="Groups",Layout="Layout",HitAreas="HitAreas",Moc="Moc",Textures="Textures",Physics="Physics",Pose="Pose",Expressions="Expressions",Motions="Motions",UserData$2="UserData",Name="Name",FilePath="File",Id$4="Id",Ids="Ids",SoundPath="Sound",FadeInTime$1="FadeInTime",FadeOutTime$1="FadeOutTime",LipSync="LipSync",EyeBlink="EyeBlink";class CubismModelSettingJson extends ICubismModelSetting{constructor(i,s){super(),this._json=CubismJson.create(i,s),this.getJson()&&(this._jsonValue=new csmVector,this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(Groups$1)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Moc)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Motions)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Expressions)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Textures)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Physics)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(FileReferences).getValueByString(Pose)),this._jsonValue.pushBack(this.getJson().getRoot().getValueByString(HitAreas)))}release(){CubismJson.delete(this._json),this._jsonValue=null}getJson(){return this._json}getModelFileName(){return this.isExistModelFile()?this._jsonValue.at(1).getRawString():""}getTextureCount(){return this.isExistTextureFiles()?this._jsonValue.at(4).getSize():0}getTextureDirectory(){const s=this._jsonValue.at(4).getValueByIndex(0).getRawString().split("/"),a=s.length-1;let $="";for(let j=0;j<a;j++)$+=s[j],j<a-1&&($+="/");return $}getTextureFileName(i){return this._jsonValue.at(4).getValueByIndex(i).getRawString()}getHitAreasCount(){return this.isExistHitAreas()?this._jsonValue.at(7).getSize():0}getHitAreaId(i){return CubismFramework.getIdManager().getId(this._jsonValue.at(7).getValueByIndex(i).getValueByString(Id$4).getRawString())}getHitAreaName(i){return this._jsonValue.at(7).getValueByIndex(i).getValueByString(Name).getRawString()}getPhysicsFileName(){return this.isExistPhysicsFile()?this._jsonValue.at(5).getRawString():""}getPoseFileName(){return this.isExistPoseFile()?this._jsonValue.at(6).getRawString():""}getExpressionCount(){return this.isExistExpressionFile()?this._jsonValue.at(3).getSize():0}getExpressionName(i){return this._jsonValue.at(3).getValueByIndex(i).getValueByString(Name).getRawString()}getExpressionFileName(i){return this._jsonValue.at(3).getValueByIndex(i).getValueByString(FilePath).getRawString()}getMotionGroupCount(){return this.isExistMotionGroups()?this._jsonValue.at(2).getKeys().getSize():0}getMotionGroupName(i){return this.isExistMotionGroups()?this._jsonValue.at(2).getKeys().at(i):null}getMotionCount(i){return this.isExistMotionGroupName(i)?this._jsonValue.at(2).getValueByString(i).getSize():0}getMotionFileName(i,s){return this.isExistMotionGroupName(i)?this._jsonValue.at(2).getValueByString(i).getValueByIndex(s).getValueByString(FilePath).getRawString():""}getMotionSoundFileName(i,s){return this.isExistMotionSoundFile(i,s)?this._jsonValue.at(2).getValueByString(i).getValueByIndex(s).getValueByString(SoundPath).getRawString():""}getMotionFadeInTimeValue(i,s){return this.isExistMotionFadeIn(i,s)?this._jsonValue.at(2).getValueByString(i).getValueByIndex(s).getValueByString(FadeInTime$1).toFloat():-1}getMotionFadeOutTimeValue(i,s){return this.isExistMotionFadeOut(i,s)?this._jsonValue.at(2).getValueByString(i).getValueByIndex(s).getValueByString(FadeOutTime$1).toFloat():-1}getUserDataFile(){return this.isExistUserDataFile()?this.getJson().getRoot().getValueByString(FileReferences).getValueByString(UserData$2).getRawString():""}getLayoutMap(i){const s=this.getJson().getRoot().getValueByString(Layout).getMap();if(s==null)return!1;let a=!1;for(const $=s.begin();$.notEqual(s.end());$.preIncrement())i.setValue($.ptr().first,$.ptr().second.toFloat()),a=!0;return a}getEyeBlinkParameterCount(){if(!this.isExistEyeBlinkParameters())return 0;let i=0;for(let s=0;s<this._jsonValue.at(0).getSize();s++){const a=this._jsonValue.at(0).getValueByIndex(s);if(!(a.isNull()||a.isError())&&a.getValueByString(Name).getRawString()==EyeBlink){i=a.getValueByString(Ids).getVector().getSize();break}}return i}getEyeBlinkParameterId(i){if(!this.isExistEyeBlinkParameters())return null;for(let s=0;s<this._jsonValue.at(0).getSize();s++){const a=this._jsonValue.at(0).getValueByIndex(s);if(!(a.isNull()||a.isError())&&a.getValueByString(Name).getRawString()==EyeBlink)return CubismFramework.getIdManager().getId(a.getValueByString(Ids).getValueByIndex(i).getRawString())}return null}getLipSyncParameterCount(){if(!this.isExistLipSyncParameters())return 0;let i=0;for(let s=0;s<this._jsonValue.at(0).getSize();s++){const a=this._jsonValue.at(0).getValueByIndex(s);if(!(a.isNull()||a.isError())&&a.getValueByString(Name).getRawString()==LipSync){i=a.getValueByString(Ids).getVector().getSize();break}}return i}getLipSyncParameterId(i){if(!this.isExistLipSyncParameters())return null;for(let s=0;s<this._jsonValue.at(0).getSize();s++){const a=this._jsonValue.at(0).getValueByIndex(s);if(!(a.isNull()||a.isError())&&a.getValueByString(Name).getRawString()==LipSync)return CubismFramework.getIdManager().getId(a.getValueByString(Ids).getValueByIndex(i).getRawString())}return null}isExistModelFile(){const i=this._jsonValue.at(1);return!i.isNull()&&!i.isError()}isExistTextureFiles(){const i=this._jsonValue.at(4);return!i.isNull()&&!i.isError()}isExistHitAreas(){const i=this._jsonValue.at(7);return!i.isNull()&&!i.isError()}isExistPhysicsFile(){const i=this._jsonValue.at(5);return!i.isNull()&&!i.isError()}isExistPoseFile(){const i=this._jsonValue.at(6);return!i.isNull()&&!i.isError()}isExistExpressionFile(){const i=this._jsonValue.at(3);return!i.isNull()&&!i.isError()}isExistMotionGroups(){const i=this._jsonValue.at(2);return!i.isNull()&&!i.isError()}isExistMotionGroupName(i){const s=this._jsonValue.at(2).getValueByString(i);return!s.isNull()&&!s.isError()}isExistMotionSoundFile(i,s){const a=this._jsonValue.at(2).getValueByString(i).getValueByIndex(s).getValueByString(SoundPath);return!a.isNull()&&!a.isError()}isExistMotionFadeIn(i,s){const a=this._jsonValue.at(2).getValueByString(i).getValueByIndex(s).getValueByString(FadeInTime$1);return!a.isNull()&&!a.isError()}isExistMotionFadeOut(i,s){const a=this._jsonValue.at(2).getValueByString(i).getValueByIndex(s).getValueByString(FadeOutTime$1);return!a.isNull()&&!a.isError()}isExistUserDataFile(){const i=this.getJson().getRoot().getValueByString(FileReferences).getValueByString(UserData$2);return!i.isNull()&&!i.isError()}isExistEyeBlinkParameters(){if(this._jsonValue.at(0).isNull()||this._jsonValue.at(0).isError())return!1;for(let i=0;i<this._jsonValue.at(0).getSize();++i)if(this._jsonValue.at(0).getValueByIndex(i).getValueByString(Name).getRawString()==EyeBlink)return!0;return!1}isExistLipSyncParameters(){if(this._jsonValue.at(0).isNull()||this._jsonValue.at(0).isError())return!1;for(let i=0;i<this._jsonValue.at(0).getSize();++i)if(this._jsonValue.at(0).getValueByIndex(i).getValueByString(Name).getRawString()==LipSync)return!0;return!1}}var Live2DCubismFramework$r;(o=>{o.CubismModelSettingJson=CubismModelSettingJson})(Live2DCubismFramework$r||(Live2DCubismFramework$r={}));class CubismBreath{static create(){return new CubismBreath}static delete(i){}setParameters(i){this._breathParameters=i}getParameters(){return this._breathParameters}updateParameters(i,s){this._currentTime+=s;const a=this._currentTime*2*3.14159;for(let $=0;$<this._breathParameters.getSize();++$){const j=this._breathParameters.at($);i.addParameterValueById(j.parameterId,j.offset+j.peak*Math.sin(a/j.cycle),j.weight)}}constructor(){this._currentTime=0}}class BreathParameterData{constructor(i,s,a,$,j){this.parameterId=i??null,this.offset=s??0,this.peak=a??0,this.cycle=$??0,this.weight=j??0}}var Live2DCubismFramework$q;(o=>{o.BreathParameterData=BreathParameterData,o.CubismBreath=CubismBreath})(Live2DCubismFramework$q||(Live2DCubismFramework$q={}));const Rn=class Rn{static create(i=null){return new Rn(i)}static delete(i){}setBlinkingInterval(i){this._blinkingIntervalSeconds=i}setBlinkingSetting(i,s,a){this._closingSeconds=i,this._closedSeconds=s,this._openingSeconds=a}setParameterIds(i){this._parameterIds=i}getParameterIds(){return this._parameterIds}updateParameters(i,s){this._userTimeSeconds+=s;let a,$=0;switch(this._blinkingState){case 2:$=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,$>=1&&($=1,this._blinkingState=3,this._stateStartTimeSeconds=this._userTimeSeconds),a=1-$;break;case 3:$=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,$>=1&&(this._blinkingState=4,this._stateStartTimeSeconds=this._userTimeSeconds),a=0;break;case 4:$=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,$>=1&&($=1,this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming()),a=$;break;case 1:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=2,this._stateStartTimeSeconds=this._userTimeSeconds),a=1;break;case 0:default:this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming(),a=1;break}Rn.CloseIfZero||(a=-a);for(let et=0;et<this._parameterIds.getSize();++et)i.setParameterValueById(this._parameterIds.at(et),a)}constructor(i){if(this._blinkingState=0,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=new csmVector,i!=null)for(let s=0;s<i.getEyeBlinkParameterCount();++s)this._parameterIds.pushBack(i.getEyeBlinkParameterId(s))}determinNextBlinkingTiming(){const i=Math.random();return this._userTimeSeconds+i*(2*this._blinkingIntervalSeconds-1)}};Rn.CloseIfZero=!0;let CubismEyeBlink=Rn;var EyeState=(o=>(o[o.EyeState_First=0]="EyeState_First",o[o.EyeState_Interval=1]="EyeState_Interval",o[o.EyeState_Closing=2]="EyeState_Closing",o[o.EyeState_Closed=3]="EyeState_Closed",o[o.EyeState_Opening=4]="EyeState_Opening",o))(EyeState||{}),Live2DCubismFramework$p;(o=>{o.CubismEyeBlink=CubismEyeBlink,o.EyeState=EyeState})(Live2DCubismFramework$p||(Live2DCubismFramework$p={}));const Epsilon$1=.001,DefaultFadeInSeconds=.5,FadeIn="FadeInTime",Link="Link",Groups="Groups",Id$3="Id";class CubismPose{static create(i,s){const a=CubismJson.create(i,s);if(!a)return null;const $=new CubismPose,j=a.getRoot();j.getValueByString(FadeIn).isNull()||($._fadeTimeSeconds=j.getValueByString(FadeIn).toFloat(DefaultFadeInSeconds),$._fadeTimeSeconds<=0&&($._fadeTimeSeconds=DefaultFadeInSeconds));const et=j.getValueByString(Groups),rt=et.getSize();for(let st=0;st<rt;++st){const it=et.getValueByIndex(st),ot=it.getSize();let tt=0;for(let _e=0;_e<ot;++_e){const nt=it.getValueByIndex(_e),at=new PartData,lt=CubismFramework.getIdManager().getId(nt.getValueByString(Id$3).getRawString());if(at.partId=lt,!nt.getValueByString(Link).isNull()){const ut=nt.getValueByString(Link),ct=ut.getSize();for(let dt=0;dt<ct;++dt){const ft=new PartData,ht=CubismFramework.getIdManager().getId(ut.getValueByIndex(dt).getString());ft.partId=ht,at.link.pushBack(ft)}}$._partGroups.pushBack(at.clone()),++tt}$._partGroupCounts.pushBack(tt)}return CubismJson.delete(a),$}static delete(i){}updateParameters(i,s){i!=this._lastModel&&this.reset(i),this._lastModel=i,s<0&&(s=0);let a=0;for(let $=0;$<this._partGroupCounts.getSize();$++){const j=this._partGroupCounts.at($);this.doFade(i,s,a,j),a+=j}this.copyPartOpacities(i)}reset(i){let s=0;for(let a=0;a<this._partGroupCounts.getSize();++a){const $=this._partGroupCounts.at(a);for(let j=s;j<s+$;++j){this._partGroups.at(j).initialize(i);const et=this._partGroups.at(j).partIndex,rt=this._partGroups.at(j).parameterIndex;if(!(et<0)){i.setPartOpacityByIndex(et,j==s?1:0),i.setParameterValueByIndex(rt,j==s?1:0);for(let st=0;st<this._partGroups.at(j).link.getSize();++st)this._partGroups.at(j).link.at(st).initialize(i)}}s+=$}}copyPartOpacities(i){for(let s=0;s<this._partGroups.getSize();++s){const a=this._partGroups.at(s);if(a.link.getSize()==0)continue;const $=this._partGroups.at(s).partIndex,j=i.getPartOpacityByIndex($);for(let et=0;et<a.link.getSize();++et){const st=a.link.at(et).partIndex;st<0||i.setPartOpacityByIndex(st,j)}}}doFade(i,s,a,$){let j=-1,et=1;const rt=.5,st=.15;for(let it=a;it<a+$;++it){const ot=this._partGroups.at(it).partIndex,tt=this._partGroups.at(it).parameterIndex;if(i.getParameterValueByIndex(tt)>Epsilon$1){if(j>=0)break;j=it,et=i.getPartOpacityByIndex(ot),et+=s/this._fadeTimeSeconds,et>1&&(et=1)}}j<0&&(j=0,et=1);for(let it=a;it<a+$;++it){const ot=this._partGroups.at(it).partIndex;if(j==it)i.setPartOpacityByIndex(ot,et);else{let tt=i.getPartOpacityByIndex(ot),_e;et<rt?_e=et*(rt-1)/rt+1:_e=(1-et)*rt/(1-rt),(1-_e)*(1-et)>st&&(_e=1-st/(1-et)),tt>_e&&(tt=_e),i.setPartOpacityByIndex(ot,tt)}}}constructor(){this._fadeTimeSeconds=DefaultFadeInSeconds,this._lastModel=null,this._partGroups=new csmVector,this._partGroupCounts=new csmVector}}class PartData{constructor(i){if(this.parameterIndex=0,this.partIndex=0,this.link=new csmVector,i!=null){this.partId=i.partId;for(const s=i.link.begin();s.notEqual(i.link.end());s.preIncrement())this.link.pushBack(s.ptr().clone())}}assignment(i){this.partId=i.partId;for(const s=i.link.begin();s.notEqual(i.link.end());s.preIncrement())this.link.pushBack(s.ptr().clone());return this}initialize(i){this.parameterIndex=i.getParameterIndex(this.partId),this.partIndex=i.getPartIndex(this.partId),i.setParameterValueByIndex(this.parameterIndex,1)}clone(){const i=new PartData;i.partId=this.partId,i.parameterIndex=this.parameterIndex,i.partIndex=this.partIndex,i.link=new csmVector;for(let s=this.link.begin();s.notEqual(this.link.end());s.increment())i.link.pushBack(s.ptr().clone());return i}}var Live2DCubismFramework$o;(o=>{o.CubismPose=CubismPose,o.PartData=PartData})(Live2DCubismFramework$o||(Live2DCubismFramework$o={}));class CubismModelMatrix extends CubismMatrix44{constructor(i,s){super(),this._width=i!==void 0?i:0,this._height=s!==void 0?s:0,this.setHeight(2)}setWidth(i){const s=i/this._width,a=s;this.scale(s,a)}setHeight(i){const s=i/this._height,a=s;this.scale(s,a)}setPosition(i,s){this.translate(i,s)}setCenterPosition(i,s){this.centerX(i),this.centerY(s)}top(i){this.setY(i)}bottom(i){const s=this._height*this.getScaleY();this.translateY(i-s)}left(i){this.setX(i)}right(i){const s=this._width*this.getScaleX();this.translateX(i-s)}centerX(i){const s=this._width*this.getScaleX();this.translateX(i-s/2)}setX(i){this.translateX(i)}centerY(i){const s=this._height*this.getScaleY();this.translateY(i-s/2)}setY(i){this.translateY(i)}setupFromLayout(i){const s="width",a="height",$="x",j="y",et="center_x",rt="center_y",st="top",it="bottom",ot="left",tt="right";for(const _e=i.begin();_e.notEqual(i.end());_e.preIncrement()){const nt=_e.ptr().first,at=_e.ptr().second;nt==s?this.setWidth(at):nt==a&&this.setHeight(at)}for(const _e=i.begin();_e.notEqual(i.end());_e.preIncrement()){const nt=_e.ptr().first,at=_e.ptr().second;nt==$?this.setX(at):nt==j?this.setY(at):nt==et?this.centerX(at):nt==rt?this.centerY(at):nt==st?this.top(at):nt==it?this.bottom(at):nt==ot?this.left(at):nt==tt&&this.right(at)}}}var Live2DCubismFramework$n;(o=>{o.CubismModelMatrix=CubismModelMatrix})(Live2DCubismFramework$n||(Live2DCubismFramework$n={}));class CubismVector2{constructor(i,s){this.x=i,this.y=s,this.x=i??0,this.y=s??0}add(i){const s=new CubismVector2(0,0);return s.x=this.x+i.x,s.y=this.y+i.y,s}substract(i){const s=new CubismVector2(0,0);return s.x=this.x-i.x,s.y=this.y-i.y,s}multiply(i){const s=new CubismVector2(0,0);return s.x=this.x*i.x,s.y=this.y*i.y,s}multiplyByScaler(i){return this.multiply(new CubismVector2(i,i))}division(i){const s=new CubismVector2(0,0);return s.x=this.x/i.x,s.y=this.y/i.y,s}divisionByScalar(i){return this.division(new CubismVector2(i,i))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(i){return Math.sqrt((this.x-i.x)*(this.x-i.x)+(this.y-i.y)*(this.y-i.y))}dot(i){return this.x*i.x+this.y*i.y}normalize(){const i=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/i,this.y=this.y/i}isEqual(i){return this.x==i.x&&this.y==i.y}isNotEqual(i){return!this.isEqual(i)}}var Live2DCubismFramework$m;(o=>{o.CubismVector2=CubismVector2})(Live2DCubismFramework$m||(Live2DCubismFramework$m={}));const dn=class dn{static range(i,s,a){return i<s?i=s:i>a&&(i=a),i}static sin(i){return Math.sin(i)}static cos(i){return Math.cos(i)}static abs(i){return Math.abs(i)}static sqrt(i){return Math.sqrt(i)}static cbrt(i){if(i===0)return i;let s=i;const a=s<0;a&&(s=-s);let $;return s===1/0?$=1/0:($=Math.exp(Math.log(s)/3),$=(s/($*$)+2*$)/3),a?-$:$}static getEasingSine(i){return i<0?0:i>1?1:.5-.5*this.cos(i*Math.PI)}static max(i,s){return i>s?i:s}static min(i,s){return i>s?s:i}static degreesToRadian(i){return i/180*Math.PI}static radianToDegrees(i){return i*180/Math.PI}static directionToRadian(i,s){const a=Math.atan2(s.y,s.x),$=Math.atan2(i.y,i.x);let j=a-$;for(;j<-Math.PI;)j+=Math.PI*2;for(;j>Math.PI;)j-=Math.PI*2;return j}static directionToDegrees(i,s){const a=this.directionToRadian(i,s);let $=this.radianToDegrees(a);return s.x-i.x>0&&($=-$),$}static radianToDirection(i){const s=new CubismVector2;return s.x=this.sin(i),s.y=this.cos(i),s}static quadraticEquation(i,s,a){return this.abs(i)<dn.Epsilon?this.abs(s)<dn.Epsilon?-a:-a/s:-(s+this.sqrt(s*s-4*i*a))/(2*i)}static cardanoAlgorithmForBezier(i,s,a,$){if(this.sqrt(i)<dn.Epsilon)return this.range(this.quadraticEquation(s,a,$),0,1);const j=s/i,et=a/i,rt=$/i,st=(3*et-j*j)/3,it=st/3,ot=(2*j*j*j-9*j*et+27*rt)/27,tt=ot/2,_e=tt*tt+it*it*it,nt=.5,at=nt+.01;if(_e<0){const ft=-st/3,ht=ft*ft*ft,gt=this.sqrt(ht),yt=-ot/(2*gt),bt=this.range(yt,-1,1),vt=Math.acos(bt),xt=2*this.cbrt(gt),wt=xt*this.cos(vt/3)-j/3;if(this.abs(wt-nt)<at)return this.range(wt,0,1);const Ct=xt*this.cos((vt+2*Math.PI)/3)-j/3;if(this.abs(Ct-nt)<at)return this.range(Ct,0,1);const kt=xt*this.cos((vt+4*Math.PI)/3)-j/3;return this.range(kt,0,1)}if(_e==0){let ft;tt<0?ft=this.cbrt(-tt):ft=-this.cbrt(tt);const ht=2*ft-j/3;if(this.abs(ht-nt)<at)return this.range(ht,0,1);const gt=-ft-j/3;return this.range(gt,0,1)}const lt=this.sqrt(_e),ut=this.cbrt(lt-tt),ct=this.cbrt(lt+tt),dt=ut-ct-j/3;return this.range(dt,0,1)}static mod(i,s){if(!isFinite(i)||s===0||isNaN(i)||isNaN(s))return console.warn(`divided: ${i}, divisor: ${s} mod() returns 'NaN'.`),NaN;const a=Math.abs(i),$=Math.abs(s);let j=a-Math.floor(a/$)*$;return j*=Math.sign(i),j}constructor(){}};dn.Epsilon=1e-5;let CubismMath=dn;var Live2DCubismFramework$l;(o=>{o.CubismMath=CubismMath})(Live2DCubismFramework$l||(Live2DCubismFramework$l={}));const FrameRate=30,Epsilon=.01;class CubismTargetPoint{constructor(){this._faceTargetX=0,this._faceTargetY=0,this._faceX=0,this._faceY=0,this._faceVX=0,this._faceVY=0,this._lastTimeSeconds=0,this._userTimeSeconds=0}update(i){this._userTimeSeconds+=i;const a=40/10*1/FrameRate;if(this._lastTimeSeconds==0){this._lastTimeSeconds=this._userTimeSeconds;return}const $=(this._userTimeSeconds-this._lastTimeSeconds)*FrameRate;this._lastTimeSeconds=this._userTimeSeconds;const et=.15*FrameRate,rt=$*a/et,st=this._faceTargetX-this._faceX,it=this._faceTargetY-this._faceY;if(CubismMath.abs(st)<=Epsilon&&CubismMath.abs(it)<=Epsilon)return;const ot=CubismMath.sqrt(st*st+it*it),tt=a*st/ot,_e=a*it/ot;let nt=tt-this._faceVX,at=_e-this._faceVY;const lt=CubismMath.sqrt(nt*nt+at*at);(lt<-rt||lt>rt)&&(nt*=rt/lt,at*=rt/lt),this._faceVX+=nt,this._faceVY+=at;{const ut=.5*(CubismMath.sqrt(rt*rt+16*rt*ot-8*rt*ot)-rt),ct=CubismMath.sqrt(this._faceVX*this._faceVX+this._faceVY*this._faceVY);ct>ut&&(this._faceVX*=ut/ct,this._faceVY*=ut/ct)}this._faceX+=this._faceVX,this._faceY+=this._faceVY}getX(){return this._faceX}getY(){return this._faceY}set(i,s){this._faceTargetX=i,this._faceTargetY=s}}var Live2DCubismFramework$k;(o=>{o.CubismTargetPoint=CubismTargetPoint})(Live2DCubismFramework$k||(Live2DCubismFramework$k={}));class ACubismMotion{constructor(){this.setFinishedMotionHandler=i=>this._onFinishedMotion=i,this.getFinishedMotionHandler=()=>this._onFinishedMotion,this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=new csmVector}static delete(i){i.release(),i=null}release(){this._weight=0}updateParameters(i,s,a){if(!s.isAvailable()||s.isFinished())return;this.setupMotionQueueEntry(s,a);const $=this.updateFadeWeight(s,a);this.doUpdateParameters(i,a,$,s),s.getEndTime()>0&&s.getEndTime()<a&&s.setIsFinished(!0)}setupMotionQueueEntry(i,s){if(i==null||i.isStarted()||!i.isAvailable())return;i.setIsStarted(!0),i.setStartTime(s-this._offsetSeconds),i.setFadeInStartTime(s);const a=this.getDuration();i.getEndTime()<0&&i.setEndTime(a<=0?-1:i.getStartTime()+a)}updateFadeWeight(i,s){i==null&&CubismDebug.print(LogLevel.LogLevel_Error,"motionQueueEntry is null.");let a=this._weight;const $=this._fadeInSeconds==0?1:CubismMath.getEasingSine((s-i.getFadeInStartTime())/this._fadeInSeconds),j=this._fadeOutSeconds==0||i.getEndTime()<0?1:CubismMath.getEasingSine((i.getEndTime()-s)/this._fadeOutSeconds);return a=a*$*j,i.setState(s,a),CSM_ASSERT(0<=a&&a<=1),a}setFadeInTime(i){this._fadeInSeconds=i}setFadeOutTime(i){this._fadeOutSeconds=i}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(i){this._weight=i}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(i){this._offsetSeconds=i}getFiredEvent(i,s){return this._firedEventValues}isExistModelOpacity(){return!1}getModelOpacityIndex(){return-1}getModelOpacityId(i){return null}getModelOpacityValue(){return 1}}var Live2DCubismFramework$j;(o=>{o.ACubismMotion=ACubismMotion})(Live2DCubismFramework$j||(Live2DCubismFramework$j={}));const ExpressionKeyFadeIn="FadeInTime",ExpressionKeyFadeOut="FadeOutTime",ExpressionKeyParameters="Parameters",ExpressionKeyId="Id",ExpressionKeyValue="Value",ExpressionKeyBlend="Blend",BlendValueAdd="Add",BlendValueMultiply="Multiply",BlendValueOverwrite="Overwrite",DefaultFadeTime=1,Wr=class Wr extends ACubismMotion{static create(i,s){const a=new Wr;return a.parse(i,s),a}doUpdateParameters(i,s,a,$){for(let j=0;j<this._parameters.getSize();++j){const et=this._parameters.at(j);switch(et.blendType){case 0:{i.addParameterValueById(et.parameterId,et.value,a);break}case 1:{i.multiplyParameterValueById(et.parameterId,et.value,a);break}case 2:{i.setParameterValueById(et.parameterId,et.value,a);break}}}}calculateExpressionParameters(i,s,a,$,j,et){if(!(a==null||$==null)&&a.isAvailable()){this._fadeWeight=this.updateFadeWeight(a,s);for(let rt=0;rt<$.getSize();++rt){const st=$.at(rt);if(st.parameterId==null)continue;const it=st.overwriteValue=i.getParameterValueById(st.parameterId),ot=this.getExpressionParameters();let tt=-1;for(let ut=0;ut<ot.getSize();++ut)if(st.parameterId==ot.at(ut).parameterId){tt=ut;break}if(tt<0){j==0?(st.additiveValue=Wr.DefaultAdditiveValue,st.multiplyValue=Wr.DefaultMultiplyValue,st.overwriteValue=it):(st.additiveValue=this.calculateValue(st.additiveValue,Wr.DefaultAdditiveValue,et),st.multiplyValue=this.calculateValue(st.multiplyValue,Wr.DefaultMultiplyValue,et),st.overwriteValue=this.calculateValue(st.overwriteValue,it,et));continue}const _e=ot.at(tt).value;let nt,at,lt;switch(ot.at(tt).blendType){case 0:nt=_e,at=Wr.DefaultMultiplyValue,lt=it;break;case 1:nt=Wr.DefaultAdditiveValue,at=_e,lt=it;break;case 2:nt=Wr.DefaultAdditiveValue,at=Wr.DefaultMultiplyValue,lt=_e;break;default:return}j==0?(st.additiveValue=nt,st.multiplyValue=at,st.overwriteValue=lt):(st.additiveValue=st.additiveValue*(1-et)+nt*et,st.multiplyValue=st.multiplyValue*(1-et)+at*et,st.overwriteValue=st.overwriteValue*(1-et)+lt*et)}}}getExpressionParameters(){return this._parameters}getFadeWeight(){return this._fadeWeight}parse(i,s){const a=CubismJson.create(i,s);if(!a)return;const $=a.getRoot();this.setFadeInTime($.getValueByString(ExpressionKeyFadeIn).toFloat(DefaultFadeTime)),this.setFadeOutTime($.getValueByString(ExpressionKeyFadeOut).toFloat(DefaultFadeTime));const j=$.getValueByString(ExpressionKeyParameters).getSize();this._parameters.prepareCapacity(j);for(let et=0;et<j;++et){const rt=$.getValueByString(ExpressionKeyParameters).getValueByIndex(et),st=CubismFramework.getIdManager().getId(rt.getValueByString(ExpressionKeyId).getRawString()),it=rt.getValueByString(ExpressionKeyValue).toFloat();let ot;rt.getValueByString(ExpressionKeyBlend).isNull()||rt.getValueByString(ExpressionKeyBlend).getString()==BlendValueAdd?ot=0:rt.getValueByString(ExpressionKeyBlend).getString()==BlendValueMultiply?ot=1:rt.getValueByString(ExpressionKeyBlend).getString()==BlendValueOverwrite?ot=2:ot=0;const tt=new ExpressionParameter;tt.parameterId=st,tt.blendType=ot,tt.value=it,this._parameters.pushBack(tt)}CubismJson.delete(a)}calculateValue(i,s,a){return i*(1-a)+s*a}constructor(){super(),this._parameters=new csmVector,this._fadeWeight=0}};Wr.DefaultAdditiveValue=0,Wr.DefaultMultiplyValue=1;let CubismExpressionMotion=Wr;var ExpressionBlendType=(o=>(o[o.Additive=0]="Additive",o[o.Multiply=1]="Multiply",o[o.Overwrite=2]="Overwrite",o))(ExpressionBlendType||{});class ExpressionParameter{}var Live2DCubismFramework$i;(o=>{o.CubismExpressionMotion=CubismExpressionMotion,o.ExpressionBlendType=ExpressionBlendType,o.ExpressionParameter=ExpressionParameter})(Live2DCubismFramework$i||(Live2DCubismFramework$i={}));class CubismMotionQueueEntry{constructor(){this._autoDelete=!1,this._motion=null,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&ACubismMotion.delete(this._motion)}setFadeOut(i){this._fadeOutSeconds=i,this._isTriggeredFadeOut=!0}startFadeOut(i,s){const a=s+i;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||a<this._endTimeSeconds)&&(this._endTimeSeconds=a)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(i){this._startTimeSeconds=i}setFadeInStartTime(i){this._fadeInStartTimeSeconds=i}setEndTime(i){this._endTimeSeconds=i}setIsFinished(i){this._finished=i}setIsStarted(i){this._started=i}isAvailable(){return this._available}setIsAvailable(i){this._available=i}setState(i,s){this._stateTimeSeconds=i,this._stateWeight=s}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(i){this._lastEventCheckSeconds=i}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}getCubismMotion(){return this._motion}}var Live2DCubismFramework$h;(o=>{o.CubismMotionQueueEntry=CubismMotionQueueEntry})(Live2DCubismFramework$h||(Live2DCubismFramework$h={}));class CubismMotionQueueManager{constructor(){this._userTimeSeconds=0,this._eventCallBack=null,this._eventCustomData=null,this._motions=new csmVector}release(){for(let i=0;i<this._motions.getSize();++i)this._motions.at(i)&&(this._motions.at(i).release(),this._motions.set(i,null));this._motions=null}startMotion(i,s,a){if(i==null)return InvalidMotionQueueEntryHandleValue;let $=null;for(let j=0;j<this._motions.getSize();++j)$=this._motions.at(j),$!=null&&$.setFadeOut($._motion.getFadeOutTime());return $=new CubismMotionQueueEntry,$._autoDelete=s,$._motion=i,this._motions.pushBack($),$._motionQueueEntryHandle}isFinished(){for(let i=this._motions.begin();i.notEqual(this._motions.end());){let s=i.ptr();if(s==null){i=this._motions.erase(i);continue}if(s._motion==null){s.release(),s=null,i=this._motions.erase(i);continue}if(s.isFinished())i.preIncrement();else return!1}return!0}isFinishedByHandle(i){for(let s=this._motions.begin();s.notEqual(this._motions.end());s.increment()){const a=s.ptr();if(a!=null&&a._motionQueueEntryHandle==i&&!a.isFinished())return!1}return!0}stopAllMotions(){for(let i=this._motions.begin();i.notEqual(this._motions.end());){let s=i.ptr();if(s==null){i=this._motions.erase(i);continue}s.release(),s=null,i=this._motions.erase(i)}}getCubismMotionQueueEntries(){return this._motions}getCubismMotionQueueEntry(i){for(let s=this._motions.begin();s.notEqual(this._motions.end());s.preIncrement()){const a=s.ptr();if(a!=null&&a._motionQueueEntryHandle==i)return a}return null}setEventCallback(i,s=null){this._eventCallBack=i,this._eventCustomData=s}doUpdateMotion(i,s){let a=!1;for(let $=this._motions.begin();$.notEqual(this._motions.end());){let j=$.ptr();if(j==null){$=this._motions.erase($);continue}const et=j._motion;if(et==null){j.release(),j=null,$=this._motions.erase($);continue}et.updateParameters(i,j,s),a=!0;const rt=et.getFiredEvent(j.getLastCheckEventSeconds()-j.getStartTime(),s-j.getStartTime());for(let st=0;st<rt.getSize();++st)this._eventCallBack(this,rt.at(st),this._eventCustomData);j.setLastCheckEventSeconds(s),j.isFinished()?(j.release(),j=null,$=this._motions.erase($)):(j.isTriggeredFadeOut()&&j.startFadeOut(j.getFadeOutSeconds(),s),$.preIncrement())}return a}}const InvalidMotionQueueEntryHandleValue=-1;var Live2DCubismFramework$g;(o=>{o.CubismMotionQueueManager=CubismMotionQueueManager,o.InvalidMotionQueueEntryHandleValue=InvalidMotionQueueEntryHandleValue})(Live2DCubismFramework$g||(Live2DCubismFramework$g={}));class ExpressionParameterValue{}class CubismExpressionMotionManager extends CubismMotionQueueManager{constructor(){super(),this._currentPriority=0,this._reservePriority=0,this._expressionParameterValues=new csmVector,this._fadeWeights=new csmVector}release(){this._expressionParameterValues&&(csmDelete(this._expressionParameterValues),this._expressionParameterValues=null),this._fadeWeights&&(csmDelete(this._fadeWeights),this._fadeWeights=null)}getCurrentPriority(){return this._currentPriority}getReservePriority(){return this._reservePriority}getFadeWeight(i){return this._fadeWeights.at(i)}setReservePriority(i){this._reservePriority=i}startMotionPriority(i,s,a){return a==this.getReservePriority()&&this.setReservePriority(0),this._currentPriority=a,this._fadeWeights.pushBack(0),this.startMotion(i,s)}updateMotion(i,s){this._userTimeSeconds+=s;let a=!1;const $=this.getCubismMotionQueueEntries();let j=0,et=0;for(let rt=this._motions.begin();rt.notEqual(this._motions.end());){const st=rt.ptr();if(st==null){rt=$.erase(rt);continue}const it=st.getCubismMotion();if(it==null){csmDelete(st),rt=$.erase(rt);continue}const ot=it.getExpressionParameters();if(st.isAvailable())for(let tt=0;tt<ot.getSize();++tt){if(ot.at(tt).parameterId==null)continue;let _e=-1;for(let at=0;at<this._expressionParameterValues.getSize();++at)if(this._expressionParameterValues.at(at).parameterId==ot.at(tt).parameterId){_e=at;break}if(_e>=0)continue;const nt=new ExpressionParameterValue;nt.parameterId=ot.at(tt).parameterId,nt.additiveValue=CubismExpressionMotion.DefaultAdditiveValue,nt.multiplyValue=CubismExpressionMotion.DefaultMultiplyValue,nt.overwriteValue=i.getParameterValueById(nt.parameterId),this._expressionParameterValues.pushBack(nt)}it.setupMotionQueueEntry(st,this._userTimeSeconds),this._fadeWeights.set(et,it.updateFadeWeight(st,this._userTimeSeconds)),it.calculateExpressionParameters(i,this._userTimeSeconds,st,this._expressionParameterValues,et,this._fadeWeights.at(et)),j+=it.getFadeInTime()==0?1:CubismMath.getEasingSine((this._userTimeSeconds-st.getFadeInStartTime())/it.getFadeInTime()),a=!0,st.isTriggeredFadeOut()&&st.startFadeOut(st.getFadeOutSeconds(),this._userTimeSeconds),rt.preIncrement(),++et}if($.getSize()>1&&($.at($.getSize()-1).getCubismMotion(),this._fadeWeights.at(this._fadeWeights.getSize()-1)>=1))for(let st=$.getSize()-2;st>=0;--st){const it=$.at(st);csmDelete(it),$.remove(st),this._fadeWeights.remove(st)}j>1&&(j=1);for(let rt=0;rt<this._expressionParameterValues.getSize();++rt){const st=this._expressionParameterValues.at(rt);i.setParameterValueById(st.parameterId,(st.overwriteValue+st.additiveValue)*st.multiplyValue,j),st.additiveValue=CubismExpressionMotion.DefaultAdditiveValue,st.multiplyValue=CubismExpressionMotion.DefaultMultiplyValue}return a}}var Live2DCubismFramework$f;(o=>{o.CubismExpressionMotionManager=CubismExpressionMotionManager})(Live2DCubismFramework$f||(Live2DCubismFramework$f={}));var CubismMotionCurveTarget=(o=>(o[o.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",o[o.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",o[o.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",o))(CubismMotionCurveTarget||{}),CubismMotionSegmentType=(o=>(o[o.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",o[o.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",o[o.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",o[o.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",o))(CubismMotionSegmentType||{});class CubismMotionPoint{constructor(){this.time=0,this.value=0}}class CubismMotionSegment{constructor(){this.evaluate=null,this.basePointIndex=0,this.segmentType=0}}class CubismMotionCurve{constructor(){this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class CubismMotionEvent{constructor(){this.fireTime=0}}class CubismMotionData{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=new csmVector,this.segments=new csmVector,this.points=new csmVector,this.events=new csmVector}}var Live2DCubismFramework$e;(o=>{o.CubismMotionCurve=CubismMotionCurve,o.CubismMotionCurveTarget=CubismMotionCurveTarget,o.CubismMotionData=CubismMotionData,o.CubismMotionEvent=CubismMotionEvent,o.CubismMotionPoint=CubismMotionPoint,o.CubismMotionSegment=CubismMotionSegment,o.CubismMotionSegmentType=CubismMotionSegmentType})(Live2DCubismFramework$e||(Live2DCubismFramework$e={}));const Meta$2="Meta",Duration="Duration",Loop="Loop",AreBeziersRestricted="AreBeziersRestricted",CurveCount="CurveCount",Fps$1="Fps",TotalSegmentCount="TotalSegmentCount",TotalPointCount="TotalPointCount",Curves="Curves",Target$1="Target",Id$2="Id",FadeInTime="FadeInTime",FadeOutTime="FadeOutTime",Segments="Segments",UserData$1="UserData",UserDataCount$1="UserDataCount",TotalUserDataSize$1="TotalUserDataSize",Time="Time",Value$1="Value";class CubismMotionJson{constructor(i,s){this._json=CubismJson.create(i,s)}release(){CubismJson.delete(this._json)}getMotionDuration(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(Duration).toFloat()}isMotionLoop(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(Loop).toBoolean()}getEvaluationOptionFlag(i){return i==0?this._json.getRoot().getValueByString(Meta$2).getValueByString(AreBeziersRestricted).toBoolean():!1}getMotionCurveCount(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(CurveCount).toInt()}getMotionFps(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(Fps$1).toFloat()}getMotionTotalSegmentCount(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(TotalSegmentCount).toInt()}getMotionTotalPointCount(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(TotalPointCount).toInt()}isExistMotionFadeInTime(){return!this._json.getRoot().getValueByString(Meta$2).getValueByString(FadeInTime).isNull()}isExistMotionFadeOutTime(){return!this._json.getRoot().getValueByString(Meta$2).getValueByString(FadeOutTime).isNull()}getMotionFadeInTime(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(FadeInTime).toFloat()}getMotionFadeOutTime(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(FadeOutTime).toFloat()}getMotionCurveTarget(i){return this._json.getRoot().getValueByString(Curves).getValueByIndex(i).getValueByString(Target$1).getRawString()}getMotionCurveId(i){return CubismFramework.getIdManager().getId(this._json.getRoot().getValueByString(Curves).getValueByIndex(i).getValueByString(Id$2).getRawString())}isExistMotionCurveFadeInTime(i){return!this._json.getRoot().getValueByString(Curves).getValueByIndex(i).getValueByString(FadeInTime).isNull()}isExistMotionCurveFadeOutTime(i){return!this._json.getRoot().getValueByString(Curves).getValueByIndex(i).getValueByString(FadeOutTime).isNull()}getMotionCurveFadeInTime(i){return this._json.getRoot().getValueByString(Curves).getValueByIndex(i).getValueByString(FadeInTime).toFloat()}getMotionCurveFadeOutTime(i){return this._json.getRoot().getValueByString(Curves).getValueByIndex(i).getValueByString(FadeOutTime).toFloat()}getMotionCurveSegmentCount(i){return this._json.getRoot().getValueByString(Curves).getValueByIndex(i).getValueByString(Segments).getVector().getSize()}getMotionCurveSegment(i,s){return this._json.getRoot().getValueByString(Curves).getValueByIndex(i).getValueByString(Segments).getValueByIndex(s).toFloat()}getEventCount(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(UserDataCount$1).toInt()}getTotalEventValueSize(){return this._json.getRoot().getValueByString(Meta$2).getValueByString(TotalUserDataSize$1).toInt()}getEventTime(i){return this._json.getRoot().getValueByString(UserData$1).getValueByIndex(i).getValueByString(Time).toFloat()}getEventValue(i){return new csmString(this._json.getRoot().getValueByString(UserData$1).getValueByIndex(i).getValueByString(Value$1).getRawString())}}var EvaluationOptionFlag=(o=>(o[o.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",o))(EvaluationOptionFlag||{}),Live2DCubismFramework$d;(o=>{o.CubismMotionJson=CubismMotionJson})(Live2DCubismFramework$d||(Live2DCubismFramework$d={}));const EffectNameEyeBlink="EyeBlink",EffectNameLipSync="LipSync",TargetNameModel="Model",TargetNameParameter="Parameter",TargetNamePartOpacity="PartOpacity",IdNameOpacity="Opacity",UseOldBeziersCurveMotion=!1;function lerpPoints(o,i,s){const a=new CubismMotionPoint;return a.time=o.time+(i.time-o.time)*s,a.value=o.value+(i.value-o.value)*s,a}function linearEvaluate(o,i){let s=(i-o[0].time)/(o[1].time-o[0].time);return s<0&&(s=0),o[0].value+(o[1].value-o[0].value)*s}function bezierEvaluate(o,i){let s=(i-o[0].time)/(o[3].time-o[0].time);s<0&&(s=0);const a=lerpPoints(o[0],o[1],s),$=lerpPoints(o[1],o[2],s),j=lerpPoints(o[2],o[3],s),et=lerpPoints(a,$,s),rt=lerpPoints($,j,s);return lerpPoints(et,rt,s).value}function bezierEvaluateCardanoInterpretation(o,i){const s=i,a=o[0].time,$=o[3].time,j=o[1].time,et=o[2].time,rt=$-3*et+3*j-a,st=3*et-6*j+3*a,it=3*j-3*a,ot=a-s,tt=CubismMath.cardanoAlgorithmForBezier(rt,st,it,ot),_e=lerpPoints(o[0],o[1],tt),nt=lerpPoints(o[1],o[2],tt),at=lerpPoints(o[2],o[3],tt),lt=lerpPoints(_e,nt,tt),ut=lerpPoints(nt,at,tt);return lerpPoints(lt,ut,tt).value}function steppedEvaluate(o,i){return o[0].value}function inverseSteppedEvaluate(o,i){return o[1].value}function evaluateCurve(o,i,s){const a=o.curves.at(i);let $=-1;const j=a.baseSegmentIndex+a.segmentCount;let et=0;for(let st=a.baseSegmentIndex;st<j;++st)if(et=o.segments.at(st).basePointIndex+(o.segments.at(st).segmentType==CubismMotionSegmentType.CubismMotionSegmentType_Bezier?3:1),o.points.at(et).time>s){$=st;break}if($==-1)return o.points.at(et).value;const rt=o.segments.at($);return rt.evaluate(o.points.get(rt.basePointIndex),s)}class CubismMotion extends ACubismMotion{static create(i,s,a){const $=new CubismMotion;try{return $.parse(i,s),$._motionData?($._sourceFrameRate=$._motionData.fps,$._loopDurationSeconds=$._motionData.duration,$._onFinishedMotion=a,$):(CubismLogError("Failed to parse motion data - motion data is null"),null)}catch(j){return CubismLogError(`Failed to create motion: ${j}`),null}}doUpdateParameters(i,s,a,$){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=CubismFramework.getIdManager().getId(EffectNameEyeBlink)),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=CubismFramework.getIdManager().getId(EffectNameLipSync)),this._modelCurveIdOpacity==null&&(this._modelCurveIdOpacity=CubismFramework.getIdManager().getId(IdNameOpacity));let j=s-$.getStartTime();j<0&&(j=0);let et=Number.MAX_VALUE,rt=Number.MAX_VALUE;const st=64;let it=0,ot=0;this._eyeBlinkParameterIds.getSize()>st&&CubismLogDebug("too many eye blink targets : {0}",this._eyeBlinkParameterIds.getSize()),this._lipSyncParameterIds.getSize()>st&&CubismLogDebug("too many lip sync targets : {0}",this._lipSyncParameterIds.getSize());const tt=this._fadeInSeconds<=0?1:CubismMath.getEasingSine((s-$.getFadeInStartTime())/this._fadeInSeconds),_e=this._fadeOutSeconds<=0||$.getEndTime()<0?1:CubismMath.getEasingSine(($.getEndTime()-s)/this._fadeOutSeconds);let nt,at,lt,ut=j;if(this._isLoop)for(;ut>this._motionData.duration;)ut-=this._motionData.duration;const ct=this._motionData.curves;for(at=0;at<this._motionData.curveCount&&ct.at(at).type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model;++at)nt=evaluateCurve(this._motionData,at,ut),ct.at(at).id==this._modelCurveIdEyeBlink?rt=nt:ct.at(at).id==this._modelCurveIdLipSync?et=nt:ct.at(at).id==this._modelCurveIdOpacity&&(this._modelOpacity=nt,i.setModelOapcity(this.getModelOpacityValue()));for(;at<this._motionData.curveCount&&ct.at(at).type==CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;++at){if(lt=i.getParameterIndex(ct.at(at).id),lt==-1)continue;const dt=i.getParameterValueByIndex(lt);if(nt=evaluateCurve(this._motionData,at,ut),rt!=Number.MAX_VALUE){for(let ht=0;ht<this._eyeBlinkParameterIds.getSize()&&ht<st;++ht)if(this._eyeBlinkParameterIds.at(ht)==ct.at(at).id){nt*=rt,ot|=1<<ht;break}}if(et!=Number.MAX_VALUE){for(let ht=0;ht<this._lipSyncParameterIds.getSize()&&ht<st;++ht)if(this._lipSyncParameterIds.at(ht)==ct.at(at).id){nt+=et,it|=1<<ht;break}}let ft;if(ct.at(at).fadeInTime<0&&ct.at(at).fadeOutTime<0)ft=dt+(nt-dt)*a;else{let ht,gt;ct.at(at).fadeInTime<0?ht=tt:ht=ct.at(at).fadeInTime==0?1:CubismMath.getEasingSine((s-$.getFadeInStartTime())/ct.at(at).fadeInTime),ct.at(at).fadeOutTime<0?gt=_e:gt=ct.at(at).fadeOutTime==0||$.getEndTime()<0?1:CubismMath.getEasingSine(($.getEndTime()-s)/ct.at(at).fadeOutTime);const yt=this._weight*ht*gt;ft=dt+(nt-dt)*yt}i.setParameterValueByIndex(lt,ft,1)}{if(rt!=Number.MAX_VALUE)for(let dt=0;dt<this._eyeBlinkParameterIds.getSize()&&dt<st;++dt){const ft=i.getParameterValueById(this._eyeBlinkParameterIds.at(dt));if(ot>>dt&1)continue;const ht=ft+(rt-ft)*a;i.setParameterValueById(this._eyeBlinkParameterIds.at(dt),ht)}if(et!=Number.MAX_VALUE)for(let dt=0;dt<this._lipSyncParameterIds.getSize()&&dt<st;++dt){const ft=i.getParameterValueById(this._lipSyncParameterIds.at(dt));if(it>>dt&1)continue;const ht=ft+(et-ft)*a;i.setParameterValueById(this._lipSyncParameterIds.at(dt),ht)}}for(;at<this._motionData.curveCount&&ct.at(at).type==CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;++at)lt=i.getParameterIndex(ct.at(at).id),lt!=-1&&(nt=evaluateCurve(this._motionData,at,ut),i.setParameterValueByIndex(lt,nt));j>=this._motionData.duration&&(this._isLoop?($.setStartTime(s),this._isLoopFadeIn&&$.setFadeInStartTime(s)):(this._onFinishedMotion&&this._onFinishedMotion(this),$.setIsFinished(!0))),this._lastWeight=a}setIsLoop(i){this._isLoop=i}isLoop(){return this._isLoop}setIsLoopFadeIn(i){this._isLoopFadeIn=i}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(i,s){const a=this._motionData.curves;for(let $=0;$<this._motionData.curveCount;++$)if(i==a.at($).id){a.at($).fadeInTime=s;return}}setParameterFadeOutTime(i,s){const a=this._motionData.curves;for(let $=0;$<this._motionData.curveCount;++$)if(i==a.at($).id){a.at($).fadeOutTime=s;return}}getParameterFadeInTime(i){const s=this._motionData.curves;for(let a=0;a<this._motionData.curveCount;++a)if(i==s.at(a).id)return s.at(a).fadeInTime;return-1}getParameterFadeOutTime(i){const s=this._motionData.curves;for(let a=0;a<this._motionData.curveCount;++a)if(i==s.at(a).id)return s.at(a).fadeOutTime;return-1}setEffectIds(i,s){this._eyeBlinkParameterIds=i,this._lipSyncParameterIds=s}constructor(){super(),this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0,this._motionData=null,this._modelCurveIdEyeBlink=null,this._modelCurveIdLipSync=null,this._modelCurveIdOpacity=null,this._eyeBlinkParameterIds=null,this._lipSyncParameterIds=null,this._modelOpacity=1}release(){this._motionData=void 0,this._motionData=null}parse(i,s){this._motionData=new CubismMotionData;let a=new CubismMotionJson(i,s);if(!a){a.release(),a=void 0;return}this._motionData.duration=a.getMotionDuration(),this._motionData.loop=a.isMotionLoop(),this._motionData.curveCount=a.getMotionCurveCount(),this._motionData.fps=a.getMotionFps(),this._motionData.eventCount=a.getEventCount();const $=a.getEvaluationOptionFlag(EvaluationOptionFlag.EvaluationOptionFlag_AreBeziersRistricted);a.isExistMotionFadeInTime()?this._fadeInSeconds=a.getMotionFadeInTime()<0?1:a.getMotionFadeInTime():this._fadeInSeconds=1,a.isExistMotionFadeOutTime()?this._fadeOutSeconds=a.getMotionFadeOutTime()<0?1:a.getMotionFadeOutTime():this._fadeOutSeconds=1,this._motionData.curves.updateSize(this._motionData.curveCount,CubismMotionCurve,!0);let j=0,et=0;for(let it=0;it<this._motionData.curveCount;++it){const ot=a.getMotionCurveSegmentCount(it);for(let tt=0;tt<ot;)if(j++,tt==0)et+=1,tt+=2;else switch(a.getMotionCurveSegment(it,tt)){case CubismMotionSegmentType.CubismMotionSegmentType_Linear:case CubismMotionSegmentType.CubismMotionSegmentType_Stepped:case CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped:et+=1,tt+=3;break;case CubismMotionSegmentType.CubismMotionSegmentType_Bezier:et+=3,tt+=7;break;default:tt+=3,et+=1;break}}this._motionData.segments.updateSize(j,CubismMotionSegment,!0),this._motionData.points.updateSize(et,CubismMotionPoint,!0),this._motionData.events.updateSize(this._motionData.eventCount,CubismMotionEvent,!0);let rt=0,st=0;for(let it=0;it<this._motionData.curveCount;++it){a.getMotionCurveTarget(it)==TargetNameModel?this._motionData.curves.at(it).type=CubismMotionCurveTarget.CubismMotionCurveTarget_Model:a.getMotionCurveTarget(it)==TargetNameParameter?this._motionData.curves.at(it).type=CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter:a.getMotionCurveTarget(it)==TargetNamePartOpacity?this._motionData.curves.at(it).type=CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity:CubismLogWarning('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!'),this._motionData.curves.at(it).id=a.getMotionCurveId(it),this._motionData.curves.at(it).baseSegmentIndex=st,this._motionData.curves.at(it).fadeInTime=a.isExistMotionCurveFadeInTime(it)?a.getMotionCurveFadeInTime(it):-1,this._motionData.curves.at(it).fadeOutTime=a.isExistMotionCurveFadeOutTime(it)?a.getMotionCurveFadeOutTime(it):-1;for(let ot=0;ot<a.getMotionCurveSegmentCount(it);){switch(ot==0?(this._motionData.segments.at(st).basePointIndex=rt,this._motionData.points.at(rt).time=a.getMotionCurveSegment(it,ot),this._motionData.points.at(rt).value=a.getMotionCurveSegment(it,ot+1),rt+=1,ot+=2):this._motionData.segments.at(st).basePointIndex=rt-1,a.getMotionCurveSegment(it,ot)){case CubismMotionSegmentType.CubismMotionSegmentType_Linear:{if(this._motionData.segments.at(st).segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Linear,this._motionData.segments.at(st).evaluate=linearEvaluate,rt>=this._motionData.points.getSize()){const nt=Math.max(rt+1,this._motionData.points.getSize()*2);CubismLogWarning(`Expanding motion points array from ${this._motionData.points.getSize()} to ${nt} for Linear segment`),this._motionData.points.updateSize(nt,CubismMotionPoint,!0)}this._motionData.points.at(rt).time=a.getMotionCurveSegment(it,ot+1),this._motionData.points.at(rt).value=a.getMotionCurveSegment(it,ot+2),rt+=1,ot+=3;break}case CubismMotionSegmentType.CubismMotionSegmentType_Bezier:{this._motionData.segments.at(st).segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Bezier,$||UseOldBeziersCurveMotion?this._motionData.segments.at(st).evaluate=bezierEvaluate:this._motionData.segments.at(st).evaluate=bezierEvaluateCardanoInterpretation,this._motionData.points.at(rt).time=a.getMotionCurveSegment(it,ot+1),this._motionData.points.at(rt).value=a.getMotionCurveSegment(it,ot+2),this._motionData.points.at(rt+1).time=a.getMotionCurveSegment(it,ot+3),this._motionData.points.at(rt+1).value=a.getMotionCurveSegment(it,ot+4),this._motionData.points.at(rt+2).time=a.getMotionCurveSegment(it,ot+5),this._motionData.points.at(rt+2).value=a.getMotionCurveSegment(it,ot+6),rt+=3,ot+=7;break}case CubismMotionSegmentType.CubismMotionSegmentType_Stepped:{this._motionData.segments.at(st).segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Stepped,this._motionData.segments.at(st).evaluate=steppedEvaluate,this._motionData.points.at(rt).time=a.getMotionCurveSegment(it,ot+1),this._motionData.points.at(rt).value=a.getMotionCurveSegment(it,ot+2),rt+=1,ot+=3;break}case CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped:{this._motionData.segments.at(st).segmentType=CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped,this._motionData.segments.at(st).evaluate=inverseSteppedEvaluate,this._motionData.points.at(rt).time=a.getMotionCurveSegment(it,ot+1),this._motionData.points.at(rt).value=a.getMotionCurveSegment(it,ot+2),rt+=1,ot+=3;break}default:{CSM_ASSERT(0);break}}++this._motionData.curves.at(it).segmentCount,++st}}for(let it=0;it<a.getEventCount();++it)this._motionData.events.at(it).fireTime=a.getEventTime(it),this._motionData.events.at(it).value=a.getEventValue(it);a.release(),a=void 0,a=null}getFiredEvent(i,s){this._firedEventValues.updateSize(0);for(let a=0;a<this._motionData.eventCount;++a)this._motionData.events.at(a).fireTime>i&&this._motionData.events.at(a).fireTime<=s&&this._firedEventValues.pushBack(new csmString(this._motionData.events.at(a).value.s));return this._firedEventValues}isExistModelOpacity(){for(let i=0;i<this._motionData.curveCount;i++){const s=this._motionData.curves.at(i);if(s.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&s.id.getString().s.localeCompare(IdNameOpacity)==0)return!0}return!1}getModelOpacityIndex(){if(this.isExistModelOpacity())for(let i=0;i<this._motionData.curveCount;i++){const s=this._motionData.curves.at(i);if(s.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&s.id.getString().s.localeCompare(IdNameOpacity)==0)return i}return-1}getModelOpacityId(i){if(i!=-1){const s=this._motionData.curves.at(i);if(s.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&s.id.getString().s.localeCompare(IdNameOpacity)==0)return CubismFramework.getIdManager().getId(s.id.getString().s)}return null}getModelOpacityValue(){return this._modelOpacity}}var Live2DCubismFramework$c;(o=>{o.CubismMotion=CubismMotion})(Live2DCubismFramework$c||(Live2DCubismFramework$c={}));class CubismMotionManager extends CubismMotionQueueManager{constructor(){super(),this._currentPriority=0,this._reservePriority=0}getCurrentPriority(){return this._currentPriority}getReservePriority(){return this._reservePriority}setReservePriority(i){this._reservePriority=i}startMotionPriority(i,s,a){return a==this._reservePriority&&(this._reservePriority=0),this._currentPriority=a,super.startMotion(i,s)}updateMotion(i,s){this._userTimeSeconds+=s;const a=super.doUpdateMotion(i,this._userTimeSeconds);return this.isFinished()&&(this._currentPriority=0),a}reserveMotion(i){return i<=this._reservePriority||i<=this._currentPriority?!1:(this._reservePriority=i,!0)}}var Live2DCubismFramework$b;(o=>{o.CubismMotionManager=CubismMotionManager})(Live2DCubismFramework$b||(Live2DCubismFramework$b={}));var CubismPhysicsTargetType=(o=>(o[o.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",o))(CubismPhysicsTargetType||{}),CubismPhysicsSource=(o=>(o[o.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",o[o.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",o[o.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",o))(CubismPhysicsSource||{});class PhysicsJsonEffectiveForces{constructor(){this.gravity=new CubismVector2(0,0),this.wind=new CubismVector2(0,0)}}class CubismPhysicsParameter{}class CubismPhysicsNormalization{}class CubismPhysicsParticle{constructor(){this.initialPosition=new CubismVector2(0,0),this.position=new CubismVector2(0,0),this.lastPosition=new CubismVector2(0,0),this.lastGravity=new CubismVector2(0,0),this.force=new CubismVector2(0,0),this.velocity=new CubismVector2(0,0)}}class CubismPhysicsSubRig{constructor(){this.normalizationPosition=new CubismPhysicsNormalization,this.normalizationAngle=new CubismPhysicsNormalization}}class CubismPhysicsInput{constructor(){this.source=new CubismPhysicsParameter}}class CubismPhysicsOutput{constructor(){this.destination=new CubismPhysicsParameter,this.translationScale=new CubismVector2(0,0)}}class CubismPhysicsRig{constructor(){this.settings=new csmVector,this.inputs=new csmVector,this.outputs=new csmVector,this.particles=new csmVector,this.gravity=new CubismVector2(0,0),this.wind=new CubismVector2(0,0),this.fps=0}}var Live2DCubismFramework$a;(o=>{o.CubismPhysicsInput=CubismPhysicsInput,o.CubismPhysicsNormalization=CubismPhysicsNormalization,o.CubismPhysicsOutput=CubismPhysicsOutput,o.CubismPhysicsParameter=CubismPhysicsParameter,o.CubismPhysicsParticle=CubismPhysicsParticle,o.CubismPhysicsRig=CubismPhysicsRig,o.CubismPhysicsSource=CubismPhysicsSource,o.CubismPhysicsSubRig=CubismPhysicsSubRig,o.CubismPhysicsTargetType=CubismPhysicsTargetType,o.PhysicsJsonEffectiveForces=PhysicsJsonEffectiveForces})(Live2DCubismFramework$a||(Live2DCubismFramework$a={}));const Position="Position",X="X",Y="Y",Angle="Angle",Type="Type",Id$1="Id",Meta$1="Meta",EffectiveForces="EffectiveForces",TotalInputCount="TotalInputCount",TotalOutputCount="TotalOutputCount",PhysicsSettingCount="PhysicsSettingCount",Gravity="Gravity",Wind="Wind",VertexCount="VertexCount",Fps="Fps",PhysicsSettings="PhysicsSettings",Normalization="Normalization",Minimum="Minimum",Maximum="Maximum",Default="Default",Reflect$1="Reflect",Weight="Weight",Input="Input",Source="Source",Output="Output",Scale="Scale",VertexIndex="VertexIndex",Destination="Destination",Vertices="Vertices",Mobility="Mobility",Delay="Delay",Radius="Radius",Acceleration="Acceleration";class CubismPhysicsJson{constructor(i,s){this._json=CubismJson.create(i,s)}release(){CubismJson.delete(this._json)}getGravity(){const i=new CubismVector2(0,0);return i.x=this._json.getRoot().getValueByString(Meta$1).getValueByString(EffectiveForces).getValueByString(Gravity).getValueByString(X).toFloat(),i.y=this._json.getRoot().getValueByString(Meta$1).getValueByString(EffectiveForces).getValueByString(Gravity).getValueByString(Y).toFloat(),i}getWind(){const i=new CubismVector2(0,0);return i.x=this._json.getRoot().getValueByString(Meta$1).getValueByString(EffectiveForces).getValueByString(Wind).getValueByString(X).toFloat(),i.y=this._json.getRoot().getValueByString(Meta$1).getValueByString(EffectiveForces).getValueByString(Wind).getValueByString(Y).toFloat(),i}getFps(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(Fps).toFloat(0)}getSubRigCount(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(PhysicsSettingCount).toInt()}getTotalInputCount(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(TotalInputCount).toInt()}getTotalOutputCount(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(TotalOutputCount).toInt()}getVertexCount(){return this._json.getRoot().getValueByString(Meta$1).getValueByString(VertexCount).toInt()}getNormalizationPositionMinimumValue(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Normalization).getValueByString(Position).getValueByString(Minimum).toFloat()}getNormalizationPositionMaximumValue(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Normalization).getValueByString(Position).getValueByString(Maximum).toFloat()}getNormalizationPositionDefaultValue(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Normalization).getValueByString(Position).getValueByString(Default).toFloat()}getNormalizationAngleMinimumValue(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Normalization).getValueByString(Angle).getValueByString(Minimum).toFloat()}getNormalizationAngleMaximumValue(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Normalization).getValueByString(Angle).getValueByString(Maximum).toFloat()}getNormalizationAngleDefaultValue(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Normalization).getValueByString(Angle).getValueByString(Default).toFloat()}getInputCount(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Input).getVector().getSize()}getInputWeight(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Input).getValueByIndex(s).getValueByString(Weight).toFloat()}getInputReflect(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Input).getValueByIndex(s).getValueByString(Reflect$1).toBoolean()}getInputType(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Input).getValueByIndex(s).getValueByString(Type).getRawString()}getInputSourceId(i,s){return CubismFramework.getIdManager().getId(this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Input).getValueByIndex(s).getValueByString(Source).getValueByString(Id$1).getRawString())}getOutputCount(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Output).getVector().getSize()}getOutputVertexIndex(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Output).getValueByIndex(s).getValueByString(VertexIndex).toInt()}getOutputAngleScale(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Output).getValueByIndex(s).getValueByString(Scale).toFloat()}getOutputWeight(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Output).getValueByIndex(s).getValueByString(Weight).toFloat()}getOutputDestinationId(i,s){return CubismFramework.getIdManager().getId(this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Output).getValueByIndex(s).getValueByString(Destination).getValueByString(Id$1).getRawString())}getOutputType(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Output).getValueByIndex(s).getValueByString(Type).getRawString()}getOutputReflect(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Output).getValueByIndex(s).getValueByString(Reflect$1).toBoolean()}getParticleCount(i){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Vertices).getVector().getSize()}getParticleMobility(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Vertices).getValueByIndex(s).getValueByString(Mobility).toFloat()}getParticleDelay(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Vertices).getValueByIndex(s).getValueByString(Delay).toFloat()}getParticleAcceleration(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Vertices).getValueByIndex(s).getValueByString(Acceleration).toFloat()}getParticleRadius(i,s){return this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Vertices).getValueByIndex(s).getValueByString(Radius).toFloat()}getParticlePosition(i,s){const a=new CubismVector2(0,0);return a.x=this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Vertices).getValueByIndex(s).getValueByString(Position).getValueByString(X).toFloat(),a.y=this._json.getRoot().getValueByString(PhysicsSettings).getValueByIndex(i).getValueByString(Vertices).getValueByIndex(s).getValueByString(Position).getValueByString(Y).toFloat(),a}}var Live2DCubismFramework$9;(o=>{o.CubismPhysicsJson=CubismPhysicsJson})(Live2DCubismFramework$9||(Live2DCubismFramework$9={}));const PhysicsTypeTagX="X",PhysicsTypeTagY="Y",PhysicsTypeTagAngle="Angle",AirResistance=5,MaximumWeight=100,MovementThreshold=.001,MaxDeltaTime=5;class CubismPhysics{static create(i,s){const a=new CubismPhysics;return a.parse(i,s),a._physicsRig.gravity.y=0,a}static delete(i){i!=null&&(i.release(),i=null)}parse(i,s){this._physicsRig=new CubismPhysicsRig;let a=new CubismPhysicsJson(i,s);this._physicsRig.gravity=a.getGravity(),this._physicsRig.wind=a.getWind(),this._physicsRig.subRigCount=a.getSubRigCount(),this._physicsRig.fps=a.getFps(),this._physicsRig.settings.updateSize(this._physicsRig.subRigCount,CubismPhysicsSubRig,!0),this._physicsRig.inputs.updateSize(a.getTotalInputCount(),CubismPhysicsInput,!0),this._physicsRig.outputs.updateSize(a.getTotalOutputCount(),CubismPhysicsOutput,!0),this._physicsRig.particles.updateSize(a.getVertexCount(),CubismPhysicsParticle,!0),this._currentRigOutputs.clear(),this._previousRigOutputs.clear();let $=0,j=0,et=0;for(let rt=0;rt<this._physicsRig.settings.getSize();++rt){this._physicsRig.settings.at(rt).normalizationPosition.minimum=a.getNormalizationPositionMinimumValue(rt),this._physicsRig.settings.at(rt).normalizationPosition.maximum=a.getNormalizationPositionMaximumValue(rt),this._physicsRig.settings.at(rt).normalizationPosition.defalut=a.getNormalizationPositionDefaultValue(rt),this._physicsRig.settings.at(rt).normalizationAngle.minimum=a.getNormalizationAngleMinimumValue(rt),this._physicsRig.settings.at(rt).normalizationAngle.maximum=a.getNormalizationAngleMaximumValue(rt),this._physicsRig.settings.at(rt).normalizationAngle.defalut=a.getNormalizationAngleDefaultValue(rt),this._physicsRig.settings.at(rt).inputCount=a.getInputCount(rt),this._physicsRig.settings.at(rt).baseInputIndex=$;for(let ot=0;ot<this._physicsRig.settings.at(rt).inputCount;++ot)this._physicsRig.inputs.at($+ot).sourceParameterIndex=-1,this._physicsRig.inputs.at($+ot).weight=a.getInputWeight(rt,ot),this._physicsRig.inputs.at($+ot).reflect=a.getInputReflect(rt,ot),a.getInputType(rt,ot)==PhysicsTypeTagX?(this._physicsRig.inputs.at($+ot).type=CubismPhysicsSource.CubismPhysicsSource_X,this._physicsRig.inputs.at($+ot).getNormalizedParameterValue=getInputTranslationXFromNormalizedParameterValue):a.getInputType(rt,ot)==PhysicsTypeTagY?(this._physicsRig.inputs.at($+ot).type=CubismPhysicsSource.CubismPhysicsSource_Y,this._physicsRig.inputs.at($+ot).getNormalizedParameterValue=getInputTranslationYFromNormalizedParamterValue):a.getInputType(rt,ot)==PhysicsTypeTagAngle&&(this._physicsRig.inputs.at($+ot).type=CubismPhysicsSource.CubismPhysicsSource_Angle,this._physicsRig.inputs.at($+ot).getNormalizedParameterValue=getInputAngleFromNormalizedParameterValue),this._physicsRig.inputs.at($+ot).source.targetType=CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter,this._physicsRig.inputs.at($+ot).source.id=a.getInputSourceId(rt,ot);$+=this._physicsRig.settings.at(rt).inputCount,this._physicsRig.settings.at(rt).outputCount=a.getOutputCount(rt),this._physicsRig.settings.at(rt).baseOutputIndex=j;const st=new PhysicsOutput;st.outputs.resize(this._physicsRig.settings.at(rt).outputCount);const it=new PhysicsOutput;it.outputs.resize(this._physicsRig.settings.at(rt).outputCount);for(let ot=0;ot<this._physicsRig.settings.at(rt).outputCount;++ot)st.outputs.set(ot,0),it.outputs.set(ot,0),this._physicsRig.outputs.at(j+ot).destinationParameterIndex=-1,this._physicsRig.outputs.at(j+ot).vertexIndex=a.getOutputVertexIndex(rt,ot),this._physicsRig.outputs.at(j+ot).angleScale=a.getOutputAngleScale(rt,ot),this._physicsRig.outputs.at(j+ot).weight=a.getOutputWeight(rt,ot),this._physicsRig.outputs.at(j+ot).destination.targetType=CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter,this._physicsRig.outputs.at(j+ot).destination.id=a.getOutputDestinationId(rt,ot),a.getOutputType(rt,ot)==PhysicsTypeTagX?(this._physicsRig.outputs.at(j+ot).type=CubismPhysicsSource.CubismPhysicsSource_X,this._physicsRig.outputs.at(j+ot).getValue=getOutputTranslationX,this._physicsRig.outputs.at(j+ot).getScale=getOutputScaleTranslationX):a.getOutputType(rt,ot)==PhysicsTypeTagY?(this._physicsRig.outputs.at(j+ot).type=CubismPhysicsSource.CubismPhysicsSource_Y,this._physicsRig.outputs.at(j+ot).getValue=getOutputTranslationY,this._physicsRig.outputs.at(j+ot).getScale=getOutputScaleTranslationY):a.getOutputType(rt,ot)==PhysicsTypeTagAngle&&(this._physicsRig.outputs.at(j+ot).type=CubismPhysicsSource.CubismPhysicsSource_Angle,this._physicsRig.outputs.at(j+ot).getValue=getOutputAngle,this._physicsRig.outputs.at(j+ot).getScale=getOutputScaleAngle),this._physicsRig.outputs.at(j+ot).reflect=a.getOutputReflect(rt,ot);this._currentRigOutputs.pushBack(st),this._previousRigOutputs.pushBack(it),j+=this._physicsRig.settings.at(rt).outputCount,this._physicsRig.settings.at(rt).particleCount=a.getParticleCount(rt),this._physicsRig.settings.at(rt).baseParticleIndex=et;for(let ot=0;ot<this._physicsRig.settings.at(rt).particleCount;++ot)this._physicsRig.particles.at(et+ot).mobility=a.getParticleMobility(rt,ot),this._physicsRig.particles.at(et+ot).delay=a.getParticleDelay(rt,ot),this._physicsRig.particles.at(et+ot).acceleration=a.getParticleAcceleration(rt,ot),this._physicsRig.particles.at(et+ot).radius=a.getParticleRadius(rt,ot),this._physicsRig.particles.at(et+ot).position=a.getParticlePosition(rt,ot);et+=this._physicsRig.settings.at(rt).particleCount}this.initialize(),a.release(),a=void 0,a=null}stabilization(i){var lt,ut;let s,a,$,j;const et=new CubismVector2;let rt,st,it,ot;const tt=i.getModel().parameters.values,_e=i.getModel().parameters.maximumValues,nt=i.getModel().parameters.minimumValues,at=i.getModel().parameters.defaultValues;(((lt=this._parameterCaches)==null?void 0:lt.length)??0)<i.getParameterCount()&&(this._parameterCaches=new Float32Array(i.getParameterCount())),(((ut=this._parameterInputCaches)==null?void 0:ut.length)??0)<i.getParameterCount()&&(this._parameterInputCaches=new Float32Array(i.getParameterCount()));for(let ct=0;ct<i.getParameterCount();++ct)this._parameterCaches[ct]=tt[ct],this._parameterInputCaches[ct]=tt[ct];for(let ct=0;ct<this._physicsRig.subRigCount;++ct){s={angle:0},et.x=0,et.y=0,rt=this._physicsRig.settings.at(ct),st=this._physicsRig.inputs.get(rt.baseInputIndex),it=this._physicsRig.outputs.get(rt.baseOutputIndex),ot=this._physicsRig.particles.get(rt.baseParticleIndex);for(let dt=0;dt<rt.inputCount;++dt)a=st[dt].weight/MaximumWeight,st[dt].sourceParameterIndex==-1&&(st[dt].sourceParameterIndex=i.getParameterIndex(st[dt].source.id)),st[dt].getNormalizedParameterValue(et,s,tt[st[dt].sourceParameterIndex],nt[st[dt].sourceParameterIndex],_e[st[dt].sourceParameterIndex],at[st[dt].sourceParameterIndex],rt.normalizationPosition,rt.normalizationAngle,st[dt].reflect,a),this._parameterCaches[st[dt].sourceParameterIndex]=tt[st[dt].sourceParameterIndex];$=CubismMath.degreesToRadian(-s.angle),et.x=et.x*CubismMath.cos($)-et.y*CubismMath.sin($),et.y=et.x*CubismMath.sin($)+et.y*CubismMath.cos($),updateParticlesForStabilization(ot,rt.particleCount,et,s.angle,this._options.wind,MovementThreshold*rt.normalizationPosition.maximum);for(let dt=0;dt<rt.outputCount;++dt){const ft=it[dt].vertexIndex;if(it[dt].destinationParameterIndex==-1&&(it[dt].destinationParameterIndex=i.getParameterIndex(it[dt].destination.id)),ft<1||ft>=rt.particleCount)continue;let ht=new CubismVector2;ht=ot[ft].position.substract(ot[ft-1].position),j=it[dt].getValue(ht,ot,ft,it[dt].reflect,this._options.gravity),this._currentRigOutputs.at(ct).outputs.set(dt,j),this._previousRigOutputs.at(ct).outputs.set(dt,j);const gt=it[dt].destinationParameterIndex,yt=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(tt.subarray(gt))):tt.slice(gt);updateOutputParameterValue(yt,nt[gt],_e[gt],j,it[dt]);for(let bt=gt,vt=0;bt<this._parameterCaches.length;bt++,vt++)tt[bt]=this._parameterCaches[bt]=yt[vt]}}}evaluate(i,s){var dt,ft;let a,$,j,et;const rt=new CubismVector2;let st,it,ot,tt;if(0>=s)return;const _e=i.getModel().parameters.values,nt=i.getModel().parameters.maximumValues,at=i.getModel().parameters.minimumValues,lt=i.getModel().parameters.defaultValues;let ut;if(this._currentRemainTime+=s,this._currentRemainTime>MaxDeltaTime&&(this._currentRemainTime=0),(((dt=this._parameterCaches)==null?void 0:dt.length)??0)<i.getParameterCount()&&(this._parameterCaches=new Float32Array(i.getParameterCount())),(((ft=this._parameterInputCaches)==null?void 0:ft.length)??0)<i.getParameterCount()){this._parameterInputCaches=new Float32Array(i.getParameterCount());for(let ht=0;ht<i.getParameterCount();++ht)this._parameterInputCaches[ht]=_e[ht]}for(this._physicsRig.fps>0?ut=1/this._physicsRig.fps:ut=s;this._currentRemainTime>=ut;){for(let gt=0;gt<this._physicsRig.subRigCount;++gt){st=this._physicsRig.settings.at(gt),ot=this._physicsRig.outputs.get(st.baseOutputIndex);for(let yt=0;yt<st.outputCount;++yt)this._previousRigOutputs.at(gt).outputs.set(yt,this._currentRigOutputs.at(gt).outputs.at(yt))}const ht=ut/this._currentRemainTime;for(let gt=0;gt<i.getParameterCount();++gt)this._parameterCaches[gt]=this._parameterInputCaches[gt]*(1-ht)+_e[gt]*ht,this._parameterInputCaches[gt]=this._parameterCaches[gt];for(let gt=0;gt<this._physicsRig.subRigCount;++gt){a={angle:0},rt.x=0,rt.y=0,st=this._physicsRig.settings.at(gt),it=this._physicsRig.inputs.get(st.baseInputIndex),ot=this._physicsRig.outputs.get(st.baseOutputIndex),tt=this._physicsRig.particles.get(st.baseParticleIndex);for(let yt=0;yt<st.inputCount;++yt)$=it[yt].weight/MaximumWeight,it[yt].sourceParameterIndex==-1&&(it[yt].sourceParameterIndex=i.getParameterIndex(it[yt].source.id)),it[yt].getNormalizedParameterValue(rt,a,this._parameterCaches[it[yt].sourceParameterIndex],at[it[yt].sourceParameterIndex],nt[it[yt].sourceParameterIndex],lt[it[yt].sourceParameterIndex],st.normalizationPosition,st.normalizationAngle,it[yt].reflect,$);j=CubismMath.degreesToRadian(-a.angle),rt.x=rt.x*CubismMath.cos(j)-rt.y*CubismMath.sin(j),rt.y=rt.x*CubismMath.sin(j)+rt.y*CubismMath.cos(j),updateParticles(tt,st.particleCount,rt,a.angle,this._options.wind,MovementThreshold*st.normalizationPosition.maximum,ut,AirResistance);for(let yt=0;yt<st.outputCount;++yt){const bt=ot[yt].vertexIndex;if(ot[yt].destinationParameterIndex==-1&&(ot[yt].destinationParameterIndex=i.getParameterIndex(ot[yt].destination.id)),bt<1||bt>=st.particleCount)continue;const vt=new CubismVector2;vt.x=tt[bt].position.x-tt[bt-1].position.x,vt.y=tt[bt].position.y-tt[bt-1].position.y,et=ot[yt].getValue(vt,tt,bt,ot[yt].reflect,this._options.gravity),this._currentRigOutputs.at(gt).outputs.set(yt,et);const mt=ot[yt].destinationParameterIndex,xt=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(this._parameterCaches.subarray(mt))):this._parameterCaches.slice(mt);updateOutputParameterValue(xt,at[mt],nt[mt],et,ot[yt]);for(let wt=mt,Ct=0;wt<this._parameterCaches.length;wt++,Ct++)this._parameterCaches[wt]=xt[Ct]}}this._currentRemainTime-=ut}const ct=this._currentRemainTime/ut;this.interpolate(i,ct)}interpolate(i,s){let a,$;const j=i.getModel().parameters.values,et=i.getModel().parameters.maximumValues,rt=i.getModel().parameters.minimumValues;for(let st=0;st<this._physicsRig.subRigCount;++st){$=this._physicsRig.settings.at(st),a=this._physicsRig.outputs.get($.baseOutputIndex);for(let it=0;it<$.outputCount;++it){if(a[it].destinationParameterIndex==-1)continue;const ot=a[it].destinationParameterIndex,tt=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(j.subarray(ot))):j.slice(ot);updateOutputParameterValue(tt,rt[ot],et[ot],this._previousRigOutputs.at(st).outputs.at(it)*(1-s)+this._currentRigOutputs.at(st).outputs.at(it)*s,a[it]);for(let _e=ot,nt=0;_e<j.length;_e++,nt++)j[_e]=tt[nt]}}}setOptions(i){this._options=i}getOption(){return this._options}constructor(){this._physicsRig=null,this._options=new Options,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0,this._currentRigOutputs=new csmVector,this._previousRigOutputs=new csmVector,this._currentRemainTime=0,this._parameterCaches=null,this._parameterInputCaches=null}release(){this._physicsRig=void 0,this._physicsRig=null}initialize(){let i,s,a;for(let $=0;$<this._physicsRig.subRigCount;++$){s=this._physicsRig.settings.at($),i=this._physicsRig.particles.get(s.baseParticleIndex),i[0].initialPosition=new CubismVector2(0,0),i[0].lastPosition=new CubismVector2(i[0].initialPosition.x,i[0].initialPosition.y),i[0].lastGravity=new CubismVector2(0,-1),i[0].lastGravity.y*=-1,i[0].velocity=new CubismVector2(0,0),i[0].force=new CubismVector2(0,0);for(let j=1;j<s.particleCount;++j)a=new CubismVector2(0,0),a.y=i[j].radius,i[j].initialPosition=new CubismVector2(i[j-1].initialPosition.x+a.x,i[j-1].initialPosition.y+a.y),i[j].position=new CubismVector2(i[j].initialPosition.x,i[j].initialPosition.y),i[j].lastPosition=new CubismVector2(i[j].initialPosition.x,i[j].initialPosition.y),i[j].lastGravity=new CubismVector2(0,-1),i[j].lastGravity.y*=-1,i[j].velocity=new CubismVector2(0,0),i[j].force=new CubismVector2(0,0)}}}class Options{constructor(){this.gravity=new CubismVector2(0,0),this.wind=new CubismVector2(0,0)}}class PhysicsOutput{constructor(){this.outputs=new csmVector(0)}}function sign(o){let i=0;return o>0?i=1:o<0&&(i=-1),i}function getInputTranslationXFromNormalizedParameterValue(o,i,s,a,$,j,et,rt,st,it){o.x+=normalizeParameterValue(s,a,$,j,et.minimum,et.maximum,et.defalut,st)*it}function getInputTranslationYFromNormalizedParamterValue(o,i,s,a,$,j,et,rt,st,it){o.y+=normalizeParameterValue(s,a,$,j,et.minimum,et.maximum,et.defalut,st)*it}function getInputAngleFromNormalizedParameterValue(o,i,s,a,$,j,et,rt,st,it){i.angle+=normalizeParameterValue(s,a,$,j,rt.minimum,rt.maximum,rt.defalut,st)*it}function getOutputTranslationX(o,i,s,a,$){let j=o.x;return a&&(j*=-1),j}function getOutputTranslationY(o,i,s,a,$){let j=o.y;return a&&(j*=-1),j}function getOutputAngle(o,i,s,a,$){let j;return s>=2?$=i[s-1].position.substract(i[s-2].position):$=$.multiplyByScaler(-1),j=CubismMath.directionToRadian($,o),a&&(j*=-1),j}function getRangeValue(o,i){const s=CubismMath.max(o,i),a=CubismMath.min(o,i);return CubismMath.abs(s-a)}function getDefaultValue(o,i){return CubismMath.min(o,i)+getRangeValue(o,i)/2}function getOutputScaleTranslationX(o,i){return JSON.parse(JSON.stringify(o.x))}function getOutputScaleTranslationY(o,i){return JSON.parse(JSON.stringify(o.y))}function getOutputScaleAngle(o,i){return JSON.parse(JSON.stringify(i))}function updateParticles(o,i,s,a,$,j,et,rt){let st,it,ot=new CubismVector2(0,0),tt=new CubismVector2(0,0),_e=new CubismVector2(0,0),nt=new CubismVector2(0,0);o[0].position=new CubismVector2(s.x,s.y);const at=CubismMath.degreesToRadian(a),lt=CubismMath.radianToDirection(at);lt.normalize();for(let ut=1;ut<i;++ut)o[ut].force=lt.multiplyByScaler(o[ut].acceleration).add($),o[ut].lastPosition=new CubismVector2(o[ut].position.x,o[ut].position.y),st=o[ut].delay*et*30,ot=o[ut].position.substract(o[ut-1].position),it=CubismMath.directionToRadian(o[ut].lastGravity,lt)/rt,ot.x=CubismMath.cos(it)*ot.x-ot.y*CubismMath.sin(it),ot.y=CubismMath.sin(it)*ot.x+ot.y*CubismMath.cos(it),o[ut].position=o[ut-1].position.add(ot),tt=o[ut].velocity.multiplyByScaler(st),_e=o[ut].force.multiplyByScaler(st).multiplyByScaler(st),o[ut].position=o[ut].position.add(tt).add(_e),nt=o[ut].position.substract(o[ut-1].position),nt.normalize(),o[ut].position=o[ut-1].position.add(nt.multiplyByScaler(o[ut].radius)),CubismMath.abs(o[ut].position.x)<j&&(o[ut].position.x=0),st!=0&&(o[ut].velocity=o[ut].position.substract(o[ut].lastPosition),o[ut].velocity=o[ut].velocity.divisionByScalar(st),o[ut].velocity=o[ut].velocity.multiplyByScaler(o[ut].mobility)),o[ut].force=new CubismVector2(0,0),o[ut].lastGravity=new CubismVector2(lt.x,lt.y)}function updateParticlesForStabilization(o,i,s,a,$,j){let et=new CubismVector2(0,0);o[0].position=new CubismVector2(s.x,s.y);const rt=CubismMath.degreesToRadian(a),st=CubismMath.radianToDirection(rt);st.normalize();for(let it=1;it<i;++it)o[it].force=st.multiplyByScaler(o[it].acceleration).add($),o[it].lastPosition=new CubismVector2(o[it].position.x,o[it].position.y),o[it].velocity=new CubismVector2(0,0),et=o[it].force,et.normalize(),et=et.multiplyByScaler(o[it].radius),o[it].position=o[it-1].position.add(et),CubismMath.abs(o[it].position.x)<j&&(o[it].position.x=0),o[it].force=new CubismVector2(0,0),o[it].lastGravity=new CubismVector2(st.x,st.y)}function updateOutputParameterValue(o,i,s,a,$){let j;const et=$.getScale($.translationScale,$.angleScale);j=a*et,j<i?(j<$.valueBelowMinimum&&($.valueBelowMinimum=j),j=i):j>s&&(j>$.valueExceededMaximum&&($.valueExceededMaximum=j),j=s);const rt=$.weight/MaximumWeight;rt>=1||(j=o[0]*(1-rt)+j*rt),o[0]=j}function normalizeParameterValue(o,i,s,a,$,j,et,rt){let st=0;const it=CubismMath.max(s,i);it<o&&(o=it);const ot=CubismMath.min(s,i);ot>o&&(o=ot);const tt=CubismMath.min($,j),_e=CubismMath.max($,j),nt=et,at=getDefaultValue(ot,it),lt=o-at;switch(sign(lt)){case 1:{const ut=_e-nt,ct=it-at;ct!=0&&(st=lt*(ut/ct),st+=nt);break}case-1:{const ut=tt-nt,ct=ot-at;ct!=0&&(st=lt*(ut/ct),st+=nt);break}case 0:{st=nt;break}}return rt?st:st*-1}var Live2DCubismFramework$8;(o=>{o.CubismPhysics=CubismPhysics,o.Options=Options})(Live2DCubismFramework$8||(Live2DCubismFramework$8={}));const ColorChannelCount=4,ClippingMaskMaxCountOnDefault=36,ClippingMaskMaxCountOnMultiRenderTexture=32;class CubismClippingManager{constructor(i){this._renderTextureCount=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=new csmVector,this._clippingContextListForDraw=new csmVector,this._channelColors=new csmVector,this._tmpBoundsOnModel=new csmRect,this._tmpMatrix=new CubismMatrix44,this._tmpMatrixForMask=new CubismMatrix44,this._tmpMatrixForDraw=new CubismMatrix44,this._clippingContexttConstructor=i;let s=new CubismTextureColor;s.r=1,s.g=0,s.b=0,s.a=0,this._channelColors.pushBack(s),s=new CubismTextureColor,s.r=0,s.g=1,s.b=0,s.a=0,this._channelColors.pushBack(s),s=new CubismTextureColor,s.r=0,s.g=0,s.b=1,s.a=0,this._channelColors.pushBack(s),s=new CubismTextureColor,s.r=0,s.g=0,s.b=0,s.a=1,this._channelColors.pushBack(s)}release(){for(let i=0;i<this._clippingContextListForMask.getSize();i++)this._clippingContextListForMask.at(i)&&(this._clippingContextListForMask.at(i).release(),this._clippingContextListForMask.set(i,void 0)),this._clippingContextListForMask.set(i,null);this._clippingContextListForMask=null;for(let i=0;i<this._clippingContextListForDraw.getSize();i++)this._clippingContextListForDraw.set(i,null);this._clippingContextListForDraw=null;for(let i=0;i<this._channelColors.getSize();i++)this._channelColors.set(i,null);this._channelColors=null,this._clearedFrameBufferFlags!=null&&this._clearedFrameBufferFlags.clear(),this._clearedFrameBufferFlags=null}initialize(i,s){s%1!=0&&(CubismLogWarning("The number of render textures must be specified as an integer. The decimal point is rounded down and corrected to an integer."),s=~~s),s<1&&CubismLogWarning("The number of render textures must be an integer greater than or equal to 1. Set the number of render textures to 1."),this._renderTextureCount=s<1?1:s,this._clearedFrameBufferFlags=new csmVector(this._renderTextureCount);for(let a=0;a<i.getDrawableCount();a++){if(i.getDrawableMaskCounts()[a]<=0){this._clippingContextListForDraw.pushBack(null);continue}let $=this.findSameClip(i.getDrawableMasks()[a],i.getDrawableMaskCounts()[a]);$==null&&($=new this._clippingContexttConstructor(this,i.getDrawableMasks()[a],i.getDrawableMaskCounts()[a]),this._clippingContextListForMask.pushBack($)),$.addClippedDrawable(a),this._clippingContextListForDraw.pushBack($)}}findSameClip(i,s){for(let a=0;a<this._clippingContextListForMask.getSize();a++){const $=this._clippingContextListForMask.at(a),j=$._clippingIdCount;if(j!=s)continue;let et=0;for(let rt=0;rt<j;rt++){const st=$._clippingIdList[rt];for(let it=0;it<j;it++)if(i[it]==st){et++;break}}if(et==j)return $}return null}setupMatrixForHighPrecision(i,s){let a=0;for(let $=0;$<this._clippingContextListForMask.getSize();$++){const j=this._clippingContextListForMask.at($);this.calcClippedDrawTotalBounds(i,j),j._isUsing&&a++}if(a>0){if(this.setupLayoutBounds(0),this._clearedFrameBufferFlags.getSize()!=this._renderTextureCount){this._clearedFrameBufferFlags.clear();for(let $=0;$<this._renderTextureCount;$++)this._clearedFrameBufferFlags.pushBack(!1)}else for(let $=0;$<this._renderTextureCount;$++)this._clearedFrameBufferFlags.set($,!1);for(let $=0;$<this._clippingContextListForMask.getSize();$++){const j=this._clippingContextListForMask.at($),et=j._allClippedDrawRect,rt=j._layoutBounds,st=.05;let it=0,ot=0;const tt=i.getPixelsPerUnit(),_e=j.getClippingManager().getClippingMaskBufferSize(),nt=rt.width*_e,at=rt.height*_e;this._tmpBoundsOnModel.setRect(et),this._tmpBoundsOnModel.width*tt>nt?(this._tmpBoundsOnModel.expand(et.width*st,0),it=rt.width/this._tmpBoundsOnModel.width):it=tt/nt,this._tmpBoundsOnModel.height*tt>at?(this._tmpBoundsOnModel.expand(0,et.height*st),ot=rt.height/this._tmpBoundsOnModel.height):ot=tt/at,this.createMatrixForMask(s,rt,it,ot),j._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),j._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray())}}}createMatrixForMask(i,s,a,$){this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(s.x,s.y),this._tmpMatrix.scaleRelative(a,$),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(s.x,s.y*(i?-1:1)),this._tmpMatrix.scaleRelative(a,$*(i?-1:1)),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray())}setupLayoutBounds(i){const s=this._renderTextureCount<=1?ClippingMaskMaxCountOnDefault:ClippingMaskMaxCountOnMultiRenderTexture*this._renderTextureCount;if(i<=0||i>s){i>s&&CubismLogError(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,i-s,this._renderTextureCount,i);for(let it=0;it<this._clippingContextListForMask.getSize();it++){const ot=this._clippingContextListForMask.at(it);ot._layoutChannelIndex=0,ot._layoutBounds.x=0,ot._layoutBounds.y=0,ot._layoutBounds.width=1,ot._layoutBounds.height=1,ot._bufferIndex=0}return}const a=this._renderTextureCount<=1?9:8;let $=i/this._renderTextureCount;const j=i%this._renderTextureCount;$=Math.ceil($);let et=$/ColorChannelCount;const rt=$%ColorChannelCount;et=~~et;let st=0;for(let it=0;it<this._renderTextureCount;it++)for(let ot=0;ot<ColorChannelCount;ot++){let tt=et+(ot<rt?1:0);const _e=rt+(et<1?-1:0);if(ot==_e&&j>0&&(tt-=it<j?0:1),tt!=0)if(tt==1){const nt=this._clippingContextListForMask.at(st++);nt._layoutChannelIndex=ot,nt._layoutBounds.x=0,nt._layoutBounds.y=0,nt._layoutBounds.width=1,nt._layoutBounds.height=1,nt._bufferIndex=it}else if(tt==2)for(let nt=0;nt<tt;nt++){let at=nt%2;at=~~at;const lt=this._clippingContextListForMask.at(st++);lt._layoutChannelIndex=ot,lt._layoutBounds.x=at*.5,lt._layoutBounds.y=0,lt._layoutBounds.width=.5,lt._layoutBounds.height=1,lt._bufferIndex=it}else if(tt<=4)for(let nt=0;nt<tt;nt++){let at=nt%2,lt=nt/2;at=~~at,lt=~~lt;const ut=this._clippingContextListForMask.at(st++);ut._layoutChannelIndex=ot,ut._layoutBounds.x=at*.5,ut._layoutBounds.y=lt*.5,ut._layoutBounds.width=.5,ut._layoutBounds.height=.5,ut._bufferIndex=it}else if(tt<=a)for(let nt=0;nt<tt;nt++){let at=nt%3,lt=nt/3;at=~~at,lt=~~lt;const ut=this._clippingContextListForMask.at(st++);ut._layoutChannelIndex=ot,ut._layoutBounds.x=at/3,ut._layoutBounds.y=lt/3,ut._layoutBounds.width=1/3,ut._layoutBounds.height=1/3,ut._bufferIndex=it}else{CubismLogError(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,i-s,this._renderTextureCount,i);for(let nt=0;nt<tt;nt++){const at=this._clippingContextListForMask.at(st++);at._layoutChannelIndex=0,at._layoutBounds.x=0,at._layoutBounds.y=0,at._layoutBounds.width=1,at._layoutBounds.height=1,at._bufferIndex=0}}}}calcClippedDrawTotalBounds(i,s){let a=Number.MAX_VALUE,$=Number.MAX_VALUE,j=Number.MIN_VALUE,et=Number.MIN_VALUE;const rt=s._clippedDrawableIndexList.length;for(let st=0;st<rt;st++){const it=s._clippedDrawableIndexList[st],ot=i.getDrawableVertexCount(it),tt=i.getDrawableVertices(it);let _e=Number.MAX_VALUE,nt=Number.MAX_VALUE,at=-Number.MAX_VALUE,lt=-Number.MAX_VALUE;const ut=ot*Constant.vertexStep;for(let ct=Constant.vertexOffset;ct<ut;ct+=Constant.vertexStep){const dt=tt[ct],ft=tt[ct+1];dt<_e&&(_e=dt),dt>at&&(at=dt),ft<nt&&(nt=ft),ft>lt&&(lt=ft)}if(_e!=Number.MAX_VALUE)if(_e<a&&(a=_e),nt<$&&($=nt),at>j&&(j=at),lt>et&&(et=lt),a==Number.MAX_VALUE)s._allClippedDrawRect.x=0,s._allClippedDrawRect.y=0,s._allClippedDrawRect.width=0,s._allClippedDrawRect.height=0,s._isUsing=!1;else{s._isUsing=!0;const ct=j-a,dt=et-$;s._allClippedDrawRect.x=a,s._allClippedDrawRect.y=$,s._allClippedDrawRect.width=ct,s._allClippedDrawRect.height=dt}}}getClippingContextListForDraw(){return this._clippingContextListForDraw}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}getRenderTextureCount(){return this._renderTextureCount}getChannelFlagAsColor(i){return this._channelColors.at(i)}setClippingMaskBufferSize(i){this._clippingMaskBufferSize=i}}let s_instance$3;const ShaderCount=10;class CubismShader_WebGL{static getInstance(){return s_instance$3==null&&(s_instance$3=new CubismShader_WebGL),s_instance$3}static deleteInstance(){s_instance$3&&(s_instance$3.release(),s_instance$3=null)}constructor(){this._shaderSets=new csmVector}release(){this.releaseShaderProgram()}setupShaderProgramForDraw(i,s,a){i.isPremultipliedAlpha()||CubismLogError("NoPremultipliedAlpha is not allowed"),this._shaderSets.getSize()==0&&this.generateShaders();let $,j,et,rt;const st=i.getClippingContextBufferForDraw()!=null,it=s.getDrawableInvertedMaskBit(a),ot=st?it?2:1:0;let tt;switch(s.getDrawableBlendMode(a)){case CubismBlendMode.CubismBlendMode_Normal:default:tt=this._shaderSets.at(1+ot),$=this.gl.ONE,j=this.gl.ONE_MINUS_SRC_ALPHA,et=this.gl.ONE,rt=this.gl.ONE_MINUS_SRC_ALPHA;break;case CubismBlendMode.CubismBlendMode_Additive:tt=this._shaderSets.at(4+ot),$=this.gl.ONE,j=this.gl.ONE,et=this.gl.ZERO,rt=this.gl.ONE;break;case CubismBlendMode.CubismBlendMode_Multiplicative:tt=this._shaderSets.at(7+ot),$=this.gl.DST_COLOR,j=this.gl.ONE_MINUS_SRC_ALPHA,et=this.gl.ZERO,rt=this.gl.ONE;break}this.gl.useProgram(tt.shaderProgram),i._bufferData.vertex==null&&(i._bufferData.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.vertex);const _e=s.getDrawableVertices(a);this.gl.bufferData(this.gl.ARRAY_BUFFER,_e,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(tt.attributePositionLocation),this.gl.vertexAttribPointer(tt.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),i._bufferData.uv==null&&(i._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.uv);const nt=s.getDrawableVertexUvs(a);if(this.gl.bufferData(this.gl.ARRAY_BUFFER,nt,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(tt.attributeTexCoordLocation),this.gl.vertexAttribPointer(tt.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),st){this.gl.activeTexture(this.gl.TEXTURE1);const gt=i.getClippingContextBufferForDraw().getClippingManager().getColorBuffer().at(i.getClippingContextBufferForDraw()._bufferIndex);this.gl.bindTexture(this.gl.TEXTURE_2D,gt),this.gl.uniform1i(tt.samplerTexture1Location,1),this.gl.uniformMatrix4fv(tt.uniformClipMatrixLocation,!1,i.getClippingContextBufferForDraw()._matrixForDraw.getArray());const yt=i.getClippingContextBufferForDraw()._layoutChannelIndex,bt=i.getClippingContextBufferForDraw().getClippingManager().getChannelFlagAsColor(yt);this.gl.uniform4f(tt.uniformChannelFlagLocation,bt.r,bt.g,bt.b,bt.a)}const at=s.getDrawableTextureIndex(a),lt=i.getBindedTextures().getValue(at);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,lt),this.gl.uniform1i(tt.samplerTexture0Location,0);const ut=i.getMvpMatrix();this.gl.uniformMatrix4fv(tt.uniformMatrixLocation,!1,ut.getArray());const ct=i.getModelColorWithOpacity(s.getDrawableOpacity(a)),dt=s.getMultiplyColor(a),ft=s.getScreenColor(a);this.gl.uniform4f(tt.uniformBaseColorLocation,ct.r,ct.g,ct.b,ct.a),this.gl.uniform4f(tt.uniformMultiplyColorLocation,dt.r,dt.g,dt.b,dt.a),this.gl.uniform4f(tt.uniformScreenColorLocation,ft.r,ft.g,ft.b,ft.a),i._bufferData.index==null&&(i._bufferData.index=this.gl.createBuffer());const ht=s.getDrawableVertexIndices(a);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,i._bufferData.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,ht,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate($,j,et,rt)}setupShaderProgramForMask(i,s,a){i.isPremultipliedAlpha()||CubismLogError("NoPremultipliedAlpha is not allowed"),this._shaderSets.getSize()==0&&this.generateShaders();const $=this._shaderSets.at(0);this.gl.useProgram($.shaderProgram),i._bufferData.vertex==null&&(i._bufferData.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.vertex);const j=s.getDrawableVertices(a);this.gl.bufferData(this.gl.ARRAY_BUFFER,j,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray($.attributePositionLocation),this.gl.vertexAttribPointer($.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),i._bufferData.uv==null&&(i._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.uv);const et=s.getDrawableTextureIndex(a),rt=i.getBindedTextures().getValue(et);this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,rt),this.gl.uniform1i($.samplerTexture0Location,0),i._bufferData.uv==null&&(i._bufferData.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i._bufferData.uv);const st=s.getDrawableVertexUvs(a);this.gl.bufferData(this.gl.ARRAY_BUFFER,st,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray($.attributeTexCoordLocation),this.gl.vertexAttribPointer($.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),i.getClippingContextBufferForMask();const it=i.getClippingContextBufferForMask()._layoutChannelIndex,ot=i.getClippingContextBufferForMask().getClippingManager().getChannelFlagAsColor(it);this.gl.uniform4f($.uniformChannelFlagLocation,ot.r,ot.g,ot.b,ot.a),this.gl.uniformMatrix4fv($.uniformClipMatrixLocation,!1,i.getClippingContextBufferForMask()._matrixForMask.getArray());const tt=i.getClippingContextBufferForMask()._layoutBounds;this.gl.uniform4f($.uniformBaseColorLocation,tt.x*2-1,tt.y*2-1,tt.getRight()*2-1,tt.getBottom()*2-1);const _e=s.getMultiplyColor(a),nt=s.getScreenColor(a);this.gl.uniform4f($.uniformMultiplyColorLocation,_e.r,_e.g,_e.b,_e.a),this.gl.uniform4f($.uniformScreenColorLocation,nt.r,nt.g,nt.b,nt.a);const at=this.gl.ZERO,lt=this.gl.ONE_MINUS_SRC_COLOR,ut=this.gl.ZERO,ct=this.gl.ONE_MINUS_SRC_ALPHA;i._bufferData.index==null&&(i._bufferData.index=this.gl.createBuffer());const dt=s.getDrawableVertexIndices(a);this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,i._bufferData.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,dt,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(at,lt,ut,ct)}releaseShaderProgram(){for(let i=0;i<this._shaderSets.getSize();i++)this.gl.deleteProgram(this._shaderSets.at(i).shaderProgram),this._shaderSets.at(i).shaderProgram=0,this._shaderSets.set(i,void 0),this._shaderSets.set(i,null)}generateShaders(){for(let i=0;i<ShaderCount;i++)this._shaderSets.pushBack(new CubismShaderSet);this._shaderSets.at(0).shaderProgram=this.loadShaderProgram(vertexShaderSrcSetupMask,fragmentShaderSrcsetupMask),this._shaderSets.at(1).shaderProgram=this.loadShaderProgram(vertexShaderSrc,fragmentShaderSrcPremultipliedAlpha),this._shaderSets.at(2).shaderProgram=this.loadShaderProgram(vertexShaderSrcMasked,fragmentShaderSrcMaskPremultipliedAlpha),this._shaderSets.at(3).shaderProgram=this.loadShaderProgram(vertexShaderSrcMasked,fragmentShaderSrcMaskInvertedPremultipliedAlpha),this._shaderSets.at(4).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(5).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(6).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(7).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(8).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(9).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(0).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_position"),this._shaderSets.at(0).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_texCoord"),this._shaderSets.at(0).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"s_texture0"),this._shaderSets.at(0).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_clipMatrix"),this._shaderSets.at(0).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_channelFlag"),this._shaderSets.at(0).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_baseColor"),this._shaderSets.at(0).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_multiplyColor"),this._shaderSets.at(0).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_screenColor"),this._shaderSets.at(1).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_position"),this._shaderSets.at(1).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_texCoord"),this._shaderSets.at(1).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"s_texture0"),this._shaderSets.at(1).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_matrix"),this._shaderSets.at(1).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_baseColor"),this._shaderSets.at(1).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_multiplyColor"),this._shaderSets.at(1).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_screenColor"),this._shaderSets.at(2).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_position"),this._shaderSets.at(2).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_texCoord"),this._shaderSets.at(2).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture0"),this._shaderSets.at(2).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture1"),this._shaderSets.at(2).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_matrix"),this._shaderSets.at(2).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_clipMatrix"),this._shaderSets.at(2).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_channelFlag"),this._shaderSets.at(2).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_baseColor"),this._shaderSets.at(2).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_multiplyColor"),this._shaderSets.at(2).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_screenColor"),this._shaderSets.at(3).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_position"),this._shaderSets.at(3).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_texCoord"),this._shaderSets.at(3).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture0"),this._shaderSets.at(3).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture1"),this._shaderSets.at(3).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_matrix"),this._shaderSets.at(3).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_clipMatrix"),this._shaderSets.at(3).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_channelFlag"),this._shaderSets.at(3).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_baseColor"),this._shaderSets.at(3).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_multiplyColor"),this._shaderSets.at(3).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_screenColor"),this._shaderSets.at(4).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_position"),this._shaderSets.at(4).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_texCoord"),this._shaderSets.at(4).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"s_texture0"),this._shaderSets.at(4).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_matrix"),this._shaderSets.at(4).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_baseColor"),this._shaderSets.at(4).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_multiplyColor"),this._shaderSets.at(4).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_screenColor"),this._shaderSets.at(5).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_position"),this._shaderSets.at(5).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_texCoord"),this._shaderSets.at(5).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture0"),this._shaderSets.at(5).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture1"),this._shaderSets.at(5).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_matrix"),this._shaderSets.at(5).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_clipMatrix"),this._shaderSets.at(5).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_channelFlag"),this._shaderSets.at(5).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_baseColor"),this._shaderSets.at(5).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_multiplyColor"),this._shaderSets.at(5).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_screenColor"),this._shaderSets.at(6).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_position"),this._shaderSets.at(6).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_texCoord"),this._shaderSets.at(6).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture0"),this._shaderSets.at(6).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture1"),this._shaderSets.at(6).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_matrix"),this._shaderSets.at(6).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_clipMatrix"),this._shaderSets.at(6).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_channelFlag"),this._shaderSets.at(6).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_baseColor"),this._shaderSets.at(6).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_multiplyColor"),this._shaderSets.at(6).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_screenColor"),this._shaderSets.at(7).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_position"),this._shaderSets.at(7).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_texCoord"),this._shaderSets.at(7).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"s_texture0"),this._shaderSets.at(7).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_matrix"),this._shaderSets.at(7).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_baseColor"),this._shaderSets.at(7).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_multiplyColor"),this._shaderSets.at(7).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_screenColor"),this._shaderSets.at(8).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_position"),this._shaderSets.at(8).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_texCoord"),this._shaderSets.at(8).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture0"),this._shaderSets.at(8).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture1"),this._shaderSets.at(8).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_matrix"),this._shaderSets.at(8).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_clipMatrix"),this._shaderSets.at(8).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_channelFlag"),this._shaderSets.at(8).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_baseColor"),this._shaderSets.at(8).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_multiplyColor"),this._shaderSets.at(8).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_screenColor"),this._shaderSets.at(9).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_position"),this._shaderSets.at(9).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_texCoord"),this._shaderSets.at(9).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture0"),this._shaderSets.at(9).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture1"),this._shaderSets.at(9).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_matrix"),this._shaderSets.at(9).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_clipMatrix"),this._shaderSets.at(9).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_channelFlag"),this._shaderSets.at(9).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_baseColor"),this._shaderSets.at(9).uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_multiplyColor"),this._shaderSets.at(9).uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_screenColor")}loadShaderProgram(i,s){let a=this.gl.createProgram(),$=this.compileShaderSource(this.gl.VERTEX_SHADER,i);if(!$)return CubismLogError("Vertex shader compile error!"),0;let j=this.compileShaderSource(this.gl.FRAGMENT_SHADER,s);return j?(this.gl.attachShader(a,$),this.gl.attachShader(a,j),this.gl.linkProgram(a),this.gl.getProgramParameter(a,this.gl.LINK_STATUS)?(this.gl.deleteShader($),this.gl.deleteShader(j),a):(CubismLogError("Failed to link program: {0}",a),this.gl.deleteShader($),$=0,this.gl.deleteShader(j),j=0,a&&(this.gl.deleteProgram(a),a=0),0)):(CubismLogError("Vertex shader compile error!"),0)}compileShaderSource(i,s){const a=s,$=this.gl.createShader(i);if(this.gl.shaderSource($,a),this.gl.compileShader($),!$){const et=this.gl.getShaderInfoLog($);CubismLogError("Shader compile log: {0} ",et)}return this.gl.getShaderParameter($,this.gl.COMPILE_STATUS)?$:(this.gl.deleteShader($),null)}setGl(i){this.gl=i}}class CubismShaderSet{}var ShaderNames=(o=>(o[o.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",o[o.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",o[o.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",o[o.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",o[o.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",o[o.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",o[o.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",o[o.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",o[o.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",o[o.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",o))(ShaderNames||{});const vertexShaderSrcSetupMask="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",fragmentShaderSrcsetupMask="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",vertexShaderSrc="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",vertexShaderSrcMasked="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",fragmentShaderSrcPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 color = texColor * u_baseColor;   gl_FragColor = vec4(color.rgb, color.a);}",fragmentShaderSrcMaskPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",fragmentShaderSrcMaskInvertedPremultipliedAlpha="precision mediump float;varying vec2      v_texCoord;varying vec4      v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4      u_channelFlag;uniform vec4      u_baseColor;uniform vec4      u_multiplyColor;uniform vec4      u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * (1.0 - maskVal);   gl_FragColor = col_formask;}";var Live2DCubismFramework$7;(o=>{o.CubismShaderSet=CubismShaderSet,o.CubismShader_WebGL=CubismShader_WebGL,o.ShaderNames=ShaderNames})(Live2DCubismFramework$7||(Live2DCubismFramework$7={}));let s_viewport,s_fbo;class CubismClippingManager_WebGL extends CubismClippingManager{getMaskRenderTexture(){if(this._maskTexture&&this._maskTexture.textures!=null)this._maskTexture.frameNo=this._currentFrameNo;else{this._maskRenderTextures!=null&&this._maskRenderTextures.clear(),this._maskRenderTextures=new csmVector,this._maskColorBuffers!=null&&this._maskColorBuffers.clear(),this._maskColorBuffers=new csmVector;const i=this._clippingMaskBufferSize;for(let s=0;s<this._renderTextureCount;s++)this._maskColorBuffers.pushBack(this.gl.createTexture()),this.gl.bindTexture(this.gl.TEXTURE_2D,this._maskColorBuffers.at(s)),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,i,i,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this._maskRenderTextures.pushBack(this.gl.createFramebuffer()),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTextures.at(s)),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._maskColorBuffers.at(s),0);this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),this._maskTexture=new CubismRenderTextureResource(this._currentFrameNo,this._maskRenderTextures)}return this._maskTexture.textures}setGL(i){this.gl=i}constructor(){super(CubismClippingContext_WebGL)}setupClippingContext(i,s){this._currentFrameNo++;let a=0;for(let $=0;$<this._clippingContextListForMask.getSize();$++){const j=this._clippingContextListForMask.at($);this.calcClippedDrawTotalBounds(i,j),j._isUsing&&a++}if(a>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._currentMaskRenderTexture=this.getMaskRenderTexture().at(0),s.preDraw(),this.setupLayoutBounds(a),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture),this._clearedFrameBufferFlags.getSize()!=this._renderTextureCount&&(this._clearedFrameBufferFlags.clear(),this._clearedFrameBufferFlags=new csmVector(this._renderTextureCount));for(let $=0;$<this._clearedFrameBufferFlags.getSize();$++)this._clearedFrameBufferFlags.set($,!1);for(let $=0;$<this._clippingContextListForMask.getSize();$++){const j=this._clippingContextListForMask.at($),et=j._allClippedDrawRect,rt=j._layoutBounds,st=.05;let it=0,ot=0;const tt=this.getMaskRenderTexture().at(j._bufferIndex);this._currentMaskRenderTexture!=tt&&(this._currentMaskRenderTexture=tt,s.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture)),this._tmpBoundsOnModel.setRect(et),this._tmpBoundsOnModel.expand(et.width*st,et.height*st),it=rt.width/this._tmpBoundsOnModel.width,ot=rt.height/this._tmpBoundsOnModel.height,this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(rt.x,rt.y),this._tmpMatrix.scaleRelative(it,ot),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(rt.x,rt.y),this._tmpMatrix.scaleRelative(it,ot),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),j._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),j._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const _e=j._clippingIdCount;for(let nt=0;nt<_e;nt++){const at=j._clippingIdList[nt];i.getDrawableDynamicFlagVertexPositionsDidChange(at)&&(s.setIsCulling(i.getDrawableCulling(at)!=!1),this._clearedFrameBufferFlags.at(j._bufferIndex)||(this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this._clearedFrameBufferFlags.set(j._bufferIndex,!0)),s.setClippingContextBufferForMask(j),s.drawMeshWebGL(i,at))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),s.setClippingContextBufferForMask(null),this.gl.viewport(s_viewport[0],s_viewport[1],s_viewport[2],s_viewport[3])}}getColorBuffer(){return this._maskColorBuffers}getClippingMaskCount(){return this._clippingContextListForMask.getSize()}}class CubismRenderTextureResource{constructor(i,s){this.frameNo=i,this.textures=s}}class CubismClippingContext_WebGL extends CubismClippingContext{constructor(i,s,a){super(s,a),this._owner=i}getClippingManager(){return this._owner}setGl(i){this._owner.setGL(i)}}class CubismRendererProfile_WebGL{setGlEnable(i,s){s?this.gl.enable(i):this.gl.disable(i)}setGlEnableVertexAttribArray(i,s){s?this.gl.enableVertexAttribArray(i):this.gl.disableVertexAttribArray(i)}save(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._lastArrayBufferBinding=this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING),this._lastElementArrayBufferBinding=this.gl.getParameter(this.gl.ELEMENT_ARRAY_BUFFER_BINDING),this._lastProgram=this.gl.getParameter(this.gl.CURRENT_PROGRAM),this._lastActiveTexture=this.gl.getParameter(this.gl.ACTIVE_TEXTURE),this.gl.activeTexture(this.gl.TEXTURE1),this._lastTexture1Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this.gl.activeTexture(this.gl.TEXTURE0),this._lastTexture0Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._lastVertexAttribArrayEnabled[0]=this.gl.getVertexAttrib(0,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[1]=this.gl.getVertexAttrib(1,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[2]=this.gl.getVertexAttrib(2,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[3]=this.gl.getVertexAttrib(3,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastScissorTest=this.gl.isEnabled(this.gl.SCISSOR_TEST),this._lastStencilTest=this.gl.isEnabled(this.gl.STENCIL_TEST),this._lastDepthTest=this.gl.isEnabled(this.gl.DEPTH_TEST),this._lastCullFace=this.gl.isEnabled(this.gl.CULL_FACE),this._lastBlend=this.gl.isEnabled(this.gl.BLEND),this._lastFrontFace=this.gl.getParameter(this.gl.FRONT_FACE),this._lastColorMask=this.gl.getParameter(this.gl.COLOR_WRITEMASK),this._lastBlending[0]=this.gl.getParameter(this.gl.BLEND_SRC_RGB),this._lastBlending[1]=this.gl.getParameter(this.gl.BLEND_DST_RGB),this._lastBlending[2]=this.gl.getParameter(this.gl.BLEND_SRC_ALPHA),this._lastBlending[3]=this.gl.getParameter(this.gl.BLEND_DST_ALPHA),this._lastFBO=this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING),this._lastViewport=this.gl.getParameter(this.gl.VIEWPORT)}restore(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this.gl.useProgram(this._lastProgram),this.setGlEnableVertexAttribArray(0,this._lastVertexAttribArrayEnabled[0]),this.setGlEnableVertexAttribArray(1,this._lastVertexAttribArrayEnabled[1]),this.setGlEnableVertexAttribArray(2,this._lastVertexAttribArrayEnabled[2]),this.setGlEnableVertexAttribArray(3,this._lastVertexAttribArrayEnabled[3]),this.setGlEnable(this.gl.SCISSOR_TEST,this._lastScissorTest),this.setGlEnable(this.gl.STENCIL_TEST,this._lastStencilTest),this.setGlEnable(this.gl.DEPTH_TEST,this._lastDepthTest),this.setGlEnable(this.gl.CULL_FACE,this._lastCullFace),this.setGlEnable(this.gl.BLEND,this._lastBlend),this.gl.frontFace(this._lastFrontFace),this.gl.colorMask(this._lastColorMask[0],this._lastColorMask[1],this._lastColorMask[2],this._lastColorMask[3]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this._lastArrayBufferBinding),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this._lastElementArrayBufferBinding),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture1Binding2D),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture0Binding2D),this.gl.activeTexture(this._lastActiveTexture),this.gl.blendFuncSeparate(this._lastBlending[0],this._lastBlending[1],this._lastBlending[2],this._lastBlending[3])}setGl(i){this.gl=i}constructor(){this._lastVertexAttribArrayEnabled=new Array(4),this._lastColorMask=new Array(4),this._lastBlending=new Array(4),this._lastViewport=new Array(4)}}class CubismRenderer_WebGL extends CubismRenderer{initialize(i,s=1){i.isUsingMasking()&&(this._clippingManager=new CubismClippingManager_WebGL,this._clippingManager.initialize(i,s)),this._sortedDrawableIndexList.resize(i.getDrawableCount(),0),super.initialize(i)}bindTexture(i,s){this._textures.setValue(i,s)}getBindedTextures(){return this._textures}setClippingMaskBufferSize(i){if(!this._model.isUsingMasking())return;const s=this._clippingManager.getRenderTextureCount();this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this._clippingManager=new CubismClippingManager_WebGL,this._clippingManager.setClippingMaskBufferSize(i),this._clippingManager.initialize(this.getModel(),s)}getClippingMaskBufferSize(){return this._model.isUsingMasking()?this._clippingManager.getClippingMaskBufferSize():-1}getRenderTextureCount(){return this._model.isUsingMasking()?this._clippingManager.getRenderTextureCount():-1}constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._rendererProfile=new CubismRendererProfile_WebGL,this.firstDraw=!0,this._textures=new csmMap,this._sortedDrawableIndexList=new csmVector,this._bufferData={vertex:WebGLBuffer=null,uv:WebGLBuffer=null,index:WebGLBuffer=null},this._textures.prepareCapacity(32,!0)}release(){this._clippingManager&&(this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null),this.gl!=null&&(this.gl.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,this.gl.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,this.gl.deleteBuffer(this._bufferData.index),this._bufferData.index=null,this._bufferData=null,this._textures=null)}doDrawModel(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._clippingManager!=null&&(this.preDraw(),this.isUsingHighPrecisionMask()?this._clippingManager.setupMatrixForHighPrecision(this.getModel(),!1):this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();const i=this.getModel().getDrawableCount(),s=this.getModel().getDrawableRenderOrders();for(let a=0;a<i;++a){const $=s[a];this._sortedDrawableIndexList.set($,a)}for(let a=0;a<i;++a){const $=this._sortedDrawableIndexList.at(a);if(!this.getModel().getDrawableDynamicFlagIsVisible($))continue;const j=this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw().at($):null;if(j!=null&&this.isUsingHighPrecisionMask()){j._isUsing&&(this.gl.viewport(0,0,this._clippingManager.getClippingMaskBufferSize(),this._clippingManager.getClippingMaskBufferSize()),this.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,j.getClippingManager().getMaskRenderTexture().at(j._bufferIndex)),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT));{const et=j._clippingIdCount;for(let rt=0;rt<et;rt++){const st=j._clippingIdList[rt];this._model.getDrawableDynamicFlagVertexPositionsDidChange(st)&&(this.setIsCulling(this._model.getDrawableCulling(st)!=!1),this.setClippingContextBufferForMask(j),this.drawMeshWebGL(this._model,st))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),this.setClippingContextBufferForMask(null),this.gl.viewport(s_viewport[0],s_viewport[1],s_viewport[2],s_viewport[3]),this.preDraw()}this.setClippingContextBufferForDraw(j),this.setIsCulling(this.getModel().getDrawableCulling($)),this.drawMeshWebGL(this._model,$)}}drawMeshWebGL(i,s){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW),this.isGeneratingMask()?CubismShader_WebGL.getInstance().setupShaderProgramForMask(this,i,s):CubismShader_WebGL.getInstance().setupShaderProgramForDraw(this,i,s);{const a=i.getDrawableVertexIndexCount(s);this.gl.drawElements(this.gl.TRIANGLES,a,this.gl.UNSIGNED_SHORT,0)}this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}saveProfile(){this._rendererProfile.save()}restoreProfile(){this._rendererProfile.restore()}static doStaticRelease(){CubismShader_WebGL.deleteInstance()}setRenderState(i,s){s_fbo=i,s_viewport=s}preDraw(){if(this.firstDraw&&(this.firstDraw=!1),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.getAnisotropy()>0&&this._extension)for(let i=0;i<this._textures.getSize();++i)this.gl.bindTexture(this.gl.TEXTURE_2D,this._textures.getValue(i)),this.gl.texParameterf(this.gl.TEXTURE_2D,this._extension.TEXTURE_MAX_ANISOTROPY_EXT,this.getAnisotropy())}setClippingContextBufferForMask(i){this._clippingContextBufferForMask=i}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(i){this._clippingContextBufferForDraw=i}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}isGeneratingMask(){return this.getClippingContextBufferForMask()!=null}startUp(i){this.gl=i,this._clippingManager&&this._clippingManager.setGL(i),CubismShader_WebGL.getInstance().setGl(i),this._rendererProfile.setGl(i),this._extension=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")}}CubismRenderer.staticRelease=()=>{CubismRenderer_WebGL.doStaticRelease()};var Live2DCubismFramework$6;(o=>{o.CubismClippingContext=CubismClippingContext_WebGL,o.CubismClippingManager_WebGL=CubismClippingManager_WebGL,o.CubismRenderTextureResource=CubismRenderTextureResource,o.CubismRenderer_WebGL=CubismRenderer_WebGL})(Live2DCubismFramework$6||(Live2DCubismFramework$6={}));class DrawableColorData{constructor(i=!1,s=new CubismTextureColor){this.isOverwritten=i,this.color=s}}class PartColorData{constructor(i=!1,s=new CubismTextureColor){this.isOverwritten=i,this.color=s}}class DrawableCullingData{constructor(i=!1,s=!1){this.isOverwritten=i,this.isCulling=s}}class CubismModel{update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getPixelsPerUnit(){return this._model==null?0:this._model.canvasinfo.PixelsPerUnit}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const i=this._model.parameters.count,s=this._savedParameters.getSize();for(let a=0;a<i;++a)a<s?this._savedParameters.set(a,this._parameterValues[a]):this._savedParameters.pushBack(this._parameterValues[a])}getMultiplyColor(i){return this.getOverwriteFlagForModelMultiplyColors()||this.getOverwriteFlagForDrawableMultiplyColors(i)?this._userMultiplyColors.at(i).color:this.getDrawableMultiplyColor(i)}getScreenColor(i){return this.getOverwriteFlagForModelScreenColors()||this.getOverwriteFlagForDrawableScreenColors(i)?this._userScreenColors.at(i).color:this.getDrawableScreenColor(i)}setMultiplyColorByTextureColor(i,s){this.setMultiplyColorByRGBA(i,s.r,s.g,s.b,s.a)}setMultiplyColorByRGBA(i,s,a,$,j=1){this._userMultiplyColors.at(i).color.r=s,this._userMultiplyColors.at(i).color.g=a,this._userMultiplyColors.at(i).color.b=$,this._userMultiplyColors.at(i).color.a=j}setScreenColorByTextureColor(i,s){this.setScreenColorByRGBA(i,s.r,s.g,s.b,s.a)}setScreenColorByRGBA(i,s,a,$,j=1){this._userScreenColors.at(i).color.r=s,this._userScreenColors.at(i).color.g=a,this._userScreenColors.at(i).color.b=$,this._userScreenColors.at(i).color.a=j}getPartMultiplyColor(i){return this._userPartMultiplyColors.at(i).color}getPartScreenColor(i){return this._userPartScreenColors.at(i).color}setPartColor(i,s,a,$,j,et,rt){if(et.at(i).color.r=s,et.at(i).color.g=a,et.at(i).color.b=$,et.at(i).color.a=j,et.at(i).isOverwritten)for(let st=0;st<this._partChildDrawables.at(i).getSize();++st){const it=this._partChildDrawables.at(i).at(st);rt.at(it).color.r=s,rt.at(it).color.g=a,rt.at(it).color.b=$,rt.at(it).color.a=j}}setPartMultiplyColorByTextureColor(i,s){this.setPartMultiplyColorByRGBA(i,s.r,s.g,s.b,s.a)}setPartMultiplyColorByRGBA(i,s,a,$,j){this.setPartColor(i,s,a,$,j,this._userPartMultiplyColors,this._userMultiplyColors)}setPartScreenColorByTextureColor(i,s){this.setPartScreenColorByRGBA(i,s.r,s.g,s.b,s.a)}setPartScreenColorByRGBA(i,s,a,$,j){this.setPartColor(i,s,a,$,j,this._userPartScreenColors,this._userScreenColors)}getOverwriteFlagForModelMultiplyColors(){return this._isOverwrittenModelMultiplyColors}getOverwriteFlagForModelScreenColors(){return this._isOverwrittenModelScreenColors}setOverwriteFlagForModelMultiplyColors(i){this._isOverwrittenModelMultiplyColors=i}setOverwriteFlagForModelScreenColors(i){this._isOverwrittenModelScreenColors=i}getOverwriteFlagForDrawableMultiplyColors(i){return this._userMultiplyColors.at(i).isOverwritten}getOverwriteFlagForDrawableScreenColors(i){return this._userScreenColors.at(i).isOverwritten}setOverwriteFlagForDrawableMultiplyColors(i,s){this._userMultiplyColors.at(i).isOverwritten=s}setOverwriteFlagForDrawableScreenColors(i,s){this._userScreenColors.at(i).isOverwritten=s}getOverwriteColorForPartMultiplyColors(i){return this._userPartMultiplyColors.at(i).isOverwritten}getOverwriteColorForPartScreenColors(i){return this._userPartScreenColors.at(i).isOverwritten}setOverwriteColorForPartColors(i,s,a,$){a.at(i).isOverwritten=s;for(let j=0;j<this._partChildDrawables.at(i).getSize();++j){const et=this._partChildDrawables.at(i).at(j);$.at(et).isOverwritten=s,s&&($.at(et).color.r=a.at(i).color.r,$.at(et).color.g=a.at(i).color.g,$.at(et).color.b=a.at(i).color.b,$.at(et).color.a=a.at(i).color.a)}}setOverwriteColorForPartMultiplyColors(i,s){this._userPartMultiplyColors.at(i).isOverwritten=s,this.setOverwriteColorForPartColors(i,s,this._userPartMultiplyColors,this._userMultiplyColors)}setOverwriteColorForPartScreenColors(i,s){this._userPartScreenColors.at(i).isOverwritten=s,this.setOverwriteColorForPartColors(i,s,this._userPartScreenColors,this._userScreenColors)}getDrawableCulling(i){if(this.getOverwriteFlagForModelCullings()||this.getOverwriteFlagForDrawableCullings(i))return this._userCullings.at(i).isCulling;const s=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(s[i])}setDrawableCulling(i,s){this._userCullings.at(i).isCulling=s}getOverwriteFlagForModelCullings(){return this._isOverwrittenCullings}setOverwriteFlagForModelCullings(i){this._isOverwrittenCullings=i}getOverwriteFlagForDrawableCullings(i){return this._userCullings.at(i).isOverwritten}setOverwriteFlagForDrawableCullings(i,s){this._userCullings.at(i).isOverwritten=s}getModelOapcity(){return this._modelOpacity}setModelOapcity(i){this._modelOpacity=i}getModel(){return this._model}getPartIndex(i){let s;const a=this._model.parts.count;for(s=0;s<a;++s)if(i==this._partIds.at(s))return s;return this._notExistPartId.isExist(i)?this._notExistPartId.getValue(i):(s=a+this._notExistPartId.getSize(),this._notExistPartId.setValue(i,s),this._notExistPartOpacities.appendKey(s),s)}getPartId(i){const s=this._model.parts.ids[i];return CubismFramework.getIdManager().getId(s)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(i,s){if(this._notExistPartOpacities.isExist(i)){this._notExistPartOpacities.setValue(i,s);return}CSM_ASSERT(0<=i&&i<this.getPartCount()),this._partOpacities[i]=s}setPartOpacityById(i,s){const a=this.getPartIndex(i);a<0||this.setPartOpacityByIndex(a,s)}getPartOpacityByIndex(i){return this._notExistPartOpacities.isExist(i)?this._notExistPartOpacities.getValue(i):(CSM_ASSERT(0<=i&&i<this.getPartCount()),this._partOpacities[i])}getPartOpacityById(i){const s=this.getPartIndex(i);return s<0?0:this.getPartOpacityByIndex(s)}getParameterIndex(i){let s;const a=this._model.parameters.count;for(s=0;s<a;++s)if(i==this._parameterIds.at(s))return s;return this._notExistParameterId.isExist(i)?this._notExistParameterId.getValue(i):(s=this._model.parameters.count+this._notExistParameterId.getSize(),this._notExistParameterId.setValue(i,s),this._notExistParameterValues.appendKey(s),s)}getParameterCount(){return this._model.parameters.count}getParameterType(i){return this._model.parameters.types[i]}getParameterMaximumValue(i){return this._model.parameters.maximumValues[i]}getParameterMinimumValue(i){return this._model.parameters.minimumValues[i]}getParameterDefaultValue(i){return this._model.parameters.defaultValues[i]}getParameterId(i){return CubismFramework.getIdManager().getId(this._model.parameters.ids[i])}getParameterValueByIndex(i){return this._notExistParameterValues.isExist(i)?this._notExistParameterValues.getValue(i):(CSM_ASSERT(0<=i&&i<this.getParameterCount()),this._parameterValues[i])}getParameterValueById(i){const s=this.getParameterIndex(i);return this.getParameterValueByIndex(s)}setParameterValueByIndex(i,s,a=1){if(this._notExistParameterValues.isExist(i)){this._notExistParameterValues.setValue(i,a==1?s:this._notExistParameterValues.getValue(i)*(1-a)+s*a);return}CSM_ASSERT(0<=i&&i<this.getParameterCount()),this._model.parameters.maximumValues[i]<s&&(s=this._model.parameters.maximumValues[i]),this._model.parameters.minimumValues[i]>s&&(s=this._model.parameters.minimumValues[i]),this._parameterValues[i]=a==1?s:this._parameterValues[i]=this._parameterValues[i]*(1-a)+s*a}setParameterValueById(i,s,a=1){const $=this.getParameterIndex(i);this.setParameterValueByIndex($,s,a)}addParameterValueByIndex(i,s,a=1){this.setParameterValueByIndex(i,this.getParameterValueByIndex(i)+s*a)}addParameterValueById(i,s,a=1){const $=this.getParameterIndex(i);this.addParameterValueByIndex($,s,a)}multiplyParameterValueById(i,s,a=1){const $=this.getParameterIndex(i);this.multiplyParameterValueByIndex($,s,a)}multiplyParameterValueByIndex(i,s,a=1){this.setParameterValueByIndex(i,this.getParameterValueByIndex(i)*(1+(s-1)*a))}getDrawableIndex(i){const s=this._model.drawables.count;for(let a=0;a<s;++a)if(this._drawableIds.at(a)==i)return a;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(i){const s=this._model.drawables.ids;return CubismFramework.getIdManager().getId(s[i])}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(i){return this.getDrawableTextureIndex(i)}getDrawableTextureIndex(i){return this._model.drawables.textureIndices[i]}getDrawableDynamicFlagVertexPositionsDidChange(i){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(s[i])}getDrawableVertexIndexCount(i){return this._model.drawables.indexCounts[i]}getDrawableVertexCount(i){return this._model.drawables.vertexCounts[i]}getDrawableVertices(i){return this.getDrawableVertexPositions(i)}getDrawableVertexIndices(i){return this._model.drawables.indices[i]}getDrawableVertexPositions(i){return this._model.drawables.vertexPositions[i]}getDrawableVertexUvs(i){return this._model.drawables.vertexUvs[i]}getDrawableOpacity(i){return this._model.drawables.opacities[i]}getDrawableMultiplyColor(i){const s=this._model.drawables.multiplyColors,a=i*4,$=new CubismTextureColor;return $.r=s[a],$.g=s[a+1],$.b=s[a+2],$.a=s[a+3],$}getDrawableScreenColor(i){const s=this._model.drawables.screenColors,a=i*4,$=new CubismTextureColor;return $.r=s[a],$.g=s[a+1],$.b=s[a+2],$.a=s[a+3],$}getDrawableParentPartIndex(i){return this._model.drawables.parentPartIndices[i]}getDrawableBlendMode(i){const s=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(s[i])?CubismBlendMode.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(s[i])?CubismBlendMode.CubismBlendMode_Multiplicative:CubismBlendMode.CubismBlendMode_Normal}getDrawableInvertedMaskBit(i){const s=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(s[i])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let i=0;i<this._model.drawables.count;++i)if(!(this._model.drawables.maskCounts[i]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(i){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(s[i])}getDrawableDynamicFlagVisibilityDidChange(i){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(s[i])}getDrawableDynamicFlagOpacityDidChange(i){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(s[i])}getDrawableDynamicFlagRenderOrderDidChange(i){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(s[i])}getDrawableDynamicFlagBlendColorDidChange(i){const s=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasBlendColorDidChangeBit(s[i])}loadParameters(){let i=this._model.parameters.count;const s=this._savedParameters.getSize();i>s&&(i=s);for(let a=0;a<i;++a)this._parameterValues[a]=this._savedParameters.at(a)}initialize(){CSM_ASSERT(this._model),this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const s=this._model.parameters.ids,a=this._model.parameters.count;this._parameterIds.prepareCapacity(a);for(let $=0;$<a;++$)this._parameterIds.pushBack(CubismFramework.getIdManager().getId(s[$]))}const i=this._model.parts.count;{const s=this._model.parts.ids;this._partIds.prepareCapacity(i);for(let a=0;a<i;++a)this._partIds.pushBack(CubismFramework.getIdManager().getId(s[a]));this._userPartMultiplyColors.prepareCapacity(i),this._userPartScreenColors.prepareCapacity(i),this._partChildDrawables.prepareCapacity(i)}{const s=this._model.drawables.ids,a=this._model.drawables.count;this._userMultiplyColors.prepareCapacity(a),this._userScreenColors.prepareCapacity(a),this._userCullings.prepareCapacity(a);const $=new DrawableCullingData(!1,!1);for(let j=0;j<i;++j){const et=new CubismTextureColor(1,1,1,1),rt=new CubismTextureColor(0,0,0,1),st=new PartColorData(!1,et),it=new PartColorData(!1,rt);this._userPartMultiplyColors.pushBack(st),this._userPartScreenColors.pushBack(it),this._partChildDrawables.pushBack(new csmVector),this._partChildDrawables.at(j).prepareCapacity(a)}for(let j=0;j<a;++j){const et=new CubismTextureColor(1,1,1,1),rt=new CubismTextureColor(0,0,0,1),st=new DrawableColorData(!1,et),it=new DrawableColorData(!1,rt);this._drawableIds.pushBack(CubismFramework.getIdManager().getId(s[j])),this._userMultiplyColors.pushBack(st),this._userScreenColors.pushBack(it),this._userCullings.pushBack($);const ot=this.getDrawableParentPartIndex(j);ot>=0&&this._partChildDrawables.at(ot).pushBack(j)}}}constructor(i){this._model=i,this._parameterValues=null,this._parameterMaximumValues=null,this._parameterMinimumValues=null,this._partOpacities=null,this._savedParameters=new csmVector,this._parameterIds=new csmVector,this._drawableIds=new csmVector,this._partIds=new csmVector,this._isOverwrittenModelMultiplyColors=!1,this._isOverwrittenModelScreenColors=!1,this._isOverwrittenCullings=!1,this._modelOpacity=1,this._userMultiplyColors=new csmVector,this._userScreenColors=new csmVector,this._userCullings=new csmVector,this._userPartMultiplyColors=new csmVector,this._userPartScreenColors=new csmVector,this._partChildDrawables=new csmVector,this._notExistPartId=new csmMap,this._notExistParameterId=new csmMap,this._notExistParameterValues=new csmMap,this._notExistPartOpacities=new csmMap}release(){this._model.release(),this._model=null}}var Live2DCubismFramework$5;(o=>{o.CubismModel=CubismModel})(Live2DCubismFramework$5||(Live2DCubismFramework$5={}));class CubismMoc{static create(i,s){let a=null;if(s&&!this.hasMocConsistency(i))return CubismLogError("Inconsistent MOC3."),a;const $=Live2DCubismCore.Moc.fromArrayBuffer(i);return $&&(a=new CubismMoc($),a._mocVersion=Live2DCubismCore.Version.csmGetMocVersion($,i)),a}static delete(i){i._moc._release(),i._moc=null,i=null}createModel(){let i=null;const s=Live2DCubismCore.Model.fromMoc(this._moc);return s&&(i=new CubismModel(s),i.initialize(),++this._modelCount),i}deleteModel(i){i!=null&&(i.release(),i=null,--this._modelCount)}constructor(i){this._moc=i,this._modelCount=0,this._mocVersion=0}release(){CSM_ASSERT(this._modelCount==0),this._moc._release(),this._moc=null}getLatestMocVersion(){return Live2DCubismCore.Version.csmGetLatestMocVersion()}getMocVersion(){return this._mocVersion}static hasMocConsistency(i){return Live2DCubismCore.Moc.prototype.hasMocConsistency(i)===1}}var Live2DCubismFramework$4;(o=>{o.CubismMoc=CubismMoc})(Live2DCubismFramework$4||(Live2DCubismFramework$4={}));const Meta="Meta",UserDataCount="UserDataCount",TotalUserDataSize="TotalUserDataSize",UserData="UserData",Target="Target",Id="Id",Value="Value";class CubismModelUserDataJson{constructor(i,s){this._json=CubismJson.create(i,s)}release(){CubismJson.delete(this._json)}getUserDataCount(){return this._json.getRoot().getValueByString(Meta).getValueByString(UserDataCount).toInt()}getTotalUserDataSize(){return this._json.getRoot().getValueByString(Meta).getValueByString(TotalUserDataSize).toInt()}getUserDataTargetType(i){return this._json.getRoot().getValueByString(UserData).getValueByIndex(i).getValueByString(Target).getRawString()}getUserDataId(i){return CubismFramework.getIdManager().getId(this._json.getRoot().getValueByString(UserData).getValueByIndex(i).getValueByString(Id).getRawString())}getUserDataValue(i){return this._json.getRoot().getValueByString(UserData).getValueByIndex(i).getValueByString(Value).getRawString()}}var Live2DCubismFramework$3;(o=>{o.CubismModelUserDataJson=CubismModelUserDataJson})(Live2DCubismFramework$3||(Live2DCubismFramework$3={}));const ArtMesh="ArtMesh";class CubismModelUserDataNode{}class CubismModelUserData{static create(i,s){const a=new CubismModelUserData;return a.parseUserData(i,s),a}static delete(i){i!=null&&(i.release(),i=null)}getArtMeshUserDatas(){return this._artMeshUserDataNode}parseUserData(i,s){let a=new CubismModelUserDataJson(i,s);if(!a){a.release(),a=void 0;return}const $=CubismFramework.getIdManager().getId(ArtMesh),j=a.getUserDataCount();for(let et=0;et<j;et++){const rt=new CubismModelUserDataNode;rt.targetId=a.getUserDataId(et),rt.targetType=CubismFramework.getIdManager().getId(a.getUserDataTargetType(et)),rt.value=new csmString(a.getUserDataValue(et)),this._userDataNodes.pushBack(rt),rt.targetType==$&&this._artMeshUserDataNode.pushBack(rt)}a.release(),a=void 0}constructor(){this._userDataNodes=new csmVector,this._artMeshUserDataNode=new csmVector}release(){for(let i=0;i<this._userDataNodes.getSize();++i)this._userDataNodes.set(i,null);this._userDataNodes=null}}var Live2DCubismFramework$2;(o=>{o.CubismModelUserData=CubismModelUserData,o.CubismModelUserDataNode=CubismModelUserDataNode})(Live2DCubismFramework$2||(Live2DCubismFramework$2={}));class CubismUserModel{isInitialized(){return this._initialized}setInitialized(i){this._initialized=i}isUpdating(){return this._updating}setUpdating(i){this._updating=i}setDragging(i,s){this._dragManager.set(i,s)}setAcceleration(i,s,a){this._accelerationX=i,this._accelerationY=s,this._accelerationZ=a}getModelMatrix(){return this._modelMatrix}setOpacity(i){this._opacity=i}getOpacity(){return this._opacity}loadModel(i,s=!1,a=1){if(this._moc=CubismMoc.create(i,s),this._moc==null){CubismLogError("Failed to CubismMoc.create().");return}if(this._model=this._moc.createModel(),this._model==null){CubismLogError("Failed to CreateModel().");return}this._model.saveParameters(),this._modelMatrix=new CubismModelMatrix(this._model.getCanvasWidth(),this._model.getCanvasHeight()),this._modelMatrix.scale(a,a)}loadMotion(i,s,a,$){return i==null||s==0?(CubismLogError("Failed to loadMotion()."),null):CubismMotion.create(i,s,$)}loadExpression(i,s,a){return i==null||s==0?(CubismLogError("Failed to loadExpression()."),null):CubismExpressionMotion.create(i,s)}loadPose(i,s){if(i==null||s==0){CubismLogError("Failed to loadPose().");return}this._pose=CubismPose.create(i,s)}loadUserData(i,s){if(i==null||s==0){CubismLogError("Failed to loadUserData().");return}this._modelUserData=CubismModelUserData.create(i,s)}loadPhysics(i,s){if(i==null||s==0){CubismLogError("Failed to loadPhysics().");return}this._physics=CubismPhysics.create(i,s)}isHit(i,s,a){const $=this._model.getDrawableIndex(i);if($<0)return!1;const j=this._model.getDrawableVertexCount($),et=this._model.getDrawableVertices($);let rt=et[0],st=et[0],it=et[1],ot=et[1];for(let nt=1;nt<j;++nt){const at=et[Constant.vertexOffset+nt*Constant.vertexStep],lt=et[Constant.vertexOffset+nt*Constant.vertexStep+1];at<rt&&(rt=at),at>st&&(st=at),lt<it&&(it=lt),lt>ot&&(ot=lt)}const tt=this._modelMatrix.invertTransformX(s),_e=this._modelMatrix.invertTransformY(a);return rt<=tt&&tt<=st&&it<=_e&&_e<=ot}getModel(){return this._model}getRenderer(){return this._renderer}createRenderer(i=1){this._renderer&&this.deleteRenderer(),this._renderer=new CubismRenderer_WebGL,this._renderer.initialize(this._model,i)}deleteRenderer(){this._renderer!=null&&(this._renderer.release(),this._renderer=null)}motionEventFired(i){CubismLogInfo("{0}",i.s)}static cubismDefaultMotionEventCallback(i,s,a){const $=a;$!=null&&$.motionEventFired(s)}constructor(){this._moc=null,this._model=null,this._motionManager=null,this._expressionManager=null,this._eyeBlink=null,this._breath=null,this._modelMatrix=null,this._pose=null,this._dragManager=null,this._physics=null,this._modelUserData=null,this._initialized=!1,this._updating=!1,this._opacity=1,this._lipsync=!0,this._lastLipSyncValue=0,this._dragX=0,this._dragY=0,this._accelerationX=0,this._accelerationY=0,this._accelerationZ=0,this._mocConsistency=!1,this._debugMode=!1,this._renderer=null,this._motionManager=new CubismMotionManager,this._motionManager.setEventCallback(CubismUserModel.cubismDefaultMotionEventCallback,this),this._expressionManager=new CubismExpressionMotionManager,this._dragManager=new CubismTargetPoint}release(){this._motionManager!=null&&(this._motionManager.release(),this._motionManager=null),this._expressionManager!=null&&(this._expressionManager.release(),this._expressionManager=null),this._moc!=null&&(this._moc.deleteModel(this._model),this._moc.release(),this._moc=null),this._modelMatrix=null,CubismPose.delete(this._pose),CubismEyeBlink.delete(this._eyeBlink),CubismBreath.delete(this._breath),this._dragManager=null,CubismPhysics.delete(this._physics),CubismModelUserData.delete(this._modelUserData),this.deleteRenderer()}}var Live2DCubismFramework$1;(o=>{o.CubismUserModel=CubismUserModel})(Live2DCubismFramework$1||(Live2DCubismFramework$1={}));class LAppPal{static loadFileAsBytes(i,s){fetch(i).then(a=>a.arrayBuffer()).then(a=>s(a,a.byteLength))}static getDeltaTime(){return this.s_deltaTime}static updateTime(i=!0){this.s_currentFrame=Date.now(),this.s_deltaTime=(this.s_currentFrame-this.s_lastFrame)/1e3,i===!0&&(this.s_lastFrame=this.s_currentFrame)}static printMessage(i){console.log(i)}}qt(LAppPal,"lastUpdate",Date.now()),qt(LAppPal,"s_currentFrame",0),qt(LAppPal,"s_lastFrame",0),qt(LAppPal,"s_deltaTime",0);let s_instance$2=null;class LAppWavFileHandler{constructor(){qt(this,"_pcmData");qt(this,"_userTimeSeconds");qt(this,"_lastRms");qt(this,"_sampleOffset");qt(this,"_wavFileInfo");qt(this,"_byteReader");qt(this,"_loadFiletoBytes",(i,s)=>{this._byteReader._fileByte=i,this._byteReader._fileDataView=new DataView(this._byteReader._fileByte),this._byteReader._fileSize=s});this._pcmData=null,this._userTimeSeconds=0,this._lastRms=0,this._sampleOffset=0,this._wavFileInfo=new WavFileInfo,this._byteReader=new ByteReader}static getInstance(){return s_instance$2==null&&(s_instance$2=new LAppWavFileHandler),s_instance$2}static releaseInstance(){s_instance$2!=null&&(s_instance$2=void 0),s_instance$2=null}update(i){let s,a;if(this._pcmData==null||this._sampleOffset>=this._wavFileInfo._samplesPerChannel)return this._lastRms=0,!1;this._userTimeSeconds+=i,s=Math.floor(this._userTimeSeconds*this._wavFileInfo._samplingRate),s>this._wavFileInfo._samplesPerChannel&&(s=this._wavFileInfo._samplesPerChannel),a=0;for(let $=0;$<this._wavFileInfo._numberOfChannels;$++)for(let j=this._sampleOffset;j<s;j++){const et=this._pcmData[$][j];a+=et*et}return a=Math.sqrt(a/(this._wavFileInfo._numberOfChannels*(s-this._sampleOffset))),this._lastRms=a,this._sampleOffset=s,!0}start(i){this._sampleOffset=0,this._userTimeSeconds=0,this._lastRms=0,this.loadWavFile(i)}getRms(){return this._lastRms}loadWavFile(i){return new Promise(s=>{let a=!1;this._pcmData!=null&&this.releasePcmData();const $=async()=>fetch(i).then(j=>j.arrayBuffer());(async()=>{if(this._byteReader._fileByte=await $(),this._byteReader._fileDataView=new DataView(this._byteReader._fileByte),this._byteReader._fileSize=this._byteReader._fileByte.byteLength,this._byteReader._readOffset=0,this._byteReader._fileByte==null||this._byteReader._fileSize<4){s(!1);return}this._wavFileInfo._fileName=i;try{if(!this._byteReader.getCheckSignature("RIFF"))throw a=!1,new Error('Cannot find Signeture "RIFF".');if(this._byteReader.get32LittleEndian(),!this._byteReader.getCheckSignature("WAVE"))throw a=!1,new Error('Cannot find Signeture "WAVE".');if(!this._byteReader.getCheckSignature("fmt "))throw a=!1,new Error('Cannot find Signeture "fmt".');const j=this._byteReader.get32LittleEndian();if(this._byteReader.get16LittleEndian()!=1)throw a=!1,new Error("File is not linear PCM.");for(this._wavFileInfo._numberOfChannels=this._byteReader.get16LittleEndian(),this._wavFileInfo._samplingRate=this._byteReader.get32LittleEndian(),this._byteReader.get32LittleEndian(),this._byteReader.get16LittleEndian(),this._wavFileInfo._bitsPerSample=this._byteReader.get16LittleEndian(),j>16&&(this._byteReader._readOffset+=j-16);!this._byteReader.getCheckSignature("data")&&this._byteReader._readOffset<this._byteReader._fileSize;)this._byteReader._readOffset+=this._byteReader.get32LittleEndian()+4;if(this._byteReader._readOffset>=this._byteReader._fileSize)throw a=!1,new Error('Cannot find "data" Chunk.');{const et=this._byteReader.get32LittleEndian();this._wavFileInfo._samplesPerChannel=et*8/(this._wavFileInfo._bitsPerSample*this._wavFileInfo._numberOfChannels)}this._pcmData=new Array(this._wavFileInfo._numberOfChannels);for(let et=0;et<this._wavFileInfo._numberOfChannels;et++)this._pcmData[et]=new Float32Array(this._wavFileInfo._samplesPerChannel);for(let et=0;et<this._wavFileInfo._samplesPerChannel;et++)for(let rt=0;rt<this._wavFileInfo._numberOfChannels;rt++)this._pcmData[rt][et]=this.getPcmSample();a=!0,s(a)}catch(j){console.log(j)}})().then(()=>{s(a)})})}getPcmSample(){let i;switch(this._wavFileInfo._bitsPerSample){case 8:i=this._byteReader.get8()-128,i<<=24;break;case 16:i=this._byteReader.get16LittleEndian()<<16;break;case 24:i=this._byteReader.get24LittleEndian()<<8;break;default:i=0;break}return i/2147483647}getPcmDataChannel(i){return!this._pcmData||!(i<this._pcmData.length)?null:Float32Array.from(this._pcmData[i])}getWavSamplingRate(){return!this._wavFileInfo||this._wavFileInfo._samplingRate<1?null:this._wavFileInfo._samplingRate}releasePcmData(){if(this._pcmData){for(let i=0;i<this._wavFileInfo._numberOfChannels;i++)this._pcmData[i]=void 0;this._pcmData=null}}}class WavFileInfo{constructor(){qt(this,"_fileName");qt(this,"_numberOfChannels");qt(this,"_bitsPerSample");qt(this,"_samplingRate");qt(this,"_samplesPerChannel");this._fileName="",this._numberOfChannels=0,this._bitsPerSample=0,this._samplingRate=0,this._samplesPerChannel=0}}class ByteReader{constructor(){qt(this,"_fileByte");qt(this,"_fileDataView");qt(this,"_fileSize");qt(this,"_readOffset");this._fileByte=null,this._fileDataView=null,this._fileSize=0,this._readOffset=0}get8(){const i=this._fileDataView.getUint8(this._readOffset);return this._readOffset++,i}get16LittleEndian(){const i=this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=2,i}get24LittleEndian(){const i=this._fileDataView.getUint8(this._readOffset+2)<<16|this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=3,i}get32LittleEndian(){const i=this._fileDataView.getUint8(this._readOffset+3)<<24|this._fileDataView.getUint8(this._readOffset+2)<<16|this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=4,i}getCheckSignature(i){const s=new Uint8Array(4),a=new TextEncoder().encode(i);if(i.length!=4)return!1;for(let $=0;$<4;$++)s[$]=this.get8();return s[0]==a[0]&&s[1]==a[1]&&s[2]==a[2]&&s[3]==a[3]}}class LAppModel extends CubismUserModel{constructor(){super();qt(this,"_modelSetting");qt(this,"_modelHomeDir");qt(this,"_userTimeSeconds");qt(this,"_eyeBlinkIds");qt(this,"_lipSyncIds");qt(this,"_motions");qt(this,"_expressions");qt(this,"_hitArea");qt(this,"_userArea");qt(this,"_idParamAngleX");qt(this,"_idParamAngleY");qt(this,"_idParamAngleZ");qt(this,"_idParamEyeBallX");qt(this,"_idParamEyeBallY");qt(this,"_idParamBodyAngleX");qt(this,"_state");qt(this,"_expressionCount");qt(this,"_textureCount");qt(this,"_motionCount");qt(this,"_allMotionCount");qt(this,"_wavFileHandler");qt(this,"_consistency");this._modelSetting=null,this._modelHomeDir=null,this._userTimeSeconds=0,this._eyeBlinkIds=new csmVector,this._lipSyncIds=new csmVector,this._motions=new csmMap,this._expressions=new csmMap,this._hitArea=new csmVector,this._userArea=new csmVector;const s=CubismFramework.getIdManager();s?(this._idParamAngleX=s.getId(CubismDefaultParameterId.ParamAngleX),this._idParamAngleY=s.getId(CubismDefaultParameterId.ParamAngleY),this._idParamAngleZ=s.getId(CubismDefaultParameterId.ParamAngleZ),this._idParamEyeBallX=s.getId(CubismDefaultParameterId.ParamEyeBallX),this._idParamEyeBallY=s.getId(CubismDefaultParameterId.ParamEyeBallY),this._idParamBodyAngleX=s.getId(CubismDefaultParameterId.ParamBodyAngleX)):(this._idParamAngleX=null,this._idParamAngleY=null,this._idParamAngleZ=null,this._idParamEyeBallX=null,this._idParamEyeBallY=null,this._idParamBodyAngleX=null),this._mocConsistency=!0,this._state=0,this._expressionCount=0,this._textureCount=0,this._motionCount=0,this._allMotionCount=0,this._wavFileHandler=new LAppWavFileHandler,this._consistency=!1}loadAssets(s,a){this._modelHomeDir=s,fetch(`${this._modelHomeDir}${a}`).then($=>$.arrayBuffer()).then($=>{const j=new CubismModelSettingJson($,$.byteLength);this._state=1,this.setupModel(j)}).catch($=>{CubismLogError(`Failed to load file ${this._modelHomeDir}${a}`)})}setupModel(s){this._updating=!0,this._initialized=!1,this._modelSetting=s;const a=this._modelSetting.getHitAreasCount();if(console.log(`Model has ${a} hit areas`),this._modelSetting.getModelFileName()!=""){const at=this._modelSetting.getModelFileName();fetch(`${this._modelHomeDir}${at}`).then(lt=>{if(lt.ok)return lt.arrayBuffer();if(lt.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${at}`),new ArrayBuffer(0)}).then(lt=>{this.loadModel(lt,this._mocConsistency,CurrentKScale),this._state=3,$()}),this._state=2}else LAppPal.printMessage("Model data does not exist.");const $=()=>{if(this._modelSetting.getExpressionCount()>0){const at=this._modelSetting.getExpressionCount();for(let lt=0;lt<at;lt++){const ut=this._modelSetting.getExpressionName(lt),ct=this._modelSetting.getExpressionFileName(lt);fetch(`${this._modelHomeDir}${ct}`).then(dt=>{if(dt.ok)return dt.arrayBuffer();if(dt.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${ct}`),new ArrayBuffer(0)}).then(dt=>{const ft=this.loadExpression(dt,dt.byteLength,ut);this._expressions.getValue(ut)!=null&&(ACubismMotion.delete(this._expressions.getValue(ut)),this._expressions.setValue(ut,null)),this._expressions.setValue(ut,ft),this._expressionCount++,this._expressionCount>=at&&(this._state=5,j())})}this._state=4}else this._state=5,j()},j=()=>{if(this._modelSetting.getPhysicsFileName()!=""){const at=this._modelSetting.getPhysicsFileName();fetch(`${this._modelHomeDir}${at}`).then(lt=>{if(lt.ok)return lt.arrayBuffer();if(lt.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${at}`),new ArrayBuffer(0)}).then(lt=>{this.loadPhysics(lt,lt.byteLength),this._state=7,et()}),this._state=6}else this._state=7,et()},et=()=>{if(this._modelSetting.getPoseFileName()!=""){const at=this._modelSetting.getPoseFileName();fetch(`${this._modelHomeDir}${at}`).then(lt=>{if(lt.ok)return lt.arrayBuffer();if(lt.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${at}`),new ArrayBuffer(0)}).then(lt=>{this.loadPose(lt,lt.byteLength),this._state=9,rt()}),this._state=8}else this._state=9,rt()},rt=()=>{this._modelSetting.getEyeBlinkParameterCount()>0&&(this._eyeBlink=CubismEyeBlink.create(this._modelSetting),this._state=10),st()},st=()=>{this._breath=CubismBreath.create();const at=new csmVector;at.pushBack(new BreathParameterData(this._idParamAngleX,0,15,6.5345,.5)),at.pushBack(new BreathParameterData(this._idParamAngleY,0,8,3.5345,.5)),at.pushBack(new BreathParameterData(this._idParamAngleZ,0,10,5.5345,.5)),at.pushBack(new BreathParameterData(this._idParamBodyAngleX,0,4,15.5345,.5));const lt=CubismFramework.getIdManager();if(lt){const ut=lt.getId(CubismDefaultParameterId.ParamBreath);ut&&at.pushBack(new BreathParameterData(ut,.5,.5,3.2345,1))}this._breath.setParameters(at),this._state=11,it()},it=()=>{if(this._modelSetting.getUserDataFile()!=""){const at=this._modelSetting.getUserDataFile();fetch(`${this._modelHomeDir}${at}`).then(lt=>{if(lt.ok)return lt.arrayBuffer();if(lt.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${at}`),new ArrayBuffer(0)}).then(lt=>{this.loadUserData(lt,lt.byteLength),this._state=13,ot()}),this._state=12}else this._state=13,ot()},ot=()=>{const at=this._modelSetting.getEyeBlinkParameterCount();for(let lt=0;lt<at;++lt)this._eyeBlinkIds.pushBack(this._modelSetting.getEyeBlinkParameterId(lt));this._state=14,tt()},tt=()=>{const at=this._modelSetting.getLipSyncParameterCount();for(let lt=0;lt<at;++lt)this._lipSyncIds.pushBack(this._modelSetting.getLipSyncParameterId(lt));if(this._lipSyncIds.getSize()===0){console.warn('[Fallback] No LipSync IDs defined in model setting. Attempting fallback to "ParamMouthOpenY".');const lt=CubismFramework.getIdManager();if(lt){const ut=lt.getId(CubismDefaultParameterId.ParamMouthOpenY);this._model&&ut&&this._model.getParameterIndex(ut)!==-1?(this._lipSyncIds.pushBack(ut),console.log('[Fallback] Successfully added "ParamMouthOpenY" as LipSync ID.')):console.warn('[Fallback] Fallback ID "ParamMouthOpenY" not found in the current model or model not loaded.')}else console.warn("[Fallback] Could not access IdManager. LipSync fallback unavailable.")}this._state=15,_e()},_e=()=>{const at=new csmMap;if(this._modelSetting==null||this._modelMatrix==null){CubismLogError("Failed to setupLayout().");return}this._modelSetting.getLayoutMap(at),this._modelMatrix.setupFromLayout(at),this._state=16,nt()},nt=()=>{this._state=17,this._model.saveParameters(),this._allMotionCount=0,this._motionCount=0;const at=[],lt=this._modelSetting.getMotionGroupCount();for(let ut=0;ut<lt;ut++)at[ut]=this._modelSetting.getMotionGroupName(ut),this._allMotionCount+=this._modelSetting.getMotionCount(at[ut]);if(this._allMotionCount==0){this._state=20,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(gl);return}for(let ut=0;ut<lt;ut++)this.preLoadMotionGroup(at[ut]);lt==0&&(this._state=20,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(gl))}}setupTextures(){console.log("Setting up textures for model:",this._modelHomeDir);const s=!0;if(this._state==20){const a=this._modelSetting.getTextureCount();for(let $=0;$<a;$++){if(this._modelSetting.getTextureFileName($)==""){console.log("getTextureFileName null");continue}let j=this._modelSetting.getTextureFileName($);j=this._modelHomeDir+j;const et=rt=>{this.getRenderer().bindTexture($,rt.id),this._textureCount++,this._textureCount>=a&&(this._state=22)};LAppDelegate.getInstance().getTextureManager().createTextureFromPngFile(j,s,et),this.getRenderer().setIsPremultipliedAlpha(s)}this._state=21}}reloadRenderer(){this.deleteRenderer(),this.createRenderer(),this.setupTextures()}update(){if(this._state!=22)return;const s=LAppPal.getDeltaTime();this._userTimeSeconds+=s,this._dragManager.update(s),this._dragX=this._dragManager.getX(),this._dragY=this._dragManager.getY();let a=!1;if(this._model.loadParameters(),this._motionManager.isFinished()?this.startRandomMotion(MotionGroupIdle,PriorityIdle):a=this._motionManager.updateMotion(this._model,s),this._model.saveParameters(),a||this._eyeBlink!=null&&this._eyeBlink.updateParameters(this._model,s),this._expressionManager!=null&&this._expressionManager.updateMotion(this._model,s),this._model.addParameterValueById(this._idParamAngleX,this._dragX*30),this._model.addParameterValueById(this._idParamAngleY,this._dragY*30),this._model.addParameterValueById(this._idParamAngleZ,this._dragX*this._dragY*-30),this._model.addParameterValueById(this._idParamBodyAngleX,this._dragX*10),this._model.addParameterValueById(this._idParamEyeBallX,this._dragX),this._model.addParameterValueById(this._idParamEyeBallY,this._dragY),this._breath!=null&&this._breath.updateParameters(this._model,s),this._physics!=null&&this._physics.evaluate(this._model,s),this._lipsync){let $=0;this._wavFileHandler.update(s),$=this._wavFileHandler.getRms(),$=Math.min(1,$*1.5);const j=4;for(let et=0;et<this._lipSyncIds.getSize();++et)this._model.addParameterValueById(this._lipSyncIds.at(et),$,j)}this._pose!=null&&this._pose.updateParameters(this._model,s),this._model.update()}startMotion(s,a,$,j){if($==PriorityForce)this._motionManager.setReservePriority($);else if(!this._motionManager.reserveMotion($))return this._debugMode&&LAppPal.printMessage("[APP]can't start motion."),InvalidMotionQueueEntryHandleValue;const et=this._modelSetting.getMotionFileName(s,a),rt=`${s}_${a}`;let st=this._motions.getValue(rt),it=!1;return st==null?(fetch(`${this._modelHomeDir}${et}`).then(ot=>{if(ot.ok)return ot.arrayBuffer();if(ot.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${et}`),new ArrayBuffer(0)}).then(ot=>{if(st=this.loadMotion(ot,ot.byteLength,null,j),st==null)return;let tt=this._modelSetting.getMotionFadeInTimeValue(s,a);tt>=0&&st.setFadeInTime(tt),tt=this._modelSetting.getMotionFadeOutTimeValue(s,a),tt>=0&&st.setFadeOutTime(tt),st.setEffectIds(this._eyeBlinkIds,this._lipSyncIds),it=!0,this._motionManager.startMotionPriority(st,it,$)}),InvalidMotionQueueEntryHandleValue):(st.setFinishedMotionHandler(j),this._motionManager.startMotionPriority(st,it,$))}startRandomMotion(s,a,$){if(this._modelSetting.getMotionCount(s)==0)return InvalidMotionQueueEntryHandleValue;const j=Math.floor(Math.random()*this._modelSetting.getMotionCount(s));return this.startMotion(s,j,a,$)}setExpression(s){const a=this._expressions.getValue(s);this._debugMode&&LAppPal.printMessage(`[APP]expression: [${s}]`),a!=null?this._expressionManager.startMotionPriority(a,!1,PriorityForce):this._debugMode&&LAppPal.printMessage(`[APP]expression[${s}] is null`)}setRandomExpression(){if(this._expressions.getSize()==0)return;const s=Math.floor(Math.random()*this._expressions.getSize());for(let a=0;a<this._expressions.getSize();a++)if(a==s){const $=this._expressions._keyValues[a].first;this.setExpression($);return}}motionEventFired(s){CubismLogInfo("{0} is fired on LAppModel!!",s.s)}hitTest(s,a,$){if(this._opacity<1)return!1;const j=this._modelSetting.getHitAreasCount();for(let et=0;et<j;et++)if(this._modelSetting.getHitAreaName(et)==s){const rt=this._modelSetting.getHitAreaId(et);return this.isHit(rt,a,$)}return!1}anyhitTest(s,a){var j;if(this._opacity<1)return null;const $=this._modelSetting.getHitAreasCount();for(let et=0;et<$;et++){const rt=this._modelSetting.getHitAreaId(et);if(this.isHit(rt,s,a)){const it=this._modelSetting.getHitAreaId(et);return((j=it==null?void 0:it._id)==null?void 0:j.s)||null}}return null}preLoadMotionGroup(s){for(let a=0;a<this._modelSetting.getMotionCount(s);a++){const $=this._modelSetting.getMotionFileName(s,a),j=`${s}_${a}`;this._debugMode&&LAppPal.printMessage(`[APP]load motion: ${$} => [${j}]`),fetch(`${this._modelHomeDir}${$}`).then(et=>{if(et.ok)return et.arrayBuffer();if(et.status>=400)return CubismLogError(`Failed to load file ${this._modelHomeDir}${$}`),null}).then(et=>{if(!et){this._allMotionCount--;return}const rt=this.loadMotion(et,et.byteLength,j);if(rt!=null){let st=this._modelSetting.getMotionFadeInTimeValue(s,a);st>=0&&rt.setFadeInTime(st),st=this._modelSetting.getMotionFadeOutTimeValue(s,a),st>=0&&rt.setFadeOutTime(st),rt.setEffectIds(this._eyeBlinkIds,this._lipSyncIds),this._motions.getValue(j)!=null&&ACubismMotion.delete(this._motions.getValue(j)),this._motions.setValue(j,rt),this._motionCount++,this._motionCount>=this._allMotionCount&&(this._state=20,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(gl))}else this._allMotionCount--}).catch(et=>{CubismLogError(`Failed to load motion: ${et}`),this._allMotionCount--})}}releaseMotions(){this._motions.clear()}releaseExpressions(){this._expressions.clear()}doDraw(){if(this._model==null)return;const s=[0,0,canvas.width,canvas.height];this.getRenderer().setRenderState(frameBuffer,s),this.getRenderer().drawModel()}draw(s){this._model!=null&&this._state==22&&(s.multiplyByMatrix(this._modelMatrix),this.getRenderer().setMvpMatrix(s),this.doDraw())}async hasMocConsistencyFromFile(){if(CSM_ASSERT(this._modelSetting.getModelFileName().localeCompare("")),this._modelSetting.getModelFileName()!=""){const s=this._modelSetting.getModelFileName(),$=await(await fetch(`${this._modelHomeDir}${s}`)).arrayBuffer();return this._consistency=CubismMoc.hasMocConsistency($),this._consistency?CubismLogInfo("Consistent MOC3."):CubismLogInfo("Inconsistent MOC3."),this._consistency}else LAppPal.printMessage("Model data does not exist.")}isHitOnModel(s,a){if(this._opacity<1)return!1;const $=this._model.getDrawableCount(),j=this._modelMatrix.getArray(),et=j[0]*j[5]-j[1]*j[4];if(Math.abs(et)<1e-4)return!1;const rt=1/et,st={a:j[5]*rt,b:-j[1]*rt,c:-j[4]*rt,d:j[0]*rt,tx:(j[4]*j[13]-j[5]*j[12])*rt,ty:(j[1]*j[12]-j[0]*j[13])*rt},it={x:s*st.a+a*st.c+st.tx,y:s*st.b+a*st.d+st.ty};for(let ot=0;ot<$;ot++){if(!this._model.getDrawableDynamicFlagIsVisible(ot))continue;const tt=this._model.getDrawableVertices(ot);let _e=tt[0],nt=tt[1],at=tt[0],lt=tt[1];for(let ut=2;ut<tt.length;ut+=2){const ct=tt[ut],dt=tt[ut+1];_e=Math.min(_e,ct),nt=Math.min(nt,dt),at=Math.max(at,ct),lt=Math.max(lt,dt)}if(it.x>=_e&&it.x<=at&&it.y>=nt&&it.y<=lt)return!0}return!1}anyHitTestWithFallback(s,a){return this.anyhitTest(s,a)!==null||this.isHitOnModel(s,a)}startTapMotion(s,a){if(!a||Object.keys(a).length===0)return;let $={},j=!1;if(s&&a[s]&&($=a[s],j=!0),j||($={},Object.values(a).forEach(tt=>{for(const[_e,nt]of Object.entries(tt))$[_e]?$[_e]+=Number(nt):$[_e]=Number(nt)})),Object.keys($).length===0)return;const et=Object.keys($),rt=Object.values($).map(Number),st=rt.reduce((tt,_e)=>tt+(isNaN(_e)?0:_e),0);if(st<=0)return;let it=Math.random()*st,ot=null;for(let tt=0;tt<et.length;tt++){const _e=isNaN(rt[tt])?0:rt[tt];if(it<_e){ot=et[tt];break}it-=_e}ot!==null&&this.startRandomMotion(ot,3)}}let s_instance$1=null;class LAppLive2DManager{constructor(){qt(this,"_viewMatrix");qt(this,"_models");qt(this,"_sceneIndex");qt(this,"_finishedMotion",i=>{LAppPal.printMessage("Motion Finished:"),console.log(i)});this._viewMatrix=new CubismMatrix44,this._models=new csmVector,this._sceneIndex=0,this.changeScene(this._sceneIndex)}static getInstance(){return s_instance$1==null&&(s_instance$1=new LAppLive2DManager),s_instance$1}static releaseInstance(){s_instance$1!=null&&(s_instance$1=void 0),s_instance$1=null}getModel(i){return i<this._models.getSize()?this._models.at(i):null}releaseAllModel(){for(let i=0;i<this._models.getSize();i++)this._models.at(i).release(),this._models.set(i,null);this._models.clear()}onDrag(i,s){for(let a=0;a<this._models.getSize();a++){const $=this.getModel(a);$&&$.setDragging(i,s)}}onTap(i,s){for(let a=0;a<this._models.getSize();a++)this._models.at(a).hitTest(HitAreaNameHead,i,s)?this._models.at(a).setRandomExpression():this._models.at(a).hitTest(HitAreaNameBody,i,s)&&this._models.at(a).startRandomMotion(MotionGroupTapBody,PriorityNormal,this._finishedMotion)}onUpdate(){const{width:i,height:s}=canvas,a=this._models.getSize();for(let $=0;$<a;++$){const j=new CubismMatrix44,et=this.getModel($);et.getModel()&&(et.getModel().getCanvasWidth()>1&&i<s?(et.getModelMatrix().setWidth(2),j.scale(1,i/s)):j.scale(s/i,1),this._viewMatrix!=null&&j.multiplyByMatrix(this._viewMatrix)),et.update(),et.draw(j)}}nextScene(){const i=(this._sceneIndex+1)%ModelDirSize;this.changeScene(i)}changeScene(i){this._sceneIndex=i;const s=ModelDir[i],a=ResourcesPath+s+"/";let $=ModelFileNames&&ModelFileNames[i]?ModelFileNames[i]:ModelDir[i];$+=".model3.json",this.releaseAllModel(),this._models.pushBack(new LAppModel),this._models.at(0).loadAssets(a,$)}setViewMatrix(i){for(let s=0;s<16;s++)this._viewMatrix.getArray()[s]=i.getArray()[s]}}class LAppTextureManager{constructor(){qt(this,"_textures");this._textures=new csmVector}release(){for(let i=this._textures.begin();i.notEqual(this._textures.end());i.preIncrement())gl.deleteTexture(i.ptr().id);this._textures=null}createTextureFromPngFile(i,s,a){for(let j=this._textures.begin();j.notEqual(this._textures.end());j.preIncrement())if(j.ptr().fileName==i&&j.ptr().usePremultply==s){j.ptr().img=new Image,j.ptr().img.addEventListener("load",()=>a(j.ptr()),{passive:!0}),j.ptr().img.src=i;return}const $=new Image;$.crossOrigin="anonymous",$.addEventListener("load",()=>{const j=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,j),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR_MIPMAP_LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR),s&&gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,$),gl.generateMipmap(gl.TEXTURE_2D),gl.bindTexture(gl.TEXTURE_2D,null);const et=new TextureInfo;et!=null&&(et.fileName=i,et.width=$.width,et.height=$.height,et.id=j,et.img=$,et.usePremultply=s,this._textures.pushBack(et)),a(et)},{passive:!0}),$.src=i}releaseTextures(){for(let i=0;i<this._textures.getSize();i++)this._textures.set(i,null);this._textures.clear()}releaseTextureByTexture(i){for(let s=0;s<this._textures.getSize();s++)if(this._textures.at(s).id==i){this._textures.set(s,null),this._textures.remove(s);break}}releaseTextureByFilePath(i){for(let s=0;s<this._textures.getSize();s++)if(this._textures.at(s).fileName==i){this._textures.set(s,null),this._textures.remove(s);break}}}class TextureInfo{constructor(){qt(this,"img");qt(this,"id",null);qt(this,"width",0);qt(this,"height",0);qt(this,"usePremultply");qt(this,"fileName")}}class CubismViewMatrix extends CubismMatrix44{constructor(){super(),this._screenLeft=0,this._screenRight=0,this._screenTop=0,this._screenBottom=0,this._maxLeft=0,this._maxRight=0,this._maxTop=0,this._maxBottom=0,this._maxScale=0,this._minScale=0}adjustTranslate(i,s){this._tr[0]*this._maxLeft+(this._tr[12]+i)>this._screenLeft&&(i=this._screenLeft-this._tr[0]*this._maxLeft-this._tr[12]),this._tr[0]*this._maxRight+(this._tr[12]+i)<this._screenRight&&(i=this._screenRight-this._tr[0]*this._maxRight-this._tr[12]),this._tr[5]*this._maxTop+(this._tr[13]+s)<this._screenTop&&(s=this._screenTop-this._tr[5]*this._maxTop-this._tr[13]),this._tr[5]*this._maxBottom+(this._tr[13]+s)>this._screenBottom&&(s=this._screenBottom-this._tr[5]*this._maxBottom-this._tr[13]);const a=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,i,s,0,1]);CubismMatrix44.multiply(a,this._tr,this._tr)}adjustScale(i,s,a){const $=this.getMaxScale(),j=this.getMinScale(),et=a*this._tr[0];et<j?this._tr[0]>0&&(a=j/this._tr[0]):et>$&&this._tr[0]>0&&(a=$/this._tr[0]);const rt=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,i,s,0,1]),st=new Float32Array([a,0,0,0,0,a,0,0,0,0,1,0,0,0,0,1]),it=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,-i,-s,0,1]);CubismMatrix44.multiply(it,this._tr,this._tr),CubismMatrix44.multiply(st,this._tr,this._tr),CubismMatrix44.multiply(rt,this._tr,this._tr)}setScreenRect(i,s,a,$){this._screenLeft=i,this._screenRight=s,this._screenBottom=a,this._screenTop=$}setMaxScreenRect(i,s,a,$){this._maxLeft=i,this._maxRight=s,this._maxTop=$,this._maxBottom=a}setMaxScale(i){this._maxScale=i}setMinScale(i){this._minScale=i}getMaxScale(){return this._maxScale}getMinScale(){return this._minScale}isMaxScale(){return this.getScaleX()>=this._maxScale}isMinScale(){return this.getScaleX()<=this._minScale}getScreenLeft(){return this._screenLeft}getScreenRight(){return this._screenRight}getScreenBottom(){return this._screenBottom}getScreenTop(){return this._screenTop}getMaxLeft(){return this._maxLeft}getMaxRight(){return this._maxRight}getMaxBottom(){return this._maxBottom}getMaxTop(){return this._maxTop}}var Live2DCubismFramework;(o=>{o.CubismViewMatrix=CubismViewMatrix})(Live2DCubismFramework||(Live2DCubismFramework={}));class TouchManager{constructor(){qt(this,"_startY");qt(this,"_startX");qt(this,"_lastX");qt(this,"_lastY");qt(this,"_lastX1");qt(this,"_lastY1");qt(this,"_lastX2");qt(this,"_lastY2");qt(this,"_lastTouchDistance");qt(this,"_deltaX");qt(this,"_deltaY");qt(this,"_scale");qt(this,"_touchSingle");qt(this,"_flipAvailable");this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._lastX1=0,this._lastY1=0,this._lastX2=0,this._lastY2=0,this._lastTouchDistance=0,this._deltaX=0,this._deltaY=0,this._scale=1,this._touchSingle=!1,this._flipAvailable=!1}getCenterX(){return this._lastX}getCenterY(){return this._lastY}getDeltaX(){return this._deltaX}getDeltaY(){return this._deltaY}getStartX(){return this._startX}getStartY(){return this._startY}getScale(){return this._scale}getX(){return this._lastX}getY(){return this._lastY}getX1(){return this._lastX1}getY1(){return this._lastY1}getX2(){return this._lastX2}getY2(){return this._lastY2}isSingleTouch(){return this._touchSingle}isFlickAvailable(){return this._flipAvailable}disableFlick(){this._flipAvailable=!1}touchesBegan(i,s){this._lastX=i,this._lastY=s,this._startX=i,this._startY=s,this._lastTouchDistance=-1,this._flipAvailable=!0,this._touchSingle=!0}touchesMoved(i,s){this._lastX=i,this._lastY=s,this._lastTouchDistance=-1,this._touchSingle=!0}getFlickDistance(){return this.calculateDistance(this._startX,this._startY,this._lastX,this._lastY)}calculateDistance(i,s,a,$){return Math.sqrt((i-a)*(i-a)+(s-$)*(s-$))}calculateMovingAmount(i,s){if(i>0!=s>0)return 0;const a=i>0?1:-1,$=Math.abs(i),j=Math.abs(s);return a*($<j?$:j)}}class LAppView{constructor(){qt(this,"_touchManager");qt(this,"_deviceToScreen");qt(this,"_viewMatrix");qt(this,"_programId");qt(this,"_back");qt(this,"_changeModel");qt(this,"_isClick");this._programId=null,this._back=null,this._touchManager=new TouchManager,this._deviceToScreen=new CubismMatrix44,this._viewMatrix=new CubismViewMatrix}initialize(){if(!canvas){console.warn("Canvas is null, cannot initialize LAppView");return}const{width:i,height:s}=canvas,a=i/s,$=-a,j=a,et=ViewLogicalLeft,rt=ViewLogicalRight;if(this._viewMatrix.setScreenRect($,j,et,rt),this._viewMatrix.scale(ViewScale,ViewScale),this._deviceToScreen.loadIdentity(),i>s){const st=Math.abs(j-$);this._deviceToScreen.scaleRelative(st/i,-st/i)}else{const st=Math.abs(rt-et);this._deviceToScreen.scaleRelative(st/s,-st/s)}this._deviceToScreen.translateRelative(-i*.5,-s*.5),this._viewMatrix.setMaxScale(ViewMaxScale),this._viewMatrix.setMinScale(ViewMinScale),this._viewMatrix.setMaxScreenRect(ViewLogicalMaxLeft,ViewLogicalMaxRight,ViewLogicalMaxBottom,ViewLogicalMaxTop)}release(){this._viewMatrix=null,this._touchManager=null,this._deviceToScreen=null,this._back.release(),this._back=null,gl.deleteProgram(this._programId),this._programId=null}render(){gl.useProgram(this._programId),this._back&&this._back.render(this._programId),gl.flush();const i=LAppLive2DManager.getInstance();i.setViewMatrix(this._viewMatrix),i.onUpdate()}initializeSprite(){canvas.width,canvas.height,LAppDelegate.getInstance().getTextureManager(),this._programId==null&&(this._programId=LAppDelegate.getInstance().createShader())}onTouchesBegan(i,s){this._touchManager.touchesBegan(i*window.devicePixelRatio,s*window.devicePixelRatio)}onTouchesMoved(i,s){const a=this.transformViewX(this._touchManager.getX()),$=this.transformViewY(this._touchManager.getY());this._touchManager.touchesMoved(i*window.devicePixelRatio,s*window.devicePixelRatio),LAppLive2DManager.getInstance().onDrag(a,$)}onTouchesEnded(i,s){const a=LAppLive2DManager.getInstance();a.onDrag(0,0);{const $=this._deviceToScreen.transformX(this._touchManager.getX()),j=this._deviceToScreen.transformY(this._touchManager.getY());a.onTap($,j)}}transformViewX(i){const s=this._deviceToScreen.transformX(i);return this._viewMatrix.invertTransformX(s)}transformViewY(i){const s=this._deviceToScreen.transformY(i);return this._viewMatrix.invertTransformY(s)}transformScreenX(i){return this._deviceToScreen.transformX(i)}transformScreenY(i){return this._deviceToScreen.transformY(i)}}let s_instance=null,frameBuffer=null;class LAppDelegate{constructor(){qt(this,"_cubismOption");qt(this,"_view");qt(this,"_captured");qt(this,"_mouseX");qt(this,"_mouseY");qt(this,"_isEnd");qt(this,"_textureManager");this._captured=!1,this._mouseX=0,this._mouseY=0,this._isEnd=!1,this._cubismOption=new Option,this._view=new LAppView,this._textureManager=new LAppTextureManager}static getInstance(){return s_instance==null&&(s_instance=new LAppDelegate),s_instance}static releaseInstance(){s_instance!=null&&s_instance.release(),s_instance=null}initialize(){return this._resizeCanvas(),frameBuffer||(frameBuffer=gl.getParameter(gl.FRAMEBUFFER_BINDING)),gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),"ontouchend"in canvas?(canvas.addEventListener("touchstart",onTouchBegan,{passive:!0}),canvas.addEventListener("touchmove",onTouchMoved,{passive:!0}),canvas.addEventListener("touchend",onTouchEnded,{passive:!0}),canvas.addEventListener("touchcancel",onTouchCancel,{passive:!0})):(canvas.addEventListener("mousedown",onClickBegan,{passive:!0}),canvas.addEventListener("mousemove",onMouseMoved,{passive:!0}),canvas.addEventListener("mouseup",onClickEnded,{passive:!0})),this._view.initialize(),this.initializeCubism(),!0}onResize(){if(this._resizeCanvas(),this._view&&canvas){this._view.initialize(),this._view.initializeSprite();const i=LAppLive2DManager.getInstance();if(i){const s=i.getModel(0);if(s){const a=canvas.width,$=canvas.height;a>0&&$>0&&s.setPosition&&s.setPosition(a/2,$/2)}}}}release(){this._textureManager.release(),this._textureManager=null,this._view.release(),this._view=null,LAppLive2DManager.releaseInstance(),CubismFramework.dispose()}run(){const i=()=>{if(s_instance!=null){if(LAppPal.updateTime(!1),LAppPal.getDeltaTime()<1/LIMITED_FRAME_RATE){requestAnimationFrame(i);return}LAppPal.updateTime(!0),gl.clearColor(0,0,0,1),gl.enable(gl.DEPTH_TEST),gl.depthFunc(gl.LEQUAL),gl.clear(gl.DEPTH_BUFFER_BIT),gl.clearDepth(1),gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),this._view.render(),requestAnimationFrame(i)}};i()}createShader(){const i=gl.createShader(gl.VERTEX_SHADER);if(i==null)return LAppPal.printMessage("failed to create vertexShader"),null;gl.shaderSource(i,"precision mediump float;attribute vec3 position;attribute vec2 uv;varying vec2 vuv;void main(void){   gl_Position = vec4(position, 1.0);   vuv = uv;}"),gl.compileShader(i);const a=gl.createShader(gl.FRAGMENT_SHADER);if(a==null)return LAppPal.printMessage("failed to create fragmentShader"),null;gl.shaderSource(a,"precision mediump float;varying vec2 vuv;uniform sampler2D texture;void main(void){   gl_FragColor = texture2D(texture, vuv);}"),gl.compileShader(a);const j=gl.createProgram();return gl.attachShader(j,i),gl.attachShader(j,a),gl.deleteShader(i),gl.deleteShader(a),gl.linkProgram(j),gl.useProgram(j),j}getView(){return this._view}getTextureManager(){return this._textureManager}initializeCubism(){this._cubismOption.logFunction=LAppPal.printMessage,this._cubismOption.loggingLevel=CubismLoggingLevel,CubismFramework.startUp(this._cubismOption),CubismFramework.initialize(),LAppLive2DManager.getInstance(),LAppPal.updateTime(),this._view.initializeSprite()}_resizeCanvas(){if(!canvas){console.warn("Canvas is null, skipping resize");return}canvas.width=canvas.clientWidth*window.devicePixelRatio,canvas.height=canvas.clientHeight*window.devicePixelRatio,gl&&gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight)}}function onClickBegan(o){if(!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}LAppDelegate.getInstance()._captured=!0;const i=o.pageX,s=o.pageY;LAppDelegate.getInstance()._view.onTouchesBegan(i,s)}function onMouseMoved(o){if(!LAppDelegate.getInstance()._captured)return;if(!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const i=o.target.getBoundingClientRect(),s=o.clientX-i.left,a=o.clientY-i.top;LAppDelegate.getInstance()._view.onTouchesMoved(s,a)}function onClickEnded(o){if(LAppDelegate.getInstance()._captured=!1,!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const i=o.target.getBoundingClientRect(),s=o.clientX-i.left,a=o.clientY-i.top;LAppDelegate.getInstance()._view.onTouchesEnded(s,a)}function onTouchBegan(o){if(!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}LAppDelegate.getInstance()._captured=!0;const i=o.changedTouches[0].pageX,s=o.changedTouches[0].pageY;LAppDelegate.getInstance()._view.onTouchesBegan(i,s)}function onTouchMoved(o){if(!LAppDelegate.getInstance()._captured)return;if(!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const i=o.target.getBoundingClientRect(),s=o.changedTouches[0].clientX-i.left,a=o.changedTouches[0].clientY-i.top;LAppDelegate.getInstance()._view.onTouchesMoved(s,a)}function onTouchEnded(o){if(LAppDelegate.getInstance()._captured=!1,!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const i=o.target.getBoundingClientRect(),s=o.changedTouches[0].clientX-i.left,a=o.changedTouches[0].clientY-i.top;LAppDelegate.getInstance()._view.onTouchesEnded(s,a)}function onTouchCancel(o){if(LAppDelegate.getInstance()._captured=!1,!LAppDelegate.getInstance()._view){LAppPal.printMessage("view notfound");return}const i=o.target.getBoundingClientRect(),s=o.changedTouches[0].clientX-i.left,a=o.changedTouches[0].clientY-i.top;LAppDelegate.getInstance()._view.onTouchesEnded(s,a)}function initializeLive2D(){var o;if(console.log("Initializing Live2D with resourcePath:",ResourcesPath),console.log("Model directories:",ModelDir),LAppDelegate.getInstance()&&LAppLive2DManager.releaseInstance(),!LAppGlManager.getInstance()||!LAppDelegate.getInstance().initialize()){console.error("Failed to initialize Live2D");return}if(LAppDelegate.getInstance().run(),window.getLive2DManager=()=>LAppLive2DManager.getInstance(),!window.getLAppAdapter){console.log("Setting up getLAppAdapter function");const{LAppAdapter:i}=require("./lappadapter");window.getLAppAdapter=()=>i.getInstance()}if((o=window.api)!=null&&o.setIgnoreMouseEvent){const i=document.getElementById("live2d");i==null||i.addEventListener("pointermove",s=>{const a=LAppLive2DManager.getInstance().getModel(0),$=LAppDelegate.getInstance().getView(),j=$==null?void 0:$._deviceToScreen.transformX(s.x),et=$==null?void 0:$._deviceToScreen.transformY(s.y);window.api.setIgnoreMouseEvent(!(a!=null&&a.anyhitTest(j,et))&&!(a!=null&&a.isHitOnModel(j,et)))}),i==null||i.addEventListener("pointerdown",s=>{const a=LAppLive2DManager.getInstance().getModel(0),$=LAppDelegate.getInstance().getView(),j=$==null?void 0:$._deviceToScreen.transformX(s.x),et=$==null?void 0:$._deviceToScreen.transformY(s.y),rt=a==null?void 0:a.anyhitTest(j,et),st=rt!==null||(a==null?void 0:a.isHitOnModel(j,et));console.log("Model clicked:",st,rt?`in area: ${rt}`:"")})}}window.addEventListener("beforeunload",()=>LAppDelegate.releaseInstance(),{passive:!0});window.addEventListener("resize",()=>{LAppDelegate.getInstance().onResize()},{passive:!0});window.initializeLive2D=initializeLive2D;const TAP_DURATION_THRESHOLD_MS=200,DRAG_DISTANCE_THRESHOLD_PX=5;function parseModelUrl(o){try{const i=new URL(o),{pathname:s}=i,a=s.lastIndexOf("/");if(a===-1)throw new Error("Invalid model URL format");const j=s.substring(a+1).replace(".model3.json",""),et=s.lastIndexOf("/",a-1);if(et===-1)throw new Error("Invalid model URL format");const rt=s.substring(et+1,a);return{baseUrl:`${i.protocol}//${i.host}${s.substring(0,et+1)}`,modelDir:rt,modelFileName:j}}catch(i){return console.error("Error parsing model URL:",i),{baseUrl:"",modelDir:"",modelFileName:""}}}const useLive2DModel=({modelInfo:o,canvasRef:i})=>{const{mode:s}=useMode(),a=s==="pet",[$,j]=reactExports.useState(!1),[et,rt]=reactExports.useState({x:0,y:0}),st=reactExports.useRef({x:0,y:0}),it=reactExports.useRef({x:0,y:0}),ot=reactExports.useRef({x:0,y:0}),tt=reactExports.useRef(null),_e=reactExports.useRef(!1),nt=window.electron,at=reactExports.useRef(0),lt=reactExports.useRef({x:0,y:0}),ut=reactExports.useRef(!1);reactExports.useEffect(()=>{var wt;const bt=o==null?void 0:o.url,vt=(wt=window.LAppDefine)==null?void 0:wt.CurrentKScale,mt=(o==null?void 0:o.kScale)!==void 0?Number(o.kScale):void 0;if(bt&&(bt!==tt.current||vt!==void 0&&mt!==void 0&&vt!==mt)){tt.current=bt;try{const{baseUrl:Ct,modelDir:kt,modelFileName:It}=parseModelUrl(bt);Ct&&kt&&(updateModelConfig(Ct,kt,It,Number(o.kScale)),setTimeout(()=>{var Pt;(Pt=window.LAppLive2DManager)!=null&&Pt.releaseInstance&&window.LAppLive2DManager.releaseInstance(),initializeLive2D()},500))}catch(Ct){console.error("Error processing model URL:",Ct)}}},[o==null?void 0:o.url,o==null?void 0:o.kScale]);const ct=reactExports.useCallback(()=>{var vt;const bt=(vt=window.getLAppAdapter)==null?void 0:vt.call(window);if(bt){const mt=bt.getModel();if(mt&&mt._modelMatrix){const xt=mt._modelMatrix.getArray();return{x:xt[12],y:xt[13]}}}return{x:0,y:0}},[]);reactExports.useCallback((bt,vt)=>{var xt;const mt=(xt=window.getLAppAdapter)==null?void 0:xt.call(window);if(mt){const wt=mt.getModel();if(wt&&wt._modelMatrix){const kt=[...wt._modelMatrix.getArray()];kt[12]=bt,kt[13]=vt,wt._modelMatrix.setMatrix(kt),ot.current={x:bt,y:vt}}}},[]),reactExports.useEffect(()=>{const bt=setTimeout(()=>{const vt=ct();ot.current=vt,rt(vt)},500);return()=>clearTimeout(bt)},[o==null?void 0:o.url,ct]);const dt=reactExports.useCallback(()=>{const bt=document.getElementById("canvas");if(!bt)return{width:1,height:1,scale:1};const{width:vt}=bt,{height:mt}=bt,xt=vt/bt.clientWidth;return{width:vt,height:mt,scale:xt}},[]);reactExports.useCallback((bt,vt)=>{const{width:mt,height:xt,scale:wt}=dt(),Ct=bt*wt/mt*2-1,kt=-(vt*wt/xt)*2+1;return{x:Ct,y:kt}},[dt]);const ft=reactExports.useCallback(bt=>{var Xt;const vt=(Xt=window.getLAppAdapter)==null?void 0:Xt.call(window);if(!vt||!i.current)return;const mt=vt.getModel(),xt=LAppDelegate.getInstance().getView();if(!xt||!mt)return;const wt=i.current,Ct=wt.getBoundingClientRect(),kt=bt.clientX-Ct.left,It=bt.clientY-Ct.top,Pt=wt.width/wt.clientWidth,St=kt*Pt,Ot=It*Pt,At=xt._deviceToScreen.transformX(St),$t=xt._deviceToScreen.transformY(Ot),jt=mt.anyhitTest(At,$t),zt=mt.isHitOnModel(At,$t);if((jt!==null||zt)&&(at.current=Date.now(),lt.current={x:bt.clientX,y:bt.clientY},ut.current=!0,j(!1),mt._modelMatrix)){const tr=mt._modelMatrix.getArray();it.current={x:tr[12],y:tr[13]}}},[i,o]),ht=reactExports.useCallback(bt=>{var wt;const vt=(wt=window.getLAppAdapter)==null?void 0:wt.call(window),mt=LAppDelegate.getInstance().getView(),xt=vt==null?void 0:vt.getModel();if(ut.current&&vt&&mt&&xt&&i.current){const Ct=Date.now()-at.current,kt=bt.clientX-lt.current.x,It=bt.clientY-lt.current.y,Pt=Math.sqrt(kt*kt+It*It);if(Pt>DRAG_DISTANCE_THRESHOLD_PX||Ct>TAP_DURATION_THRESHOLD_MS&&Pt>1){ut.current=!1,j(!0);const Ot=i.current.getBoundingClientRect();st.current={x:lt.current.x-Ot.left,y:lt.current.y-Ot.top}}}if($&&vt&&mt&&xt&&i.current){const Ct=i.current,kt=Ct.getBoundingClientRect(),It=bt.clientX-kt.left,Pt=bt.clientY-kt.top,St=Ct.width/Ct.clientWidth,Ot=st.current.x*St,At=st.current.y*St,$t=mt._deviceToScreen.transformX(Ot),jt=mt._deviceToScreen.transformY(At),zt=It*St,Xt=Pt*St,tr=mt._deviceToScreen.transformX(zt),ir=mt._deviceToScreen.transformY(Xt),sr=tr-$t,Jt=ir-jt,rr=it.current.x+sr,Yt=it.current.y+Jt;if(vt.setModelPosition)vt.setModelPosition(rr,Yt);else if(xt._modelMatrix){const er=[...xt._modelMatrix.getArray()];er[12]=rr,er[13]=Yt,xt._modelMatrix.setMatrix(er)}ot.current={x:rr,y:Yt},rt({x:rr,y:Yt})}if(a&&!$&&!ut.current&&nt&&vt&&mt&&xt&&i.current){const Ct=i.current,kt=Ct.getBoundingClientRect(),It=bt.clientX-kt.left,Pt=bt.clientY-kt.top,St=Ct.width/Ct.clientWidth,Ot=It*St,At=Pt*St,$t=mt._deviceToScreen.transformX(Ot),jt=mt._deviceToScreen.transformY(At),zt=xt.anyhitTest($t,jt)!==null||xt.isHitOnModel($t,jt);zt!==_e.current&&(_e.current=zt,nt.ipcRenderer.send("update-component-hover","live2d-model",zt))}},[a,$,nt,i]),gt=reactExports.useCallback(bt=>{var wt;const vt=(wt=window.getLAppAdapter)==null?void 0:wt.call(window),mt=vt==null?void 0:vt.getModel(),xt=LAppDelegate.getInstance().getView();if($){if(j(!1),vt){const Ct=vt.getModel();if(Ct&&Ct._modelMatrix){const kt=Ct._modelMatrix.getArray(),It={x:kt[12],y:kt[13]};ot.current=It,it.current=It,rt(It)}}}else if(ut.current&&vt&&mt&&xt&&i.current){const Ct=Date.now()-at.current,kt=bt.clientX-lt.current.x,It=bt.clientY-lt.current.y,Pt=Math.sqrt(kt*kt+It*It);if(Ct<TAP_DURATION_THRESHOLD_MS&&Pt<DRAG_DISTANCE_THRESHOLD_PX&&(o==null?void 0:o.pointerInteractive)!==!1&&o!=null&&o.tapMotions){const Ot=i.current,At=Ot.getBoundingClientRect(),$t=Ot.width/Ot.clientWidth,jt=(lt.current.x-At.left)*$t,zt=(lt.current.y-At.top)*$t,Xt=xt._deviceToScreen.transformX(jt),tr=xt._deviceToScreen.transformY(zt),ir=mt.anyhitTest(Xt,tr);mt.startTapMotion(ir,o.tapMotions)}}ut.current=!1},[$,i,o]),yt=reactExports.useCallback(()=>{$&&gt({}),ut.current&&(ut.current=!1),a&&nt&&_e.current&&(_e.current=!1,nt.ipcRenderer.send("update-component-hover","live2d-model",!1))},[a,$,nt,gt]);return reactExports.useEffect(()=>{!a&&nt&&_e.current&&(_e.current=!1)},[a,nt]),reactExports.useEffect(()=>{const bt=(xt,wt=0,Ct=3)=>{var Pt;const kt=(Pt=window.getLAppAdapter)==null?void 0:Pt.call(window);if(!kt)return console.error("Live2D adapter not available"),!1;const It=kt.getModel();if(!It)return console.error("Live2D model not available"),!1;try{console.log(`Playing motion: group="${xt}", index=${wt}, priority=${Ct}`);const St=It.startMotion(xt,wt,Ct);return console.log("Motion start result:",St),St}catch(St){return console.error("Error playing motion:",St),!1}},vt=(xt,wt=3)=>{var It;const Ct=(It=window.getLAppAdapter)==null?void 0:It.call(window);if(!Ct)return console.error("Live2D adapter not available"),!1;const kt=Ct.getModel();if(!kt)return console.error("Live2D model not available"),!1;try{console.log(`Playing random motion from group: "${xt}", priority=${wt}`);const Pt=kt.startRandomMotion(xt,wt);return console.log("Random motion start result:",Pt),Pt}catch(Pt){return console.error("Error playing random motion:",Pt),!1}},mt=()=>{var Ct,kt,It;const xt=(Ct=window.getLAppAdapter)==null?void 0:Ct.call(window);if(!xt)return console.error("Live2D adapter not available"),null;const wt=xt.getModel();if(!wt)return console.error("Live2D model not available"),null;try{const Pt=[],St=wt._modelSetting;if(St){const Ot=(It=(kt=St._json)==null?void 0:kt.FileReferences)==null?void 0:It.Motions;if(Ot)for(const At in Ot){const $t=Ot[At];Pt.push({name:At,count:$t.length,motions:$t.map((jt,zt)=>({index:zt,file:jt.File}))})}}return console.log("Available motion groups:",Pt),Pt}catch(Pt){return console.error("Error getting motion info:",Pt),null}};return window.Live2DDebug={playMotion:bt,playRandomMotion:vt,getMotionInfo:mt,help:()=>{console.log(`
Live2D Motion Debug Functions:
- Live2DDebug.getMotionInfo() - Get all available motion groups and their motions
- Live2DDebug.playMotion(group, index, priority) - Play specific motion
- Live2DDebug.playRandomMotion(group, priority) - Play random motion from group  
- Live2DDebug.help() - Show this help

Example usage:
Live2DDebug.getMotionInfo()  // See available motions
Live2DDebug.playMotion("", 0)  // Play first motion from default group
Live2DDebug.playRandomMotion("")  // Play random motion from default group
        `)}},console.log("Live2D Debug functions exposed to window.Live2DDebug"),console.log("Type Live2DDebug.help() for usage information"),()=>{delete window.Live2DDebug}},[]),{position:et,isDragging:$,handlers:{onMouseDown:ft,onMouseMove:ht,onMouseUp:gt,onMouseLeave:yt}}},MIN_SCALE=.1,MAX_SCALE=5,EASING_FACTOR=.3,WHEEL_SCALE_STEP=.03,DEFAULT_SCALE=1,applyScale=o=>{try{const i=LAppLive2DManager.getInstance();if(!i)return;const s=i.getModel(0);if(!s)return;s._modelMatrix.scale(o,o)}catch{console.debug("Model not ready for scaling yet")}},useLive2DResize=({containerRef:o,modelInfo:i,showSidebar:s})=>{const{mode:a}=useMode(),$=a==="pet",j=reactExports.useRef(null),et=reactExports.useRef(null),rt=reactExports.useRef(!1),st=(i==null?void 0:i.kScale)||DEFAULT_SCALE,it=reactExports.useRef(st),ot=reactExports.useRef(st),tt=reactExports.useRef(),_e=reactExports.useRef(!1),nt=reactExports.useRef(!1),at=reactExports.useRef({width:0,height:0}),lt=reactExports.useRef(s);reactExports.useEffect(()=>{const ht=(i==null?void 0:i.kScale)||DEFAULT_SCALE;it.current=ht,ot.current=ht,nt.current=!1,tt.current&&(cancelAnimationFrame(tt.current),_e.current=!1);const gt=requestAnimationFrame(()=>{ft()});return()=>cancelAnimationFrame(gt)},[i==null?void 0:i.url,i==null?void 0:i.kScale]);const ut=reactExports.useCallback(()=>{const ht=Math.max(MIN_SCALE,Math.min(MAX_SCALE,ot.current)),gt=it.current,yt=ht-gt,bt=gt+yt*EASING_FACTOR;applyScale(bt),it.current=bt,tt.current=requestAnimationFrame(ut)},[]),ct=reactExports.useCallback(ht=>{if(ht.preventDefault(),!(i!=null&&i.scrollToResize))return;const gt=ht.deltaY>0?-1:1,yt=WHEEL_SCALE_STEP*gt,bt=it.current,vt=Math.max(MIN_SCALE,Math.min(MAX_SCALE,bt+yt));ot.current=vt,_e.current||(_e.current=!0,tt.current=requestAnimationFrame(ut))},[i==null?void 0:i.scrollToResize,ut]),dt=reactExports.useCallback(()=>{et.current&&(rt.current=!0,j.current!==null&&(cancelAnimationFrame(j.current),j.current=null))},[]),ft=reactExports.useCallback(()=>{var gt;const ht=et.current;if(ht){rt.current||dt();try{const yt=(gt=o.current)==null?void 0:gt.getBoundingClientRect(),{width:bt,height:vt}=$?{width:window.innerWidth,height:window.innerHeight}:yt||{width:0,height:0},mt=at.current,xt=lt.current!==s;if(!(Math.abs(mt.width-bt)>1||Math.abs(mt.height-vt)>1||xt)&&nt.current){rt.current=!1;return}if(at.current={width:bt,height:vt},lt.current=s,!yt&&!$&&console.warn("[Resize] Container bounds not available in window mode."),bt===0||vt===0){console.warn("[Resize] Width or Height is zero, skipping canvas/delegate update."),rt.current=!1;return}const kt=window.devicePixelRatio||1;ht.width=Math.round(bt*kt),ht.height=Math.round(vt*kt),ht.style.width=`${bt}px`,ht.style.height=`${vt}px`;const It=LAppDelegate.getInstance();It?It.onResize():console.warn("[Resize] LAppDelegate instance not found."),rt.current=!1}catch{rt.current=!1}}},[$,o,i==null?void 0:i.kScale,i==null?void 0:i.initialXshift,i==null?void 0:i.initialYshift,s,dt,et]);return reactExports.useEffect(()=>{lt.current!==s&&(j.current!==null&&cancelAnimationFrame(j.current),j.current=requestAnimationFrame(()=>{ft(),j.current=null}))},[s,ft]),reactExports.useEffect(()=>{const ht=et.current;if(ht)return ht.addEventListener("wheel",ct,{passive:!1}),()=>{ht.removeEventListener("wheel",ct)}},[ct,et]),reactExports.useEffect(()=>()=>{tt.current&&(cancelAnimationFrame(tt.current),tt.current=void 0),j.current!==null&&(cancelAnimationFrame(j.current),j.current=null)},[]),reactExports.useEffect(()=>{const ht=o.current;if(!ht)return;j.current!==null&&cancelAnimationFrame(j.current),j.current=requestAnimationFrame(()=>{ft(),j.current=null});const gt=new ResizeObserver(()=>{rt.current||(j.current!==null&&cancelAnimationFrame(j.current),j.current=requestAnimationFrame(()=>{ft(),j.current=null}))});return gt.observe(ht),()=>{j.current!==null&&(cancelAnimationFrame(j.current),j.current=null),gt.disconnect()}},[o,ft]),reactExports.useEffect(()=>{const ht=()=>{rt.current||(j.current!==null&&cancelAnimationFrame(j.current),j.current=requestAnimationFrame(()=>{ft(),j.current=null}))};return window.addEventListener("resize",ht),()=>{window.removeEventListener("resize",ht),j.current!==null&&(cancelAnimationFrame(j.current),j.current=null)}},[ft]),{canvasRef:et,handleResize:ft}},Live2D=reactExports.memo(({showSidebar:o})=>{const{forceIgnoreMouse:i}=useForceIgnoreMouse(),{modelInfo:s}=useLive2DConfig(),{mode:a}=useMode(),$=reactExports.useRef(null),{aiState:j}=useAiState(),{resetExpression:et}=useLive2DExpression(),rt=a==="pet",{canvasRef:st}=useLive2DResize({containerRef:$,modelInfo:s,showSidebar:o}),{isDragging:it,handlers:ot}=useLive2DModel({modelInfo:s,canvasRef:st});useIpcHandlers(),useInterrupt(),useAudioTask(),reactExports.useEffect(()=>{var nt;if(j===AiStateEnum.IDLE){const at=(nt=window.getLAppAdapter)==null?void 0:nt.call(window);at&&et(at,s)}},[j,s,et]);const tt=nt=>{ot.onMouseDown(nt)},_e=nt=>{var at,lt;rt&&(nt.preventDefault(),console.log("[ContextMenu] (Pet Mode) Right-click detected, requesting menu..."),(lt=(at=window.api)==null?void 0:at.showContextMenu)==null||lt.call(at))};return jsxRuntimeExports.jsx("div",{ref:$,id:"live2d-internal-wrapper",style:{width:"100%",height:"100%",pointerEvents:rt&&i?"none":"auto",overflow:"hidden",position:"relative",cursor:it?"grabbing":"default"},onPointerDown:tt,onContextMenu:_e,...ot,children:jsxRuntimeExports.jsx("canvas",{id:"canvas",ref:st,style:{width:"100%",height:"100%",pointerEvents:rt&&i?"none":"auto",display:"block",cursor:it?"grabbing":"default"}})})});Live2D.displayName="Live2D";function useSwitchCharacter(){const{sendMessage:o}=useWebSocket(),{confName:i,getFilenameByName:s}=useConfig(),{interrupt:a}=useInterrupt(),{stopMic:$}=useVAD(),{setSubtitleText:j}=useSubtitle(),{setAiState:et}=useAiState(),{setModelInfo:rt}=useLive2DConfig();return{switchCharacter:reactExports.useCallback(it=>{if(s(i)===it){console.log("Skipping character switch - same configuration file");return}j("New Character Loading..."),a(),$(),et("loading"),rt(void 0),o({type:"switch-config",file:it}),console.log("Switch Character fileName: ",it)},[i,s,o,a,$,j,et])}}const isString=o=>typeof o=="string",defer=()=>{let o,i;const s=new Promise((a,$)=>{o=a,i=$});return s.resolve=o,s.reject=i,s},makeString=o=>o==null?"":""+o,copy=(o,i,s)=>{o.forEach(a=>{i[a]&&(s[a]=i[a])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=o=>o&&o.indexOf("###")>-1?o.replace(lastOfPathSeparatorRegExp,"."):o,canNotTraverseDeeper=o=>!o||isString(o),getLastOfPath=(o,i,s)=>{const a=isString(i)?i.split("."):i;let $=0;for(;$<a.length-1;){if(canNotTraverseDeeper(o))return{};const j=cleanKey(a[$]);!o[j]&&s&&(o[j]=new s),Object.prototype.hasOwnProperty.call(o,j)?o=o[j]:o={},++$}return canNotTraverseDeeper(o)?{}:{obj:o,k:cleanKey(a[$])}},setPath=(o,i,s)=>{const{obj:a,k:$}=getLastOfPath(o,i,Object);if(a!==void 0||i.length===1){a[$]=s;return}let j=i[i.length-1],et=i.slice(0,i.length-1),rt=getLastOfPath(o,et,Object);for(;rt.obj===void 0&&et.length;)j=`${et[et.length-1]}.${j}`,et=et.slice(0,et.length-1),rt=getLastOfPath(o,et,Object),rt!=null&&rt.obj&&typeof rt.obj[`${rt.k}.${j}`]<"u"&&(rt.obj=void 0);rt.obj[`${rt.k}.${j}`]=s},pushPath=(o,i,s,a)=>{const{obj:$,k:j}=getLastOfPath(o,i,Object);$[j]=$[j]||[],$[j].push(s)},getPath=(o,i)=>{const{obj:s,k:a}=getLastOfPath(o,i);if(s&&Object.prototype.hasOwnProperty.call(s,a))return s[a]},getPathWithDefaults=(o,i,s)=>{const a=getPath(o,s);return a!==void 0?a:getPath(i,s)},deepExtend=(o,i,s)=>{for(const a in i)a!=="__proto__"&&a!=="constructor"&&(a in o?isString(o[a])||o[a]instanceof String||isString(i[a])||i[a]instanceof String?s&&(o[a]=i[a]):deepExtend(o[a],i[a],s):o[a]=i[a]);return o},regexEscape=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=o=>isString(o)?o.replace(/[&<>"'\/]/g,i=>_entityMap[i]):o;class RegExpCache{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const s=this.regExpMap.get(i);if(s!==void 0)return s;const a=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,a),this.regExpQueue.push(i),a}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(o,i,s)=>{i=i||"",s=s||"";const a=chars.filter(et=>i.indexOf(et)<0&&s.indexOf(et)<0);if(a.length===0)return!0;const $=looksLikeObjectPathRegExpCache.getRegExp(`(${a.map(et=>et==="?"?"\\?":et).join("|")})`);let j=!$.test(o);if(!j){const et=o.indexOf(s);et>0&&!$.test(o.substring(0,et))&&(j=!0)}return j},deepFind=function(o,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!o)return;if(o[i])return Object.prototype.hasOwnProperty.call(o,i)?o[i]:void 0;const a=i.split(s);let $=o;for(let j=0;j<a.length;){if(!$||typeof $!="object")return;let et,rt="";for(let st=j;st<a.length;++st)if(st!==j&&(rt+=s),rt+=a[st],et=$[rt],et!==void 0){if(["string","number","boolean"].indexOf(typeof et)>-1&&st<a.length-1)continue;j+=st-j+1;break}$=et}return $},getCleanedCode=o=>o==null?void 0:o.replace("_","-"),consoleLogger={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,i){var s,a;(a=(s=console==null?void 0:console[o])==null?void 0:s.apply)==null||a.call(s,console,i)}};class Logger{constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(i,s)}init(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=i||consoleLogger,this.options=s,this.debug=s.debug}log(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.forward(s,"log","",!0)}warn(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.forward(s,"warn","",!0)}error(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.forward(s,"error","")}deprecate(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(i,s,a,$){return $&&!this.debug?null:(isString(i[0])&&(i[0]=`${a}${this.prefix} ${i[0]}`),this.logger[s](i))}create(i){return new Logger(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new Logger(this.logger,i)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(i,s){return i.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const $=this.observers[a].get(s)||0;this.observers[a].set(s,$+1)}),this}off(i,s){if(this.observers[i]){if(!s){delete this.observers[i];return}this.observers[i].delete(s)}}emit(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),$=1;$<s;$++)a[$-1]=arguments[$];this.observers[i]&&Array.from(this.observers[i].entries()).forEach(et=>{let[rt,st]=et;for(let it=0;it<st;it++)rt(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(et=>{let[rt,st]=et;for(let it=0;it<st;it++)rt.apply(rt,[i,...a])})}}class ResourceStore extends EventEmitter{constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=i||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}getResource(i,s,a){var it,ot;let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const j=$.keySeparator!==void 0?$.keySeparator:this.options.keySeparator,et=$.ignoreJSONStructure!==void 0?$.ignoreJSONStructure:this.options.ignoreJSONStructure;let rt;i.indexOf(".")>-1?rt=i.split("."):(rt=[i,s],a&&(Array.isArray(a)?rt.push(...a):isString(a)&&j?rt.push(...a.split(j)):rt.push(a)));const st=getPath(this.data,rt);return!st&&!s&&!a&&i.indexOf(".")>-1&&(i=rt[0],s=rt[1],a=rt.slice(2).join(".")),st||!et||!isString(a)?st:deepFind((ot=(it=this.data)==null?void 0:it[i])==null?void 0:ot[s],a,j)}addResource(i,s,a,$){let j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const et=j.keySeparator!==void 0?j.keySeparator:this.options.keySeparator;let rt=[i,s];a&&(rt=rt.concat(et?a.split(et):a)),i.indexOf(".")>-1&&(rt=i.split("."),$=s,s=rt[1]),this.addNamespaces(s),setPath(this.data,rt,$),j.silent||this.emit("added",i,s,a,$)}addResources(i,s,a){let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const j in a)(isString(a[j])||Array.isArray(a[j]))&&this.addResource(i,s,j,a[j],{silent:!0});$.silent||this.emit("added",i,s,a)}addResourceBundle(i,s,a,$,j){let et=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},rt=[i,s];i.indexOf(".")>-1&&(rt=i.split("."),$=a,a=s,s=rt[1]),this.addNamespaces(s);let st=getPath(this.data,rt)||{};et.skipCopy||(a=JSON.parse(JSON.stringify(a))),$?deepExtend(st,a,j):st={...st,...a},setPath(this.data,rt,st),et.silent||this.emit("added",i,s,a)}removeResourceBundle(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}hasResourceBundle(i,s){return this.getResource(i,s)!==void 0}getResourceBundle(i,s){return s||(s=this.options.defaultNS),this.getResource(i,s)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const s=this.getDataByLanguage(i);return!!(s&&Object.keys(s)||[]).find($=>s[$]&&Object.keys(s[$]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,i,s,a,$){return o.forEach(j=>{var et;i=((et=this.processors[j])==null?void 0:et.process(i,s,a,$))??i}),i}};const checkedLoadedFor={},shouldHandleAsObject=o=>!isString(o)&&typeof o!="boolean"&&typeof o!="number";class Translator extends EventEmitter{constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;const a=this.resolve(i,s);return(a==null?void 0:a.res)!==void 0}extractFromKey(i,s){let a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const $=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let j=s.ns||this.options.defaultNS||[];const et=a&&i.indexOf(a)>-1,rt=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!looksLikeObjectPath(i,a,$);if(et&&!rt){const st=i.match(this.interpolator.nestingRegexp);if(st&&st.length>0)return{key:i,namespaces:isString(j)?[j]:j};const it=i.split(a);(a!==$||a===$&&this.options.ns.indexOf(it[0])>-1)&&(j=it.shift()),i=it.join($)}return{key:i,namespaces:isString(j)?[j]:j}}translate(i,s,a){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);const $=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,j=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:et,namespaces:rt}=this.extractFromKey(i[i.length-1],s),st=rt[rt.length-1],it=s.lng||this.language,ot=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((it==null?void 0:it.toLowerCase())==="cimode"){if(ot){const wt=s.nsSeparator||this.options.nsSeparator;return $?{res:`${st}${wt}${et}`,usedKey:et,exactUsedKey:et,usedLng:it,usedNS:st,usedParams:this.getUsedParamsDetails(s)}:`${st}${wt}${et}`}return $?{res:et,usedKey:et,exactUsedKey:et,usedLng:it,usedNS:st,usedParams:this.getUsedParamsDetails(s)}:et}const tt=this.resolve(i,s);let _e=tt==null?void 0:tt.res;const nt=(tt==null?void 0:tt.usedKey)||et,at=(tt==null?void 0:tt.exactUsedKey)||et,lt=["[object Number]","[object Function]","[object RegExp]"],ut=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,ct=!this.i18nFormat||this.i18nFormat.handleAsObject,dt=s.count!==void 0&&!isString(s.count),ft=Translator.hasDefaultValue(s),ht=dt?this.pluralResolver.getSuffix(it,s.count,s):"",gt=s.ordinal&&dt?this.pluralResolver.getSuffix(it,s.count,{ordinal:!1}):"",yt=dt&&!s.ordinal&&s.count===0,bt=yt&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${ht}`]||s[`defaultValue${gt}`]||s.defaultValue;let vt=_e;ct&&!_e&&ft&&(vt=bt);const mt=shouldHandleAsObject(vt),xt=Object.prototype.toString.apply(vt);if(ct&&vt&&mt&&lt.indexOf(xt)<0&&!(isString(ut)&&Array.isArray(vt))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const wt=this.options.returnedObjectHandler?this.options.returnedObjectHandler(nt,vt,{...s,ns:rt}):`key '${et} (${this.language})' returned an object instead of string.`;return $?(tt.res=wt,tt.usedParams=this.getUsedParamsDetails(s),tt):wt}if(j){const wt=Array.isArray(vt),Ct=wt?[]:{},kt=wt?at:nt;for(const It in vt)if(Object.prototype.hasOwnProperty.call(vt,It)){const Pt=`${kt}${j}${It}`;ft&&!_e?Ct[It]=this.translate(Pt,{...s,defaultValue:shouldHandleAsObject(bt)?bt[It]:void 0,joinArrays:!1,ns:rt}):Ct[It]=this.translate(Pt,{...s,joinArrays:!1,ns:rt}),Ct[It]===Pt&&(Ct[It]=vt[It])}_e=Ct}}else if(ct&&isString(ut)&&Array.isArray(_e))_e=_e.join(ut),_e&&(_e=this.extendTranslation(_e,i,s,a));else{let wt=!1,Ct=!1;!this.isValidLookup(_e)&&ft&&(wt=!0,_e=bt),this.isValidLookup(_e)||(Ct=!0,_e=et);const It=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ct?void 0:_e,Pt=ft&&bt!==_e&&this.options.updateMissing;if(Ct||wt||Pt){if(this.logger.log(Pt?"updateKey":"missingKey",it,st,et,Pt?bt:_e),j){const $t=this.resolve(et,{...s,keySeparator:!1});$t&&$t.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let St=[];const Ot=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ot&&Ot[0])for(let $t=0;$t<Ot.length;$t++)St.push(Ot[$t]);else this.options.saveMissingTo==="all"?St=this.languageUtils.toResolveHierarchy(s.lng||this.language):St.push(s.lng||this.language);const At=($t,jt,zt)=>{var tr;const Xt=ft&&zt!==_e?zt:It;this.options.missingKeyHandler?this.options.missingKeyHandler($t,st,jt,Xt,Pt,s):(tr=this.backendConnector)!=null&&tr.saveMissing&&this.backendConnector.saveMissing($t,st,jt,Xt,Pt,s),this.emit("missingKey",$t,st,jt,_e)};this.options.saveMissing&&(this.options.saveMissingPlurals&&dt?St.forEach($t=>{const jt=this.pluralResolver.getSuffixes($t,s);yt&&s[`defaultValue${this.options.pluralSeparator}zero`]&&jt.indexOf(`${this.options.pluralSeparator}zero`)<0&&jt.push(`${this.options.pluralSeparator}zero`),jt.forEach(zt=>{At([$t],et+zt,s[`defaultValue${zt}`]||bt)})}):At(St,et,bt))}_e=this.extendTranslation(_e,i,s,tt,a),Ct&&_e===et&&this.options.appendNamespaceToMissingKey&&(_e=`${st}:${et}`),(Ct||wt)&&this.options.parseMissingKeyHandler&&(_e=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${st}:${et}`:et,wt?_e:void 0))}return $?(tt.res=_e,tt.usedParams=this.getUsedParamsDetails(s),tt):_e}extendTranslation(i,s,a,$,j){var it,ot;var et=this;if((it=this.i18nFormat)!=null&&it.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||$.usedLng,$.usedNS,$.usedKey,{resolved:$});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const tt=isString(i)&&(((ot=a==null?void 0:a.interpolation)==null?void 0:ot.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _e;if(tt){const at=i.match(this.interpolator.nestingRegexp);_e=at&&at.length}let nt=a.replace&&!isString(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(nt={...this.options.interpolation.defaultVariables,...nt}),i=this.interpolator.interpolate(i,nt,a.lng||this.language||$.usedLng,a),tt){const at=i.match(this.interpolator.nestingRegexp),lt=at&&at.length;_e<lt&&(a.nest=!1)}!a.lng&&$&&$.res&&(a.lng=this.language||$.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var at=arguments.length,lt=new Array(at),ut=0;ut<at;ut++)lt[ut]=arguments[ut];return(j==null?void 0:j[0])===lt[0]&&!a.context?(et.logger.warn(`It seems you are nesting recursively key: ${lt[0]} in key: ${s[0]}`),null):et.translate(...lt,s)},a)),a.interpolation&&this.interpolator.reset()}const rt=a.postProcess||this.options.postProcess,st=isString(rt)?[rt]:rt;return i!=null&&(st!=null&&st.length)&&a.applyPostProcessor!==!1&&(i=postProcessor.handle(st,i,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...$,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),i}resolve(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,$,j,et,rt;return isString(i)&&(i=[i]),i.forEach(st=>{if(this.isValidLookup(a))return;const it=this.extractFromKey(st,s),ot=it.key;$=ot;let tt=it.namespaces;this.options.fallbackNS&&(tt=tt.concat(this.options.fallbackNS));const _e=s.count!==void 0&&!isString(s.count),nt=_e&&!s.ordinal&&s.count===0,at=s.context!==void 0&&(isString(s.context)||typeof s.context=="number")&&s.context!=="",lt=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);tt.forEach(ut=>{var ct,dt;this.isValidLookup(a)||(rt=ut,!checkedLoadedFor[`${lt[0]}-${ut}`]&&((ct=this.utils)!=null&&ct.hasLoadedNamespace)&&!((dt=this.utils)!=null&&dt.hasLoadedNamespace(rt))&&(checkedLoadedFor[`${lt[0]}-${ut}`]=!0,this.logger.warn(`key "${$}" for languages "${lt.join(", ")}" won't get resolved as namespace "${rt}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),lt.forEach(ft=>{var yt;if(this.isValidLookup(a))return;et=ft;const ht=[ot];if((yt=this.i18nFormat)!=null&&yt.addLookupKeys)this.i18nFormat.addLookupKeys(ht,ot,ft,ut,s);else{let bt;_e&&(bt=this.pluralResolver.getSuffix(ft,s.count,s));const vt=`${this.options.pluralSeparator}zero`,mt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(_e&&(ht.push(ot+bt),s.ordinal&&bt.indexOf(mt)===0&&ht.push(ot+bt.replace(mt,this.options.pluralSeparator)),nt&&ht.push(ot+vt)),at){const xt=`${ot}${this.options.contextSeparator}${s.context}`;ht.push(xt),_e&&(ht.push(xt+bt),s.ordinal&&bt.indexOf(mt)===0&&ht.push(xt+bt.replace(mt,this.options.pluralSeparator)),nt&&ht.push(xt+vt))}}let gt;for(;gt=ht.pop();)this.isValidLookup(a)||(j=gt,a=this.getResource(ft,ut,gt,s))}))})}),{res:a,usedKey:$,exactUsedKey:j,usedLng:et,usedNS:rt}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,s,a){var j;let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(j=this.i18nFormat)!=null&&j.getResource?this.i18nFormat.getResource(i,s,a,$):this.resourceStore.getResource(i,s,a,$)}getUsedParamsDetails(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=i.replace&&!isString(i.replace);let $=a?i.replace:i;if(a&&typeof i.count<"u"&&($.count=i.count),this.options.interpolation.defaultVariables&&($={...this.options.interpolation.defaultVariables,...$}),!a){$={...$};for(const j of s)delete $[j]}return $}static hasDefaultValue(i){const s="defaultValue";for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&s===a.substring(0,s.length)&&i[a]!==void 0)return!0;return!1}}class LanguageUtil{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(i){if(i=getCleanedCode(i),!i||i.indexOf("-")<0)return null;const s=i.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(i){if(i=getCleanedCode(i),!i||i.indexOf("-")<0)return i;const s=i.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(i){if(isString(i)&&i.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(i)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let s;return i.forEach(a=>{if(s)return;const $=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode($))&&(s=$)}),!s&&this.options.supportedLngs&&i.forEach(a=>{if(s)return;const $=this.getScriptPartFromCode(a);if(this.isSupportedCode($))return s=$;const j=this.getLanguagePartFromCode(a);if(this.isSupportedCode(j))return s=j;s=this.options.supportedLngs.find(et=>{if(et===j)return et;if(!(et.indexOf("-")<0&&j.indexOf("-")<0)&&(et.indexOf("-")>0&&j.indexOf("-")<0&&et.substring(0,et.indexOf("-"))===j||et.indexOf(j)===0&&j.length>1))return et})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(i,s){if(!i)return[];if(typeof i=="function"&&(i=i(s)),isString(i)&&(i=[i]),Array.isArray(i))return i;if(!s)return i.default||[];let a=i[s];return a||(a=i[this.getScriptPartFromCode(s)]),a||(a=i[this.formatLanguageCode(s)]),a||(a=i[this.getLanguagePartFromCode(s)]),a||(a=i.default),a||[]}toResolveHierarchy(i,s){const a=this.getFallbackCodes(s||this.options.fallbackLng||[],i),$=[],j=et=>{et&&(this.isSupportedCode(et)?$.push(et):this.logger.warn(`rejecting language code not found in supportedLngs: ${et}`))};return isString(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&j(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&j(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&j(this.getLanguagePartFromCode(i))):isString(i)&&j(this.formatLanguageCode(i)),a.forEach(et=>{$.indexOf(et)<0&&j(this.formatLanguageCode(et))}),$}}const suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},dummyRule={select:o=>o===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PluralResolver{constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=i,this.options=s,this.logger=baseLogger.create("pluralResolver"),this.pluralRulesCache={}}addRule(i,s){this.rules[i]=s}clearCache(){this.pluralRulesCache={}}getRule(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=getCleanedCode(i==="dev"?"en":i),$=s.ordinal?"ordinal":"cardinal",j=JSON.stringify({cleanedCode:a,type:$});if(j in this.pluralRulesCache)return this.pluralRulesCache[j];let et;try{et=new Intl.PluralRules(a,{type:$})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dummyRule;if(!i.match(/-|_/))return dummyRule;const st=this.languageUtils.getLanguagePartFromCode(i);et=this.getRule(st,s)}return this.pluralRulesCache[j]=et,et}needsPlural(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(i,s);return a||(a=this.getRule("dev",s)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(i,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(i,a).map($=>`${s}${$}`)}getSuffixes(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(i,s);return a||(a=this.getRule("dev",s)),a?a.resolvedOptions().pluralCategories.sort(($,j)=>suffixesOrder[$]-suffixesOrder[j]).map($=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${$}`):[]}getSuffix(i,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const $=this.getRule(i,a);return $?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${$.select(s)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",s,a))}}const deepFindWithDefaults=function(o,i,s){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,j=getPathWithDefaults(o,i,s);return!j&&$&&isString(s)&&(j=deepFind(o,s,a),j===void 0&&(j=deepFind(i,s,a))),j},regexSafe=o=>o.replace(/\$/g,"$$$$");class Interpolator{constructor(){var s;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=i,this.format=((s=i==null?void 0:i.interpolation)==null?void 0:s.format)||(a=>a),this.init(i)}init(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.interpolation||(i.interpolation={escapeValue:!0});const{escape:s,escapeValue:a,useRawValueToEscape:$,prefix:j,prefixEscaped:et,suffix:rt,suffixEscaped:st,formatSeparator:it,unescapeSuffix:ot,unescapePrefix:tt,nestingPrefix:_e,nestingPrefixEscaped:nt,nestingSuffix:at,nestingSuffixEscaped:lt,nestingOptionsSeparator:ut,maxReplaces:ct,alwaysFormat:dt}=i.interpolation;this.escape=s!==void 0?s:escape,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=$!==void 0?$:!1,this.prefix=j?regexEscape(j):et||"{{",this.suffix=rt?regexEscape(rt):st||"}}",this.formatSeparator=it||",",this.unescapePrefix=ot?"":tt||"-",this.unescapeSuffix=this.unescapePrefix?"":ot||"",this.nestingPrefix=_e?regexEscape(_e):nt||regexEscape("$t("),this.nestingSuffix=at?regexEscape(at):lt||regexEscape(")"),this.nestingOptionsSeparator=ut||",",this.maxReplaces=ct||1e3,this.alwaysFormat=dt!==void 0?dt:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(s,a)=>(s==null?void 0:s.source)===a?(s.lastIndex=0,s):new RegExp(a,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(i,s,a,$){var nt;let j,et,rt;const st=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},it=at=>{if(at.indexOf(this.formatSeparator)<0){const dt=deepFindWithDefaults(s,st,at,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(dt,void 0,a,{...$,...s,interpolationkey:at}):dt}const lt=at.split(this.formatSeparator),ut=lt.shift().trim(),ct=lt.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(s,st,ut,this.options.keySeparator,this.options.ignoreJSONStructure),ct,a,{...$,...s,interpolationkey:ut})};this.resetRegExp();const ot=($==null?void 0:$.missingInterpolationHandler)||this.options.missingInterpolationHandler,tt=((nt=$==null?void 0:$.interpolation)==null?void 0:nt.skipOnVariables)!==void 0?$.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:at=>regexSafe(at)},{regex:this.regexp,safeValue:at=>this.escapeValue?regexSafe(this.escape(at)):regexSafe(at)}].forEach(at=>{for(rt=0;j=at.regex.exec(i);){const lt=j[1].trim();if(et=it(lt),et===void 0)if(typeof ot=="function"){const ct=ot(i,j,$);et=isString(ct)?ct:""}else if($&&Object.prototype.hasOwnProperty.call($,lt))et="";else if(tt){et=j[0];continue}else this.logger.warn(`missed to pass in variable ${lt} for interpolating ${i}`),et="";else!isString(et)&&!this.useRawValueToEscape&&(et=makeString(et));const ut=at.safeValue(et);if(i=i.replace(j[0],ut),tt?(at.regex.lastIndex+=et.length,at.regex.lastIndex-=j[0].length):at.regex.lastIndex=0,rt++,rt>=this.maxReplaces)break}}),i}nest(i,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$,j,et;const rt=(st,it)=>{const ot=this.nestingOptionsSeparator;if(st.indexOf(ot)<0)return st;const tt=st.split(new RegExp(`${ot}[ ]*{`));let _e=`{${tt[1]}`;st=tt[0],_e=this.interpolate(_e,et);const nt=_e.match(/'/g),at=_e.match(/"/g);(((nt==null?void 0:nt.length)??0)%2===0&&!at||at.length%2!==0)&&(_e=_e.replace(/'/g,'"'));try{et=JSON.parse(_e),it&&(et={...it,...et})}catch(lt){return this.logger.warn(`failed parsing options string in nesting for key ${st}`,lt),`${st}${ot}${_e}`}return et.defaultValue&&et.defaultValue.indexOf(this.prefix)>-1&&delete et.defaultValue,st};for(;$=this.nestingRegexp.exec(i);){let st=[];et={...a},et=et.replace&&!isString(et.replace)?et.replace:et,et.applyPostProcessor=!1,delete et.defaultValue;let it=!1;if($[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test($[1])){const ot=$[1].split(this.formatSeparator).map(tt=>tt.trim());$[1]=ot.shift(),st=ot,it=!0}if(j=s(rt.call(this,$[1].trim(),et),et),j&&$[0]===i&&!isString(j))return j;isString(j)||(j=makeString(j)),j||(this.logger.warn(`missed to resolve ${$[1]} for nesting ${i}`),j=""),it&&(j=st.reduce((ot,tt)=>this.format(ot,tt,a.lng,{...a,interpolationkey:$[1].trim()}),j.trim())),i=i.replace($[0],j),this.regexp.lastIndex=0}return i}}const parseFormatStr=o=>{let i=o.toLowerCase().trim();const s={};if(o.indexOf("(")>-1){const a=o.split("(");i=a[0].toLowerCase().trim();const $=a[1].substring(0,a[1].length-1);i==="currency"&&$.indexOf(":")<0?s.currency||(s.currency=$.trim()):i==="relativetime"&&$.indexOf(":")<0?s.range||(s.range=$.trim()):$.split(";").forEach(et=>{if(et){const[rt,...st]=et.split(":"),it=st.join(":").trim().replace(/^'+|'+$/g,""),ot=rt.trim();s[ot]||(s[ot]=it),it==="false"&&(s[ot]=!1),it==="true"&&(s[ot]=!0),isNaN(it)||(s[ot]=parseInt(it,10))}})}return{formatName:i,formatOptions:s}},createCachedFormatter=o=>{const i={};return(s,a,$)=>{let j=$;$&&$.interpolationkey&&$.formatParams&&$.formatParams[$.interpolationkey]&&$[$.interpolationkey]&&(j={...j,[$.interpolationkey]:void 0});const et=a+JSON.stringify(j);let rt=i[et];return rt||(rt=o(getCleanedCode(a),$),i[et]=rt),rt(s)}};class Formatter{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=i,this.formats={number:createCachedFormatter((s,a)=>{const $=new Intl.NumberFormat(s,{...a});return j=>$.format(j)}),currency:createCachedFormatter((s,a)=>{const $=new Intl.NumberFormat(s,{...a,style:"currency"});return j=>$.format(j)}),datetime:createCachedFormatter((s,a)=>{const $=new Intl.DateTimeFormat(s,{...a});return j=>$.format(j)}),relativetime:createCachedFormatter((s,a)=>{const $=new Intl.RelativeTimeFormat(s,{...a});return j=>$.format(j,a.range||"day")}),list:createCachedFormatter((s,a)=>{const $=new Intl.ListFormat(s,{...a});return j=>$.format(j)})},this.init(i)}init(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(i,s){this.formats[i.toLowerCase().trim()]=s}addCached(i,s){this.formats[i.toLowerCase().trim()]=createCachedFormatter(s)}format(i,s,a){let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const j=s.split(this.formatSeparator);if(j.length>1&&j[0].indexOf("(")>1&&j[0].indexOf(")")<0&&j.find(rt=>rt.indexOf(")")>-1)){const rt=j.findIndex(st=>st.indexOf(")")>-1);j[0]=[j[0],...j.splice(1,rt)].join(this.formatSeparator)}return j.reduce((rt,st)=>{var tt;const{formatName:it,formatOptions:ot}=parseFormatStr(st);if(this.formats[it]){let _e=rt;try{const nt=((tt=$==null?void 0:$.formatParams)==null?void 0:tt[$.interpolationkey])||{},at=nt.locale||nt.lng||$.locale||$.lng||a;_e=this.formats[it](rt,at,{...ot,...$,...nt})}catch(nt){this.logger.warn(nt)}return _e}else this.logger.warn(`there was no format function for ${it}`);return rt},i)}}const removePending=(o,i)=>{o.pending[i]!==void 0&&(delete o.pending[i],o.pendingCount--)};class Connector extends EventEmitter{constructor(i,s,a){var j,et;let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=i,this.store=s,this.services=a,this.languageUtils=a.languageUtils,this.options=$,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=$.maxParallelReads||10,this.readingCalls=0,this.maxRetries=$.maxRetries>=0?$.maxRetries:5,this.retryTimeout=$.retryTimeout>=1?$.retryTimeout:350,this.state={},this.queue=[],(et=(j=this.backend)==null?void 0:j.init)==null||et.call(j,a,$.backend,$)}queueLoad(i,s,a,$){const j={},et={},rt={},st={};return i.forEach(it=>{let ot=!0;s.forEach(tt=>{const _e=`${it}|${tt}`;!a.reload&&this.store.hasResourceBundle(it,tt)?this.state[_e]=2:this.state[_e]<0||(this.state[_e]===1?et[_e]===void 0&&(et[_e]=!0):(this.state[_e]=1,ot=!1,et[_e]===void 0&&(et[_e]=!0),j[_e]===void 0&&(j[_e]=!0),st[tt]===void 0&&(st[tt]=!0)))}),ot||(rt[it]=!0)}),(Object.keys(j).length||Object.keys(et).length)&&this.queue.push({pending:et,pendingCount:Object.keys(et).length,loaded:{},errors:[],callback:$}),{toLoad:Object.keys(j),pending:Object.keys(et),toLoadLanguages:Object.keys(rt),toLoadNamespaces:Object.keys(st)}}loaded(i,s,a){const $=i.split("|"),j=$[0],et=$[1];s&&this.emit("failedLoading",j,et,s),!s&&a&&this.store.addResourceBundle(j,et,a,void 0,void 0,{skipCopy:!0}),this.state[i]=s?-1:2,s&&a&&(this.state[i]=0);const rt={};this.queue.forEach(st=>{pushPath(st.loaded,[j],et),removePending(st,i),s&&st.errors.push(s),st.pendingCount===0&&!st.done&&(Object.keys(st.loaded).forEach(it=>{rt[it]||(rt[it]={});const ot=st.loaded[it];ot.length&&ot.forEach(tt=>{rt[it][tt]===void 0&&(rt[it][tt]=!0)})}),st.done=!0,st.errors.length?st.callback(st.errors):st.callback())}),this.emit("loaded",rt),this.queue=this.queue.filter(st=>!st.done)}read(i,s,a){let $=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,j=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,et=arguments.length>5?arguments[5]:void 0;if(!i.length)return et(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:a,tried:$,wait:j,callback:et});return}this.readingCalls++;const rt=(it,ot)=>{if(this.readingCalls--,this.waitingReads.length>0){const tt=this.waitingReads.shift();this.read(tt.lng,tt.ns,tt.fcName,tt.tried,tt.wait,tt.callback)}if(it&&ot&&$<this.maxRetries){setTimeout(()=>{this.read.call(this,i,s,a,$+1,j*2,et)},j);return}et(it,ot)},st=this.backend[a].bind(this.backend);if(st.length===2){try{const it=st(i,s);it&&typeof it.then=="function"?it.then(ot=>rt(null,ot)).catch(rt):rt(null,it)}catch(it){rt(it)}return}return st(i,s,rt)}prepareLoading(i,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),$&&$();isString(i)&&(i=this.languageUtils.toResolveHierarchy(i)),isString(s)&&(s=[s]);const j=this.queueLoad(i,s,a,$);if(!j.toLoad.length)return j.pending.length||$(),null;j.toLoad.forEach(et=>{this.loadOne(et)})}load(i,s,a){this.prepareLoading(i,s,{},a)}reload(i,s,a){this.prepareLoading(i,s,{reload:!0},a)}loadOne(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const a=i.split("|"),$=a[0],j=a[1];this.read($,j,"read",void 0,void 0,(et,rt)=>{et&&this.logger.warn(`${s}loading namespace ${j} for language ${$} failed`,et),!et&&rt&&this.logger.log(`${s}loaded namespace ${j} for language ${$}`,rt),this.loaded(i,et,rt)})}saveMissing(i,s,a,$,j){var st,it,ot,tt,_e;let et=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},rt=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((it=(st=this.services)==null?void 0:st.utils)!=null&&it.hasLoadedNamespace&&!((tt=(ot=this.services)==null?void 0:ot.utils)!=null&&tt.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${a}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((_e=this.backend)!=null&&_e.create){const nt={...et,isUpdate:j},at=this.backend.create.bind(this.backend);if(at.length<6)try{let lt;at.length===5?lt=at(i,s,a,$,nt):lt=at(i,s,a,$),lt&&typeof lt.then=="function"?lt.then(ut=>rt(null,ut)).catch(rt):rt(null,lt)}catch(lt){rt(lt)}else at(i,s,a,$,rt,nt)}!i||!i[0]||this.store.addResource(i[0],s,a,$)}}}const get$1=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o=>{let i={};if(typeof o[1]=="object"&&(i=o[1]),isString(o[1])&&(i.defaultValue=o[1]),isString(o[2])&&(i.tDescription=o[2]),typeof o[2]=="object"||typeof o[3]=="object"){const s=o[3]||o[2];Object.keys(s).forEach(a=>{i[a]=s[a]})}return i},interpolation:{escapeValue:!0,format:o=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),transformOptions=o=>{var i,s;return isString(o.ns)&&(o.ns=[o.ns]),isString(o.fallbackLng)&&(o.fallbackLng=[o.fallbackLng]),isString(o.fallbackNS)&&(o.fallbackNS=[o.fallbackNS]),((s=(i=o.supportedLngs)==null?void 0:i.indexOf)==null?void 0:s.call(i,"cimode"))<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),typeof o.initImmediate=="boolean"&&(o.initAsync=o.initImmediate),o},noop$2=()=>{},bindMemberFunctions=o=>{Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(s=>{typeof o[s]=="function"&&(o[s]=o[s].bind(o))})};class I18n extends EventEmitter{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(i),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),s&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,s),this;setTimeout(()=>{this.init(i,s)},0)}}init(){var i=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(a=s,s={}),s.defaultNS==null&&s.ns&&(isString(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const $=get$1();this.options={...$,...this.options,...transformOptions(s)},this.options.interpolation={...$.interpolation,...this.options.interpolation},s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const j=ot=>ot?typeof ot=="function"?new ot:ot:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(j(this.modules.logger),this.options):baseLogger.init(null,this.options);let ot;this.modules.formatter?ot=this.modules.formatter:ot=Formatter;const tt=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const _e=this.services;_e.logger=baseLogger,_e.resourceStore=this.store,_e.languageUtils=tt,_e.pluralResolver=new PluralResolver(tt,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),ot&&(!this.options.interpolation.format||this.options.interpolation.format===$.interpolation.format)&&(_e.formatter=j(ot),_e.formatter.init(_e,this.options),this.options.interpolation.format=_e.formatter.format.bind(_e.formatter)),_e.interpolator=new Interpolator(this.options),_e.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},_e.backendConnector=new Connector(j(this.modules.backend),_e.resourceStore,_e,this.options),_e.backendConnector.on("*",function(nt){for(var at=arguments.length,lt=new Array(at>1?at-1:0),ut=1;ut<at;ut++)lt[ut-1]=arguments[ut];i.emit(nt,...lt)}),this.modules.languageDetector&&(_e.languageDetector=j(this.modules.languageDetector),_e.languageDetector.init&&_e.languageDetector.init(_e,this.options.detection,this.options)),this.modules.i18nFormat&&(_e.i18nFormat=j(this.modules.i18nFormat),_e.i18nFormat.init&&_e.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(nt){for(var at=arguments.length,lt=new Array(at>1?at-1:0),ut=1;ut<at;ut++)lt[ut-1]=arguments[ut];i.emit(nt,...lt)}),this.modules.external.forEach(nt=>{nt.init&&nt.init(this)})}if(this.format=this.options.interpolation.format,a||(a=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const ot=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ot.length>0&&ot[0]!=="dev"&&(this.options.lng=ot[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(ot=>{this[ot]=function(){return i.store[ot](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(ot=>{this[ot]=function(){return i.store[ot](...arguments),i}});const st=defer(),it=()=>{const ot=(tt,_e)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),st.resolve(_e),a(tt,_e)};if(this.languages&&!this.isInitialized)return ot(null,this.t.bind(this));this.changeLanguage(this.options.lng,ot)};return this.options.resources||!this.options.initAsync?it():setTimeout(it,0),st}loadResources(i){var j,et;let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const $=isString(i)?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(($==null?void 0:$.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const rt=[],st=it=>{if(!it||it==="cimode")return;this.services.languageUtils.toResolveHierarchy(it).forEach(tt=>{tt!=="cimode"&&rt.indexOf(tt)<0&&rt.push(tt)})};$?st($):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(ot=>st(ot)),(et=(j=this.options.preload)==null?void 0:j.forEach)==null||et.call(j,it=>st(it)),this.services.backendConnector.load(rt,this.options.ns,it=>{!it&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(it)})}else a(null)}reloadResources(i,s,a){const $=defer();return typeof i=="function"&&(a=i,i=void 0),typeof s=="function"&&(a=s,s=void 0),i||(i=this.languages),s||(s=this.options.ns),a||(a=noop$2),this.services.backendConnector.reload(i,s,j=>{$.resolve(),a(j)}),$}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&postProcessor.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let s=0;s<this.languages.length;s++){const a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.indexOf(i)<0&&this.languages.unshift(i))}}changeLanguage(i,s){var a=this;this.isLanguageChangingTo=i;const $=defer();this.emit("languageChanging",i);const j=st=>{this.language=st,this.languages=this.services.languageUtils.toResolveHierarchy(st),this.resolvedLanguage=void 0,this.setResolvedLanguage(st)},et=(st,it)=>{it?this.isLanguageChangingTo===i&&(j(it),this.translator.changeLanguage(it),this.isLanguageChangingTo=void 0,this.emit("languageChanged",it),this.logger.log("languageChanged",it)):this.isLanguageChangingTo=void 0,$.resolve(function(){return a.t(...arguments)}),s&&s(st,function(){return a.t(...arguments)})},rt=st=>{var tt,_e;!i&&!st&&this.services.languageDetector&&(st=[]);const it=isString(st)?st:st&&st[0],ot=this.store.hasLanguageSomeTranslations(it)?it:this.services.languageUtils.getBestMatchFromCodes(isString(st)?[st]:st);ot&&(this.language||j(ot),this.translator.language||this.translator.changeLanguage(ot),(_e=(tt=this.services.languageDetector)==null?void 0:tt.cacheUserLanguage)==null||_e.call(tt,ot)),this.loadResources(ot,nt=>{et(nt,ot)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?rt(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(rt):this.services.languageDetector.detect(rt):rt(i),$}getFixedT(i,s,a){var $=this;const j=function(et,rt){let st;if(typeof rt!="object"){for(var it=arguments.length,ot=new Array(it>2?it-2:0),tt=2;tt<it;tt++)ot[tt-2]=arguments[tt];st=$.options.overloadTranslationOptionHandler([et,rt].concat(ot))}else st={...rt};st.lng=st.lng||j.lng,st.lngs=st.lngs||j.lngs,st.ns=st.ns||j.ns,st.keyPrefix!==""&&(st.keyPrefix=st.keyPrefix||a||j.keyPrefix);const _e=$.options.keySeparator||".";let nt;return st.keyPrefix&&Array.isArray(et)?nt=et.map(at=>`${st.keyPrefix}${_e}${at}`):nt=st.keyPrefix?`${st.keyPrefix}${_e}${et}`:et,$.t(nt,st)};return isString(i)?j.lng=i:j.lngs=i,j.ns=s,j.keyPrefix=a,j}t(){var $;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return($=this.translator)==null?void 0:$.translate(...s)}exists(){var $;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return($=this.translator)==null?void 0:$.exists(...s)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=s.lng||this.resolvedLanguage||this.languages[0],$=this.options?this.options.fallbackLng:!1,j=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const et=(rt,st)=>{const it=this.services.backendConnector.state[`${rt}|${st}`];return it===-1||it===0||it===2};if(s.precheck){const rt=s.precheck(this,et);if(rt!==void 0)return rt}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||et(a,i)&&(!$||et(j,i)))}loadNamespaces(i,s){const a=defer();return this.options.ns?(isString(i)&&(i=[i]),i.forEach($=>{this.options.ns.indexOf($)<0&&this.options.ns.push($)}),this.loadResources($=>{a.resolve(),s&&s($)}),a):(s&&s(),Promise.resolve())}loadLanguages(i,s){const a=defer();isString(i)&&(i=[i]);const $=this.options.preload||[],j=i.filter(et=>$.indexOf(et)<0&&this.services.languageUtils.isSupportedCode(et));return j.length?(this.options.preload=$.concat(j),this.loadResources(et=>{a.resolve(),s&&s(et)}),a):(s&&s(),Promise.resolve())}dir(i){var $,j;if(i||(i=this.resolvedLanguage||((($=this.languages)==null?void 0:$.length)>0?this.languages[0]:this.language)),!i)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((j=this.services)==null?void 0:j.languageUtils)||new LanguageUtil(get$1());return s.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new I18n(i,s)}cloneInstance(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const a=i.forkResourceStore;a&&delete i.forkResourceStore;const $={...this.options,...i,isClone:!0},j=new I18n($);if((i.debug!==void 0||i.prefix!==void 0)&&(j.logger=j.logger.clone(i)),["store","services","language"].forEach(rt=>{j[rt]=this[rt]}),j.services={...this.services},j.services.utils={hasLoadedNamespace:j.hasLoadedNamespace.bind(j)},a){const rt=Object.keys(this.store.data).reduce((st,it)=>(st[it]={...this.store.data[it]},Object.keys(st[it]).reduce((ot,tt)=>(ot[tt]={...st[it][tt]},ot),{})),{});j.store=new ResourceStore(rt,$),j.services.resourceStore=j.store}return j.translator=new Translator(j.services,$),j.translator.on("*",function(rt){for(var st=arguments.length,it=new Array(st>1?st-1:0),ot=1;ot<st;ot++)it[ot-1]=arguments[ot];j.emit(rt,...it)}),j.init($,s),j.translator.options=$,j.translator.backendConnector.services.utils={hasLoadedNamespace:j.hasLoadedNamespace.bind(j)},j}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const IMAGE_COMPRESSION_QUALITY_KEY="appImageCompressionQuality",DEFAULT_IMAGE_COMPRESSION_QUALITY=.8,IMAGE_MAX_WIDTH_KEY="appImageMaxWidth",DEFAULT_IMAGE_MAX_WIDTH=0,loadInitialCompressionQuality=()=>{const o=localStorage.getItem(IMAGE_COMPRESSION_QUALITY_KEY);if(o){const i=parseFloat(o);if(!Number.isNaN(i)&&i>=.1&&i<=1)return i}return DEFAULT_IMAGE_COMPRESSION_QUALITY},loadInitialImageMaxWidth=()=>{const o=localStorage.getItem(IMAGE_MAX_WIDTH_KEY);if(o){const i=parseInt(o,10);if(!Number.isNaN(i)&&i>=0)return i}return DEFAULT_IMAGE_MAX_WIDTH},useGeneralSettings=({bgUrlContext:o,confName:i,setConfName:s,baseUrl:a,wsUrl:$,onWsUrlChange:j,onBaseUrlChange:et,onSave:rt,onCancel:st})=>{var It;const{showSubtitle:it,setShowSubtitle:ot}=useSubtitle(),{setUseCameraBackground:tt}=o||{},{startBackgroundCamera:_e,stopBackgroundCamera:nt}=useCamera(),{configFiles:at,getFilenameByName:lt}=useConfig(),{switchCharacter:ut}=useSwitchCharacter(),ct=()=>{if(!(o!=null&&o.backgroundUrl))return[];const St=o.backgroundUrl.replace(a,"");return St.startsWith("/bg/")?[St]:[]},dt=()=>{if(!i)return[];const Pt=lt(i);return Pt?[Pt]:[]},ft={language:[instance.language||"en"],customBgUrl:(It=o==null?void 0:o.backgroundUrl)!=null&&It.includes("/bg/")?"":(o==null?void 0:o.backgroundUrl)||"",selectedBgUrl:ct(),backgroundUrl:(o==null?void 0:o.backgroundUrl)||"",selectedCharacterPreset:dt(),useCameraBackground:(o==null?void 0:o.useCameraBackground)||!1,wsUrl:$||defaultWsUrl,baseUrl:a||defaultBaseUrl,showSubtitle:it,imageCompressionQuality:loadInitialCompressionQuality(),imageMaxWidth:loadInitialImageMaxWidth()},[ht,gt]=reactExports.useState(ft),[yt,bt]=reactExports.useState(ft),vt=i;reactExports.useEffect(()=>{ot(ht.showSubtitle);const Pt=ht.customBgUrl||ht.selectedBgUrl[0];if(Pt&&o){const St=Pt.startsWith("http")?Pt:`${a}${Pt}`;o.setBackgroundUrl(St)}j(ht.wsUrl),et(ht.baseUrl),ht.language&&ht.language[0]&&ht.language[0]!==instance.language&&instance.changeLanguage(ht.language[0]),localStorage.setItem(IMAGE_COMPRESSION_QUALITY_KEY,ht.imageCompressionQuality.toString()),localStorage.setItem(IMAGE_MAX_WIDTH_KEY,ht.imageMaxWidth.toString())},[ht,o,a,j,et,ot]),reactExports.useEffect(()=>{if(i){const Pt=lt(i);if(Pt){const St={...ht,selectedCharacterPreset:[Pt]};gt(St),bt(St)}}},[i]),reactExports.useEffect(()=>{if(!rt||!st)return;const Pt=rt(()=>{xt()}),St=st(()=>{wt()});return()=>{Pt==null||Pt(),St==null||St()}},[rt,st]);const mt=(Pt,St)=>{gt(Ot=>({...Ot,[Pt]:St})),Pt==="wsUrl"&&j(St),Pt==="baseUrl"&&et(St),Pt==="language"&&Array.isArray(St)&&St.length>0&&instance.changeLanguage(St[0])},xt=()=>{bt(ht)},wt=()=>{gt(yt),ot(yt.showSubtitle),o&&(o.setBackgroundUrl(yt.backgroundUrl),o.setUseCameraBackground(yt.useCameraBackground)),j(yt.wsUrl),et(yt.baseUrl),vt&&s(vt),yt.useCameraBackground?_e():nt()};return{settings:ht,handleSettingChange:mt,handleSave:xt,handleCancel:wt,handleCameraToggle:async Pt=>{if(tt)if(Pt)try{await _e(),mt("useCameraBackground",!0),tt(!0)}catch(St){console.error("Failed to start camera:",St),mt("useCameraBackground",!1),tt(!1)}else nt(),mt("useCameraBackground",!1),tt(!1)},handleCharacterPresetChange:Pt=>{const St=Pt[0],Ot=at.find($t=>$t.filename===St),At=i?lt(i):"";mt("selectedCharacterPreset",Pt),At!==St&&Ot&&ut(St)},showSubtitle:it,setShowSubtitle:ot}};function HiQuestionMarkCircle(o){return GenIcon({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"},child:[]}]})(o)}const Field=reactExports.forwardRef((o,i)=>{const{label:s,children:a,helperText:$,errorText:j,optionalText:et,...rt}=o;return jsxRuntimeExports.jsxs(FieldRoot,{ref:i,...rt,children:[s&&jsxRuntimeExports.jsxs(FieldLabel,{children:[s,jsxRuntimeExports.jsx(FieldRequiredIndicator,{fallback:et})]}),a,$&&jsxRuntimeExports.jsx(FieldHelperText,{children:$}),j&&jsxRuntimeExports.jsx(FieldErrorText,{children:j})]})}),Switch=reactExports.forwardRef((o,i)=>{const{inputProps:s,children:a,rootRef:$,trackLabel:j,thumbLabel:et,...rt}=o;return jsxRuntimeExports.jsxs(SwitchRoot,{ref:$,...rt,children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{ref:i,...s}),jsxRuntimeExports.jsxs(SwitchControl,{children:[jsxRuntimeExports.jsx(SwitchThumb,{children:et&&jsxRuntimeExports.jsx(SwitchThumbIndicator,{fallback:et==null?void 0:et.off,children:et==null?void 0:et.on})}),j&&jsxRuntimeExports.jsx(SwitchIndicator,{fallback:j.off,children:j.on})]}),a!=null&&jsxRuntimeExports.jsx(SwitchLabel,{children:a})]})}),Tooltip=reactExports.forwardRef((o,i)=>{const{showArrow:s,children:a,disabled:$,portalled:j,content:et,contentProps:rt,portalRef:st,...it}=o;return $?a:jsxRuntimeExports.jsxs(TooltipRoot,{...it,children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:a}),jsxRuntimeExports.jsx(Portal,{disabled:!j,container:st,children:jsxRuntimeExports.jsx(TooltipPositioner,{children:jsxRuntimeExports.jsxs(TooltipContent,{ref:i,...rt,children:[s&&jsxRuntimeExports.jsx(TooltipArrow,{children:jsxRuntimeExports.jsx(TooltipArrowTip,{})}),et]})})})]})}),SelectTrigger=reactExports.forwardRef((o,i)=>{const{children:s,clearable:a,...$}=o;return jsxRuntimeExports.jsxs(SelectControl,{...$,children:[jsxRuntimeExports.jsx(SelectTrigger$1,{ref:i,children:s}),jsxRuntimeExports.jsxs(SelectIndicatorGroup,{children:[a&&jsxRuntimeExports.jsx(SelectClearTrigger,{}),jsxRuntimeExports.jsx(SelectIndicator,{})]})]})}),SelectClearTrigger=reactExports.forwardRef((o,i)=>jsxRuntimeExports.jsx(SelectClearTrigger$1,{asChild:!0,...o,ref:i,children:jsxRuntimeExports.jsx(CloseButton,{size:"xs",variant:"plain",focusVisibleRing:"inside",focusRingWidth:"2px",pointerEvents:"auto"})})),SelectContent=reactExports.forwardRef((o,i)=>{const{portalled:s=!0,portalRef:a,...$}=o;return jsxRuntimeExports.jsx(Portal,{disabled:!s,container:a,children:jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent$1,{...$,ref:i})})})}),SelectItem=reactExports.forwardRef((o,i)=>{const{item:s,children:a,...$}=o;return jsxRuntimeExports.jsxs(SelectItem$1,{item:s,...$,ref:i,children:[a,jsxRuntimeExports.jsx(SelectItemIndicator,{})]},s.value)}),SelectValueText=reactExports.forwardRef((o,i)=>{const{children:s,...a}=o;return jsxRuntimeExports.jsx(SelectValueText$1,{...a,ref:i,children:jsxRuntimeExports.jsx(SelectContext,{children:$=>{const j=$.selectedItems;return j.length===0?o.placeholder:s?s(j):j.length===1?$.collection.stringifyItem(j[0]):`${j.length} selected`}})})}),SelectRoot=reactExports.forwardRef((o,i)=>jsxRuntimeExports.jsx(SelectRoot$1,{...o,ref:i,positioning:{sameWidth:!0,...o.positioning},children:o.asChild?o.children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectHiddenSelect,{}),o.children]})}));reactExports.forwardRef((o,i)=>{const{children:s,label:a,...$}=o;return jsxRuntimeExports.jsxs(SelectItemGroup,{...$,ref:i,children:[jsxRuntimeExports.jsx(SelectItemGroupLabel,{children:a}),s]})});function HelpIcon({content:o}){const[i,s]=reactExports.useState(!1),a=()=>s(!0),$=()=>s(!1);return jsxRuntimeExports.jsx(Tooltip,{showArrow:!0,content:jsxRuntimeExports.jsx(Text,{fontSize:"sm",maxW:"300px",lineHeight:"1.4",children:o}),open:i,children:jsxRuntimeExports.jsx(Box,{as:HiQuestionMarkCircle,color:"var(--app-text-muted)",_hover:{color:"var(--app-text)"},cursor:"help",w:"16px",h:"16px",ml:"2",transition:"color 0.2s",onMouseEnter:a,onMouseLeave:$})})}function SelectField({label:o,value:i,onChange:s,collection:a,placeholder:$}){return jsxRuntimeExports.jsx(Field,{...settingStyles.general.field,label:jsxRuntimeExports.jsx(Text,{...settingStyles.general.field.label,children:o}),children:jsxRuntimeExports.jsxs(SelectRoot,{...settingStyles.general.select.root,collection:a,value:i,onValueChange:j=>s(j.value),children:[jsxRuntimeExports.jsx(SelectTrigger,{...settingStyles.general.select.trigger,children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:$})}),jsxRuntimeExports.jsx(SelectContent,{...settingStyles.general.select.content,children:a.items.map(j=>jsxRuntimeExports.jsx(SelectItem,{item:j,...settingStyles.general.select.item,children:j.label},j.value))})]})})}function NumberField({label:o,value:i,onChange:s,min:a,max:$,step:j,allowMouseWheel:et,help:rt}){return jsxRuntimeExports.jsx(Field,{...settingStyles.common.field,label:jsxRuntimeExports.jsxs(Flex,{align:"center",children:[jsxRuntimeExports.jsx(Text,{...settingStyles.common.fieldLabel,children:o}),rt&&jsxRuntimeExports.jsx(HelpIcon,{content:rt})]}),children:jsxRuntimeExports.jsxs(NumberInputRoot,{...settingStyles.common.numberInput.root,value:i.toString(),onValueChange:st=>s(st.value),min:a,max:$,step:j,allowMouseWheel:et,children:[jsxRuntimeExports.jsx(NumberInputInput,{...settingStyles.common.numberInput.input}),jsxRuntimeExports.jsxs(NumberInputControl,{children:[jsxRuntimeExports.jsx(NumberInputIncrementTrigger,{}),jsxRuntimeExports.jsx(NumberInputDecrementTrigger,{})]})]})})}function SwitchField({label:o,checked:i,onChange:s,help:a}){return jsxRuntimeExports.jsx(Field,{...settingStyles.common.field,label:jsxRuntimeExports.jsxs(Flex,{align:"center",children:[jsxRuntimeExports.jsx(Text,{...settingStyles.common.fieldLabel,children:o}),a&&jsxRuntimeExports.jsx(HelpIcon,{content:a})]}),children:jsxRuntimeExports.jsx(Switch,{...settingStyles.common.switch,checked:i,onCheckedChange:$=>s($.checked)})})}function InputField({label:o,value:i,onChange:s,placeholder:a,help:$}){return jsxRuntimeExports.jsx(Field,{...settingStyles.general.field,label:jsxRuntimeExports.jsxs(Flex,{align:"center",children:[jsxRuntimeExports.jsx(Text,{...settingStyles.general.field.label,children:o}),$&&jsxRuntimeExports.jsx(HelpIcon,{content:$})]}),children:jsxRuntimeExports.jsx(Input$1,{...settingStyles.general.input,placeholder:a,value:i,onChange:j=>s(j.target.value)})})}const useCollections=()=>{const{backgroundFiles:o}=useBgUrl()||{},{configFiles:i}=useConfig(),s=createListCollection({items:[{label:"English",value:"en"},{label:"",value:"zh"}]}),a=createListCollection({items:(o==null?void 0:o.map(j=>({label:String(j),value:`/bg/${j}`})))||[]}),$=createListCollection({items:i.map(j=>({label:j.name,value:j.filename}))});return{languages:s,backgrounds:a,characterPresets:$}};function General({onSave:o,onCancel:i}){const{t:s,i18n:a}=useTranslation(),$=useBgUrl(),{confName:j,setConfName:et}=useConfig(),{wsUrl:rt,setWsUrl:st,baseUrl:it,setBaseUrl:ot}=useWebSocket(),tt=useCollections(),{settings:_e,handleSettingChange:nt,handleCameraToggle:at,handleCharacterPresetChange:lt,showSubtitle:ut,setShowSubtitle:ct}=useGeneralSettings({bgUrlContext:$,confName:j,setConfName:et,baseUrl:it,wsUrl:rt,onWsUrlChange:st,onBaseUrlChange:ot,onSave:o,onCancel:i});return _e.language[0]!==a.language&&nt("language",[a.language]),jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SelectField,{label:s("settings.general.language"),value:_e.language,onChange:dt=>nt("language",dt),collection:tt.languages,placeholder:s("settings.general.language")}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.general.useCameraBackground"),checked:_e.useCameraBackground,onChange:at}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.general.showSubtitle"),checked:ut,onChange:ct}),!_e.useCameraBackground&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectField,{label:s("settings.general.backgroundImage"),value:_e.selectedBgUrl,onChange:dt=>nt("selectedBgUrl",dt),collection:tt.backgrounds,placeholder:s("settings.general.backgroundImage")}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.customBgUrl"),value:_e.customBgUrl,onChange:dt=>nt("customBgUrl",dt),placeholder:s("settings.general.customBgUrlPlaceholder")})]}),jsxRuntimeExports.jsx(SelectField,{label:s("settings.general.characterPreset"),value:_e.selectedCharacterPreset,onChange:lt,collection:tt.characterPresets,placeholder:j||s("settings.general.characterPreset")}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.wsUrl"),value:_e.wsUrl,onChange:dt=>nt("wsUrl",dt),placeholder:"Enter WebSocket URL"}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.baseUrl"),value:_e.baseUrl,onChange:dt=>nt("baseUrl",dt),placeholder:"Enter Base URL"}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.imageCompressionQuality"),value:_e.imageCompressionQuality.toString(),onChange:dt=>{const ft=parseFloat(dt);!Number.isNaN(ft)&&ft>=.1&&ft<=1?nt("imageCompressionQuality",ft):dt===""&&nt("imageCompressionQuality",_e.imageCompressionQuality)},help:s("settings.general.imageCompressionQualityHelp")}),jsxRuntimeExports.jsx(InputField,{label:s("settings.general.imageMaxWidth"),value:_e.imageMaxWidth.toString(),onChange:dt=>{const ft=parseInt(dt,10);!Number.isNaN(ft)&&ft>=0?nt("imageMaxWidth",ft):dt===""&&nt("imageMaxWidth",_e.imageMaxWidth)},help:s("settings.general.imageMaxWidthHelp")})]})}const useLive2dSettings=()=>{const o=useLive2DConfig(),i={url:"",kScale:.5,initialXshift:0,initialYshift:0,emotionMap:{},scrollToResize:!0},[s,a]=reactExports.useState((o==null?void 0:o.modelInfo)||i),[$,j]=reactExports.useState((o==null?void 0:o.modelInfo)||i);return reactExports.useEffect(()=>{o!=null&&o.modelInfo&&JSON.stringify(o.modelInfo)!==JSON.stringify($)&&(j(o.modelInfo),a(o.modelInfo))},[o==null?void 0:o.modelInfo]),reactExports.useEffect(()=>{o&&s&&o.setModelInfo(s)},[s.pointerInteractive,s.scrollToResize]),{modelInfo:s,handleInputChange:(it,ot)=>{a(tt=>({...tt,[it]:ot}))},handleSave:()=>{o&&s&&j(s)},handleCancel:()=>{a($),o&&$&&o.setModelInfo($)}}};function live2D({onSave:o,onCancel:i}){const{t:s}=useTranslation(),{modelInfo:a,handleInputChange:$,handleSave:j,handleCancel:et}=useLive2dSettings();return reactExports.useEffect(()=>{if(!o||!i)return;const rt=o(j),st=i(et);return()=>{rt==null||rt(),st==null||st()}},[o,i]),jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:s("settings.live2d.pointerInteractive"),checked:a.pointerInteractive??!1,onChange:rt=>$("pointerInteractive",rt)}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.live2d.scrollToResize"),checked:a.scrollToResize??!0,onChange:rt=>$("scrollToResize",rt)})]})}const useASRSettings=()=>{const{settings:o,updateSettings:i,autoStopMic:s,setAutoStopMic:a,autoStartMicOn:$,setAutoStartMicOn:j,autoStartMicOnConvEnd:et,setAutoStartMicOnConvEnd:rt,voiceInterruptEnabled:st,setVoiceInterruptEnabled:it}=useVAD(),ot=reactExports.useRef(o),tt=reactExports.useRef(o),_e=reactExports.useRef(s),nt=reactExports.useRef($),at=reactExports.useRef(et),lt=reactExports.useRef(st),[ut,ct]=reactExports.useState(s),[dt,ft]=reactExports.useState($),[ht,gt]=reactExports.useState(et),[yt,bt]=reactExports.useState(st),[,vt]=React.useReducer(St=>St+1,0);reactExports.useEffect(()=>{ct(s),ft($),gt(et),bt(st)},[s,$,et,st]);const mt=(St,Ot)=>{if(Ot===""||Ot==="-")ot.current={...ot.current,[St]:Ot};else{const At=Number(Ot);isNaN(At)||(ot.current={...ot.current,[St]:At})}vt()},xt=St=>{ct(St),a(St)},wt=St=>{ft(St),j(St)},Ct=St=>{gt(St),rt(St)},kt=St=>{bt(St),it(St)},It=()=>{i(ot.current),tt.current=ot.current,_e.current=ut,nt.current=dt,at.current=ht,lt.current=yt},Pt=()=>{ot.current=tt.current,ct(_e.current),ft(nt.current),a(_e.current),j(nt.current),gt(at.current),rt(at.current),bt(lt.current),it(lt.current),vt()};return{localSettings:ot.current,autoStopMic:ut,autoStartMicOn:dt,autoStartMicOnConvEnd:ht,voiceInterruptEnabled:yt,setAutoStopMic:xt,setAutoStartMicOn:wt,setAutoStartMicOnConvEnd:Ct,setVoiceInterruptEnabled:kt,handleInputChange:mt,handleSave:It,handleCancel:Pt}};function ASR({onSave:o,onCancel:i}){const{t:s}=useTranslation(),{localSettings:a,autoStopMic:$,autoStartMicOn:j,autoStartMicOnConvEnd:et,voiceInterruptEnabled:rt,setAutoStopMic:st,setAutoStartMicOn:it,setAutoStartMicOnConvEnd:ot,setVoiceInterruptEnabled:tt,handleInputChange:_e,handleSave:nt,handleCancel:at}=useASRSettings();return reactExports.useEffect(()=>{if(!o||!i)return;const lt=o(nt),ut=i(at);return()=>{lt==null||lt(),ut==null||ut()}},[o,i,nt,at]),jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:s("settings.asr.autoStopMic"),checked:$,onChange:st}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.asr.voiceInterrupt"),help:s("settings.asr.voiceInterruptDesc"),checked:rt,onChange:tt}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.asr.autoStartMicOnConvEnd"),checked:et,onChange:ot}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.asr.autoStartMicOn"),checked:j,onChange:it}),jsxRuntimeExports.jsx(NumberField,{label:s("settings.asr.positiveSpeechThreshold"),help:s("settings.asr.positiveSpeechThresholdDesc"),value:a.positiveSpeechThreshold,onChange:lt=>_e("positiveSpeechThreshold",lt),min:1,max:100}),jsxRuntimeExports.jsx(NumberField,{label:s("settings.asr.negativeSpeechThreshold"),help:s("settings.asr.negativeSpeechThresholdDesc"),value:a.negativeSpeechThreshold,onChange:lt=>_e("negativeSpeechThreshold",lt),min:0,max:100}),jsxRuntimeExports.jsx(NumberField,{label:s("settings.asr.redemptionFrames"),help:s("settings.asr.redemptionFramesDesc"),value:a.redemptionFrames,onChange:lt=>_e("redemptionFrames",lt),min:1,max:100})]})}function TTS(){return jsxRuntimeExports.jsx(Box,{children:" "})}function useTriggerSpeak(){const{sendMessage:o}=useWebSocket(),{captureAllMedia:i}=useMediaCapture();return{sendTriggerSignal:reactExports.useCallback(async a=>{const $=await i();o({type:"ai-speak-signal",idle_time:a,images:$})},[o,i])}}const defaultSettings$1={allowProactiveSpeak:!1,idleSecondsToSpeak:5,allowButtonTrigger:!1},ProactiveSpeakContext=reactExports.createContext(null);function ProactiveSpeakProvider({children:o}){const[i,s]=useLocalStorage("proactiveSpeakSettings",defaultSettings$1),{aiState:a}=useAiState(),{sendTriggerSignal:$}=useTriggerSpeak(),j=reactExports.useRef(null),et=reactExports.useRef(null),rt=reactExports.useCallback(()=>{j.current&&(clearTimeout(j.current),j.current=null),et.current=null},[]),st=reactExports.useCallback(()=>{rt(),i.allowProactiveSpeak&&(et.current=Date.now(),j.current=setTimeout(()=>{const tt=(Date.now()-et.current)/1e3;$(tt)},i.idleSecondsToSpeak*1e3))},[i.allowProactiveSpeak,i.idleSecondsToSpeak,$,rt]);reactExports.useEffect(()=>{a===AiStateEnum.IDLE?st():rt()},[a,st,rt]),reactExports.useEffect(()=>()=>{rt()},[rt]);const it=reactExports.useCallback(tt=>{s(tt)},[s]),ot=reactExports.useMemo(()=>({settings:i,updateSettings:it}),[i,it]);return jsxRuntimeExports.jsx(ProactiveSpeakContext.Provider,{value:ot,children:o})}function useProactiveSpeak(){const o=reactExports.useContext(ProactiveSpeakContext);if(!o)throw new Error("useProactiveSpeak must be used within a ProactiveSpeakProvider");return o}function useAgentSettings({onSave:o,onCancel:i}={}){const{settings:s,updateSettings:a}=useProactiveSpeak(),[$,j]=reactExports.useState({allowProactiveSpeak:s.allowProactiveSpeak,idleSecondsToSpeak:s.idleSecondsToSpeak,allowButtonTrigger:s.allowButtonTrigger}),[et,rt]=reactExports.useState({...s});reactExports.useEffect(()=>{s&&(rt(s),j(s))},[s]);const st=reactExports.useCallback(nt=>{j(at=>({...at,allowProactiveSpeak:nt}))},[]),it=reactExports.useCallback(nt=>{j(at=>({...at,idleSecondsToSpeak:nt}))},[]),ot=reactExports.useCallback(nt=>{j(at=>({...at,allowButtonTrigger:nt}))},[]),tt=reactExports.useCallback(()=>{a($),rt($)},[a,$]),_e=reactExports.useCallback(()=>{j(et),a(et)},[et,a]);return reactExports.useEffect(()=>{if(!o||!i)return;const nt=o(tt),at=i(_e);return()=>{nt==null||nt(),at==null||at()}},[o,i,tt,_e]),{settings:$,handleAllowProactiveSpeakChange:st,handleIdleSecondsChange:it,handleAllowButtonTriggerChange:ot}}function Agent({onSave:o,onCancel:i}){const{t:s}=useTranslation(),{settings:a,handleAllowProactiveSpeakChange:$,handleIdleSecondsChange:j,handleAllowButtonTriggerChange:et}=useAgentSettings({onSave:o,onCancel:i});return jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:s("settings.agent.allowProactiveSpeak"),checked:a.allowProactiveSpeak,onChange:$}),a.allowProactiveSpeak&&jsxRuntimeExports.jsx(NumberField,{label:s("settings.agent.idleSecondsToSpeak"),value:a.idleSecondsToSpeak,onChange:rt=>j(Number(rt)),min:0,step:.1,allowMouseWheel:!0}),jsxRuntimeExports.jsx(SwitchField,{label:s("settings.agent.allowButtonTrigger"),checked:a.allowButtonTrigger,onChange:et})]})}function FaGithub(o){return GenIcon({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(o)}function FaBook(o){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(o)}function FaCheck(o){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(o)}function FaTimes(o){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(o)}function FaTools(o){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(o)}const Button$1=reactExports.forwardRef((o,i)=>{const{loading:s,disabled:a,loadingText:$,children:j,...et}=o;return jsxRuntimeExports.jsx(Button$2,{disabled:s||a,ref:i,...et,children:s&&!$?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AbsoluteCenter,{display:"inline-flex",children:jsxRuntimeExports.jsx(Spinner,{size:"inherit",color:"inherit"})}),jsxRuntimeExports.jsx(Span,{opacity:0,children:j})]}):s&&$?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Spinner,{size:"inherit",color:"inherit"}),$]}):j})});function About(){const{t:o}=useTranslation(),i=a=>{window.open(a,"_blank")};return jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,gap:3,children:[jsxRuntimeExports.jsx(Heading,{size:"md",mb:1,children:o("settings.about.title")}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",mb:0,children:o("settings.about.version")}),jsxRuntimeExports.jsx(Text,{children:"1.2.1"})]}),jsxRuntimeExports.jsx(Box,{borderTop:"1px solid",borderColor:"var(--app-border)",pt:2,mt:1}),jsxRuntimeExports.jsxs(Box,{mt:1,children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",mb:1,children:o("settings.about.projectLinks")}),jsxRuntimeExports.jsxs(HStack,{mt:1,gap:2,children:[jsxRuntimeExports.jsxs(Button$1,{size:"sm",onClick:()=>i("https://github.com/Open-LLM-VTuber/Open-LLM-VTuber-Web"),children:[jsxRuntimeExports.jsx(Icon,{as:FaGithub,mr:2})," ",o("settings.about.github")]}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",onClick:()=>i("https://docs.llmvtuber.com"),children:[jsxRuntimeExports.jsx(Icon,{as:FaBook,mr:2})," ",o("settings.about.documentation")]})]})]}),jsxRuntimeExports.jsx(Box,{borderTop:"1px solid",borderColor:"var(--app-border)",pt:2,mt:1}),jsxRuntimeExports.jsx(Box,{mt:1,children:jsxRuntimeExports.jsx(Button$1,{size:"xs",colorPalette:"blue",onClick:()=>i("https://github.com/Open-LLM-VTuber/Open-LLM-VTuber-Web/blob/main/LICENSE"),children:o("settings.about.viewLicense")})}),jsxRuntimeExports.jsxs(Box,{mt:1,children:[jsxRuntimeExports.jsx(Text,{fontWeight:"bold",mb:0,children:o("settings.about.copyright")}),jsxRuntimeExports.jsxs(Text,{children:[" ",new Date().getFullYear()," Open LLM VTuber Team"]})]})]})}function SettingUI({open:o,onClose:i}){const{t:s}=useTranslation(),[a,$]=reactExports.useState([]),[j,et]=reactExports.useState([]),[rt,st]=reactExports.useState("general"),it=reactExports.useCallback(at=>($(lt=>[...lt,at]),()=>{$(lt=>lt.filter(ut=>ut!==at))}),[]),ot=reactExports.useCallback(at=>(et(lt=>[...lt,at]),()=>{et(lt=>lt.filter(ut=>ut!==at))}),[]),tt=reactExports.useCallback(()=>{a.forEach(at=>at()),i()},[a,i]),_e=reactExports.useCallback(()=>{j.forEach(at=>at()),i()},[j,i]),nt=reactExports.useMemo(()=>jsxRuntimeExports.jsxs(TabsContentGroup,{children:[jsxRuntimeExports.jsx(TabsContent,{value:"general",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(General,{onSave:it,onCancel:ot})}),jsxRuntimeExports.jsx(TabsContent,{value:"live2d",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(live2D,{onSave:it,onCancel:ot})}),jsxRuntimeExports.jsx(TabsContent,{value:"asr",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(ASR,{onSave:it,onCancel:ot})}),jsxRuntimeExports.jsx(TabsContent,{value:"tts",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(TTS,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"agent",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(Agent,{onSave:it,onCancel:ot})}),jsxRuntimeExports.jsx(TabsContent,{value:"about",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(About,{})})]}),[it,ot]);return jsxRuntimeExports.jsxs(DrawerRoot$1,{open:o,onOpenChange:at=>at.open?null:i(),placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop$1,{}),jsxRuntimeExports.jsxs(DrawerContent$1,{...settingStyles.settingUI.drawerContent,children:[jsxRuntimeExports.jsxs(DrawerHeader$1,{...settingStyles.settingUI.drawerHeader,children:[jsxRuntimeExports.jsx(DrawerTitle$1,{...settingStyles.settingUI.drawerTitle,children:s("common.settings")}),jsxRuntimeExports.jsx("div",{...settingStyles.settingUI.closeButton,children:jsxRuntimeExports.jsx(DrawerCloseTrigger$1,{asChild:!0,onClick:_e,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm",color:"white"})})})]}),jsxRuntimeExports.jsx(DrawerBody$1,{children:jsxRuntimeExports.jsxs(TabsRoot,{defaultValue:"general",value:rt,onValueChange:at=>st(at.value),...settingStyles.settingUI.tabs.root,children:[jsxRuntimeExports.jsxs(TabsList,{...settingStyles.settingUI.tabs.list,children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"general",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.general")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"live2d",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.live2d")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"asr",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.asr")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"tts",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.tts")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"agent",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.agent")}),jsxRuntimeExports.jsx(TabsTrigger,{value:"about",...settingStyles.settingUI.tabs.trigger,children:s("settings.tabs.about")})]}),nt]})}),jsxRuntimeExports.jsxs(DrawerFooter$1,{children:[jsxRuntimeExports.jsx(Button$2,{colorPalette:"red",onClick:_e,children:s("common.cancel")}),jsxRuntimeExports.jsx(Button$2,{colorPalette:"blue",onClick:tt,children:s("common.save")})]})]})]})}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function o(a,$,j,et,rt,st){if(st!==ReactPropTypesSecret){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}}o.isRequired=o;function i(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var prefix="cs",classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(o){(function(){var i={}.hasOwnProperty;function s(){for(var j="",et=0;et<arguments.length;et++){var rt=arguments[et];rt&&(j=$(j,a(rt)))}return j}function a(j){if(typeof j=="string"||typeof j=="number")return j;if(typeof j!="object")return"";if(Array.isArray(j))return s.apply(null,j);if(j.toString!==Object.prototype.toString&&!j.toString.toString().includes("[native code]"))return j.toString();var et="";for(var rt in j)i.call(j,rt)&&j[rt]&&(et=$(et,rt));return et}function $(j,et){return et?j?j+" "+et:j+et:j}o.exports?(s.default=s,o.exports=s):window.classNames=s})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);var StatusEnum=["available","unavailable","away","dnd","invisible","eager"],SizeEnum=["xs","sm","md","lg","fluid"];function _typeof$h(o){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$h(o)}var _excluded$w=["status","size","className","name","selected","children"];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$v.apply(this,arguments)}function _defineProperty$f(o,i,s){return i=_toPropertyKey$e(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$e(o){var i=_toPrimitive$e(o,"string");return _typeof$h(i)=="symbol"?i:String(i)}function _toPrimitive$e(o,i){if(_typeof$h(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$h(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$w(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$w(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$w(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var Status=function o(i){var s=i.status,a=i.size,$=a===void 0?"md":a,j=i.className,et=i.name,rt=i.selected,st=i.children,it=_objectWithoutProperties$w(i,_excluded$w),ot="".concat(prefix,"-status"),tt=React.createElement("div",{className:"".concat(ot,"__bullet")}),_e=et||st;return React.createElement("div",_extends$v({},it,{"aria-selected":rt===!0?"":null,className:classNames(ot,"".concat(ot,"--").concat($),"".concat(ot,"--").concat(s),_defineProperty$f({},"".concat(ot,"--selected"),rt),_defineProperty$f({},"".concat(ot,"--named"),_e),j)}),tt,_e&&React.createElement("div",{className:"".concat(ot,"__name")},et||st))};function _typeof$g(o){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$g(o)}var _excluded$v=["name","src","size","status","className","active","children"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$u.apply(this,arguments)}function _defineProperty$e(o,i,s){return i=_toPropertyKey$d(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$d(o){var i=_toPrimitive$d(o,"string");return _typeof$g(i)=="symbol"?i:String(i)}function _toPrimitive$d(o,i){if(_typeof$g(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$g(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$v(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$v(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$v(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}function AvatarInner(o,i){var s=o.name,a=s===void 0?"":s,$=o.src,j=$===void 0?"":$,et=o.size,rt=et===void 0?"md":et,st=o.status,it=o.className,ot=o.active,tt=ot===void 0?!1:ot,_e=o.children,nt=_objectWithoutProperties$v(o,_excluded$v),at="".concat(prefix,"-avatar"),lt=typeof rt<"u"?" ".concat(at,"--").concat(rt):"",ut=reactExports.useRef();return reactExports.useImperativeHandle(i,function(){return{focus:function(){return ut.current.focus()}}}),React.createElement("div",_extends$u({ref:ut},nt,{className:classNames("".concat(at).concat(lt),_defineProperty$e({},"".concat(at,"--active"),tt),it)}),_e||React.createElement(React.Fragment,null,React.createElement("img",{src:j,alt:a}),typeof st=="string"&&React.createElement(Status,{status:st,size:rt})," "))}var Avatar=reactExports.forwardRef(AvatarInner);Avatar.displayName="Avatar";Avatar.propTypes={children:PropTypes.node,name:PropTypes.string,src:PropTypes.string,size:PropTypes.oneOf(SizeEnum),status:PropTypes.oneOf(StatusEnum),active:PropTypes.bool,className:PropTypes.string};function ownKeys$1(o,i){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);i&&(a=a.filter(function($){return Object.getOwnPropertyDescriptor(o,$).enumerable})),s.push.apply(s,a)}return s}function _objectSpread$1(o){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys$1(Object(s),!0).forEach(function(a){_defineProperty$d(o,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):ownKeys$1(Object(s)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(s,a))})}return o}function _defineProperty$d(o,i,s){return i=_toPropertyKey$c(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$c(o){var i=_toPrimitive$c(o,"string");return _typeof$f(i)=="symbol"?i:String(i)}function _toPrimitive$c(o,i){if(_typeof$f(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _typeof$f(o){"@babel/helpers - typeof";return _typeof$f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$f(o)}var noop$1=function o(){},isChildrenNil=function o(i){return i==null||Array.isArray(i)&&i.length===0},getChildren=function o(i,s){var a=[],$=s.map(function(j){return j.displayName||j.name});return React.Children.toArray(i).forEach(function(j){var et=s.indexOf(j.type);if(et!==-1)a[et]=j;else{var rt,st,it,ot=(rt=j==null||(st=j.props)===null||st===void 0?void 0:st.as)!==null&&rt!==void 0?rt:j==null||(it=j.props)===null||it===void 0?void 0:it.is,tt=_typeof$f(ot);if(tt==="function"){var _e=s.indexOf(ot);_e!==-1&&(a[_e]=React.cloneElement(j,_objectSpread$1(_objectSpread$1({},j.props),{},{as:null})))}else if(tt==="object"){var nt=ot.name||ot.displayName,at=$.indexOf(nt);at!==-1&&(a[at]=React.cloneElement(j,_objectSpread$1(_objectSpread$1({},j.props),{},{as:null})))}else if(tt==="string"){var lt=$.indexOf(ot);lt!==-1&&(a[lt]=j)}}}),a},getComponentName=function o(i){if(typeof i=="string")return i;if("type"in i){var s=_typeof$f(i.type);if(s==="function"||s==="object"){if("displayName"in i.type)return i.type.displayName;if("name"in i.type)return i.type.name}else if(s==="string")return i.type;return"undefined"}return"undefined"},allowedChildren=function o(i){return function(s,a,$){var j=i.map(function(ot){return ot.name||ot.displayName}),et=React.Children.toArray(s[a]).find(function(ot){if(typeof ot=="string"&&ot.trim().length===0)return!1;if(i.indexOf(ot.type)===-1){var tt,_e,nt=(ot==null||(tt=ot.props)===null||tt===void 0?void 0:tt.as)||(ot==null||(_e=ot.props)===null||_e===void 0?void 0:_e.is),at=_typeof$f(nt);if(at==="function")return i.indexOf(nt)===-1;if(at==="object"){var lt=nt.name||nt.displayName;return j.indexOf(lt)===-1}else return at==="string"?j.indexOf(nt)===-1:!0}});if(typeof et<"u"){var rt=getComponentName(et),st=i.map(function(ot){return ot.name||ot.displayName}).join(", "),it='"'.concat(rt,'" is not a valid child for ').concat($,". Allowed types: ").concat(st);return new Error(it)}}},_excluded$u=["children","size","className","max","activeIndex","hoverToFront"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$t.apply(this,arguments)}function _objectWithoutProperties$u(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$u(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$u(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var AvatarGroup=function o(i){var s=i.children,a=i.size,$=a===void 0?"md":a,j=i.className,et=i.max,rt=i.activeIndex,st=i.hoverToFront,it=_objectWithoutProperties$u(i,_excluded$u),ot="".concat(prefix,"-avatar-group"),tt=typeof et=="number"&&React.Children.count(s)>et?React.Children.toArray(s).reverse().slice(0,et):React.Children.toArray(s).reverse(),_e=typeof rt=="number"?tt.length-rt-1:void 0;return React.createElement("div",_extends$t({},it,{className:classNames(ot,"".concat(ot,"--").concat($),j)}),tt.map(function(nt,at){var lt=typeof _e=="number"?{active:_e===at}:{};return st===!0&&(lt.className=classNames("".concat(prefix,"-avatar--active-on-hover"),nt.props.className)),React.cloneElement(nt,lt)}))};AvatarGroup.displayName="AvatarGroup";var _excluded$t=["children","className","icon","border","labelPosition"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$s.apply(this,arguments)}function _objectWithoutProperties$t(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$t(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$t(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var Button=function o(i){var s=i.children,a=s===void 0?void 0:s,$=i.className,j=$===void 0?"":$,et=i.icon,rt=et===void 0?void 0:et,st=i.border,it=st===void 0?!1:st,ot=i.labelPosition,tt=ot===void 0?void 0:ot,_e=_objectWithoutProperties$t(i,_excluded$t),nt="".concat(prefix,"-button"),at=typeof tt<"u"?tt:"right",lt=React.Children.count(a)>0?"".concat(nt,"--").concat(at):"",ut=it===!0?"".concat(nt,"--border"):"";return React.createElement("button",_extends$s({},_e,{className:classNames(nt,lt,ut,j)}),at==="left"&&a,rt,at==="right"&&a)};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */function _typeof$e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$e=function(i){return typeof i}:_typeof$e=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$e(o)}function _classCallCheck$4(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(o,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}function _createClass$4(o,i,s){return i&&_defineProperties$4(o.prototype,i),o}function _defineProperty$c(o,i,s){return i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _objectSpread(o){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{},a=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function($){return Object.getOwnPropertyDescriptor(s,$).enumerable}))),a.forEach(function($){_defineProperty$c(o,$,s[$])})}return o}function _slicedToArray$7(o,i){return _arrayWithHoles$7(o)||_iterableToArrayLimit$7(o,i)||_nonIterableRest$7()}function _arrayWithHoles$7(o){if(Array.isArray(o))return o}function _iterableToArrayLimit$7(o,i){var s=[],a=!0,$=!1,j=void 0;try{for(var et=o[Symbol.iterator](),rt;!(a=(rt=et.next()).done)&&(s.push(rt.value),!(i&&s.length===i));a=!0);}catch(st){$=!0,j=st}finally{try{!a&&et.return!=null&&et.return()}finally{if($)throw j}}return s}function _nonIterableRest$7(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var noop=function o(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(o){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function";~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var NAMESPACE_IDENTIFIER="___FONT_AWESOME___",DEFAULT_FAMILY_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg";(function(){try{return!0}catch{return!1}})();var DUOTONE_CLASSES={GROUP:"group",PRIMARY:"primary",SECONDARY:"secondary"},initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(o){var i=DOCUMENT.querySelector("script["+o+"]");if(i)return i.getAttribute(o)}function coerce(o){return o===""?!0:o==="false"?!1:o==="true"?!0:o}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(o){var i=_slicedToArray$7(o,2),s=i[0],a=i[1],$=coerce(getAttrConfig(s));$!=null&&(initial[a]=$)})}var _default={familyPrefix:DEFAULT_FAMILY_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},_config=_objectSpread({},_default,initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config=_objectSpread({},_config);WINDOW.FontAwesomeConfig=config;var w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function o(){DOCUMENT.removeEventListener("DOMContentLoaded",o),loaded=1,functions.map(function(i){return i()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));var PENDING="pending",SETTLED="settled",FULFILLED="fulfilled",REJECTED="rejected",NOOP=function o(){},isNode=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",asyncSetTimer=typeof setImmediate>"u"?setTimeout:setImmediate,asyncQueue=[],asyncTimer;function asyncFlush(){for(var o=0;o<asyncQueue.length;o++)asyncQueue[o][0](asyncQueue[o][1]);asyncQueue=[],asyncTimer=!1}function asyncCall(o,i){asyncQueue.push([o,i]),asyncTimer||(asyncTimer=!0,asyncSetTimer(asyncFlush,0))}function invokeResolver(o,i){function s($){resolve(i,$)}function a($){reject(i,$)}try{o(s,a)}catch($){a($)}}function invokeCallback(o){var i=o.owner,s=i._state,a=i._data,$=o[s],j=o.then;if(typeof $=="function"){s=FULFILLED;try{a=$(a)}catch(et){reject(j,et)}}handleThenable(j,a)||(s===FULFILLED&&resolve(j,a),s===REJECTED&&reject(j,a))}function handleThenable(o,i){var s;try{if(o===i)throw new TypeError("A promises callback cannot return that same promise.");if(i&&(typeof i=="function"||_typeof$e(i)==="object")){var a=i.then;if(typeof a=="function")return a.call(i,function($){s||(s=!0,i===$?fulfill(o,$):resolve(o,$))},function($){s||(s=!0,reject(o,$))}),!0}}catch($){return s||reject(o,$),!0}return!1}function resolve(o,i){(o===i||!handleThenable(o,i))&&fulfill(o,i)}function fulfill(o,i){o._state===PENDING&&(o._state=SETTLED,o._data=i,asyncCall(publishFulfillment,o))}function reject(o,i){o._state===PENDING&&(o._state=SETTLED,o._data=i,asyncCall(publishRejection,o))}function publish(o){o._then=o._then.forEach(invokeCallback)}function publishFulfillment(o){o._state=FULFILLED,publish(o)}function publishRejection(o){o._state=REJECTED,publish(o),!o._handled&&isNode&&global.process.emit("unhandledRejection",o._data,o)}function notifyRejectionHandled(o){global.process.emit("rejectionHandled",o)}function P(o){if(typeof o!="function")throw new TypeError("Promise resolver "+o+" is not a function");if(!(this instanceof P))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],invokeResolver(o,this)}P.prototype={constructor:P,_state:PENDING,_then:null,_data:void 0,_handled:!1,then:function o(i,s){var a={owner:this,then:new this.constructor(NOOP),fulfilled:i,rejected:s};return(s||i)&&!this._handled&&(this._handled=!0,this._state===REJECTED&&isNode&&asyncCall(notifyRejectionHandled,this)),this._state===FULFILLED||this._state===REJECTED?asyncCall(invokeCallback,a):this._then.push(a),a.then},catch:function o(i){return this.then(null,i)}};P.all=function(o){if(!Array.isArray(o))throw new TypeError("You must pass an array to Promise.all().");return new P(function(i,s){var a=[],$=0;function j(st){return $++,function(it){a[st]=it,--$||i(a)}}for(var et=0,rt;et<o.length;et++)rt=o[et],rt&&typeof rt.then=="function"?rt.then(j(et),s):a[et]=rt;$||i(a)})};P.race=function(o){if(!Array.isArray(o))throw new TypeError("You must pass an array to Promise.race().");return new P(function(i,s){for(var a=0,$;a<o.length;a++)$=o[a],$&&typeof $.then=="function"?$.then(i,s):i($)})};P.resolve=function(o){return o&&_typeof$e(o)==="object"&&o.constructor===P?o:new P(function(i){i(o)})};P.reject=function(o){return new P(function(i,s){s(o)})};var meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(o){if(!(!o||!IS_DOM)){var i=DOCUMENT.createElement("style");i.setAttribute("type","text/css"),i.innerHTML=o;for(var s=DOCUMENT.head.childNodes,a=null,$=s.length-1;$>-1;$--){var j=s[$],et=(j.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(et)>-1&&(a=j)}return DOCUMENT.head.insertBefore(i,a),o}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var o=12,i="";o-- >0;)i+=idPool[Math.random()*62|0];return i}function htmlEscape(o){return"".concat(o).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(o){return Object.keys(o||{}).reduce(function(i,s){return i+"".concat(s,'="').concat(htmlEscape(o[s]),'" ')},"").trim()}function joinStyles(o){return Object.keys(o||{}).reduce(function(i,s){return i+"".concat(s,": ").concat(o[s],";")},"")}function transformIsMeaningful(o){return o.size!==meaninglessTransform.size||o.x!==meaninglessTransform.x||o.y!==meaninglessTransform.y||o.rotate!==meaninglessTransform.rotate||o.flipX||o.flipY}function transformForSvg(o){var i=o.transform,s=o.containerWidth,a=o.iconWidth,$={transform:"translate(".concat(s/2," 256)")},j="translate(".concat(i.x*32,", ").concat(i.y*32,") "),et="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),rt="rotate(".concat(i.rotate," 0 0)"),st={transform:"".concat(j," ").concat(et," ").concat(rt)},it={transform:"translate(".concat(a/2*-1," -256)")};return{outer:$,inner:st,path:it}}var ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return o.attributes&&(o.attributes.fill||i)&&(o.attributes.fill="black"),o}function deGroup(o){return o.tag==="g"?o.children:[o]}function makeIconMasking(o){var i=o.children,s=o.attributes,a=o.main,$=o.mask,j=o.maskId,et=o.transform,rt=a.width,st=a.icon,it=$.width,ot=$.icon,tt=transformForSvg({transform:et,containerWidth:it,iconWidth:rt}),_e={tag:"rect",attributes:_objectSpread({},ALL_SPACE,{fill:"white"})},nt=st.children?{children:st.children.map(fillBlack)}:{},at={tag:"g",attributes:_objectSpread({},tt.inner),children:[fillBlack(_objectSpread({tag:st.tag,attributes:_objectSpread({},st.attributes,tt.path)},nt))]},lt={tag:"g",attributes:_objectSpread({},tt.outer),children:[at]},ut="mask-".concat(j||nextUniqueId()),ct="clip-".concat(j||nextUniqueId()),dt={tag:"mask",attributes:_objectSpread({},ALL_SPACE,{id:ut,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_e,lt]},ft={tag:"defs",children:[{tag:"clipPath",attributes:{id:ct},children:deGroup(ot)},dt]};return i.push(ft,{tag:"rect",attributes:_objectSpread({fill:"currentColor","clip-path":"url(#".concat(ct,")"),mask:"url(#".concat(ut,")")},ALL_SPACE)}),{children:i,attributes:s}}function makeIconStandard(o){var i=o.children,s=o.attributes,a=o.main,$=o.transform,j=o.styles,et=joinStyles(j);if(et.length>0&&(s.style=et),transformIsMeaningful($)){var rt=transformForSvg({transform:$,containerWidth:a.width,iconWidth:a.width});i.push({tag:"g",attributes:_objectSpread({},rt.outer),children:[{tag:"g",attributes:_objectSpread({},rt.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:_objectSpread({},a.icon.attributes,rt.path)}]}]})}else i.push(a.icon);return{children:i,attributes:s}}function asIcon(o){var i=o.children,s=o.main,a=o.mask,$=o.attributes,j=o.styles,et=o.transform;if(transformIsMeaningful(et)&&s.found&&!a.found){var rt=s.width,st=s.height,it={x:rt/st/2,y:.5};$.style=joinStyles(_objectSpread({},j,{"transform-origin":"".concat(it.x+et.x/16,"em ").concat(it.y+et.y/16,"em")}))}return[{tag:"svg",attributes:$,children:i}]}function asSymbol(o){var i=o.prefix,s=o.iconName,a=o.children,$=o.attributes,j=o.symbol,et=j===!0?"".concat(i,"-").concat(config.familyPrefix,"-").concat(s):j;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread({},$,{id:et}),children:a}]}]}function makeInlineSvgAbstract(o){var i=o.icons,s=i.main,a=i.mask,$=o.prefix,j=o.iconName,et=o.transform,rt=o.symbol,st=o.title,it=o.maskId,ot=o.titleId,tt=o.extra,_e=o.watchable,nt=_e===void 0?!1:_e,at=a.found?a:s,lt=at.width,ut=at.height,ct=$==="fak",dt=ct?"":"fa-w-".concat(Math.ceil(lt/ut*16)),ft=[config.replacementClass,j?"".concat(config.familyPrefix,"-").concat(j):"",dt].filter(function(xt){return tt.classes.indexOf(xt)===-1}).filter(function(xt){return xt!==""||!!xt}).concat(tt.classes).join(" "),ht={children:[],attributes:_objectSpread({},tt.attributes,{"data-prefix":$,"data-icon":j,class:ft,role:tt.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(lt," ").concat(ut)})},gt=ct&&!~tt.classes.indexOf("fa-fw")?{width:"".concat(lt/ut*16*.0625,"em")}:{};nt&&(ht.attributes[DATA_FA_I2SVG]=""),st&&ht.children.push({tag:"title",attributes:{id:ht.attributes["aria-labelledby"]||"title-".concat(ot||nextUniqueId())},children:[st]});var yt=_objectSpread({},ht,{prefix:$,iconName:j,main:s,mask:a,maskId:it,transform:et,symbol:rt,styles:_objectSpread({},gt,tt.styles)}),bt=a.found&&s.found?makeIconMasking(yt):makeIconStandard(yt),vt=bt.children,mt=bt.attributes;return yt.children=vt,yt.attributes=mt,rt?asSymbol(yt):asIcon(yt)}config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure;var reduce=function o(i,s,a,$){var j=Object.keys(i),et=j.length,rt=s,st,it,ot;for(a===void 0?(st=1,ot=i[j[0]]):(st=0,ot=a);st<et;st++)it=j[st],ot=rt(ot,i[it],it,i);return ot};function defineIcons(o,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.skipHooks,$=a===void 0?!1:a,j=Object.keys(i).reduce(function(et,rt){var st=i[rt],it=!!st.icon;return it?et[st.iconName]=st.icon:et[rt]=st,et},{});typeof namespace.hooks.addPack=="function"&&!$?namespace.hooks.addPack(o,j):namespace.styles[o]=_objectSpread({},namespace.styles[o]||{},j),o==="fas"&&defineIcons("fa",i)}var styles=namespace.styles,shims=namespace.shims,build=function o(){var i=function($){return reduce(styles,function(j,et,rt){return j[rt]=reduce(et,$,{}),j},{})};i(function(a,$,j){return $[3]&&(a[$[3]]=j),a}),i(function(a,$,j){var et=$[2];return a[j]=j,et.forEach(function(rt){a[rt]=j}),a});var s="far"in styles;reduce(shims,function(a,$){var j=$[0],et=$[1],rt=$[2];return et==="far"&&!s&&(et="fas"),a[j]={prefix:et,iconName:rt},a},{})};build();namespace.styles;function iconFromMapping(o,i,s){if(o&&o[i]&&o[i][s])return{prefix:i,iconName:s,icon:o[i][s]}}function toHtml(o){var i=o.tag,s=o.attributes,a=s===void 0?{}:s,$=o.children,j=$===void 0?[]:$;return typeof o=="string"?htmlEscape(o):"<".concat(i," ").concat(joinAttributes(a),">").concat(j.map(toHtml).join(""),"</").concat(i,">")}var parseTransformString=function o(i){var s={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return i?i.toLowerCase().split(" ").reduce(function(a,$){var j=$.toLowerCase().split("-"),et=j[0],rt=j.slice(1).join("-");if(et&&rt==="h")return a.flipX=!0,a;if(et&&rt==="v")return a.flipY=!0,a;if(rt=parseFloat(rt),isNaN(rt))return a;switch(et){case"grow":a.size=a.size+rt;break;case"shrink":a.size=a.size-rt;break;case"left":a.x=a.x-rt;break;case"right":a.x=a.x+rt;break;case"up":a.y=a.y-rt;break;case"down":a.y=a.y+rt;break;case"rotate":a.rotate=a.rotate+rt;break}return a},s):s};function MissingIcon(o){this.name="MissingIcon",this.message=o||"Icon unavailable",this.stack=new Error().stack}MissingIcon.prototype=Object.create(Error.prototype);MissingIcon.prototype.constructor=MissingIcon;var FILL={fill:"currentColor"},ANIMATION_BASE={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};_objectSpread({},FILL,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var OPACITY_ANIMATE=_objectSpread({},ANIMATION_BASE,{attributeName:"opacity"});_objectSpread({},FILL,{cx:"256",cy:"364",r:"28"}),_objectSpread({},ANIMATION_BASE,{attributeName:"r",values:"28;14;28;28;14;28;"}),_objectSpread({},OPACITY_ANIMATE,{values:"1;0;1;1;0;1;"});_objectSpread({},FILL,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),_objectSpread({},OPACITY_ANIMATE,{values:"1;0;0;0;0;1;"});_objectSpread({},FILL,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),_objectSpread({},OPACITY_ANIMATE,{values:"0;0;1;1;0;0;"});namespace.styles;function asFoundIcon(o){var i=o[0],s=o[1],a=o.slice(4),$=_slicedToArray$7(a,1),j=$[0],et=null;return Array.isArray(j)?et={tag:"g",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:j[0]}},{tag:"path",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:j[1]}}]}:et={tag:"path",attributes:{fill:"currentColor",d:j}},{found:!0,width:i,height:s,icon:et}}namespace.styles;var baseStyles=`svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}`;function css(){var o=DEFAULT_FAMILY_PREFIX,i=DEFAULT_REPLACEMENT_CLASS,s=config.familyPrefix,a=config.replacementClass,$=baseStyles;if(s!==o||a!==i){var j=new RegExp("\\.".concat(o,"\\-"),"g"),et=new RegExp("\\--".concat(o,"\\-"),"g"),rt=new RegExp("\\.".concat(i),"g");$=$.replace(j,".".concat(s,"-")).replace(et,"--".concat(s,"-")).replace(rt,".".concat(a))}return $}var Library=function(){function o(){_classCallCheck$4(this,o),this.definitions={}}return _createClass$4(o,[{key:"add",value:function(){for(var s=this,a=arguments.length,$=new Array(a),j=0;j<a;j++)$[j]=arguments[j];var et=$.reduce(this._pullDefinitions,{});Object.keys(et).forEach(function(rt){s.definitions[rt]=_objectSpread({},s.definitions[rt]||{},et[rt]),defineIcons(rt,et[rt]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(s,a){var $=a.prefix&&a.iconName&&a.icon?{0:a}:a;return Object.keys($).map(function(j){var et=$[j],rt=et.prefix,st=et.iconName,it=et.icon;s[rt]||(s[rt]={}),s[rt][st]=it}),s}}]),o}();function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}function apiObject(o,i){return Object.defineProperty(o,"abstract",{get:i}),Object.defineProperty(o,"html",{get:function(){return o.abstract.map(function(a){return toHtml(a)})}}),Object.defineProperty(o,"node",{get:function(){if(IS_DOM){var a=DOCUMENT.createElement("div");return a.innerHTML=o.html,a.children}}}),o}function findIconDefinition(o){var i=o.prefix,s=i===void 0?"fa":i,a=o.iconName;if(a)return iconFromMapping(library.definitions,s,a)||iconFromMapping(namespace.styles,s,a)}function resolveIcons(o){return function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(i||{}).icon?i:findIconDefinition(i||{}),$=s.mask;return $&&($=($||{}).icon?$:findIconDefinition($||{})),o(a,_objectSpread({},s,{mask:$}))}}var library=new Library,_cssInserted=!1,parse={transform:function o(i){return parseTransformString(i)}},icon=resolveIcons(function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.transform,a=s===void 0?meaninglessTransform:s,$=i.symbol,j=$===void 0?!1:$,et=i.mask,rt=et===void 0?null:et,st=i.maskId,it=st===void 0?null:st,ot=i.title,tt=ot===void 0?null:ot,_e=i.titleId,nt=_e===void 0?null:_e,at=i.classes,lt=at===void 0?[]:at,ut=i.attributes,ct=ut===void 0?{}:ut,dt=i.styles,ft=dt===void 0?{}:dt;if(o){var ht=o.prefix,gt=o.iconName,yt=o.icon;return apiObject(_objectSpread({type:"icon"},o),function(){return ensureCss(),config.autoA11y&&(tt?ct["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(nt||nextUniqueId()):(ct["aria-hidden"]="true",ct.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(yt),mask:rt?asFoundIcon(rt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ht,iconName:gt,transform:_objectSpread({},meaninglessTransform,a),symbol:j,title:tt,maskId:it,titleId:nt,extra:{attributes:ct,styles:ft,classes:lt}})})}});function ownKeys(o,i){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);i&&(a=a.filter(function($){return Object.getOwnPropertyDescriptor(o,$).enumerable})),s.push.apply(s,a)}return s}function _objectSpread2(o){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(s),!0).forEach(function(a){_defineProperty$b(o,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(s,a))})}return o}function _typeof$d(o){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$d(o)}function _defineProperty$b(o,i,s){return i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _objectWithoutPropertiesLoose$s(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}function _objectWithoutProperties$s(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$s(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_unsupportedIterableToArray$7(o)||_nonIterableSpread()}function _arrayWithoutHoles(o){if(Array.isArray(o))return _arrayLikeToArray$7(o)}function _iterableToArray(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _unsupportedIterableToArray$7(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$7(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$7(o,i)}}function _arrayLikeToArray$7(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function classList(o){var i,s=o.beat,a=o.fade,$=o.beatFade,j=o.bounce,et=o.shake,rt=o.flash,st=o.spin,it=o.spinPulse,ot=o.spinReverse,tt=o.pulse,_e=o.fixedWidth,nt=o.inverse,at=o.border,lt=o.listItem,ut=o.flip,ct=o.size,dt=o.rotation,ft=o.pull,ht=(i={"fa-beat":s,"fa-fade":a,"fa-beat-fade":$,"fa-bounce":j,"fa-shake":et,"fa-flash":rt,"fa-spin":st,"fa-spin-reverse":ot,"fa-spin-pulse":it,"fa-pulse":tt,"fa-fw":_e,"fa-inverse":nt,"fa-border":at,"fa-li":lt,"fa-flip":ut===!0,"fa-flip-horizontal":ut==="horizontal"||ut==="both","fa-flip-vertical":ut==="vertical"||ut==="both"},_defineProperty$b(i,"fa-".concat(ct),typeof ct<"u"&&ct!==null),_defineProperty$b(i,"fa-rotate-".concat(dt),typeof dt<"u"&&dt!==null&&dt!==0),_defineProperty$b(i,"fa-pull-".concat(ft),typeof ft<"u"&&ft!==null),_defineProperty$b(i,"fa-swap-opacity",o.swapOpacity),i);return Object.keys(ht).map(function(gt){return ht[gt]?gt:null}).filter(function(gt){return gt})}function _isNumerical(o){return o=o-0,o===o}function camelize(o){return _isNumerical(o)?o:(o=o.replace(/[\-_\s]+(.)?/g,function(i,s){return s?s.toUpperCase():""}),o.substr(0,1).toLowerCase()+o.substr(1))}var _excluded$1$1=["style"];function capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)}function styleToObject(o){return o.split(";").map(function(i){return i.trim()}).filter(function(i){return i}).reduce(function(i,s){var a=s.indexOf(":"),$=camelize(s.slice(0,a)),j=s.slice(a+1).trim();return $.startsWith("webkit")?i[capitalize($)]=j:i[$]=j,i},{})}function convert(o,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof i=="string")return i;var a=(i.children||[]).map(function(st){return convert(o,st)}),$=Object.keys(i.attributes||{}).reduce(function(st,it){var ot=i.attributes[it];switch(it){case"class":st.attrs.className=ot,delete i.attributes.class;break;case"style":st.attrs.style=styleToObject(ot);break;default:it.indexOf("aria-")===0||it.indexOf("data-")===0?st.attrs[it.toLowerCase()]=ot:st.attrs[camelize(it)]=ot}return st},{attrs:{}}),j=s.style,et=j===void 0?{}:j,rt=_objectWithoutProperties$s(s,_excluded$1$1);return $.attrs.style=_objectSpread2(_objectSpread2({},$.attrs.style),et),o.apply(void 0,[i.tag,_objectSpread2(_objectSpread2({},$.attrs),rt)].concat(_toConsumableArray(a)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch(o){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var o;(o=console).error.apply(o,arguments)}}function normalizeIconArgs(o){if(o&&_typeof$d(o)==="object"&&o.prefix&&o.iconName&&o.icon)return o;if(parse.icon)return parse.icon(o);if(o===null)return null;if(o&&_typeof$d(o)==="object"&&o.prefix&&o.iconName)return o;if(Array.isArray(o)&&o.length===2)return{prefix:o[0],iconName:o[1]};if(typeof o=="string")return{prefix:"fas",iconName:o}}function objectWithKey(o,i){return Array.isArray(i)&&i.length>0||!Array.isArray(i)&&i?_defineProperty$b({},o,i):{}}var _excluded$s=["forwardedRef"];function FontAwesomeIcon(o){var i=o.forwardedRef,s=_objectWithoutProperties$s(o,_excluded$s),a=s.icon,$=s.mask,j=s.symbol,et=s.className,rt=s.title,st=s.titleId,it=s.maskId,ot=normalizeIconArgs(a),tt=objectWithKey("classes",[].concat(_toConsumableArray(classList(s)),_toConsumableArray(et.split(" ")))),_e=objectWithKey("transform",typeof s.transform=="string"?parse.transform(s.transform):s.transform),nt=objectWithKey("mask",normalizeIconArgs($)),at=icon(ot,_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},tt),_e),nt),{},{symbol:j,title:rt,titleId:st,maskId:it}));if(!at)return log("Could not find icon",ot),null;var lt=at.abstract,ut={ref:i};return Object.keys(s).forEach(function(ct){FontAwesomeIcon.defaultProps.hasOwnProperty(ct)||(ut[ct]=s[ct])}),convertCurry(lt[0],ut)}FontAwesomeIcon.displayName="FontAwesomeIcon";FontAwesomeIcon.propTypes={beat:PropTypes.bool,border:PropTypes.bool,beatFade:PropTypes.bool,bounce:PropTypes.bool,className:PropTypes.string,fade:PropTypes.bool,flash:PropTypes.bool,mask:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),maskId:PropTypes.string,fixedWidth:PropTypes.bool,inverse:PropTypes.bool,flip:PropTypes.oneOf([!0,!1,"horizontal","vertical","both"]),icon:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),listItem:PropTypes.bool,pull:PropTypes.oneOf(["right","left"]),pulse:PropTypes.bool,rotation:PropTypes.oneOf([0,90,180,270]),shake:PropTypes.bool,size:PropTypes.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:PropTypes.bool,spinPulse:PropTypes.bool,spinReverse:PropTypes.bool,symbol:PropTypes.oneOfType([PropTypes.bool,PropTypes.string]),title:PropTypes.string,titleId:PropTypes.string,transform:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),swapOpacity:PropTypes.bool};FontAwesomeIcon.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var convertCurry=convert.bind(null,React.createElement),faArrowUp={};(function(o){Object.defineProperty(o,"__esModule",{value:!0});var i="fas",s="arrow-up",a=448,$=512,j=[],et="f062",rt="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z";o.definition={prefix:i,iconName:s,icon:[a,$,j,et,rt]},o.faArrowUp=o.definition,o.prefix=i,o.iconName=s,o.width=a,o.height=$,o.ligatures=j,o.unicode=et,o.svgPathData=rt})(faArrowUp);var faArrowRight={};(function(o){Object.defineProperty(o,"__esModule",{value:!0});var i="fas",s="arrow-right",a=448,$=512,j=[],et="f061",rt="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z";o.definition={prefix:i,iconName:s,icon:[a,$,j,et,rt]},o.faArrowRight=o.definition,o.prefix=i,o.iconName=s,o.width=a,o.height=$,o.ligatures=j,o.unicode=et,o.svgPathData=rt})(faArrowRight);var faArrowDown={};(function(o){Object.defineProperty(o,"__esModule",{value:!0});var i="fas",s="arrow-down",a=448,$=512,j=[],et="f063",rt="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z";o.definition={prefix:i,iconName:s,icon:[a,$,j,et,rt]},o.faArrowDown=o.definition,o.prefix=i,o.iconName=s,o.width=a,o.height=$,o.ligatures=j,o.unicode=et,o.svgPathData=rt})(faArrowDown);var faArrowLeft={};(function(o){Object.defineProperty(o,"__esModule",{value:!0});var i="fas",s="arrow-left",a=448,$=512,j=[],et="f060",rt="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z";o.definition={prefix:i,iconName:s,icon:[a,$,j,et,rt]},o.faArrowLeft=o.definition,o.prefix=i,o.iconName=s,o.width=a,o.height=$,o.ligatures=j,o.unicode=et,o.svgPathData=rt})(faArrowLeft);var _excluded$r=["className","direction","children"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$r.apply(this,arguments)}function _objectWithoutProperties$r(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$r(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$r(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var ArrowButton=function o(i){var s=i.className,a=s===void 0?"":s,$=i.direction,j=$===void 0?"right":$,et=i.children,rt=_objectWithoutProperties$r(i,_excluded$r),st="".concat(prefix,"-button--arrow"),it=function(){if(j==="up")return faArrowUp.faArrowUp;if(j==="right")return faArrowRight.faArrowRight;if(j==="down")return faArrowDown.faArrowDown;if(j==="left")return faArrowLeft.faArrowLeft}();return React.createElement(Button,_extends$r({},rt,{className:classNames(st,a),icon:React.createElement(FontAwesomeIcon,{icon:it})}),et)},faEllipsisV={};(function(o){Object.defineProperty(o,"__esModule",{value:!0});var i="fas",s="ellipsis-v",a=192,$=512,j=[],et="f142",rt="M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z";o.definition={prefix:i,iconName:s,icon:[a,$,j,et,rt]},o.faEllipsisV=o.definition,o.prefix=i,o.iconName=s,o.width=a,o.height=$,o.ligatures=j,o.unicode=et,o.svgPathData=rt})(faEllipsisV);var faPaperPlane={};(function(o){Object.defineProperty(o,"__esModule",{value:!0});var i="fas",s="paper-plane",a=512,$=512,j=[],et="f1d8",rt="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z";o.definition={prefix:i,iconName:s,icon:[a,$,j,et,rt]},o.faPaperPlane=o.definition,o.prefix=i,o.iconName=s,o.width=a,o.height=$,o.ligatures=j,o.unicode=et,o.svgPathData=rt})(faPaperPlane);var _excluded$q=["className","children"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$q.apply(this,arguments)}function _objectWithoutProperties$q(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$q(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$q(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var SendButton=function o(i){var s=i.className,a=s===void 0?"":s,$=i.children,j=_objectWithoutProperties$q(i,_excluded$q),et="".concat(prefix,"-button--send");return React.createElement(Button,_extends$q({},j,{className:classNames(et,a),icon:React.createElement(FontAwesomeIcon,{icon:faPaperPlane.faPaperPlane})}),$)},faPaperclip={};(function(o){Object.defineProperty(o,"__esModule",{value:!0});var i="fas",s="paperclip",a=448,$=512,j=[],et="f0c6",rt="M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z";o.definition={prefix:i,iconName:s,icon:[a,$,j,et,rt]},o.faPaperclip=o.definition,o.prefix=i,o.iconName=s,o.width=a,o.height=$,o.ligatures=j,o.unicode=et,o.svgPathData=rt})(faPaperclip);var _excluded$p=["className","children"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$p.apply(this,arguments)}function _objectWithoutProperties$p(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$p(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$p(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var AttachmentButton=function o(i){var s=i.className,a=s===void 0?"":s,$=i.children,j=_objectWithoutProperties$p(i,_excluded$p),et="".concat(prefix,"-button--attachment");return React.createElement(Button,_extends$p({},j,{className:classNames(et,a),icon:React.createElement(FontAwesomeIcon,{icon:faPaperclip.faPaperclip})}),$)},_excluded$o=["onClick","children","className"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$o.apply(this,arguments)}function _objectWithoutProperties$o(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$o(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$o(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var ConversationHeaderBack=function o(i){var s=i.onClick,a=s===void 0?function(){}:s,$=i.children,j=$===void 0?void 0:$,et=i.className,rt=_objectWithoutProperties$o(i,_excluded$o),st="".concat(prefix,"-conversation-header__back");return React.createElement("div",_extends$o({},rt,{className:classNames(st,et)}),typeof j<"u"?j:React.createElement(ArrowButton,{direction:"left",onClick:a}))};ConversationHeaderBack.displayName="ConversationHeader.Back";var _excluded$n=["children","className"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$n.apply(this,arguments)}function _objectWithoutProperties$n(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$n(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$n(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var ConversationHeaderActions=function o(i){var s=i.children,a=s===void 0?void 0:s,$=i.className,j=_objectWithoutProperties$n(i,_excluded$n),et="".concat(prefix,"-conversation-header__actions");return React.createElement("section",_extends$n({},j,{className:classNames(et,$)}),a)};ConversationHeaderActions.displayName="ConversationHeader.Actions";var _excluded$m=["userName","info","children","className"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$m.apply(this,arguments)}function _objectWithoutProperties$m(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$m(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$m(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var ConversationHeaderContent=function o(i){var s=i.userName,a=s===void 0?"":s,$=i.info,j=$===void 0?"":$,et=i.children,rt=et===void 0?void 0:et,st=i.className,it=_objectWithoutProperties$m(i,_excluded$m),ot="".concat(prefix,"-conversation-header__content");return React.createElement("div",_extends$m({},it,{className:classNames(ot,st)}),typeof rt<"u"?rt:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-conversation-header__user-name")},a),React.createElement("div",{className:"".concat(prefix,"-conversation-header__info")},j)))};ConversationHeaderContent.displayName="ConversationHeader.Content";var _excluded$l=["children","className"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$l.apply(this,arguments)}function _slicedToArray$6(o,i){return _arrayWithHoles$6(o)||_iterableToArrayLimit$6(o,i)||_unsupportedIterableToArray$6(o,i)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$6(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$6(o,i)}}function _arrayLikeToArray$6(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _iterableToArrayLimit$6(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,$,j,et,rt=[],st=!0,it=!1;try{if(j=(s=s.call(o)).next,i!==0)for(;!(st=(a=j.call(s)).done)&&(rt.push(a.value),rt.length!==i);st=!0);}catch(ot){it=!0,$=ot}finally{try{if(!st&&s.return!=null&&(et=s.return(),Object(et)!==et))return}finally{if(it)throw $}}return rt}}function _arrayWithHoles$6(o){if(Array.isArray(o))return o}function _objectWithoutProperties$l(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$l(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$l(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var ConversationHeader=function o(i){var s=i.children,a=s===void 0?void 0:s,$=i.className,j=_objectWithoutProperties$l(i,_excluded$l),et="".concat(prefix,"-conversation-header"),rt=getChildren(a,[ConversationHeaderBack,Avatar,AvatarGroup,ConversationHeaderContent,ConversationHeaderActions]),st=_slicedToArray$6(rt,5),it=st[0],ot=st[1],tt=st[2],_e=st[3],nt=st[4];return React.createElement("div",_extends$l({},j,{className:classNames(et,$)}),it,ot&&React.createElement("div",{className:"".concat(et,"__avatar")},ot),!ot&&tt&&React.createElement("div",{className:"".concat(et,"__avatar")},tt),_e,nt)};ConversationHeader.displayName="ConversationHeader";ConversationHeader.Back=ConversationHeaderBack;ConversationHeader.Actions=ConversationHeaderActions;ConversationHeader.Content=ConversationHeaderContent;/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function get(o){return getComputedStyle(o)}function set(o,i){for(var s in i){var a=i[s];typeof a=="number"&&(a=a+"px"),o.style[s]=a}return o}function div(o){var i=document.createElement("div");return i.className=o,i}var elMatches=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function matches(o,i){if(!elMatches)throw new Error("No element matching method supported");return elMatches.call(o,i)}function remove(o){o.remove?o.remove():o.parentNode&&o.parentNode.removeChild(o)}function queryChildren(o,i){return Array.prototype.filter.call(o.children,function(s){return matches(s,i)})}var cls={main:"ps",rtl:"ps__rtl",element:{thumb:function o(i){return"ps__thumb-"+i},rail:function o(i){return"ps__rail-"+i},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function o(i){return"ps--active-"+i},scrolling:function o(i){return"ps--scrolling-"+i}}},scrollingClassTimeout={x:null,y:null};function addScrollingClass(o,i){var s=o.element.classList,a=cls.state.scrolling(i);s.contains(a)?clearTimeout(scrollingClassTimeout[i]):s.add(a)}function removeScrollingClass(o,i){scrollingClassTimeout[i]=setTimeout(function(){return o.isAlive&&o.element.classList.remove(cls.state.scrolling(i))},o.settings.scrollingThreshold)}function setScrollingClassInstantly(o,i){addScrollingClass(o,i),removeScrollingClass(o,i)}var EventElement=function o(i){this.element=i,this.handlers={}},prototypeAccessors={isEmpty:{configurable:!0}};EventElement.prototype.bind=function o(i,s){typeof this.handlers[i]>"u"&&(this.handlers[i]=[]),this.handlers[i].push(s);var a=["touchstart","wheel","touchmove"];a.indexOf(i)!==-1?this.element.addEventListener(i,s,{passive:!1}):this.element.addEventListener(i,s,!1)};EventElement.prototype.unbind=function o(i,s){var a=this;this.handlers[i]=this.handlers[i].filter(function($){return s&&$!==s?!0:(a.element.removeEventListener(i,$,!1),!1)})};EventElement.prototype.unbindAll=function o(){for(var i in this.handlers)this.unbind(i)};prototypeAccessors.isEmpty.get=function(){var o=this;return Object.keys(this.handlers).every(function(i){return o.handlers[i].length===0})};Object.defineProperties(EventElement.prototype,prototypeAccessors);var EventManager=function o(){this.eventElements=[]};EventManager.prototype.eventElement=function o(i){var s=this.eventElements.filter(function(a){return a.element===i})[0];return s||(s=new EventElement(i),this.eventElements.push(s)),s};EventManager.prototype.bind=function o(i,s,a){this.eventElement(i).bind(s,a)};EventManager.prototype.unbind=function o(i,s,a){var $=this.eventElement(i);$.unbind(s,a),$.isEmpty&&this.eventElements.splice(this.eventElements.indexOf($),1)};EventManager.prototype.unbindAll=function o(){this.eventElements.forEach(function(i){return i.unbindAll()}),this.eventElements=[]};EventManager.prototype.once=function o(i,s,a){var $=this.eventElement(i),j=function et(rt){$.unbind(s,et),a(rt)};$.bind(s,j)};function createEvent(o){if(typeof window.CustomEvent=="function")return new CustomEvent(o);var i=document.createEvent("CustomEvent");return i.initCustomEvent(o,!1,!1,void 0),i}function processScrollDiff(o,i,s,a,$,j){a===void 0&&(a=!0),$===void 0&&($=!1);var et;if(i==="top")et=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(i==="left")et=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");processScrollDiff$1(o,s,et,a,$,j)}function processScrollDiff$1(o,i,s,a,$,j){var et=s[0],rt=s[1],st=s[2],it=s[3],ot=s[4],tt=s[5];a===void 0&&(a=!0),$===void 0&&($=!1);var _e=o.element;o.reach[it]=null;var nt=j===!0?o[et]!==o[rt]:!0;nt&&_e[st]<1&&(o.reach[it]="start"),nt&&_e[st]>o[et]-o[rt]-1&&(o.reach[it]="end"),i&&(_e.dispatchEvent(createEvent("ps-scroll-"+it)),i<0?_e.dispatchEvent(createEvent("ps-scroll-"+ot)):i>0&&_e.dispatchEvent(createEvent("ps-scroll-"+tt)),a&&setScrollingClassInstantly(o,it)),o.reach[it]&&(i||$)&&_e.dispatchEvent(createEvent("ps-"+it+"-reach-"+o.reach[it]))}function toInt(o){return parseInt(o,10)||0}function isEditable(o){return matches(o,"input,[contenteditable]")||matches(o,"select,[contenteditable]")||matches(o,"textarea,[contenteditable]")||matches(o,"button,[contenteditable]")}function outerWidth(o){var i=get(o);return toInt(i.width)+toInt(i.paddingLeft)+toInt(i.paddingRight)+toInt(i.borderLeftWidth)+toInt(i.borderRightWidth)}var env={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints};function updateGeometry(o){var i=o.element,s=Math.floor(i.scrollTop),a=i.getBoundingClientRect();o.containerWidth=Math.round(a.width),o.containerHeight=Math.round(a.height),o.contentWidth=i.scrollWidth,o.contentHeight=i.scrollHeight,i.contains(o.scrollbarXRail)||(queryChildren(i,cls.element.rail("x")).forEach(function($){return remove($)}),i.appendChild(o.scrollbarXRail)),i.contains(o.scrollbarYRail)||(queryChildren(i,cls.element.rail("y")).forEach(function($){return remove($)}),i.appendChild(o.scrollbarYRail)),!o.settings.suppressScrollX&&o.containerWidth+o.settings.scrollXMarginOffset<o.contentWidth?(o.scrollbarXActive=!0,o.railXWidth=o.containerWidth-o.railXMarginWidth,o.railXRatio=o.containerWidth/o.railXWidth,o.scrollbarXWidth=getThumbSize(o,toInt(o.railXWidth*o.containerWidth/o.contentWidth)),o.scrollbarXLeft=toInt((o.negativeScrollAdjustment+i.scrollLeft)*(o.railXWidth-o.scrollbarXWidth)/(o.contentWidth-o.containerWidth))):o.scrollbarXActive=!1,!o.settings.suppressScrollY&&o.containerHeight+o.settings.scrollYMarginOffset<o.contentHeight?(o.scrollbarYActive=!0,o.railYHeight=o.containerHeight-o.railYMarginHeight,o.railYRatio=o.containerHeight/o.railYHeight,o.scrollbarYHeight=getThumbSize(o,toInt(o.railYHeight*o.containerHeight/o.contentHeight)),o.scrollbarYTop=toInt(s*(o.railYHeight-o.scrollbarYHeight)/(o.contentHeight-o.containerHeight))):o.scrollbarYActive=!1,o.scrollbarXLeft>=o.railXWidth-o.scrollbarXWidth&&(o.scrollbarXLeft=o.railXWidth-o.scrollbarXWidth),o.scrollbarYTop>=o.railYHeight-o.scrollbarYHeight&&(o.scrollbarYTop=o.railYHeight-o.scrollbarYHeight),updateCss(i,o),o.scrollbarXActive?i.classList.add(cls.state.active("x")):(i.classList.remove(cls.state.active("x")),o.scrollbarXWidth=0,o.scrollbarXLeft=0,i.scrollLeft=o.isRtl===!0?o.contentWidth:0),o.scrollbarYActive?i.classList.add(cls.state.active("y")):(i.classList.remove(cls.state.active("y")),o.scrollbarYHeight=0,o.scrollbarYTop=0,i.scrollTop=0)}function getThumbSize(o,i){return o.settings.minScrollbarLength&&(i=Math.max(i,o.settings.minScrollbarLength)),o.settings.maxScrollbarLength&&(i=Math.min(i,o.settings.maxScrollbarLength)),i}function updateCss(o,i){var s={width:i.railXWidth},a=Math.floor(o.scrollTop);i.isRtl?s.left=i.negativeScrollAdjustment+o.scrollLeft+i.containerWidth-i.contentWidth:s.left=o.scrollLeft,i.isScrollbarXUsingBottom?s.bottom=i.scrollbarXBottom-a:s.top=i.scrollbarXTop+a,set(i.scrollbarXRail,s);var $={top:a,height:i.railYHeight};i.isScrollbarYUsingRight?i.isRtl?$.right=i.contentWidth-(i.negativeScrollAdjustment+o.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth-9:$.right=i.scrollbarYRight-o.scrollLeft:i.isRtl?$.left=i.negativeScrollAdjustment+o.scrollLeft+i.containerWidth*2-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:$.left=i.scrollbarYLeft+o.scrollLeft,set(i.scrollbarYRail,$),set(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),set(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}function clickRail(o){o.element,o.event.bind(o.scrollbarY,"mousedown",function(i){return i.stopPropagation()}),o.event.bind(o.scrollbarYRail,"mousedown",function(i){var s=i.pageY-window.pageYOffset-o.scrollbarYRail.getBoundingClientRect().top,a=s>o.scrollbarYTop?1:-1;o.element.scrollTop+=a*o.containerHeight,updateGeometry(o),i.stopPropagation()}),o.event.bind(o.scrollbarX,"mousedown",function(i){return i.stopPropagation()}),o.event.bind(o.scrollbarXRail,"mousedown",function(i){var s=i.pageX-window.pageXOffset-o.scrollbarXRail.getBoundingClientRect().left,a=s>o.scrollbarXLeft?1:-1;o.element.scrollLeft+=a*o.containerWidth,updateGeometry(o),i.stopPropagation()})}function dragThumb(o){bindMouseScrollHandler(o,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),bindMouseScrollHandler(o,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function bindMouseScrollHandler(o,i){var s=i[0],a=i[1],$=i[2],j=i[3],et=i[4],rt=i[5],st=i[6],it=i[7],ot=i[8],tt=o.element,_e=null,nt=null,at=null;function lt(dt){dt.touches&&dt.touches[0]&&(dt[$]=dt.touches[0].pageY),tt[st]=_e+at*(dt[$]-nt),addScrollingClass(o,it),updateGeometry(o),dt.stopPropagation(),dt.preventDefault()}function ut(){removeScrollingClass(o,it),o[ot].classList.remove(cls.state.clicking),o.event.unbind(o.ownerDocument,"mousemove",lt)}function ct(dt,ft){_e=tt[st],ft&&dt.touches&&(dt[$]=dt.touches[0].pageY),nt=dt[$],at=(o[a]-o[s])/(o[j]-o[rt]),ft?o.event.bind(o.ownerDocument,"touchmove",lt):(o.event.bind(o.ownerDocument,"mousemove",lt),o.event.once(o.ownerDocument,"mouseup",ut),dt.preventDefault()),o[ot].classList.add(cls.state.clicking),dt.stopPropagation()}o.event.bind(o[et],"mousedown",function(dt){ct(dt)}),o.event.bind(o[et],"touchstart",function(dt){ct(dt,!0)})}function keyboard(o){var i=o.element,s=function(){return matches(i,":hover")},a=function(){return matches(o.scrollbarX,":focus")||matches(o.scrollbarY,":focus")};function $(j,et){var rt=Math.floor(i.scrollTop);if(j===0){if(!o.scrollbarYActive)return!1;if(rt===0&&et>0||rt>=o.contentHeight-o.containerHeight&&et<0)return!o.settings.wheelPropagation}var st=i.scrollLeft;if(et===0){if(!o.scrollbarXActive)return!1;if(st===0&&j<0||st>=o.contentWidth-o.containerWidth&&j>0)return!o.settings.wheelPropagation}return!0}o.event.bind(o.ownerDocument,"keydown",function(j){if(!(j.isDefaultPrevented&&j.isDefaultPrevented()||j.defaultPrevented)&&!(!s()&&!a())){var et=document.activeElement?document.activeElement:o.ownerDocument.activeElement;if(et){if(et.tagName==="IFRAME")et=et.contentDocument.activeElement;else for(;et.shadowRoot;)et=et.shadowRoot.activeElement;if(isEditable(et))return}var rt=0,st=0;switch(j.which){case 37:j.metaKey?rt=-o.contentWidth:j.altKey?rt=-o.containerWidth:rt=-30;break;case 38:j.metaKey?st=o.contentHeight:j.altKey?st=o.containerHeight:st=30;break;case 39:j.metaKey?rt=o.contentWidth:j.altKey?rt=o.containerWidth:rt=30;break;case 40:j.metaKey?st=-o.contentHeight:j.altKey?st=-o.containerHeight:st=-30;break;case 32:j.shiftKey?st=o.containerHeight:st=-o.containerHeight;break;case 33:st=o.containerHeight;break;case 34:st=-o.containerHeight;break;case 36:st=o.contentHeight;break;case 35:st=-o.contentHeight;break;default:return}o.settings.suppressScrollX&&rt!==0||o.settings.suppressScrollY&&st!==0||(i.scrollTop-=st,i.scrollLeft+=rt,updateGeometry(o),$(rt,st)&&j.preventDefault())}})}function wheel(o){var i=o.element;function s(et,rt){var st=Math.floor(i.scrollTop),it=i.scrollTop===0,ot=st+i.offsetHeight===i.scrollHeight,tt=i.scrollLeft===0,_e=i.scrollLeft+i.offsetWidth===i.scrollWidth,nt;return Math.abs(rt)>Math.abs(et)?nt=it||ot:nt=tt||_e,nt?!o.settings.wheelPropagation:!0}function a(et){var rt=et.deltaX,st=-1*et.deltaY;return(typeof rt>"u"||typeof st>"u")&&(rt=-1*et.wheelDeltaX/6,st=et.wheelDeltaY/6),et.deltaMode&&et.deltaMode===1&&(rt*=10,st*=10),rt!==rt&&st!==st&&(rt=0,st=et.wheelDelta),et.shiftKey?[-st,-rt]:[rt,st]}function $(et,rt,st){if(!env.isWebKit&&i.querySelector("select:focus"))return!0;if(!i.contains(et))return!1;for(var it=et;it&&it!==i;){if(it.classList.contains(cls.element.consuming))return!0;var ot=get(it);if(st&&ot.overflowY.match(/(scroll|auto)/)){var tt=it.scrollHeight-it.clientHeight;if(tt>0&&(it.scrollTop>0&&st<0||it.scrollTop<tt&&st>0))return!0}if(rt&&ot.overflowX.match(/(scroll|auto)/)){var _e=it.scrollWidth-it.clientWidth;if(_e>0&&(it.scrollLeft>0&&rt<0||it.scrollLeft<_e&&rt>0))return!0}it=it.parentNode}return!1}function j(et){var rt=a(et),st=rt[0],it=rt[1];if(!$(et.target,st,it)){var ot=!1;o.settings.useBothWheelAxes?o.scrollbarYActive&&!o.scrollbarXActive?(it?i.scrollTop-=it*o.settings.wheelSpeed:i.scrollTop+=st*o.settings.wheelSpeed,ot=!0):o.scrollbarXActive&&!o.scrollbarYActive&&(st?i.scrollLeft+=st*o.settings.wheelSpeed:i.scrollLeft-=it*o.settings.wheelSpeed,ot=!0):(i.scrollTop-=it*o.settings.wheelSpeed,i.scrollLeft+=st*o.settings.wheelSpeed),updateGeometry(o),ot=ot||s(st,it),ot&&!et.ctrlKey&&(et.stopPropagation(),et.preventDefault())}}typeof window.onwheel<"u"?o.event.bind(i,"wheel",j):typeof window.onmousewheel<"u"&&o.event.bind(i,"mousewheel",j)}function touch(o){if(!env.supportsTouch&&!env.supportsIePointer)return;var i=o.element;function s(at,lt){var ut=Math.floor(i.scrollTop),ct=Math.ceil(i.scrollLeft),dt=Math.abs(at),ft=Math.abs(lt);if(!o.settings.wheelPropagation)return!0;if(ft>dt){if(o.settings.suppressScrollY)return!1;if(lt>0)return ut!==0;if(lt<0)return ut<o.contentHeight-o.containerHeight}else if(dt>ft){if(o.settings.suppressScrollX)return!1;if(at>0)return ct!==0;if(lt<0)return ct<o.contentWidth-o.containerWidth}return!0}function a(at,lt){i.scrollTop-=lt,i.scrollLeft-=at,updateGeometry(o)}var $={},j=0,et={},rt=null;function st(at){return at.targetTouches?at.targetTouches[0]:at}function it(at){return at.pointerType&&at.pointerType==="pen"&&at.buttons===0?!1:!!(at.targetTouches&&at.targetTouches.length===1||at.pointerType&&at.pointerType!=="mouse"&&at.pointerType!==at.MSPOINTER_TYPE_MOUSE)}function ot(at){if(it(at)){var lt=st(at);$.pageX=lt.pageX,$.pageY=lt.pageY,j=new Date().getTime(),rt!==null&&clearInterval(rt)}}function tt(at,lt,ut){if(!i.contains(at))return!1;for(var ct=at;ct&&ct!==i;){if(ct.classList.contains(cls.element.consuming))return!0;var dt=get(ct);if(ut&&dt.overflowY.match(/(scroll|auto)/)){var ft=ct.scrollHeight-ct.clientHeight;if(ft>0&&(ct.scrollTop>0&&ut<0||ct.scrollTop<ft&&ut>0))return!0}if(lt&&dt.overflowX.match(/(scroll|auto)/)){var ht=ct.scrollWidth-ct.clientWidth;if(ht>0&&(ct.scrollLeft>0&&lt<0||ct.scrollLeft<ht&&lt>0))return!0}ct=ct.parentNode}return!1}function _e(at){if(it(at)){var lt=st(at),ut={pageX:lt.pageX,pageY:lt.pageY},ct=ut.pageX-$.pageX,dt=ut.pageY-$.pageY;if(tt(at.target,ct,dt))return;a(ct,dt),$=ut;var ft=new Date().getTime(),ht=ft-j;ht>0&&(et.x=ct/ht,et.y=dt/ht,j=ft),at.cancelable&&s(ct,dt)&&at.preventDefault()}}function nt(){o.settings.swipeEasing&&(clearInterval(rt),rt=setInterval(function(){if(o.isInitialized){clearInterval(rt);return}if(!et.x&&!et.y){clearInterval(rt);return}if(Math.abs(et.x)<.01&&Math.abs(et.y)<.01){clearInterval(rt);return}a(et.x*30,et.y*30),et.x*=.8,et.y*=.8},10))}env.supportsTouch?(o.event.bind(i,"touchstart",ot),o.event.bind(i,"touchmove",_e),o.event.bind(i,"touchend",nt)):env.supportsIePointer&&(window.PointerEvent?(o.event.bind(i,"pointerdown",ot),o.event.bind(i,"pointermove",_e),o.event.bind(i,"pointerup",nt)):window.MSPointerEvent&&(o.event.bind(i,"MSPointerDown",ot),o.event.bind(i,"MSPointerMove",_e),o.event.bind(i,"MSPointerUp",nt)))}var defaultSettings=function o(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},handlers={"click-rail":clickRail,"drag-thumb":dragThumb,keyboard,wheel,touch},PerfectScrollbar=function o(i,s){var a=this;if(s===void 0&&(s={}),typeof i=="string"&&(i=document.querySelector(i)),!i||!i.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=i,i.classList.add(cls.main),this.settings=defaultSettings();for(var $ in s)this.settings[$]=s[$];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var j=function(){return i.classList.add(cls.state.focus)},et=function(){return i.classList.remove(cls.state.focus)};this.isRtl=get(i).direction==="rtl",this.isRtl===!0&&i.classList.add(cls.rtl),this.isNegativeScroll=function(){var it=i.scrollLeft,ot=null;return i.scrollLeft=-1,ot=i.scrollLeft<0,i.scrollLeft=it,ot}(),this.negativeScrollAdjustment=this.isNegativeScroll?i.scrollWidth-i.clientWidth:0,this.event=new EventManager,this.ownerDocument=i.ownerDocument||document,this.scrollbarXRail=div(cls.element.rail("x")),i.appendChild(this.scrollbarXRail),this.scrollbarX=div(cls.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",j),this.event.bind(this.scrollbarX,"blur",et),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var rt=get(this.scrollbarXRail);this.scrollbarXBottom=parseInt(rt.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=toInt(rt.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=toInt(rt.borderLeftWidth)+toInt(rt.borderRightWidth),set(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=toInt(rt.marginLeft)+toInt(rt.marginRight),set(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=div(cls.element.rail("y")),i.appendChild(this.scrollbarYRail),this.scrollbarY=div(cls.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",j),this.event.bind(this.scrollbarY,"blur",et),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var st=get(this.scrollbarYRail);this.scrollbarYRight=parseInt(st.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=toInt(st.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?outerWidth(this.scrollbarY):null,this.railBorderYWidth=toInt(st.borderTopWidth)+toInt(st.borderBottomWidth),set(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=toInt(st.marginTop)+toInt(st.marginBottom),set(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:i.scrollLeft<=0?"start":i.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:i.scrollTop<=0?"start":i.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(it){return handlers[it](a)}),this.lastScrollTop=Math.floor(i.scrollTop),this.lastScrollLeft=i.scrollLeft,this.event.bind(this.element,"scroll",function(it){return a.onScroll(it)}),updateGeometry(this)};PerfectScrollbar.prototype.update=function o(i){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,set(this.scrollbarXRail,{display:"block"}),set(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=toInt(get(this.scrollbarXRail).marginLeft)+toInt(get(this.scrollbarXRail).marginRight),this.railYMarginHeight=toInt(get(this.scrollbarYRail).marginTop)+toInt(get(this.scrollbarYRail).marginBottom),set(this.scrollbarXRail,{display:"none"}),set(this.scrollbarYRail,{display:"none"}),updateGeometry(this),processScrollDiff(this,"top",0,!1,!0,i),processScrollDiff(this,"left",0,!1,!0,i),set(this.scrollbarXRail,{display:""}),set(this.scrollbarYRail,{display:""}))};PerfectScrollbar.prototype.onScroll=function o(i){this.isAlive&&(updateGeometry(this),processScrollDiff(this,"top",this.element.scrollTop-this.lastScrollTop),processScrollDiff(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};PerfectScrollbar.prototype.destroy=function o(){this.isAlive&&(this.event.unbindAll(),remove(this.scrollbarX),remove(this.scrollbarY),remove(this.scrollbarXRail),remove(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};PerfectScrollbar.prototype.removePsClasses=function o(){this.element.className=this.element.className.split(" ").filter(function(i){return!i.match(/^ps([-_].+|)$/)}).join(" ")};function _typeof$c(o){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$c(o)}var _excluded$k=["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$k.apply(this,arguments)}function _objectWithoutProperties$k(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$k(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$k(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}function _classCallCheck$3(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(o,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,_toPropertyKey$b(a.key),a)}}function _createClass$3(o,i,s){return i&&_defineProperties$3(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o}function _toPropertyKey$b(o){var i=_toPrimitive$b(o,"string");return _typeof$c(i)=="symbol"?i:String(i)}function _toPrimitive$b(o,i){if(_typeof$c(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$c(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}function _callSuper$3(o,i,s){return i=_getPrototypeOf$3(i),_possibleConstructorReturn$3(o,_isNativeReflectConstruct$3()?Reflect.construct(i,s||[],_getPrototypeOf$3(o).constructor):i.apply(o,s))}function _possibleConstructorReturn$3(o,i){if(i&&(_typeof$c(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(o)}function _isNativeReflectConstruct$3(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!o})()}function _getPrototypeOf$3(o){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$3(o)}function _assertThisInitialized$3(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$3(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$3(o,i)}function _setPrototypeOf$3(o,i){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,$){return a.__proto__=$,a},_setPrototypeOf$3(o,i)}var handlerNameByEvent={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(handlerNameByEvent);var ScrollBar=function(o){_inherits$3(i,o);function i(s){var a;return _classCallCheck$3(this,i),a=_callSuper$3(this,i,[s]),a.handleRef=a.handleRef.bind(_assertThisInitialized$3(a)),a._handlerByEvent={},a}return _createClass$3(i,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new PerfectScrollbar(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(a){this._updateEventHook(a),this.updateScroll(),a.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var a=this;Object.keys(this._handlerByEvent).forEach(function($){var j=a._handlerByEvent[$];j&&a._container.removeEventListener($,j,!1)}),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var a=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(handlerNameByEvent).forEach(function(j){var et=a.props[handlerNameByEvent[j]],rt=$[handlerNameByEvent[j]];if(et!==rt){if(rt){var st=a._handlerByEvent[j];a._container.removeEventListener(j,st,!1),a._handlerByEvent[j]=null}if(et){var it=function(){return et(a._container)};a._container.addEventListener(j,it,!1),a._handlerByEvent[j]=it}}})}},{key:"_updateClassName",value:function(){var a=this.props.className,$=this._container.className.split(" ").filter(function(j){return j.match(/^ps([-_].+|)$/)}).join(" ");this._container&&(this._container.className="scrollbar-container".concat(a?" ".concat(a):"").concat($?" ".concat($):""))}},{key:"updateScroll",value:function(){var a=this.props.onSync;typeof a=="function"?a(this._ps):this._ps.update()}},{key:"handleRef",value:function(a){var $,j;this._container=a,($=(j=this.props).containerRef)===null||$===void 0||$.call(j,a)}},{key:"render",value:function(){var a=this.props;a.className;var $=a.style;a.option,a.options,a.containerRef,a.onScrollY,a.onScrollX,a.onScrollUp,a.onScrollDown,a.onScrollLeft,a.onScrollRight,a.onYReachStart,a.onYReachEnd,a.onXReachStart,a.onXReachEnd;var j=a.component;a.onSync;var et=a.children,rt=_objectWithoutProperties$k(a,_excluded$k),st=typeof j>"u"?"div":j;return React.createElement(st,_extends$k({style:$,ref:this.handleRef},rt),et)}}]),i}(reactExports.Component);function _typeof$b(o){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$b(o)}var _excluded$j=["className","variant","children"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$j.apply(this,arguments)}function _defineProperty$a(o,i,s){return i=_toPropertyKey$a(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$a(o){var i=_toPrimitive$a(o,"string");return _typeof$b(i)=="symbol"?i:String(i)}function _toPrimitive$a(o,i){if(_typeof$b(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$b(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$j(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$j(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$j(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var Loader=function o(i){var s=i.className,a=s===void 0?void 0:s,$=i.variant,j=$===void 0?"default":$,et=i.children,rt=_objectWithoutProperties$j(i,_excluded$j),st="".concat(prefix,"-loader"),it=React.Children.count(et)>0?"".concat(st,"--content"):"";return React.createElement("div",_extends$j({},rt,{className:classNames(st,it,_defineProperty$a({},"".concat(st,"--variant-").concat(j),j!=="default"),a),role:"status"}),et)};function _typeof$a(o){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$a(o)}var _excluded$i=["className","children","blur","grayscale"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$i.apply(this,arguments)}function _defineProperty$9(o,i,s){return i=_toPropertyKey$9(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$9(o){var i=_toPrimitive$9(o,"string");return _typeof$a(i)=="symbol"?i:String(i)}function _toPrimitive$9(o,i){if(_typeof$a(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$a(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$i(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$i(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$i(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var Overlay=function o(i){var s=i.className,a=s===void 0?"":s,$=i.children,j=$===void 0?void 0:$,et=i.blur,rt=et===void 0?!1:et,st=i.grayscale,it=st===void 0?!1:st,ot=_objectWithoutProperties$i(i,_excluded$i),tt="".concat(prefix,"-overlay"),_e="".concat(tt,"--blur"),nt="".concat(tt,"--grayscale");return React.createElement("div",_extends$i({},ot,{className:classNames(tt,_defineProperty$9({},_e,rt),_defineProperty$9({},nt,it),a)}),React.createElement("div",{className:"".concat(tt,"__content")},j))},_excluded$h=["sender","sentTime","children","className"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$h.apply(this,arguments)}function _objectWithoutProperties$h(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$h(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$h(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MessageHeader=function o(i){var s=i.sender,a=s===void 0?"":s,$=i.sentTime,j=$===void 0?"":$,et=i.children,rt=et===void 0?void 0:et,st=i.className,it=_objectWithoutProperties$h(i,_excluded$h),ot="".concat(prefix,"-message__header");return React.createElement("div",_extends$h({},it,{className:classNames(ot,st)}),typeof rt<"u"?rt:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-message__sender-name")},a),React.createElement("div",{className:"".concat(prefix,"-message__sent-time")},j)))};MessageHeader.displayName="Message.Header";var _excluded$g=["sender","sentTime","children","className"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$g.apply(this,arguments)}function _objectWithoutProperties$g(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$g(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$g(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MessageFooter=function o(i){var s=i.sender,a=s===void 0?"":s,$=i.sentTime,j=$===void 0?"":$,et=i.children,rt=et===void 0?void 0:et,st=i.className,it=_objectWithoutProperties$g(i,_excluded$g),ot="".concat(prefix,"-message__footer");return React.createElement("div",_extends$g({},it,{className:classNames(ot,st)}),typeof rt<"u"?rt:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-message__sender-name")},a),React.createElement("div",{className:"".concat(prefix,"-message__sent-time")},j)))};MessageFooter.displayName="Message.Footer";var MessageCustomContent=function o(i){var s=i.children,a=i.className,$="".concat(prefix,"-message__custom-content");return React.createElement("div",{className:classNames($,a)},s)};MessageCustomContent.displayName="Message.CustomContent";var MessageImageContent=function o(i){var s=i.src,a=i.width,$=i.height,j=i.alt,et=i.className,rt="".concat(prefix,"-message__image-content"),st={width:typeof a=="number"?"".concat(a,"px"):typeof a=="string"?a:void 0,height:typeof $=="number"?"".concat($,"px"):typeof $=="string"?$:void 0};return React.createElement("div",{className:classNames(rt,et)},React.createElement("img",{src:s,style:st,alt:j}))};MessageImageContent.displayName="Message.ImageContent";var MessageHtmlContent=function o(i){var s=i.html,a=i.className,$="".concat(prefix,"-message__html-content"),j=function(){return{__html:s}};return React.createElement("div",{className:classNames($,a),dangerouslySetInnerHTML:j()})};MessageHtmlContent.displayName="Message.HtmlContent";var MessageTextContent=function o(i){var s=i.text,a=i.className,$=i.children,j="".concat(prefix,"-message__text-content"),et=$??s;return React.createElement("div",{className:classNames(j,a)},et)};MessageTextContent.displayName="Message.TextContent";var _excluded$f=["model","avatarSpacer","avatarPosition","type","payload","children","className"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$f.apply(this,arguments)}function _defineProperty$8(o,i,s){return i=_toPropertyKey$8(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$8(o){var i=_toPrimitive$8(o,"string");return _typeof$9(i)=="symbol"?i:String(i)}function _toPrimitive$8(o,i){if(_typeof$9(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$9(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _typeof$9(o){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$9(o)}function _slicedToArray$5(o,i){return _arrayWithHoles$5(o)||_iterableToArrayLimit$5(o,i)||_unsupportedIterableToArray$5(o,i)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$5(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$5(o,i)}}function _arrayLikeToArray$5(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _iterableToArrayLimit$5(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,$,j,et,rt=[],st=!0,it=!1;try{if(j=(s=s.call(o)).next,i!==0)for(;!(st=(a=j.call(s)).done)&&(rt.push(a.value),rt.length!==i);st=!0);}catch(ot){it=!0,$=ot}finally{try{if(!st&&s.return!=null&&(et=s.return(),Object(et)!==et))return}finally{if(it)throw $}}return rt}}function _arrayWithHoles$5(o){if(Array.isArray(o))return o}function _objectWithoutProperties$f(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$f(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$f(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var Message=function o(i){var s,a,$=i.model,j=$.message,et=j===void 0?"":j,rt=$.sentTime,st=rt===void 0?"":rt,it=$.sender,ot=it===void 0?"":it,tt=$.direction,_e=tt===void 0?1:tt,nt=$.position,at=$.type,lt=$.payload,ut=i.avatarSpacer,ct=ut===void 0?!1:ut,dt=i.avatarPosition,ft=dt===void 0?void 0:dt,ht=i.type,gt=ht===void 0?"html":ht,yt=i.payload,bt=i.children,vt=i.className,mt=_objectWithoutProperties$f(i,_excluded$f),xt="".concat(prefix,"-message"),wt=getChildren(bt,[Avatar,MessageHeader,MessageFooter,MessageHtmlContent,MessageTextContent,MessageImageContent,MessageCustomContent]),Ct=_slicedToArray$5(wt,7),kt=Ct[0],It=Ct[1],Pt=Ct[2],St=Ct[3],Ot=Ct[4],At=Ct[5],$t=Ct[6],jt=function(){if(_e===0||_e==="incoming")return"".concat(xt,"--incoming");if(_e===1||_e==="outgoing")return"".concat(xt,"--outgoing")}(),zt=function(Jt){var rr="".concat(xt,"--avatar-");if(Jt===0||Jt==="top-left"||Jt==="tl")return"".concat(rr,"tl");if(Jt===1||Jt==="top-right"||Jt==="tr")return"".concat(rr,"tr");if(Jt===2||Jt==="bottom-right"||Jt==="br")return"".concat(rr,"br");if(Jt===3||Jt==="bottom-left"||Jt==="bl")return"".concat(rr,"bl");if(Jt===4||Jt==="center-left"||Jt==="cl")return"".concat(rr,"cl");if(Jt===5||Jt==="center-right"||Jt==="cr")return"".concat(rr,"cr")}(ft),Xt=function(Jt){var rr="".concat(prefix,"-message--");if(Jt==="single"||Jt===0)return"".concat(rr,"single");if(Jt==="first"||Jt===1)return"".concat(rr,"first");if(Jt==="normal"||Jt===2)return"";if(Jt==="last"||Jt===3)return"".concat(rr,"last")}(nt),tr=function(){return(ot==null?void 0:ot.length)>0&&(st==null?void 0:st.length)>0?"".concat(ot,": ").concat(st):(ot==null?void 0:ot.length)>0&&(typeof st>"u"||(st==null?void 0:st.length)===0)?ot:null}(),ir=(s=(a=St??Ot)!==null&&a!==void 0?a:At)!==null&&s!==void 0?s:$t,sr=ir??function(){var Jt=at??gt,rr=lt??et,Yt=rr??yt,Kt=_typeof$9(Yt)==="object"?getComponentName(Yt):"";if(Jt==="html"&&Kt!=="Message.CustomContent")return React.createElement(MessageHtmlContent,{html:Yt});if(Jt==="text")return React.createElement(MessageTextContent,{text:Yt});if(Jt==="image")return React.createElement(MessageImageContent,Yt);if(Jt==="custom"||Kt==="Message.CustomContent")return Yt}();return React.createElement("section",_extends$f({},mt,{"aria-label":tr,className:classNames(xt,jt,_defineProperty$8({},"".concat(xt,"--avatar-spacer"),ct),Xt,zt,vt)},_defineProperty$8({},"data-".concat(prefix,"-message"),"")),typeof kt<"u"&&React.createElement("div",{className:"".concat(xt,"__avatar")},kt),React.createElement("div",{className:"".concat(xt,"__content-wrapper")},It,React.createElement("div",{className:"".concat(xt,"__content")},sr),Pt))};Message.Header=MessageHeader;Message.HtmlContent=MessageHtmlContent;Message.TextContent=MessageTextContent;Message.ImageContent=MessageImageContent;Message.CustomContent=MessageCustomContent;Message.Footer=MessageFooter;var _excluded$e=["children","className"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$e.apply(this,arguments)}function _objectWithoutProperties$e(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$e(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$e(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MessageGroupHeader=function o(i){var s=i.children,a=s===void 0?void 0:s,$=i.className,j=_objectWithoutProperties$e(i,_excluded$e),et="".concat(prefix,"-message-group__header");return React.createElement("div",_extends$e({},j,{className:classNames(et,$)}),a)};MessageGroupHeader.displayName="MessageGroup.Header";var _excluded$d=["children","className"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$d.apply(this,arguments)}function _objectWithoutProperties$d(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$d(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$d(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MessageGroupFooter=function o(i){var s=i.children,a=s===void 0?void 0:s,$=i.className,j=_objectWithoutProperties$d(i,_excluded$d),et="".concat(prefix,"-message-group__footer");return React.createElement("div",_extends$d({},j,{className:classNames(et,$)}),a)};MessageGroupFooter.displayName="MessageGroup.Footer";var _excluded$c=["children","className"];function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$c.apply(this,arguments)}function _objectWithoutProperties$c(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$c(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$c(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MessageGroupMessages=function o(i){var s=i.children,a=s===void 0?void 0:s,$=i.className,j=_objectWithoutProperties$c(i,_excluded$c),et="".concat(prefix,"-message-group");return React.createElement("div",_extends$c({},j,{className:classNames("".concat(et,"__messages"),$)}),a)};MessageGroupMessages.displayName="MessageGroup.Messages";function _typeof$8(o){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$8(o)}var _excluded$b=["direction","avatarPosition","sender","sentTime","children","className"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$b.apply(this,arguments)}function _defineProperty$7(o,i,s){return i=_toPropertyKey$7(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$7(o){var i=_toPrimitive$7(o,"string");return _typeof$8(i)=="symbol"?i:String(i)}function _toPrimitive$7(o,i){if(_typeof$8(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$8(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _slicedToArray$4(o,i){return _arrayWithHoles$4(o)||_iterableToArrayLimit$4(o,i)||_unsupportedIterableToArray$4(o,i)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$4(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$4(o,i)}}function _arrayLikeToArray$4(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _iterableToArrayLimit$4(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,$,j,et,rt=[],st=!0,it=!1;try{if(j=(s=s.call(o)).next,i!==0)for(;!(st=(a=j.call(s)).done)&&(rt.push(a.value),rt.length!==i);st=!0);}catch(ot){it=!0,$=ot}finally{try{if(!st&&s.return!=null&&(et=s.return(),Object(et)!==et))return}finally{if(it)throw $}}return rt}}function _arrayWithHoles$4(o){if(Array.isArray(o))return o}function _objectWithoutProperties$b(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$b(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$b(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MessageGroup=function o(i){var s=i.direction,a=s===void 0?"incoming":s,$=i.avatarPosition,j=$===void 0?void 0:$,et=i.sender,rt=et===void 0?"":et,st=i.sentTime,it=st===void 0?"":st,ot=i.children,tt=i.className,_e=_objectWithoutProperties$b(i,_excluded$b),nt="".concat(prefix,"-message-group"),at=function(){if(a===0||a==="incoming")return"".concat(nt,"--incoming");if(a===1||a==="outgoing")return"".concat(nt,"--outgoing")}(),lt=function(){var bt="".concat(nt,"--avatar-");if(typeof j=="string"&&(j==="tl"||j==="top-left"||j==="tr"||j==="top-right"||j==="bl"||j==="bottom-right"||j==="br"||j==="bottom-right"||j==="cl"||j==="center-left"||j==="cr"||j==="center-right"))return"".concat(bt).concat(j)}(),ut=getChildren(ot,[Avatar,MessageGroupHeader,MessageGroupFooter,MessageGroupMessages]),ct=_slicedToArray$4(ut,4),dt=ct[0],ft=ct[1],ht=ct[2],gt=ct[3],yt=function(){return rt.length>0&&it.length>0?"".concat(rt,": ").concat(it):rt.length>0&&it.length===0?rt:null}();return React.createElement("section",_extends$b({"aria-label":yt},_e,{className:classNames(nt,at,lt,tt)},_defineProperty$7({},"data-".concat(prefix,"-message-group"),"")),typeof dt<"u"&&React.createElement("div",{className:"".concat(nt,"__avatar")},dt),React.createElement("div",{className:"".concat(nt,"__content")},ft,gt,ht))};MessageGroup.Header=MessageGroupHeader;MessageGroup.Footer=MessageGroupFooter;MessageGroup.Messages=MessageGroupMessages;var _excluded$a=["content","as","children","className"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$a.apply(this,arguments)}function _objectWithoutProperties$a(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$a(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$a(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MessageSeparator=function o(i){var s=i.content,a=s===void 0?void 0:s,$=i.as,j=$===void 0?"div":$,et=i.children,rt=et===void 0?void 0:et,st=i.className,it=_objectWithoutProperties$a(i,_excluded$a),ot="".concat(prefix,"-message-separator"),tt=function(){return typeof j=="string"&&j.length>0?j:"div"}();return React.createElement(tt,_extends$a({},it,{className:classNames(ot,st)}),isChildrenNil(rt)===!0?a:rt)},_excluded$9=["className","children"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$9.apply(this,arguments)}function _objectWithoutProperties$9(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$9(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$9(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MessageListContent=function o(i){var s=i.className,a=i.children,$=_objectWithoutProperties$9(i,_excluded$9);return React.createElement("div",_extends$9({},$,{className:s}),a)};MessageListContent.displayName="MessageList.Content";var _excluded$8=["children","typingIndicator","loading","loadingMore","loadingMorePosition","onYReachStart","onYReachEnd","className","disableOnYReachWhenNoScroll","scrollBehavior","autoScrollToBottom","autoScrollToBottomOnMount"];function _typeof$7(o){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$7(o)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$8.apply(this,arguments)}function _slicedToArray$3(o,i){return _arrayWithHoles$3(o)||_iterableToArrayLimit$3(o,i)||_unsupportedIterableToArray$3(o,i)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$3(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$3(o,i)}}function _arrayLikeToArray$3(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _iterableToArrayLimit$3(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,$,j,et,rt=[],st=!0,it=!1;try{if(j=(s=s.call(o)).next,i!==0)for(;!(st=(a=j.call(s)).done)&&(rt.push(a.value),rt.length!==i);st=!0);}catch(ot){it=!0,$=ot}finally{try{if(!st&&s.return!=null&&(et=s.return(),Object(et)!==et))return}finally{if(it)throw $}}return rt}}function _arrayWithHoles$3(o){if(Array.isArray(o))return o}function _objectWithoutProperties$8(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$8(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$8(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}function _classCallCheck$2(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(o,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,_toPropertyKey$6(a.key),a)}}function _createClass$2(o,i,s){return i&&_defineProperties$2(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$2(o,i,s){return i=_getPrototypeOf$2(i),_possibleConstructorReturn$2(o,_isNativeReflectConstruct$2()?Reflect.construct(i,s||[],_getPrototypeOf$2(o).constructor):i.apply(o,s))}function _possibleConstructorReturn$2(o,i){if(i&&(_typeof$7(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(o)}function _isNativeReflectConstruct$2(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!o})()}function _getPrototypeOf$2(o){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$2(o)}function _assertThisInitialized$2(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$2(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$2(o,i)}function _setPrototypeOf$2(o,i){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,$){return a.__proto__=$,a},_setPrototypeOf$2(o,i)}function _defineProperty$6(o,i,s){return i=_toPropertyKey$6(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$6(o){var i=_toPrimitive$6(o,"string");return _typeof$7(i)=="symbol"?i:String(i)}function _toPrimitive$6(o,i){if(_typeof$7(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$7(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var MessageListInner=function(o){_inherits$2(i,o);function i(s){var a;return _classCallCheck$2(this,i),a=_callSuper$2(this,i,[s]),_defineProperty$6(_assertThisInitialized$2(a),"handleResize",function(){a.containerRef.current.clientHeight<a.lastClientHeight&&a.scrollToEnd(a.props.scrollBehavior),a.scrollRef.current.updateScroll()}),_defineProperty$6(_assertThisInitialized$2(a),"handleContainerResize",function(){a.resizeTicking===!1&&(window.requestAnimationFrame(function(){var $=a.containerRef.current;if($){var j=$.clientHeight,et=j-a.lastClientHeight;et>=1?a.preventScrollTop===!1&&($.scrollTop=Math.round($.scrollTop)-et):$.scrollTop=$.scrollTop-et,a.lastClientHeight=$.clientHeight,a.scrollRef.current.updateScroll()}a.resizeTicking=!1}),a.resizeTicking=!0)}),_defineProperty$6(_assertThisInitialized$2(a),"isSticked",function(){var $=a.containerRef.current;return $.scrollHeight===Math.round($.scrollTop+$.clientHeight)}),_defineProperty$6(_assertThisInitialized$2(a),"handleScroll",function(){a.scrollTicking===!1&&(window.requestAnimationFrame(function(){a.noScroll===!1?a.preventScrollTop=a.isSticked():a.noScroll=!1,a.scrollTicking=!1}),a.scrollTicking=!0)}),_defineProperty$6(_assertThisInitialized$2(a),"getLastMessageOrGroup",function(){var $=a.containerRef.current.querySelector("[data-".concat(prefix,"-message-list]>[data-").concat(prefix,"-message]:last-of-type,[data-").concat(prefix,"-message-list]>[data-").concat(prefix,"-message-group]:last-of-type")),j=$==null?void 0:$.querySelector("[data-".concat(prefix,"-message]:last-of-type"));return{lastElement:$,lastMessageInGroup:j}}),a.scrollPointRef=React.createRef(),a.containerRef=React.createRef(),a.scrollRef=React.createRef(),a.lastClientHeight=0,a.preventScrollTop=!1,a.resizeObserver=void 0,a.scrollTicking=!1,a.resizeTicking=!1,a.noScroll=void 0,a}return _createClass$2(i,[{key:"getSnapshotBeforeUpdate",value:function(){var a=this.containerRef.current,$=Math.round(a.scrollTop+a.clientHeight),j=a.scrollHeight===$||a.scrollHeight+1===$||a.scrollHeight-1===$;return{sticky:j,clientHeight:a.clientHeight,scrollHeight:a.scrollHeight,lastMessageOrGroup:this.getLastMessageOrGroup(),diff:a.scrollHeight-a.scrollTop}}},{key:"componentDidMount",value:function(){this.props.autoScrollToBottomOnMount===!0&&this.scrollToEnd(this.props.scrollBehavior),this.lastClientHeight=this.containerRef.current.clientHeight,window.addEventListener("resize",this.handleResize),typeof window.ResizeObserver=="function"&&(this.resizeObserver=new ResizeObserver(this.handleContainerResize),this.resizeObserver.observe(this.containerRef.current)),this.containerRef.current.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(a,$,j){var et=this.props.autoScrollToBottom;if(typeof j<"u"){var rt=this.containerRef.current,st=this.getLastMessageOrGroup(),it=st.lastElement,ot=st.lastMessageInGroup;if(it===j.lastMessageOrGroup.lastElement&&(typeof ot>"u"||ot===j.lastMessageOrGroup.lastMessageInGroup)&&(rt.scrollTop=rt.scrollHeight-j.diff+(this.lastClientHeight-rt.clientHeight)),j.sticky===!0)et===!0&&this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0;else if(j.clientHeight<this.lastClientHeight){var tt=rt.scrollTop+this.lastClientHeight;rt.scrollHeight===tt||rt.scrollHeight+1===tt||rt.scrollHeight-1===tt?et===!0&&(this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0):this.preventScrollTop=!1}else this.preventScrollTop=!1,it===j.lastMessageOrGroup.lastElement&&(typeof ot>"u"||ot===j.lastMessageOrGroup.lastMessageInGroup)&&rt.scrollTop===0&&rt.scrollHeight>j.scrollHeight&&(rt.scrollTop=rt.scrollHeight-j.scrollHeight);this.lastClientHeight=j.clientHeight}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),typeof this.resizeObserver<"u"&&this.resizeObserver.disconnect(),this.containerRef.current.removeEventListener("scroll",this.handleScroll)}},{key:"scrollToEnd",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollBehavior,$=this.containerRef.current,j=this.scrollPointRef.current,et=$.getBoundingClientRect(),rt=j.getBoundingClientRect(),st=rt.top+$.scrollTop-et.top;$.scrollBy?$.scrollBy({top:st,behavior:a}):$.scrollTop=st,this.lastClientHeight=$.clientHeight,this.noScroll=!0}},{key:"render",value:function(){var a=this,$=this.props,j=$.children,et=$.typingIndicator,rt=$.loading,st=$.loadingMore,it=$.loadingMorePosition,ot=$.onYReachStart,tt=$.onYReachEnd,_e=$.className,nt=$.disableOnYReachWhenNoScroll;$.scrollBehavior,$.autoScrollToBottom,$.autoScrollToBottomOnMount;var at=_objectWithoutProperties$8($,_excluded$8),lt="".concat(prefix,"-message-list"),ut=getChildren(j,[MessageListContent]),ct=_slicedToArray$3(ut,1),dt=ct[0];return React.createElement("div",_extends$8({},at,{className:classNames(lt,_e)}),st&&React.createElement("div",{className:classNames("".concat(lt,"__loading-more"),_defineProperty$6({},"".concat(lt,"__loading-more--bottom"),it==="bottom"))},React.createElement(Loader,null)),rt&&React.createElement(Overlay,null,React.createElement(Loader,null)),React.createElement(ScrollBar,_extends$8({onYReachStart:ot,onYReachEnd:tt,onSync:function(ht){return ht.update(nt)},className:"".concat(lt,"__scroll-wrapper"),ref:this.scrollRef,containerRef:function(ht){return a.containerRef.current=ht},options:{suppressScrollX:!0}},_defineProperty$6({},"data-".concat(prefix,"-message-list"),""),{style:{overscrollBehaviorY:"none",overflowAnchor:"auto",touchAction:"none"}}),dt||j,React.createElement("div",{className:"".concat(lt,"__scroll-to"),ref:this.scrollPointRef})),typeof et<"u"&&React.createElement("div",{className:"".concat(lt,"__typing-indicator-container")},et))}}]),i}(React.Component);MessageListInner.displayName="MessageList";function MessageListFunc(o,i){var s=reactExports.useRef(),a=function(j){return s.current.scrollToEnd(j)};return reactExports.useImperativeHandle(i,function(){return{scrollToBottom:a}}),React.createElement(MessageListInner,_extends$8({ref:s},o))}var MessageList=reactExports.forwardRef(MessageListFunc);MessageList.propTypes={children:allowedChildren([Message,MessageGroup,MessageSeparator,MessageListContent]),typingIndicator:PropTypes.node,loading:PropTypes.bool,loadingMore:PropTypes.bool,loadingMorePosition:PropTypes.oneOf(["top","bottom"]),onYReachStart:PropTypes.func,onYReachEnd:PropTypes.func,disableOnYReachWhenNoScroll:PropTypes.bool,autoScrollToBottom:PropTypes.bool,autoScrollToBottomOnMount:PropTypes.bool,scrollBehavior:PropTypes.oneOf(["auto","smooth"]),className:PropTypes.string};MessageList.defaultProps={typingIndicator:void 0,loading:!1,loadingMore:!1,loadingMorePosition:"top",disableOnYReachWhenNoScroll:!1,autoScrollToBottom:!0,autoScrollToBottomOnMount:!0,scrollBehavior:"auto"};MessageListInner.defaultProps=MessageList.defaultProps;MessageList.Content=MessageListContent;function _typeof$6(o){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$6(o)}function _classCallCheck$1(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(o,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,_toPropertyKey$5(a.key),a)}}function _createClass$1(o,i,s){return i&&_defineProperties$1(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o}function _callSuper$1(o,i,s){return i=_getPrototypeOf$1(i),_possibleConstructorReturn$1(o,_isNativeReflectConstruct$1()?Reflect.construct(i,s||[],_getPrototypeOf$1(o).constructor):i.apply(o,s))}function _possibleConstructorReturn$1(o,i){if(i&&(_typeof$6(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(o)}function _isNativeReflectConstruct$1(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!o})()}function _getPrototypeOf$1(o){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf$1(o)}function _assertThisInitialized$1(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inherits$1(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf$1(o,i)}function _setPrototypeOf$1(o,i){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,$){return a.__proto__=$,a},_setPrototypeOf$1(o,i)}function _defineProperty$5(o,i,s){return i=_toPropertyKey$5(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$5(o){var i=_toPrimitive$5(o,"string");return _typeof$6(i)=="symbol"?i:String(i)}function _toPrimitive$5(o,i){if(_typeof$6(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$6(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}var replaceCaret=function o(i,s){var a=document.activeElement===i,$=document.createTextNode("");if(i.appendChild($),$!==null&&$.nodeValue!==null&&(a||s)){var j=window.getSelection();if(j!==null){var et=document.createRange();et.setStart($,$.nodeValue.length),et.collapse(!0),j.removeAllRanges(),j.addRange(et)}}},ContentEditable=function(o){_inherits$1(i,o);function i(s){var a;return _classCallCheck$1(this,i),a=_callSuper$1(this,i,[s]),_defineProperty$5(_assertThisInitialized$1(a),"innerHTML",function(){var $=_assertThisInitialized$1(a),j=$.props.value;return{__html:typeof j<"u"?j:""}}),_defineProperty$5(_assertThisInitialized$1(a),"handleKeyPress",function($){var j=_assertThisInitialized$1(a),et=j.props.onKeyPress;et==null||et($)}),_defineProperty$5(_assertThisInitialized$1(a),"handleInput",function($){var j=_assertThisInitialized$1(a),et=j.props.onChange,rt=$.target;et==null||et(rt.innerHTML,rt.textContent,rt.innerText)}),a.msgRef=React.createRef(),a}return _createClass$1(i,[{key:"focus",value:function(){typeof this.msgRef.current<"u"&&this.msgRef.current.focus()}},{key:"componentDidMount",value:function(){this.props.autoFocus===!0&&this.msgRef.current.focus()}},{key:"shouldComponentUpdate",value:function(a){var $=this.msgRef,j=this.props,et=j.placeholder,rt=j.disabled,st=j.activateAfterChange;return typeof $.current>"u"||a.value!==$.current.innerHTML?!0:et!==a.placeholder||rt!==a.disabled||st!==a.activateAfterChange}},{key:"componentDidUpdate",value:function(){var a=this.msgRef,$=this.props,j=$.value,et=$.activateAfterChange;j!==a.current.innerHTML&&(a.current.innerHTML=typeof j=="string"?j:""),replaceCaret(a.current,et)}},{key:"render",value:function(){var a=this.msgRef,$=this.handleInput,j=this.handleKeyPress,et=this.innerHTML,rt=this.props,st=rt.placeholder,it=rt.disabled,ot=rt.className,tt=typeof st=="string"?st:"";return React.createElement("div",{ref:a,className:ot,contentEditable:it===!1,disabled:it,"data-placeholder":tt,onInput:$,onKeyPress:j,dangerouslySetInnerHTML:et()})}}]),i}(reactExports.Component);function _typeof$5(o){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$5(o)}var _excluded$7=["fancyScroll","children","forwardedRef"],_excluded2=["value","onSend","onChange","autoFocus","placeholder","fancyScroll","className","activateAfterChange","disabled","sendDisabled","sendOnReturnDisabled","attachDisabled","sendButton","attachButton","onAttachClick"];function _defineProperty$4(o,i,s){return i=_toPropertyKey$4(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _slicedToArray$2(o,i){return _arrayWithHoles$2(o)||_iterableToArrayLimit$2(o,i)||_unsupportedIterableToArray$2(o,i)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$2(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$2(o,i)}}function _arrayLikeToArray$2(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _iterableToArrayLimit$2(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,$,j,et,rt=[],st=!0,it=!1;try{if(j=(s=s.call(o)).next,i!==0)for(;!(st=(a=j.call(s)).done)&&(rt.push(a.value),rt.length!==i);st=!0);}catch(ot){it=!0,$=ot}finally{try{if(!st&&s.return!=null&&(et=s.return(),Object(et)!==et))return}finally{if(it)throw $}}return rt}}function _arrayWithHoles$2(o){if(Array.isArray(o))return o}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$7.apply(this,arguments)}function _objectWithoutProperties$7(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$7(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$7(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}function _classCallCheck(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,_toPropertyKey$4(a.key),a)}}function _createClass(o,i,s){return i&&_defineProperties(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),o}function _toPropertyKey$4(o){var i=_toPrimitive$4(o,"string");return _typeof$5(i)=="symbol"?i:String(i)}function _toPrimitive$4(o,i){if(_typeof$5(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$5(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _callSuper(o,i,s){return i=_getPrototypeOf(i),_possibleConstructorReturn(o,_isNativeReflectConstruct()?Reflect.construct(i,s||[],_getPrototypeOf(o).constructor):i.apply(o,s))}function _possibleConstructorReturn(o,i){if(i&&(_typeof$5(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(o)}function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _isNativeReflectConstruct(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!o})()}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(o)}function _inherits(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf(o,i)}function _setPrototypeOf(o,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,$){return a.__proto__=$,a},_setPrototypeOf(o,i)}function editorContainer(){var o=function(i){_inherits(s,i);function s(){return _classCallCheck(this,s),_callSuper(this,s,arguments)}return _createClass(s,[{key:"render",value:function(){var $=this.props,j=$.fancyScroll,et=$.children,rt=$.forwardedRef,st=_objectWithoutProperties$7($,_excluded$7);return React.createElement(React.Fragment,null,j===!0&&React.createElement(ScrollBar,_extends$7({ref:function(ot){return rt.current=ot}},st,{options:{suppressScrollX:!0}}),et),j===!1&&React.createElement("div",_extends$7({ref:rt},st),et))}}]),s}(reactExports.Component);return React.forwardRef(function(i,s){return React.createElement(o,_extends$7({forwardedRef:s},i))})}var EditorContainer=editorContainer(),useControllableState=function o(i,s){var a=typeof i<"u"?i:s,$=reactExports.useState(a),j=_slicedToArray$2($,2),et=j[0],rt=j[1],st=typeof i<"u"?i:et;return[st,function(it){rt(it)}]};function MessageInputInner(o,i){var s=o.value,a=s===void 0?void 0:s,$=o.onSend,j=$===void 0?noop$1:$,et=o.onChange,rt=et===void 0?noop$1:et,st=o.autoFocus,it=st===void 0?!1:st,ot=o.placeholder,tt=ot===void 0?"":ot,_e=o.fancyScroll,nt=_e===void 0?!0:_e,at=o.className,lt=o.activateAfterChange,ut=lt===void 0?!1:lt,ct=o.disabled,dt=ct===void 0?!1:ct,ft=o.sendDisabled,ht=o.sendOnReturnDisabled,gt=ht===void 0?!1:ht,yt=o.attachDisabled,bt=yt===void 0?!1:yt,vt=o.sendButton,mt=vt===void 0?!0:vt,xt=o.attachButton,wt=xt===void 0?!0:xt,Ct=o.onAttachClick,kt=Ct===void 0?noop$1:Ct,It=_objectWithoutProperties$7(o,_excluded2),Pt=reactExports.useRef(),St=reactExports.useRef(),Ot=useControllableState(a,""),At=_slicedToArray$2(Ot,2),$t=At[0],jt=At[1],zt=useControllableState(ft,!0),Xt=_slicedToArray$2(zt,2),tr=Xt[0],ir=Xt[1],sr=function(){typeof St.current<"u"&&St.current.focus()};reactExports.useImperativeHandle(i,function(){return{focus:sr}}),reactExports.useEffect(function(){it===!0&&sr()},[]),reactExports.useEffect(function(){typeof Pt.current.updateScroll=="function"&&Pt.current.updateScroll()});var Jt=function(){var ar=St.current.msgRef.current;return[ar.textContent,ar.innerText,ar.cloneNode(!0).childNodes]},rr=function(){if($t.length>0){a===void 0&&jt(""),typeof ft>"u"&&ir(!0);var ar=Jt();j($t,ar[0],ar[1],ar[2])}},Yt=function(ar){ar.key==="Enter"&&ar.shiftKey===!1&&gt===!1&&(ar.preventDefault(),rr())},Kt=function(ar,pr,Rr){jt(ar),typeof ft>"u"&&ir(pr.length===0),typeof Pt.current.updateScroll=="function"&&Pt.current.updateScroll();var kr=Jt();rt(ar,pr,Rr,kr[2])},er="".concat(prefix,"-message-input"),Bt=typeof tt=="string"?tt:"";return React.createElement("div",_extends$7({},It,{className:classNames(er,_defineProperty$4({},"".concat(er,"--disabled"),dt),at)}),wt===!0&&React.createElement("div",{className:"".concat(er,"__tools")},React.createElement(AttachmentButton,{onClick:kt,disabled:dt===!0||bt===!0})),React.createElement("div",{className:"".concat(er,"__content-editor-wrapper")},React.createElement(EditorContainer,{fancyScroll:nt,ref:Pt,className:"".concat(er,"__content-editor-container")},React.createElement(ContentEditable,{ref:St,className:"".concat(er,"__content-editor"),disabled:dt,placeholder:Bt,onKeyPress:Yt,onChange:Kt,activateAfterChange:ut,value:$t}))),mt===!0&&React.createElement("div",{className:"".concat(er,"__tools")},React.createElement(SendButton,{onClick:rr,disabled:dt===!0||tr===!0})))}var MessageInput$1=reactExports.forwardRef(MessageInputInner);MessageInput$1.displayName="MessageInput";MessageInput$1.propTypes={value:PropTypes.string,placeholder:PropTypes.string,disabled:PropTypes.bool,sendOnReturnDisabled:PropTypes.bool,sendDisabled:PropTypes.bool,fancyScroll:PropTypes.bool,activateAfterChange:PropTypes.bool,autoFocus:PropTypes.bool,onChange:PropTypes.func,onSend:PropTypes.func,className:PropTypes.string,sendButton:PropTypes.bool,attachButton:PropTypes.bool,attachDisabled:PropTypes.bool,onAttachClick:PropTypes.func};var _excluded$6=["className","children"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$6.apply(this,arguments)}function _objectWithoutProperties$6(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$6(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$6(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var InputToolbox=function o(i){var s=i.className,a=i.children,$=_objectWithoutProperties$6(i,_excluded$6),j="".concat(prefix,"-input-toolbox");return React.createElement("div",_extends$6({},$,{className:classNames(j,s)}),a)};InputToolbox.displayName="InputToolbox";var _excluded$5=["children","className"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$5.apply(this,arguments)}function _slicedToArray$1(o,i){return _arrayWithHoles$1(o)||_iterableToArrayLimit$1(o,i)||_unsupportedIterableToArray$1(o,i)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$1(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$1(o,i)}}function _arrayLikeToArray$1(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _iterableToArrayLimit$1(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,$,j,et,rt=[],st=!0,it=!1;try{if(j=(s=s.call(o)).next,i!==0)for(;!(st=(a=j.call(s)).done)&&(rt.push(a.value),rt.length!==i);st=!0);}catch(ot){it=!0,$=ot}finally{try{if(!st&&s.return!=null&&(et=s.return(),Object(et)!==et))return}finally{if(it)throw $}}return rt}}function _arrayWithHoles$1(o){if(Array.isArray(o))return o}function _objectWithoutProperties$5(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$5(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$5(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var ChatContainer=function o(i){var s=i.children,a=s===void 0?void 0:s,$=i.className,j=_objectWithoutProperties$5(i,_excluded$5),et="".concat(prefix,"-chat-container"),rt=getChildren(a,[ConversationHeader,MessageList,MessageInput$1,InputToolbox]),st=_slicedToArray$1(rt,4),it=st[0],ot=st[1],tt=st[2],_e=st[3];return React.createElement("div",_extends$5({},j,{className:classNames(et,$)}),it,ot,tt,_e)},cName="".concat(prefix,"-conversation");function _typeof$4(o){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$4(o)}var _excluded$4=["children","className","visible"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$4.apply(this,arguments)}function _defineProperty$3(o,i,s){return i=_toPropertyKey$3(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$3(o){var i=_toPrimitive$3(o,"string");return _typeof$4(i)=="symbol"?i:String(i)}function _toPrimitive$3(o,i){if(_typeof$4(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$4(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$4(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$4(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$4(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var ConversationOperations=function o(i){var s=i.children,a=i.className,$=i.visible,j=_objectWithoutProperties$4(i,_excluded$4);return React.createElement("div",_extends$4({},j,{className:classNames("".concat(cName,"__operations"),_defineProperty$3({},"".concat(cName,"__operations--visible"),$),a)}),React.Children.count(s)>0?s:React.createElement(FontAwesomeIcon,{icon:faEllipsisV.faEllipsisV}))};ConversationOperations.displayName="Conversation.Operations";var _excluded$3=["lastSenderName","info","name","children","className"];function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$3.apply(this,arguments)}function _typeof$3(o){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$3(o)}function _objectWithoutProperties$3(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$3(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$3(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var LastSenderName=function o(i){var s=i.name;return React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(cName,"__last-sender")},s),":")},InfoContent=function o(i){var s=i.info;return React.createElement("div",{className:"".concat(cName,"__info-content")},s)},ConversationContent=function o(i){var s=i.lastSenderName,a=i.info,$=i.name,j=i.children,et=i.className,rt=_objectWithoutProperties$3(i,_excluded$3),st=_typeof$3(s);return React.createElement("div",_extends$3({},rt,{className:classNames("".concat(cName,"__content"),et)}),React.Children.count(j)>0?j:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(cName,"__name")},$),React.createElement("div",{className:"".concat(cName,"__info")},st!=="undefined"?React.createElement(React.Fragment,null,st==="string"?React.createElement(LastSenderName,{name:s}):s," "):null,typeof a<"u"&&React.createElement(InfoContent,{info:a}))))};ConversationContent.displayName="Conversation.Content";function _typeof$2(o){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$2(o)}var _excluded$2=["responsive","children","className"];function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$2.apply(this,arguments)}function _defineProperty$2(o,i,s){return i=_toPropertyKey$2(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$2(o){var i=_toPrimitive$2(o,"string");return _typeof$2(i)=="symbol"?i:String(i)}function _toPrimitive$2(o,i){if(_typeof$2(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$2(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties$2(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$2(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$2(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var MainContainer=function o(i){var s=i.responsive,a=s===void 0?!1:s,$=i.children,j=$===void 0?void 0:$,et=i.className,rt=_objectWithoutProperties$2(i,_excluded$2),st="".concat(prefix,"-main-container");return React.createElement("div",_extends$2({},rt,{className:classNames(st,_defineProperty$2({},"".concat(st,"--responsive"),a),et)}),j)};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var faSearch={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},faTimes={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]};function _typeof$1(o){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof$1(o)}var _excluded$1=["placeholder","value","onChange","onClearClick","className","disabled"];function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$1.apply(this,arguments)}function _defineProperty$1(o,i,s){return i=_toPropertyKey$1(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey$1(o){var i=_toPrimitive$1(o,"string");return _typeof$1(i)=="symbol"?i:String(i)}function _toPrimitive$1(o,i){if(_typeof$1(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof$1(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _slicedToArray(o,i){return _arrayWithHoles(o)||_iterableToArrayLimit(o,i)||_unsupportedIterableToArray(o,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(o,i)}}function _arrayLikeToArray(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _iterableToArrayLimit(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,$,j,et,rt=[],st=!0,it=!1;try{if(j=(s=s.call(o)).next,i!==0)for(;!(st=(a=j.call(s)).done)&&(rt.push(a.value),rt.length!==i);st=!0);}catch(ot){it=!0,$=ot}finally{try{if(!st&&s.return!=null&&(et=s.return(),Object(et)!==et))return}finally{if(it)throw $}}return rt}}function _arrayWithHoles(o){if(Array.isArray(o))return o}function _objectWithoutProperties$1(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$1(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose$1(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}var useControlledOrNot=function o(i,s){return typeof s>"u"?reactExports.useState(i):[s,function(){}]};function SearchInner(o,i){var s=o.placeholder,a=s===void 0?"":s,$=o.value,j=$===void 0?void 0:$,et=o.onChange,rt=et===void 0?function(){}:et,st=o.onClearClick,it=st===void 0?function(){}:st,ot=o.className,tt=o.disabled,_e=tt===void 0?!1:tt,nt=_objectWithoutProperties$1(o,_excluded$1),at="".concat(prefix,"-search"),lt=reactExports.useMemo(function(){return typeof j<"u"},[]),ut=useControlledOrNot("",j),ct=_slicedToArray(ut,2),dt=ct[0],ft=ct[1],ht=reactExports.useState(lt?dt.length>0:!1),gt=_slicedToArray(ht,2),yt=gt[0],bt=gt[1];if(lt!==typeof j<"u")throw"Search: Changing from controlled to uncontrolled component and vice versa is not allowed";var vt=reactExports.useRef(void 0),mt=function(){typeof vt.current<"u"&&vt.current.focus()};reactExports.useImperativeHandle(i,function(){return{focus:mt}});var xt=function(kt){var It=kt.target.value;bt(It.length>0),lt===!1&&ft(It),rt(It)},wt=function(){lt===!1&&ft(""),bt(!1),it()};return React.createElement("div",_extends$1({},nt,{className:classNames(at,_defineProperty$1({},"".concat(at,"--disabled"),_e),ot)}),React.createElement(FontAwesomeIcon,{icon:faSearch,className:"".concat(at,"__search-icon")}),React.createElement("input",{ref:vt,type:"text",className:"".concat(at,"__input"),placeholder:a,onChange:xt,disabled:_e,value:dt}),React.createElement(FontAwesomeIcon,{icon:faTimes,className:classNames("".concat(at,"__clear-icon"),_defineProperty$1({},"".concat(at,"__clear-icon--active"),yt)),onClick:wt}))}var Search=reactExports.forwardRef(SearchInner);Search.displayName="Search";Search.propTypes={placeholder:PropTypes.string,value:PropTypes.string,onChange:PropTypes.func,onClearClick:PropTypes.func,className:PropTypes.string,disabled:PropTypes.bool};function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(o)}var _excluded=["className","children","size","selected","onChange","itemsTabIndex"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends.apply(this,arguments)}function _defineProperty(o,i,s){return i=_toPropertyKey(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _toPropertyKey(o){var i=_toPrimitive(o,"string");return _typeof(i)=="symbol"?i:String(i)}function _toPrimitive(o,i){if(_typeof(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i);if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _objectWithoutProperties(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose(o,i),a,$;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(o);for($=0;$<j.length;$++)a=j[$],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _objectWithoutPropertiesLoose(o,i){if(o==null)return{};var s={},a=Object.keys(o),$,j;for(j=0;j<a.length;j++)$=a[j],!(i.indexOf($)>=0)&&(s[$]=o[$]);return s}function StatusListInner(o,i){var s=o.className,a=o.children,$=o.size,j=o.selected,et=o.onChange,rt=et===void 0?noop$1:et,st=o.itemsTabIndex,it=_objectWithoutProperties(o,_excluded),ot="".concat(prefix,"-status-list"),tt=reactExports.useRef();reactExports.useImperativeHandle(i,function(){return{focus:function(at){var lt=Array.from(tt.current.querySelectorAll("li")),ut=lt.filter(function(ct){return ct.parentNode===tt.current});typeof ut[at]<"u"&&ut[at].focus()}}});var _e=st;return React.createElement("ul",_extends({ref:tt},it,{className:classNames(ot,s,_defineProperty({},"".concat(ot,"--").concat($),$))}),React.Children.map(a,function(nt){var at={};j&&(at.selected=nt.props.status===j),rt&&(at.onClick=function(ct){rt(nt.props.status),nt.onClick&&nt.onClick(ct)});var lt=function(dt){rt&&dt.key==="Enter"&&dt.shiftKey===!1&&dt.altKey===!1&&rt(nt.props.status)},ut=function(){if(typeof _e=="number")return _e>0?_e++:_e}();return React.createElement("li",{tabIndex:ut,onKeyPress:lt},React.cloneElement(nt,at))}))}var StatusList=reactExports.forwardRef(StatusListInner);StatusList.displayName="StatusList";StatusList.propTypes={children:allowedChildren([Status]),selected:PropTypes.oneOf(StatusEnum),size:PropTypes.oneOf(SizeEnum),itemsTabIndex:PropTypes.number,className:PropTypes.string,onChange:PropTypes.func};function ChatHistoryPanel(){const{t:o}=useTranslation(),{messages:i}=useChatHistory(),{confName:s}=useConfig(),{baseUrl:a}=useWebSocket(),$="Me",j=reactExports.useRef(null),et=/!\[([^\]]*)\]\(([^)]+)\)/g,rt=it=>{const ot=[];let tt=0,_e,nt=!1;for(et.lastIndex=0;(_e=et.exec(it))!==null;){if(_e.index>tt){const ut=it.slice(tt,_e.index);ut&&ot.push(jsxRuntimeExports.jsx(Text,{whiteSpace:"pre-wrap",wordBreak:"break-word",children:ut},`text-${tt}`))}const at=_e[1]||"image",lt=_e[2].trim();lt&&(nt=!0,ot.push(jsxRuntimeExports.jsx(Box,{maxW:"100%",children:jsxRuntimeExports.jsx("img",{src:lt,alt:at,loading:"lazy",style:{maxWidth:"100%",height:"auto",borderRadius:"6px",display:"block"}})},`img-${_e.index}`))),tt=et.lastIndex}if(tt<it.length){const at=it.slice(tt);at&&ot.push(jsxRuntimeExports.jsx(Text,{whiteSpace:"pre-wrap",wordBreak:"break-word",children:at},`text-${tt}`))}return{nodes:ot,hasImages:nt}},st=i.filter(it=>it.content||it.type==="tool_call_status"&&it.status==="running"||it.type==="tool_call_status"&&it.status==="completed"||it.type==="tool_call_status"&&it.status==="error");return reactExports.useEffect(()=>{var it,ot;(ot=(it=j.current)==null?void 0:it.scrollToBottom)==null||ot.call(it)},[st.length]),jsxRuntimeExports.jsxs(Box,{h:"full",overflow:"hidden",bg:"var(--app-panel-strong)",children:[jsxRuntimeExports.jsx(Global,{styles:chatPanelStyles}),jsxRuntimeExports.jsx(MainContainer,{children:jsxRuntimeExports.jsx(ChatContainer,{children:jsxRuntimeExports.jsx(MessageList,{ref:j,children:st.length===0?jsxRuntimeExports.jsx(Box,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--app-text-muted)",fontSize:"sm",children:o("sidebar.noMessages")}):st.map(it=>{if(it.type==="tool_call_status"){const _e=it.content||"",nt=_e?rt(_e).nodes:[];return jsxRuntimeExports.jsxs(Flex,{direction:"column",gap:2,...sidebarStyles.toolCallIndicator.container,children:[jsxRuntimeExports.jsxs(Flex,{alignItems:"center",children:[jsxRuntimeExports.jsx(Icon,{as:FaTools,...sidebarStyles.toolCallIndicator.icon}),jsxRuntimeExports.jsx(Text,{...sidebarStyles.toolCallIndicator.text,children:it.status==="running"?`${it.name} is using tool ${it.tool_name}`:`${it.name} used tool ${it.tool_name}`}),it.status==="running"&&jsxRuntimeExports.jsx(Spinner,{size:"xs",color:sidebarStyles.toolCallIndicator.spinner.color,ml:sidebarStyles.toolCallIndicator.spinner.ml}),it.status==="completed"&&jsxRuntimeExports.jsx(Icon,{as:FaCheck,...sidebarStyles.toolCallIndicator.completedIcon}),it.status==="error"&&jsxRuntimeExports.jsx(Icon,{as:FaTimes,...sidebarStyles.toolCallIndicator.errorIcon})]}),nt.length>0&&jsxRuntimeExports.jsx(Box,{bg:"var(--app-panel-weak)",border:"1px solid var(--app-border)",borderRadius:"md",px:3,py:2,children:jsxRuntimeExports.jsx(Box,{display:"flex",flexDirection:"column",gap:"8px",children:nt})})]},it.id)}const{nodes:ot,hasImages:tt}=rt(it.content);return jsxRuntimeExports.jsxs(Message,{model:{message:it.content,sentTime:it.timestamp,sender:it.role==="ai"?it.name||s||"AI":$,direction:it.role==="ai"?"incoming":"outgoing",position:"single",type:tt?"custom":"text"},avatarPosition:it.role==="ai"?"tl":"tr",avatarSpacer:!1,children:[tt&&jsxRuntimeExports.jsx(Message.CustomContent,{children:jsxRuntimeExports.jsx(Box,{display:"flex",flexDirection:"column",gap:"8px",children:ot})}),jsxRuntimeExports.jsx(Avatar,{children:it.role==="ai"?it.avatar?jsxRuntimeExports.jsx("img",{src:`${a}/avatars/${it.avatar}`,alt:"avatar",style:{width:"100%",height:"100%",borderRadius:"50%"},onError:_e=>{const nt=_e.target,at=it.name||s||"A";nt.outerHTML=`<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; border-radius: 50%; background-color: var(--chakra-colors-blue-500); color: white; font-size: 14px;">${at[0].toUpperCase()}</div>`}}):it.name&&it.name[0].toUpperCase()||s&&s[0].toUpperCase()||"A":$[0].toUpperCase()})]},it.id)})})})})]})}const useCameraPanel=()=>{const o=reactExports.useRef(null),[i,s]=reactExports.useState(""),[a,$]=reactExports.useState(!1),{isStreaming:j,stream:et,startCamera:rt,stopCamera:st}=useCamera();return{videoRef:o,error:i,isHovering:a,isStreaming:j,stream:et,toggleCamera:async()=>{try{j?st():await rt(),s("")}catch(_e){let nt="Unable to access camera";_e instanceof Error&&(nt=_e.message),s(nt)}},handleMouseEnter:()=>$(!0),handleMouseLeave:()=>$(!1)}};function LiveIndicator(){const{t:o}=useTranslation();return jsxRuntimeExports.jsxs(Box,{color:"red.500",display:"flex",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Box,{w:"8px",h:"8px",borderRadius:"full",bg:"red.500",animation:"pulse 2s infinite"}),jsxRuntimeExports.jsx(Text,{fontSize:"sm",children:o("sidebar.live")})]})}function CameraPlaceholder(){const{t:o}=useTranslation();return jsxRuntimeExports.jsxs(Box,{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(FiCamera,{size:24}),jsxRuntimeExports.jsx(Text,{color:"var(--app-text-muted)",fontSize:"sm",textAlign:"center",children:o("footer.cameraControl")})]})}function VideoStream$1({videoRef:o,isStreaming:i}){return jsxRuntimeExports.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,style:sidebarStyles.cameraPanel.video,...i?{}:{display:"none"}})}function CameraPanel(){const{t:o}=useTranslation(),{videoRef:i,error:s,isHovering:a,isStreaming:$,stream:j,toggleCamera:et,handleMouseEnter:rt,handleMouseLeave:st}=useCameraPanel();return reactExports.useEffect(()=>{i.current&&(i.current.srcObject=j)},[j]),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.cameraPanel.container,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.cameraPanel.header,children:$&&jsxRuntimeExports.jsx(LiveIndicator,{})}),jsxRuntimeExports.jsx(Tooltip,{showArrow:!0,content:o($?"footer.cameraStopping":"footer.cameraControl"),open:a&&!s,children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.cameraPanel.videoContainer,onClick:et,onMouseEnter:rt,onMouseLeave:st,cursor:"pointer",position:"relative",_hover:{bg:"rgba(255, 255, 255, 0.12)"},children:s?jsxRuntimeExports.jsx(Text,{color:"red.300",fontSize:"sm",textAlign:"center",children:s}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(VideoStream$1,{videoRef:i,isStreaming:$}),!$&&jsxRuntimeExports.jsx(CameraPlaceholder,{})]})})})]})}function useCaptureScreen(){const o=reactExports.useRef(null),[i,s]=reactExports.useState(!1),{stream:a,isStreaming:$,error:j,startCapture:et,stopCapture:rt}=useScreenCaptureContext(),st=()=>{$?rt():et()},it=()=>s(!0),ot=()=>s(!1);return reactExports.useEffect(()=>{o.current&&(o.current.srcObject=a)},[a]),{videoRef:o,error:j,isHovering:i,isStreaming:$,stream:a,toggleCapture:st,handleMouseEnter:it,handleMouseLeave:ot}}function ScreenIndicator(){const{t:o}=useTranslation();return jsxRuntimeExports.jsxs(Box,{color:"red.500",display:"flex",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(Box,{w:"8px",h:"8px",borderRadius:"full",bg:"red.500",animation:"pulse 2s infinite"}),jsxRuntimeExports.jsx(Text,{fontSize:"sm",children:o("sidebar.screen")})]})}function ScreenPlaceholder(){const{t:o}=useTranslation();return jsxRuntimeExports.jsxs(Box,{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(FiMonitor,{size:24}),jsxRuntimeExports.jsx(Text,{color:"var(--app-text-muted)",fontSize:"sm",textAlign:"center",children:o("footer.screenControl")})]})}function VideoStream({videoRef:o,isStreaming:i}){return jsxRuntimeExports.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,style:sidebarStyles.screenPanel.video,...i?{}:{display:"none"}})}function ScreenPanel(){const{t:o}=useTranslation(),{videoRef:i,error:s,isHovering:a,isStreaming:$,toggleCapture:j,handleMouseEnter:et,handleMouseLeave:rt}=useCaptureScreen();return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.screenPanel.container,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.screenPanel.header,children:$&&jsxRuntimeExports.jsx(ScreenIndicator,{})}),jsxRuntimeExports.jsx(Tooltip,{showArrow:!0,content:o($?"footer.screenStopping":"footer.screenControl"),open:a&&!s,children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.screenPanel.screenContainer,onClick:j,onMouseEnter:et,onMouseLeave:rt,cursor:"pointer",position:"relative",_hover:{bg:"rgba(255, 255, 255, 0.12)"},children:s?jsxRuntimeExports.jsx(Text,{color:"red.300",fontSize:"sm",textAlign:"center",children:s}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(VideoStream,{videoRef:i,isStreaming:$}),!$&&jsxRuntimeExports.jsx(ScreenPlaceholder,{})]})})})]})}const BrowserContext=reactExports.createContext({browserViewData:null,setBrowserViewData:()=>{},clearBrowserViewData:()=>{}});function BrowserProvider({children:o}){const[i,s]=reactExports.useState(null),a=reactExports.useCallback(j=>{s(j)},[]),$=reactExports.useCallback(()=>{s(null)},[]);return jsxRuntimeExports.jsx(BrowserContext.Provider,{value:{browserViewData:i,setBrowserViewData:a,clearBrowserViewData:$},children:o})}function useBrowser(){const o=reactExports.useContext(BrowserContext);if(!o)throw new Error("useBrowser must be used within a BrowserProvider");return o}function BrowserPlaceholder(){const{t:o}=useTranslation();return jsxRuntimeExports.jsxs(Box,{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",gap:2,children:[jsxRuntimeExports.jsx(FiGlobe,{size:24}),jsxRuntimeExports.jsx(Text,{color:"var(--app-text-muted)",fontSize:"sm",textAlign:"center",children:o("sidebar.noBrowserSession")})]})}function BrowserPanel(){const{t:o}=useTranslation(),{browserViewData:i}=useBrowser(),[s,a]=reactExports.useState(!1),$=()=>a(!0),j=()=>a(!1);return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.browserPanel.container,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.browserPanel.header,children:i&&jsxRuntimeExports.jsx(Text,{fontSize:"sm",color:"var(--app-accent-3)",children:o("sidebar.browserSession")})}),jsxRuntimeExports.jsx(Tooltip,{showArrow:!0,content:i?"Interactive browser view":o("sidebar.noBrowserSession"),open:s,children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.browserPanel.browserContainer,onMouseEnter:$,onMouseLeave:j,position:"relative",children:i?jsxRuntimeExports.jsx("iframe",{src:i.debuggerFullscreenUrl,style:sidebarStyles.browserPanel.iframe,sandbox:"allow-same-origin allow-scripts",allow:"clipboard-read; clipboard-write"}):jsxRuntimeExports.jsx(BrowserPlaceholder,{})})})]})}function BottomTab(){const{t:o}=useTranslation();return jsxRuntimeExports.jsxs(TabsRoot,{defaultValue:"camera",variant:"plain",...sidebarStyles.bottomTab.container,children:[jsxRuntimeExports.jsxs(TabsList,{...sidebarStyles.bottomTab.list,children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"camera",...sidebarStyles.bottomTab.trigger,children:[jsxRuntimeExports.jsx(FiCamera,{}),o("sidebar.camera")]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"screen",...sidebarStyles.bottomTab.trigger,children:[jsxRuntimeExports.jsx(FiMonitor,{}),o("sidebar.screen")]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"browser",...sidebarStyles.bottomTab.trigger,children:[jsxRuntimeExports.jsx(FiGlobe,{}),o("sidebar.browser")]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"camera",children:jsxRuntimeExports.jsx(CameraPanel,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"screen",children:jsxRuntimeExports.jsx(ScreenPanel,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"browser",children:jsxRuntimeExports.jsx(BrowserPanel,{})})]})}const minutesInMonth=43200,minutesInDay=1440,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(o,i){return typeof o=="function"?o(i):o&&typeof o=="object"&&constructFromSymbol in o?o[constructFromSymbol](i):o instanceof Date?new o.constructor(i):new Date(i)}function toDate(o,i){return constructFrom(o,o)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function getTimezoneOffsetInMilliseconds(o){const i=toDate(o),s=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return s.setUTCFullYear(i.getFullYear()),+o-+s}function normalizeDates(o,...i){const s=constructFrom.bind(null,o||i.find(a=>typeof a=="object"));return i.map(s)}function compareAsc(o,i){const s=+toDate(o)-+toDate(i);return s<0?-1:s>0?1:s}function constructNow(o){return constructFrom(o,Date.now())}function differenceInCalendarMonths(o,i,s){const[a,$]=normalizeDates(s==null?void 0:s.in,o,i),j=a.getFullYear()-$.getFullYear(),et=a.getMonth()-$.getMonth();return j*12+et}function getRoundingMethod(o){return i=>{const a=(o?Math[o]:Math.trunc)(i);return a===0?0:a}}function differenceInMilliseconds(o,i){return+toDate(o)-+toDate(i)}function endOfDay(o,i){const s=toDate(o);return s.setHours(23,59,59,999),s}function endOfMonth(o,i){const s=toDate(o),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}function isLastDayOfMonth(o,i){const s=toDate(o);return+endOfDay(s)==+endOfMonth(s)}function differenceInMonths(o,i,s){const[a,$,j]=normalizeDates(s==null?void 0:s.in,o,o,i),et=compareAsc($,j),rt=Math.abs(differenceInCalendarMonths($,j));if(rt<1)return 0;$.getMonth()===1&&$.getDate()>27&&$.setDate(30),$.setMonth($.getMonth()-et*rt);let st=compareAsc($,j)===-et;isLastDayOfMonth(a)&&rt===1&&compareAsc(a,j)===1&&(st=!1);const it=et*(rt-+st);return it===0?0:it}function differenceInSeconds(o,i,s){const a=differenceInMilliseconds(o,i)/1e3;return getRoundingMethod(s==null?void 0:s.roundingMethod)(a)}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(o,i,s)=>{let a;const $=formatDistanceLocale[o];return typeof $=="string"?a=$:i===1?a=$.one:a=$.other.replace("{{count}}",i.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function buildFormatLongFn(o){return(i={})=>{const s=i.width?String(i.width):o.defaultWidth;return o.formats[s]||o.formats[o.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(o,i,s,a)=>formatRelativeLocale[o];function buildLocalizeFn(o){return(i,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let $;if(a==="formatting"&&o.formattingValues){const et=o.defaultFormattingWidth||o.defaultWidth,rt=s!=null&&s.width?String(s.width):et;$=o.formattingValues[rt]||o.formattingValues[et]}else{const et=o.defaultWidth,rt=s!=null&&s.width?String(s.width):o.defaultWidth;$=o.values[rt]||o.values[et]}const j=o.argumentCallback?o.argumentCallback(i):i;return $[j]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(o,i)=>{const s=Number(o),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:o=>o-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(o){return(i,s={})=>{const a=s.width,$=a&&o.matchPatterns[a]||o.matchPatterns[o.defaultMatchWidth],j=i.match($);if(!j)return null;const et=j[0],rt=a&&o.parsePatterns[a]||o.parsePatterns[o.defaultParseWidth],st=Array.isArray(rt)?findIndex(rt,tt=>tt.test(et)):findKey(rt,tt=>tt.test(et));let it;it=o.valueCallback?o.valueCallback(st):st,it=s.valueCallback?s.valueCallback(it):it;const ot=i.slice(et.length);return{value:it,rest:ot}}}function findKey(o,i){for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&i(o[s]))return s}function findIndex(o,i){for(let s=0;s<o.length;s++)if(i(o[s]))return s}function buildMatchPatternFn(o){return(i,s={})=>{const a=i.match(o.matchPattern);if(!a)return null;const $=a[0],j=i.match(o.parsePattern);if(!j)return null;let et=o.valueCallback?o.valueCallback(j[0]):j[0];et=s.valueCallback?s.valueCallback(et):et;const rt=i.slice($.length);return{value:et,rest:rt}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:o=>parseInt(o,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:o=>o+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function formatDistance(o,i,s){const a=getDefaultOptions(),$=(s==null?void 0:s.locale)??a.locale??enUS,j=2520,et=compareAsc(o,i);if(isNaN(et))throw new RangeError("Invalid time value");const rt=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:et}),[st,it]=normalizeDates(s==null?void 0:s.in,...et>0?[i,o]:[o,i]),ot=differenceInSeconds(it,st),tt=(getTimezoneOffsetInMilliseconds(it)-getTimezoneOffsetInMilliseconds(st))/1e3,_e=Math.round((ot-tt)/60);let nt;if(_e<2)return s!=null&&s.includeSeconds?ot<5?$.formatDistance("lessThanXSeconds",5,rt):ot<10?$.formatDistance("lessThanXSeconds",10,rt):ot<20?$.formatDistance("lessThanXSeconds",20,rt):ot<40?$.formatDistance("halfAMinute",0,rt):ot<60?$.formatDistance("lessThanXMinutes",1,rt):$.formatDistance("xMinutes",1,rt):_e===0?$.formatDistance("lessThanXMinutes",1,rt):$.formatDistance("xMinutes",_e,rt);if(_e<45)return $.formatDistance("xMinutes",_e,rt);if(_e<90)return $.formatDistance("aboutXHours",1,rt);if(_e<minutesInDay){const at=Math.round(_e/60);return $.formatDistance("aboutXHours",at,rt)}else{if(_e<j)return $.formatDistance("xDays",1,rt);if(_e<minutesInMonth){const at=Math.round(_e/minutesInDay);return $.formatDistance("xDays",at,rt)}else if(_e<minutesInMonth*2)return nt=Math.round(_e/minutesInMonth),$.formatDistance("aboutXMonths",nt,rt)}if(nt=differenceInMonths(it,st),nt<12){const at=Math.round(_e/minutesInMonth);return $.formatDistance("xMonths",at,rt)}else{const at=nt%12,lt=Math.trunc(nt/12);return at<3?$.formatDistance("aboutXYears",lt,rt):at<9?$.formatDistance("overXYears",lt,rt):$.formatDistance("almostXYears",lt+1,rt)}}function formatDistanceToNow(o,i){return formatDistance(o,constructNow(o),i)}const DrawerContent=reactExports.forwardRef((o,i)=>{const{children:s,portalled:a=!0,portalRef:$,offset:j,...et}=o;return jsxRuntimeExports.jsx(Portal,{disabled:!a,container:$,children:jsxRuntimeExports.jsx(DrawerPositioner,{padding:j,children:jsxRuntimeExports.jsx(DrawerContent$1,{ref:i,...et,asChild:!1,children:s})})})}),DrawerCloseTrigger=reactExports.forwardRef((o,i)=>jsxRuntimeExports.jsx(DrawerCloseTrigger$1,{position:"absolute",top:"2",insetEnd:"2",...o,asChild:!0,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm",ref:i})})),DrawerTrigger=DrawerTrigger$1,DrawerRoot=DrawerRoot$1,DrawerFooter=DrawerFooter$1,DrawerHeader=DrawerHeader$1,DrawerBody=DrawerBody$1,DrawerBackdrop=DrawerBackdrop$1,DrawerTitle=DrawerTitle$1,DrawerActionTrigger=DrawerActionTrigger$1,useHistoryDrawer=()=>{const{t:o}=useTranslation(),[i,s]=reactExports.useState(!1),{historyList:a,currentHistoryUid:$,setCurrentHistoryUid:j,setHistoryList:et,messages:rt,updateHistoryList:st}=useChatHistory(),{sendMessage:it}=useWebSocket();return{open:i,setOpen:s,historyList:a,currentHistoryUid:$,fetchAndSetHistory:nt=>{if(!(!nt||nt===$)){if($&&rt.length>0){const at=rt[rt.length-1];st($,at)}j(nt),it({type:"fetch-and-set-history",history_uid:nt})}},deleteHistory:nt=>{if(nt===$){toaster.create({title:o("error.cannotDeleteCurrentHistory"),type:"warning",duration:2e3});return}it({type:"delete-history",history_uid:nt}),et(a.filter(at=>at.uid!==nt))},getLatestMessageContent:nt=>{var at;if(nt.uid===$&&rt.length>0){const lt=rt[rt.length-1];return{content:lt.content,timestamp:lt.timestamp}}return{content:((at=nt.latest_message)==null?void 0:at.content)||"",timestamp:nt.timestamp}}}},HistoryItem=reactExports.memo(({isSelected:o,latestMessage:i,onSelect:s,onDelete:a,isDeleteDisabled:$})=>{const{t:j}=useTranslation();return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.historyDrawer.historyItem,...o?sidebarStyles.historyDrawer.historyItemSelected:{},onClick:s,children:[jsxRuntimeExports.jsxs(Box,{...sidebarStyles.historyDrawer.historyHeader,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.timestamp,children:i.timestamp?formatDistanceToNow(new Date(i.timestamp),{addSuffix:!0}):j("history.noMessages")}),jsxRuntimeExports.jsx(Button$2,{onClick:a,disabled:$,...sidebarStyles.historyDrawer.deleteButton,children:jsxRuntimeExports.jsx(FiTrash2,{})})]}),i.content&&jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.messagePreview,children:i.content})]})});HistoryItem.displayName="HistoryItem";function HistoryDrawer({children:o}){const{t:i}=useTranslation(),{open:s,setOpen:a,historyList:$,currentHistoryUid:j,fetchAndSetHistory:et,deleteHistory:rt,getLatestMessageContent:st}=useHistoryDrawer();return jsxRuntimeExports.jsxs(DrawerRoot,{open:s,onOpenChange:it=>a(it.open),placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop,{}),jsxRuntimeExports.jsx(DrawerTrigger,{asChild:!0,children:o}),jsxRuntimeExports.jsxs(DrawerContent,{style:sidebarStyles.historyDrawer.drawer.content,children:[jsxRuntimeExports.jsxs(DrawerHeader,{children:[jsxRuntimeExports.jsx(DrawerTitle,{style:sidebarStyles.historyDrawer.drawer.title,children:i("history.chatHistoryList")}),jsxRuntimeExports.jsx(DrawerCloseTrigger,{style:sidebarStyles.historyDrawer.drawer.closeButton})]}),jsxRuntimeExports.jsx(DrawerBody,{children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.listContainer,children:$.map(it=>jsxRuntimeExports.jsx(HistoryItem,{isSelected:j===it.uid,latestMessage:st(it),onSelect:()=>et(it.uid),onDelete:ot=>{ot.stopPropagation(),rt(it.uid)},isDeleteDisabled:j===it.uid},it.uid))})}),jsxRuntimeExports.jsx(DrawerFooter,{children:jsxRuntimeExports.jsx(DrawerActionTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$2,{...sidebarStyles.historyDrawer.drawer.actionButton,children:i("common.close")})})})]})]})}const useSidebar=()=>{const o=useDisclosure(),{sendMessage:i}=useWebSocket(),{interrupt:s}=useInterrupt(),{currentHistoryUid:a,messages:$,updateHistoryList:j}=useChatHistory(),{setMode:et,mode:rt,isElectron:st}=useMode(),it=()=>{if(a&&$.length>0){const ot=$[$.length-1];j(a,ot)}s(),i({type:"create-new-history"})};return{settingsOpen:o.open,onSettingsOpen:o.onOpen,onSettingsClose:o.onClose,createNewHistory:it,setMode:et,currentMode:rt,isElectron:st}},ClipboardIcon=reactExports.forwardRef(function o(i,s){return jsxRuntimeExports.jsx(ClipboardIndicator,{copied:jsxRuntimeExports.jsx(LuCheck,{}),...i,ref:s,children:jsxRuntimeExports.jsx(LuClipboard,{})})}),ClipboardCopyText=reactExports.forwardRef(function o(i,s){return jsxRuntimeExports.jsx(ClipboardIndicator,{copied:"Copied",...i,ref:s,children:"Copy"})});reactExports.forwardRef(function o(i,s){return jsxRuntimeExports.jsx(ClipboardLabel,{textStyle:"sm",fontWeight:"medium",display:"inline-block",mb:"1",...i,ref:s})});const ClipboardButton=reactExports.forwardRef(function o(i,s){return jsxRuntimeExports.jsx(ClipboardTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$2,{ref:s,size:"sm",variant:"surface",...i,children:[jsxRuntimeExports.jsx(ClipboardIcon,{}),jsxRuntimeExports.jsx(ClipboardCopyText,{})]})})});reactExports.forwardRef(function o(i,s){return jsxRuntimeExports.jsx(ClipboardTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$2,{unstyled:!0,variant:"plain",size:"xs",display:"inline-flex",alignItems:"center",gap:"2",ref:s,...i,children:[jsxRuntimeExports.jsx(LuLink,{}),jsxRuntimeExports.jsx(ClipboardCopyText,{})]})})});reactExports.forwardRef(function o(i,s){return jsxRuntimeExports.jsx(ClipboardTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(IconButton,{ref:s,size:"xs",variant:"subtle",...i,children:[jsxRuntimeExports.jsx(ClipboardIcon,{}),jsxRuntimeExports.jsx(ClipboardCopyText,{srOnly:!0})]})})});reactExports.forwardRef(function o(i,s){return jsxRuntimeExports.jsx(ClipboardInput,{asChild:!0,children:jsxRuntimeExports.jsx(Input$1,{ref:s,...i})})});const ClipboardRoot=ClipboardRoot$1,useGroupDrawer=()=>{const{t:o}=useTranslation(),[i,s]=reactExports.useState(!1),[a,$]=reactExports.useState(""),{sendMessage:j}=useWebSocket(),et=reactExports.useCallback(()=>{j({type:"request-group-info"})},[j]),rt=reactExports.useCallback(async()=>{if(!a.trim()){toaster.create({title:o("error.enterValidUuid"),type:"error",duration:2e3});return}j({type:"add-client-to-group",invitee_uid:a.trim()}),$(""),setTimeout(et,100)},[a,j,et,o]),st=reactExports.useCallback(ot=>{j({type:"remove-client-from-group",target_uid:ot}),setTimeout(et,100)},[j,et]),it=reactExports.useCallback(ot=>{j({type:"remove-client-from-group",target_uid:ot}),setTimeout(et,100)},[j,et]);return{isOpen:i,setIsOpen:s,inviteUid:a,setInviteUid:$,handleInvite:rt,handleRemove:st,handleLeaveGroup:it,requestGroupInfo:et}},GroupContext=reactExports.createContext(null);function GroupProvider({children:o}){const[i,s]=reactExports.useState(""),[a,$]=reactExports.useState([]),[j,et]=reactExports.useState(!1),rt=()=>{$([]),et(!1)},st=reactExports.useMemo(()=>a.includes(i)?[i,...a.filter(it=>it!==i)]:a,[a,i]);return jsxRuntimeExports.jsx(GroupContext.Provider,{value:{selfUid:i,groupMembers:a,isOwner:j,setSelfUid:s,setGroupMembers:$,setIsOwner:et,sortedGroupMembers:st,resetGroupState:rt},children:o})}function useGroup(){const o=reactExports.useContext(GroupContext);if(!o)throw new Error("useGroup must be used within a GroupProvider");return o}function GroupDrawer({children:o}){const{t:i}=useTranslation(),{selfUid:s,sortedGroupMembers:a,isOwner:$}=useGroup(),{isOpen:j,setIsOpen:et,inviteUid:rt,setInviteUid:st,handleInvite:it,handleRemove:ot,handleLeaveGroup:tt,requestGroupInfo:_e}=useGroupDrawer();return jsxRuntimeExports.jsxs(DrawerRoot,{open:j,onOpenChange:nt=>{et(nt.open),nt.open&&_e()},placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop,{}),jsxRuntimeExports.jsx(DrawerTrigger,{asChild:!0,children:o}),jsxRuntimeExports.jsxs(DrawerContent,{style:sidebarStyles.historyDrawer.drawer.content,children:[jsxRuntimeExports.jsxs(DrawerHeader,{children:[jsxRuntimeExports.jsx(DrawerTitle,{style:sidebarStyles.historyDrawer.drawer.title,children:i("group.management")}),jsxRuntimeExports.jsx(DrawerCloseTrigger,{style:sidebarStyles.historyDrawer.drawer.closeButton})]}),jsxRuntimeExports.jsx(DrawerBody,{children:jsxRuntimeExports.jsxs(Box,{...sidebarStyles.historyDrawer.listContainer,children:[jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.section,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.sectionTitle,children:i("group.yourUuid")}),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.memberItem,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.memberText,children:s}),jsxRuntimeExports.jsx(ClipboardRoot,{value:s,children:jsxRuntimeExports.jsx(ClipboardButton,{...sidebarStyles.groupDrawer.clipboardButton,size:"sm"})})]})]}),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.section,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.sectionTitle,children:i("group.inviteMember")}),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.inviteBox,children:[jsxRuntimeExports.jsx(Input$1,{value:rt,onChange:nt=>st(nt.target.value),placeholder:i("group.enterMemberUuid"),...sidebarStyles.groupDrawer.input}),jsxRuntimeExports.jsx(Button$2,{onClick:it,...sidebarStyles.groupDrawer.button,children:i("group.invite")})]})]}),jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.section,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.sectionTitle,children:i("group.members")}),jsxRuntimeExports.jsx(Box,{...sidebarStyles.groupDrawer.memberList,children:a.map(nt=>jsxRuntimeExports.jsxs(Box,{...sidebarStyles.groupDrawer.memberItem,children:[jsxRuntimeExports.jsx(Text,{...sidebarStyles.groupDrawer.memberText,children:nt===s?`${nt} (${i("group.you")})`:nt}),($&&nt!==s||!$&&nt===s)&&jsxRuntimeExports.jsx(IconButton,{"aria-label":i(nt===s?"group.leaveGroup":"group.removeMember"),onClick:()=>nt===s?tt(s):ot(nt),...sidebarStyles.groupDrawer.removeButton,size:"sm",title:i(nt===s?"group.leaveGroup":"group.removeMember"),children:nt===s?i("group.leave"):jsxRuntimeExports.jsx(FiX,{})})]},nt))})]})]})}),jsxRuntimeExports.jsx(DrawerFooter,{children:jsxRuntimeExports.jsx(DrawerActionTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$2,{...sidebarStyles.historyDrawer.drawer.actionButton,children:i("common.close")})})})]})]})}var M=(o,i,s,a,$,j,et,rt)=>{let st=document.documentElement,it=["light","dark"];function ot(nt){(Array.isArray(o)?o:[o]).forEach(at=>{let lt=at==="class",ut=lt&&j?$.map(ct=>j[ct]||ct):$;lt?(st.classList.remove(...ut),st.classList.add(j&&j[nt]?j[nt]:nt)):st.setAttribute(at,nt)}),tt(nt)}function tt(nt){rt&&it.includes(nt)&&(st.style.colorScheme=nt)}function _e(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)ot(a);else try{let nt=localStorage.getItem(i)||s,at=et&&nt==="system"?_e():nt;ot(at)}catch{}},b=["light","dark"],I="(prefers-color-scheme: dark)",O=typeof window>"u",x=reactExports.createContext(void 0),U={setTheme:o=>{},themes:[]},z=()=>{var o;return(o=reactExports.useContext(x))!=null?o:U},J=o=>reactExports.useContext(x)?reactExports.createElement(reactExports.Fragment,null,o.children):reactExports.createElement(V,{...o}),N=["light","dark"],V=({forcedTheme:o,disableTransitionOnChange:i=!1,enableSystem:s=!0,enableColorScheme:a=!0,storageKey:$="theme",themes:j=N,defaultTheme:et=s?"system":"light",attribute:rt="data-theme",value:st,children:it,nonce:ot,scriptProps:tt})=>{let[_e,nt]=reactExports.useState(()=>H($,et)),[at,lt]=reactExports.useState(()=>_e==="system"?E():_e),ut=st?Object.values(st):j,ct=reactExports.useCallback(gt=>{let yt=gt;if(!yt)return;gt==="system"&&s&&(yt=E());let bt=st?st[yt]:yt,vt=i?W(ot):null,mt=document.documentElement,xt=wt=>{wt==="class"?(mt.classList.remove(...ut),bt&&mt.classList.add(bt)):wt.startsWith("data-")&&(bt?mt.setAttribute(wt,bt):mt.removeAttribute(wt))};if(Array.isArray(rt)?rt.forEach(xt):xt(rt),a){let wt=b.includes(et)?et:null,Ct=b.includes(yt)?yt:wt;mt.style.colorScheme=Ct}vt==null||vt()},[ot]),dt=reactExports.useCallback(gt=>{let yt=typeof gt=="function"?gt(_e):gt;nt(yt);try{localStorage.setItem($,yt)}catch{}},[_e]),ft=reactExports.useCallback(gt=>{let yt=E(gt);lt(yt),_e==="system"&&s&&!o&&ct("system")},[_e,o]);reactExports.useEffect(()=>{let gt=window.matchMedia(I);return gt.addListener(ft),ft(gt),()=>gt.removeListener(ft)},[ft]),reactExports.useEffect(()=>{let gt=yt=>{yt.key===$&&(yt.newValue?nt(yt.newValue):dt(et))};return window.addEventListener("storage",gt),()=>window.removeEventListener("storage",gt)},[dt]),reactExports.useEffect(()=>{ct(o??_e)},[o,_e]);let ht=reactExports.useMemo(()=>({theme:_e,setTheme:dt,forcedTheme:o,resolvedTheme:_e==="system"?at:_e,themes:s?[...j,"system"]:j,systemTheme:s?at:void 0}),[_e,dt,o,at,s,j]);return reactExports.createElement(x.Provider,{value:ht},reactExports.createElement(_,{forcedTheme:o,storageKey:$,attribute:rt,enableSystem:s,enableColorScheme:a,defaultTheme:et,value:st,themes:j,nonce:ot,scriptProps:tt}),it)},_=reactExports.memo(({forcedTheme:o,storageKey:i,attribute:s,enableSystem:a,enableColorScheme:$,defaultTheme:j,value:et,themes:rt,nonce:st,scriptProps:it})=>{let ot=JSON.stringify([s,i,j,o,rt,et,a,$]).slice(1,-1);return reactExports.createElement("script",{...it,suppressHydrationWarning:!0,nonce:typeof window>"u"?st:"",dangerouslySetInnerHTML:{__html:`(${M.toString()})(${ot})`}})}),H=(o,i)=>{if(O)return;let s;try{s=localStorage.getItem(o)||void 0}catch{}return s||i},W=o=>{let i=document.createElement("style");return o&&i.setAttribute("nonce",o),i.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(i)},1)}},E=o=>(o||(o=window.matchMedia(I)),o.matches?"dark":"light");function ColorModeProvider(o){return jsxRuntimeExports.jsx(J,{attribute:"class",disableTransitionOnChange:!0,...o})}function useColorMode(){const{resolvedTheme:o,setTheme:i}=z();return{colorMode:o,setColorMode:i,toggleColorMode:()=>{i(o==="light"?"dark":"light")}}}function ColorModeIcon(){const{colorMode:o}=useColorMode();return o==="light"?jsxRuntimeExports.jsx(LuSun,{}):jsxRuntimeExports.jsx(LuMoon,{})}const ColorModeButton=reactExports.forwardRef((o,i)=>{const{toggleColorMode:s}=useColorMode();return jsxRuntimeExports.jsx(ClientOnly,{fallback:jsxRuntimeExports.jsx(Skeleton,{boxSize:"8"}),children:jsxRuntimeExports.jsx(IconButton,{onClick:s,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:i,...o,css:{_icon:{width:"5",height:"5"}},children:jsxRuntimeExports.jsx(ColorModeIcon,{})})})}),ToggleButton$1=reactExports.memo(({isCollapsed:o,onToggle:i})=>jsxRuntimeExports.jsx(Box,{...sidebarStyles.sidebar.toggleButton,style:{transform:o?"rotate(180deg)":"rotate(0deg)"},onClick:i,children:jsxRuntimeExports.jsx(FiChevronLeft,{})}));ToggleButton$1.displayName="ToggleButton";const ModeMenu=reactExports.memo(({setMode:o,currentMode:i,isElectron:s})=>jsxRuntimeExports.jsxs(MenuRoot,{children:[jsxRuntimeExports.jsx(MenuTrigger,{as:Button$2,"aria-label":"Mode menu",title:"Mode",...sidebarStyles.sidebar.headerButton,children:jsxRuntimeExports.jsx(FiLayers,{})}),jsxRuntimeExports.jsx(MenuPositioner,{children:jsxRuntimeExports.jsx(MenuContent,{children:jsxRuntimeExports.jsxs(MenuRadioItemGroup,{value:i,children:[jsxRuntimeExports.jsxs(MenuRadioItem,{value:"window",onClick:()=>o("window"),children:[jsxRuntimeExports.jsx(MenuItemIndicator,{}),"Live Mode"]}),jsxRuntimeExports.jsxs(MenuRadioItem,{value:"pet",onClick:()=>{s&&o("pet")},disabled:!s,title:s?void 0:"Pet mode is only available in desktop app",children:[jsxRuntimeExports.jsx(MenuItemIndicator,{}),"Pet Mode"]})]})})})]}));ModeMenu.displayName="ModeMenu";const HeaderButtons=reactExports.memo(({onSettingsOpen:o,onNewHistory:i,setMode:s,currentMode:a,isElectron:$,onToggleFullscreen:j})=>jsxRuntimeExports.jsxs(Box,{display:"flex",gap:1,children:[jsxRuntimeExports.jsx(Button$2,{onClick:o,"aria-label":"Settings",title:"Settings",...sidebarStyles.sidebar.headerButton,children:jsxRuntimeExports.jsx(FiSettings,{})}),jsxRuntimeExports.jsx(GroupDrawer,{children:jsxRuntimeExports.jsx(Button$2,{"aria-label":"Group",title:"Group",...sidebarStyles.sidebar.headerButton,children:jsxRuntimeExports.jsx(FiUsers,{})})}),jsxRuntimeExports.jsx(HistoryDrawer,{children:jsxRuntimeExports.jsx(Button$2,{"aria-label":"History",title:"History",...sidebarStyles.sidebar.headerButton,children:jsxRuntimeExports.jsx(FiClock,{})})}),jsxRuntimeExports.jsx(Button$2,{onClick:i,"aria-label":"New chat",title:"New chat",...sidebarStyles.sidebar.headerButton,children:jsxRuntimeExports.jsx(FiPlus,{})}),jsxRuntimeExports.jsx(ModeMenu,{setMode:s,currentMode:a,isElectron:$}),jsxRuntimeExports.jsx(ColorModeButton,{title:"Day/Night",...sidebarStyles.sidebar.headerButton}),jsxRuntimeExports.jsx(Button$2,{onClick:j,"aria-label":"Fullscreen canvas",title:"Fullscreen",...sidebarStyles.sidebar.headerButton,children:jsxRuntimeExports.jsx(FiMaximize,{})})]}));HeaderButtons.displayName="HeaderButtons";const SidebarContent=reactExports.memo(({onSettingsOpen:o,onNewHistory:i,setMode:s,currentMode:a,isElectron:$,onToggleFullscreen:j})=>jsxRuntimeExports.jsxs(Box,{...sidebarStyles.sidebar.content,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.sidebar.header,children:jsxRuntimeExports.jsx(HeaderButtons,{onSettingsOpen:o,onNewHistory:i,setMode:s,currentMode:a,isElectron:$,onToggleFullscreen:j})}),jsxRuntimeExports.jsx(ChatHistoryPanel,{}),jsxRuntimeExports.jsx(BottomTab,{})]}));SidebarContent.displayName="SidebarContent";function Sidebar({isCollapsed:o=!1,onToggle:i,onToggleFullscreen:s}){const{settingsOpen:a,onSettingsOpen:$,onSettingsClose:j,createNewHistory:et,setMode:rt,currentMode:st,isElectron:it}=useSidebar();return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.sidebar.container(o),children:[jsxRuntimeExports.jsx(ToggleButton$1,{isCollapsed:o,onToggle:i}),!o&&!a&&jsxRuntimeExports.jsx(SidebarContent,{onSettingsOpen:$,onNewHistory:et,setMode:rt,currentMode:st,isElectron:it,onToggleFullscreen:s}),!o&&a&&jsxRuntimeExports.jsx(SettingUI,{open:a,onClose:j,onToggle:i})]})}function BsMicFill(o){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z"},child:[]},{tag:"path",attr:{d:"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"},child:[]}]})(o)}function BsMicMuteFill(o){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4 4 0 0 0 12 8V7a.5.5 0 0 1 1 0zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a5 5 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4m3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3"},child:[]},{tag:"path",attr:{d:"M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607m-7.84-9.253 12 12 .708-.708-12-12z"},child:[]}]})(o)}function BsPaperclip(o){return GenIcon({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"},child:[]}]})(o)}function IoHandRightSharp(o){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M82.42 209.08c15.06-6.62 32.38 1.31 38.5 17.62L156 312h11.27V80c0-17.6 13.3-32 29.55-32 16.26 0 29.55 14.4 29.55 32v151.75l14.78.25V32c0-17.6 13.3-32 29.55-32 16.3 0 29.55 14.4 29.55 32v199.75L315 232V64c0-17.6 13.3-32 29.55-32 16.26 0 29.55 14.4 29.55 32v183.75l14.78.25V128c0-17.6 13.3-32 29.55-32C434.7 96 448 110.4 448 128v216c0 75.8-37.13 168-169 168-40.8 0-79.42-7-100.66-21a121.41 121.41 0 0 1-33.72-33.31 138 138 0 0 1-16-31.78L66.16 250.77c-6.11-16.31 1.2-35.06 16.26-41.69z"},child:[]}]})(o)}const InputGroup=reactExports.forwardRef((o,i)=>{const{startElement:s,startElementProps:a,endElement:$,endElementProps:j,children:et,startOffset:rt="6px",endOffset:st="6px",...it}=o,ot=reactExports.Children.only(et);return jsxRuntimeExports.jsxs(Group,{ref:i,...it,children:[s&&jsxRuntimeExports.jsx(InputElement,{pointerEvents:"none",...a,children:s}),reactExports.cloneElement(ot,{...s&&{ps:`calc(var(--input-height) - ${rt})`},...$&&{pe:`calc(var(--input-height) - ${st})`},...et.props}),$&&jsxRuntimeExports.jsx(InputElement,{placement:"end",...j,children:$})]})}),footerStyles={footer:{container:o=>({bg:o?"transparent":"var(--app-panel-strong)",borderTopRadius:o?"none":"lg",borderTop:o?"none":"1px solid",borderColor:o?"transparent":"var(--app-border)",transform:o?"translateY(calc(100% - 24px))":"translateY(0)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",height:"100%",position:"relative",overflow:o?"visible":"hidden",pb:"4",backdropFilter:"blur(12px) saturate(140%)",boxShadow:"var(--app-shadow)",animation:"appFadeUp 640ms ease-out"}),toggleButton:{height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--app-text-muted)",_hover:{color:"var(--app-text)"},bg:"transparent",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},actionButton:{borderRadius:"14px",width:"46px",height:"46px",minW:"46px",border:"1px solid",borderColor:"var(--app-border)",boxShadow:"0 10px 20px rgba(19, 19, 19, 0.12)",transition:"transform 0.2s ease, box-shadow 0.2s ease",_hover:{transform:"translateY(-1px)",boxShadow:"0 14px 26px rgba(19, 19, 19, 0.16)"}},input:{bg:"var(--app-panel-weak)",border:"1px solid",borderColor:"var(--app-border)",height:"72px",borderRadius:"14px",fontSize:"16px",pl:"12",pr:"4",color:"var(--app-text)",_placeholder:{color:"var(--app-text-muted)"},_focusVisible:{borderColor:"var(--app-accent)",boxShadow:"0 0 0 3px rgba(243, 106, 90, 0.16)",bg:"rgba(28, 29, 33, 0.04)"},resize:"none",minHeight:"72px",maxHeight:"72px",py:"3",display:"flex",alignItems:"center",lineHeight:"1.4"},attachButton:{position:"absolute",left:"2",top:"50%",transform:"translateY(-50%)",color:"var(--app-text-muted)",zIndex:2,_hover:{bg:"transparent",color:"var(--app-text)"}}},aiIndicator:{container:{background:"linear-gradient(135deg, var(--app-accent), #f2c389)",color:"#1a1b1e",width:"112px",height:"30px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 10px 18px rgba(19, 19, 19, 0.12)",overflow:"hidden"},text:{fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}};function AIStateIndicator(){const{t:o}=useTranslation(),{aiState:i}=useAiState(),s=footerStyles.aiIndicator;return jsxRuntimeExports.jsx(Box,{...s.container,children:jsxRuntimeExports.jsx(Text,{...s.text,children:o(`aiState.${i}`)})})}function useTextInput(){const[o,i]=reactExports.useState(""),[s,a]=reactExports.useState(!1),$=useWebSocket(),{aiState:j}=useAiState(),{interrupt:et}=useInterrupt(),{appendHumanMessage:rt}=useChatHistory(),{stopMic:st,autoStopMic:it}=useVAD(),{captureAllMedia:ot}=useMediaCapture(),tt=ut=>{i(ut.target.value)},_e=async()=>{if(!o.trim()||!$)return;j==="thinking-speaking"&&et();const ut=await ot();rt(o.trim()),$.sendMessage({type:"text-input",text:o.trim(),images:ut}),it&&st(),i("")};return{inputText:o,setInputText:tt,handleSend:_e,handleKeyPress:ut=>{s||ut.key==="Enter"&&!ut.shiftKey&&(ut.preventDefault(),_e())},handleCompositionStart:()=>a(!0),handleCompositionEnd:()=>a(!1)}}const useFooter=()=>{const{inputText:o,setInputText:i,handleKeyPress:s,handleCompositionStart:a,handleCompositionEnd:$}=useTextInput(),{interrupt:j}=useInterrupt(),{startMic:et,autoStartMicOn:rt}=useVAD(),{handleMicToggle:st,micOn:it}=useMicToggle(),{setAiState:ot,aiState:tt}=useAiState(),{sendTriggerSignal:_e}=useTriggerSpeak(),{settings:nt}=useProactiveSpeak();return{inputValue:o,handleInputChange:ct=>{i({target:{value:ct.target.value}}),ot(AiStateEnum.WAITING)},handleKeyPress:ct=>{s(ct)},handleCompositionStart:a,handleCompositionEnd:$,handleInterrupt:()=>{tt===AiStateEnum.THINKING_SPEAKING?(j(),rt&&et()):nt.allowButtonTrigger&&_e(-1)},handleMicToggle:st,micOn:it}},ToggleButton=reactExports.memo(({isCollapsed:o,onToggle:i})=>jsxRuntimeExports.jsx(Box,{...footerStyles.footer.toggleButton,onClick:i,color:"var(--app-text-muted)",style:{transform:o?"rotate(180deg)":"rotate(0deg)"},children:jsxRuntimeExports.jsx(FiChevronDown,{})}));ToggleButton.displayName="ToggleButton";const ActionButtons=reactExports.memo(({micOn:o,onMicToggle:i,onInterrupt:s})=>jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(IconButton,{bg:o?"green.500":"red.500",...footerStyles.footer.actionButton,onClick:i,"aria-label":o?"Mute microphone":"Enable microphone",title:o?"Mute microphone":"Enable microphone",children:o?jsxRuntimeExports.jsx(BsMicFill,{}):jsxRuntimeExports.jsx(BsMicMuteFill,{})}),jsxRuntimeExports.jsx(IconButton,{"aria-label":"Interrupt",title:"Interrupt",bg:"yellow.500",...footerStyles.footer.actionButton,onClick:s,children:jsxRuntimeExports.jsx(IoHandRightSharp,{size:"24"})})]}));ActionButtons.displayName="ActionButtons";const MessageInput=reactExports.memo(({value:o,onChange:i,onKeyDown:s,onCompositionStart:a,onCompositionEnd:$})=>{const{t:j}=useTranslation();return jsxRuntimeExports.jsx(InputGroup,{flex:1,children:jsxRuntimeExports.jsxs(Box,{position:"relative",width:"100%",children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Attach file",variant:"ghost",title:"Attach file",...footerStyles.footer.attachButton,children:jsxRuntimeExports.jsx(BsPaperclip,{size:"24"})}),jsxRuntimeExports.jsx(Textarea,{value:o,onChange:i,onKeyDown:s,onCompositionStart:a,onCompositionEnd:$,placeholder:j("footer.typeYourMessage"),...footerStyles.footer.input})]})})});MessageInput.displayName="MessageInput";function Footer({isCollapsed:o=!1,onToggle:i}){const{inputValue:s,handleInputChange:a,handleKeyPress:$,handleCompositionStart:j,handleCompositionEnd:et,handleInterrupt:rt,handleMicToggle:st,micOn:it}=useFooter();return jsxRuntimeExports.jsxs(Box,{...footerStyles.footer.container(o),children:[jsxRuntimeExports.jsx(ToggleButton,{isCollapsed:o,onToggle:i}),jsxRuntimeExports.jsx(Box,{pt:"0",px:"4",children:jsxRuntimeExports.jsxs(HStack,{width:"100%",gap:4,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Box,{mb:"1.5",children:jsxRuntimeExports.jsx(AIStateIndicator,{})}),jsxRuntimeExports.jsx(ActionButtons,{micOn:it,onMicToggle:st,onInterrupt:rt})]}),jsxRuntimeExports.jsx(MessageInput,{value:s,onChange:a,onKeyDown:$,onCompositionStart:j,onCompositionEnd:et})]})})]})}const isElectron=window.api!==void 0,getAppHeight=()=>typeof window<"u"&&/Mobi|Android/i.test(navigator.userAgent)?`${window.innerHeight}px`:isElectron?"calc(100vh - 30px)":"100vh",layoutStyles={appContainer:{width:"100vw",height:getAppHeight(),backgroundColor:"var(--app-bg)",backgroundImage:"radial-gradient(1200px 640px at 8% -12%, rgba(243, 106, 90, 0.24), transparent 60%), radial-gradient(900px 520px at 88% 10%, rgba(60, 142, 219, 0.22), transparent 55%), linear-gradient(135deg, var(--app-bg), var(--app-bg-2))",color:"var(--app-text)",overflow:"hidden",position:"relative",display:"flex",flexDirection:{base:"column",md:"row"},mt:isElectron?"30px":"0",animation:"appFadeUp 520ms ease-out"},sidebar:{position:"relative",width:{base:"100%",md:"440px"},height:{base:"auto",md:"100%"},bg:"var(--app-panel-strong)",borderRight:"1px solid",borderColor:"var(--app-border)",overflow:"hidden",flexShrink:0,transition:"all 0.2s",backdropFilter:"blur(18px)",boxShadow:"var(--app-shadow)"},mainContent:{flex:1,height:{base:"calc(100% - 120px)",md:"100%"},position:"relative",display:"flex",flexDirection:"column",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",overflow:"hidden"},footer:{width:"100%",height:{base:"100px",md:"120px"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",willChange:"transform",position:"relative",zIndex:1},collapsedFooter:{height:{base:"20px",md:"24px"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},windowsTitleBar:{position:"fixed",top:0,left:0,width:"100vw",display:"flex",alignItems:"center",justifyContent:"space-between",height:"30px",backgroundColor:"var(--app-panel-strong)",paddingX:"10px",zIndex:1e3,css:{"-webkit-app-region":"drag"}},macTitleBar:{position:"fixed",top:0,left:0,width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",height:"30px",backgroundColor:"var(--app-panel-strong)",zIndex:1e3,css:{"-webkit-app-region":"drag","-webkit-user-select":"none"}},titleBarTitle:{fontSize:"sm",color:"var(--app-text-muted)",textAlign:"center"},titleBarButtons:{display:"flex",gap:"1"},titleBarButton:{size:"sm",variant:"ghost",color:"var(--app-text-muted)",css:{"-webkit-app-region":"no-drag"},_hover:{backgroundColor:"rgba(255, 255, 255, 0.12)"}},closeButton:{size:"sm",variant:"ghost",color:"var(--app-text-muted)",css:{"-webkit-app-region":"no-drag"},_hover:{backgroundColor:"#d14b4b",color:"white"}}},isAudioDebugEnabled=()=>{try{return localStorage.getItem("debugAudio")==="1"}catch{return!1}},deriveWsUrlFromBase=o=>{try{const i=new URL(o);return i.protocol!=="http:"&&i.protocol!=="https:"?null:`${i.protocol==="https:"?"wss:":"ws:"}//${i.host}/client-ws`}catch{return null}},shouldRewriteWsScheme=(o,i)=>{try{const s=new URL(o),a=new URL(i);return s.host===a.host}catch{return!0}};function WebSocketHandler({children:o}){const{t:i}=useTranslation(),[s,a]=reactExports.useState("CLOSED"),[$,j]=useLocalStorage("wsUrl",defaultWsUrl),[et,rt]=useLocalStorage("baseUrl",defaultBaseUrl),{aiState:st,setAiState:it,backendSynthComplete:ot,setBackendSynthComplete:tt}=useAiState(),{setModelInfo:_e}=useLive2DConfig(),{setSubtitleText:nt}=useSubtitle(),{clearResponse:at,setForceNewMessage:lt,appendHumanMessage:ut,appendOrUpdateToolCallMessage:ct,upsertAIMessage:dt}=useChatHistory(),{addAudioTask:ft}=useAudioTask(),ht=useBgUrl(),{confUid:gt,setConfName:yt,setConfUid:bt,setConfigFiles:vt}=useConfig(),[mt,xt]=reactExports.useState(void 0),{setSelfUid:wt,setGroupMembers:Ct,setIsOwner:kt}=useGroup(),{startMic:It,stopMic:Pt,autoStartMicOnConvEnd:St,voiceInterruptEnabled:Ot}=useVAD(),At=reactExports.useRef(St),{interrupt:$t}=useInterrupt(),{setBrowserViewData:jt}=useBrowser(),{captureCamera:zt,captureScreen:Xt}=useMediaCapture(),tr=reactExports.useMemo(()=>!et||et.startsWith("://")?defaultBaseUrl:et,[et]),ir=reactExports.useMemo(()=>!$||$.startsWith("ws:///")?deriveWsUrlFromBase(tr)||defaultWsUrl:tr.startsWith("https://")&&$.startsWith("ws://")&&shouldRewriteWsScheme(tr,$)?$.replace(/^ws:\/\//,"wss://"):tr.startsWith("http://")&&$.startsWith("wss://")&&shouldRewriteWsScheme(tr,$)?$.replace(/^wss:\/\//,"ws://"):$,[$,tr]);reactExports.useEffect(()=>{et!==tr&&rt(tr)},[et,tr,rt]),reactExports.useEffect(()=>{$!==ir&&j(ir)},[$,ir,j]),reactExports.useEffect(()=>{At.current=St},[St]),reactExports.useEffect(()=>{mt&&gt&&(_e(mt),xt(void 0))},[mt,_e,gt]);const{setCurrentHistoryUid:sr,setMessages:Jt,setHistoryList:rr}=useChatHistory(),Yt=reactExports.useCallback(Bt=>{switch(Bt){case"start-mic":console.log("Starting microphone..."),It();break;case"stop-mic":console.log("Stopping microphone..."),Pt();break;case"conversation-chain-start":it("thinking-speaking"),audioTaskQueue.clearQueue(),at();break;case"conversation-chain-end":audioTaskQueue.addTask(()=>new Promise(cr=>{it(ar=>ar==="thinking-speaking"?(At.current&&It(),"idle"):ar),cr()}));break;default:console.warn("Unknown control command:",Bt)}},[it,at,lt,It,Pt]),Kt=reactExports.useCallback(Bt=>{var cr,ar;switch(console.log("Received message from server:",Bt),Bt.type){case"control":Bt.text&&Yt(Bt.text);break;case"set-model-and-conf":if(it("loading"),Bt.conf_name&&yt(Bt.conf_name),Bt.conf_uid&&(bt(Bt.conf_uid),console.log("confUid",Bt.conf_uid)),Bt.client_uid&&wt(Bt.client_uid),xt(Bt.model_info),Bt.model_info&&!Bt.model_info.url.startsWith("http")){const pr=et+Bt.model_info.url;Bt.model_info.url=pr}it("idle");break;case"full-text":Bt.text&&(nt(Bt.text),Bt.text!=="Thinking..."&&Bt.text!=="Connection established"&&Bt.text!=="AI wants to speak something..."&&dt(Bt.text));break;case"config-files":Bt.configs&&vt(Bt.configs);break;case"config-switched":it("idle"),nt(i("notification.characterLoaded")),toaster.create({title:i("notification.characterSwitched"),type:"success",duration:2e3}),wsService.sendMessage({type:"fetch-history-list"}),wsService.sendMessage({type:"create-new-history"});break;case"background-files":Bt.files&&(ht==null||ht.setBackgroundFiles(Bt.files));break;case"audio":st==="interrupted"||st==="listening"?console.log("Audio playback intercepted. Sentence:",(cr=Bt.display_text)==null?void 0:cr.text):(Ot||(isAudioDebugEnabled()&&console.info("[mic] auto stop (tts playing)"),Pt("auto")),console.log("actions",Bt.actions),isAudioDebugEnabled()&&console.info("[audio] tts chunk",{bytes:(Bt.audio_pcm||"").length,sampleRate:Bt.audio_sample_rate||0,channels:Bt.audio_channels||0,sliceLength:Bt.slice_length||0}),ft({audioBase64:Bt.audio||"",audioPcmBase64:Bt.audio_pcm||"",audioFormat:Bt.audio_format||"",audioSampleRate:Bt.audio_sample_rate||0,audioChannels:Bt.audio_channels||0,volumes:Bt.volumes||[],sliceLength:Bt.slice_length||0,displayText:Bt.display_text||null,expressions:((ar=Bt.actions)==null?void 0:ar.expressions)||null,forwarded:Bt.forwarded||!1}));break;case"history-data":Bt.messages&&Jt(Bt.messages),toaster.create({title:i("notification.historyLoaded"),type:"success",duration:2e3});break;case"new-history-created":if(it("idle"),nt(i("notification.newConversation")),Bt.history_uid){sr(Bt.history_uid),Jt([]);const pr={uid:Bt.history_uid,latest_message:null,timestamp:new Date().toISOString()};rr(Rr=>[pr,...Rr]),toaster.create({title:i("notification.newChatHistory"),type:"success",duration:2e3})}break;case"history-deleted":toaster.create({title:Bt.success?i("notification.historyDeleteSuccess"):i("notification.historyDeleteFail"),type:Bt.success?"success":"error",duration:2e3});break;case"history-list":Bt.histories&&(rr(Bt.histories),Bt.histories.length>0&&sr(Bt.histories[0].uid));break;case"user-input-transcription":console.log("user-input-transcription: ",Bt.text),Bt.text&&ut(Bt.text);break;case"error":toaster.create({title:Bt.message,type:"error",duration:2e3});break;case"group-update":console.log("Received group-update:",Bt.members),Bt.members&&Ct(Bt.members),Bt.is_owner!==void 0&&kt(Bt.is_owner);break;case"group-operation-result":toaster.create({title:Bt.message,type:Bt.success?"success":"error",duration:2e3});break;case"backend-synth-complete":tt(!0);break;case"conversation-chain-end":audioTaskQueue.hasTask()||it(pr=>pr==="thinking-speaking"?"idle":pr);break;case"force-new-message":lt(!0),Ot||(isAudioDebugEnabled()&&console.info("[mic] auto start (tts finished)"),It("auto"));break;case"interrupt-signal":$t(!1);break;case"tool_call_status":Bt.tool_id&&Bt.tool_name&&Bt.status?(Bt.browser_view&&(console.log("Browser view data received:",Bt.browser_view),jt(Bt.browser_view)),ct({id:Bt.tool_id,type:"tool_call_status",role:"ai",tool_id:Bt.tool_id,tool_name:Bt.tool_name,name:Bt.name,status:Bt.status,content:Bt.content||"",timestamp:Bt.timestamp||new Date().toISOString()})):console.warn("Received incomplete tool_call_status message:",Bt);break;case"mcp-capture-request":(async()=>{const pr=Bt.request_id||"",Rr=Bt.source==="screen"?"screen":"camera",kr=Rr==="screen"?await Xt():await zt();if(!kr){wsService.sendMessage({type:"mcp-capture-response",request_id:pr,success:!1,message:`No ${Rr} stream available`});return}wsService.sendMessage({type:"mcp-capture-response",request_id:pr,success:!0,image:kr.data,mime_type:kr.mime_type})})();break;default:console.warn("Unknown message type:",Bt.type)}},[st,ft,ut,et,ht,it,yt,bt,vt,sr,rr,Jt,_e,nt,It,Pt,wt,Ct,kt,ot,tt,at,Yt,ct,dt,$t,jt,i,zt,Xt]);reactExports.useEffect(()=>{wsService.connect(ir)},[ir]),reactExports.useEffect(()=>{const Bt=()=>{wsService.setReconnectEnabled(!1),wsService.disconnect()};return window.addEventListener("beforeunload",Bt),window.addEventListener("pagehide",Bt),()=>{window.removeEventListener("beforeunload",Bt),window.removeEventListener("pagehide",Bt),wsService.setReconnectEnabled(!0)}},[]),reactExports.useEffect(()=>{const Bt=wsService.onStateChange(a),cr=wsService.onMessage(Kt);return()=>{Bt.unsubscribe(),cr.unsubscribe()}},[ir,Kt]),reactExports.useEffect(()=>{if(s!=="OPEN")return;const Bt=Ot?"realtime":"auto";wsService.sendMessage({type:"set-listen-mode",listen_mode:Bt})},[s,Ot]);const er=reactExports.useMemo(()=>({sendMessage:wsService.sendMessage.bind(wsService),wsState:s,reconnect:()=>wsService.connect(ir),wsUrl:ir,setWsUrl:j,baseUrl:tr,setBaseUrl:rt}),[s,ir,tr]);return jsxRuntimeExports.jsx(WebSocketContext.Provider,{value:er,children:o})}function TitleBar(){var st;const[o,i]=reactExports.useState(!1),[s,a]=reactExports.useState(!1),$=((st=window.electron)==null?void 0:st.process.platform)==="darwin";reactExports.useEffect(()=>{var tt,_e;const it=(nt,at)=>{i(at)},ot=(nt,at)=>{a(at)};return(tt=window.electron)==null||tt.ipcRenderer.on("window-maximized-change",it),(_e=window.electron)==null||_e.ipcRenderer.on("window-fullscreen-change",ot),()=>{var nt,at;(nt=window.electron)==null||nt.ipcRenderer.removeAllListeners("window-maximized-change"),(at=window.electron)==null||at.ipcRenderer.removeAllListeners("window-fullscreen-change")}},[]);const j=()=>{var it,ot;s?(it=window.electron)==null||it.ipcRenderer.send("window-unfullscreen"):(ot=window.electron)==null||ot.ipcRenderer.send("window-maximize")},et=()=>s?"Exit Full Screen":o?"Restore":"Maximize",rt=()=>s?jsxRuntimeExports.jsx(FiChevronsDown,{}):o?jsxRuntimeExports.jsx(FiMinimize2,{}):jsxRuntimeExports.jsx(FiMaximize2,{});return $?jsxRuntimeExports.jsx(Box,{...layoutStyles.macTitleBar,children:jsxRuntimeExports.jsx(Box,{...layoutStyles.titleBarTitle,children:"Open LLM VTuber"})}):jsxRuntimeExports.jsxs(Box,{...layoutStyles.windowsTitleBar,children:[jsxRuntimeExports.jsx(Box,{...layoutStyles.titleBarTitle,children:"Open LLM VTuber"}),jsxRuntimeExports.jsxs(Box,{...layoutStyles.titleBarButtons,children:[jsxRuntimeExports.jsx(IconButton,{...layoutStyles.titleBarButton,onClick:()=>{var it;return(it=window.electron)==null?void 0:it.ipcRenderer.send("window-minimize")},"aria-label":"Minimize",children:jsxRuntimeExports.jsx(FiMinus,{})}),jsxRuntimeExports.jsx(IconButton,{...layoutStyles.titleBarButton,onClick:j,"aria-label":et(),children:rt()}),jsxRuntimeExports.jsx(IconButton,{...layoutStyles.closeButton,onClick:()=>{var it;return(it=window.electron)==null?void 0:it.ipcRenderer.send("window-close")},"aria-label":"Close",children:jsxRuntimeExports.jsx(FiX,{})})]})]})}function useInputSubtitle(){const{inputText:o,setInputText:i,handleKeyPress:s,handleCompositionStart:a,handleCompositionEnd:$,handleSend:j}=useTextInput(),{messages:et}=useChatHistory(),{startMic:rt,autoStartMicOn:st}=useVAD(),{handleMicToggle:it,micOn:ot}=useMicToggle(),{aiState:tt,setAiState:_e}=useAiState(),{interrupt:nt}=useInterrupt(),at=et.filter(ft=>ft.role==="ai").slice(-1).map(ft=>ft.content)[0],lt=et.some(ft=>ft.role==="ai");return{inputValue:o,handleInputChange:ft=>{i({target:{value:ft.target.value}}),_e(AiStateEnum.WAITING)},handleKeyPress:ft=>{s(ft)},handleCompositionStart:a,handleCompositionEnd:$,handleInterrupt:()=>{nt(),st&&rt()},handleMicToggle:it,lastAIMessage:at,hasAIMessages:lt,aiState:tt,micOn:ot,handleSend:j}}function useDraggable({componentId:o}){const{mode:i}=useMode(),s=i==="pet",[a,$]=reactExports.useState(!1),j=reactExports.useRef({x:0,y:0}),et=reactExports.useRef({x:0,y:0}),rt=reactExports.useRef(null);return{elementRef:rt,isDragging:a,handleMouseDown:tt=>{$(!0),et.current={x:tt.clientX-j.current.x,y:tt.clientY-j.current.y};const _e=at=>{if(!rt.current)return;const lt={x:at.clientX-et.current.x,y:at.clientY-et.current.y};j.current=lt,rt.current.style.transform=`translateX(-50%) translate(${j.current.x}px, ${j.current.y}px)`},nt=()=>{$(!1),document.removeEventListener("mousemove",_e,!0),document.removeEventListener("mouseup",nt,!0)};document.addEventListener("mousemove",_e,!0),document.addEventListener("mouseup",nt,!0)},handleMouseEnter:()=>{var tt;s&&((tt=window.api)==null||tt.updateComponentHover(o,!0))},handleMouseLeave:()=>{var tt;s&&!a&&((tt=window.api)==null||tt.updateComponentHover(o,!1))}}}const inputSubtitleStyles={container:{display:"flex",alignItems:"flex-end",justifyContent:"center",maxW:"fit-content",position:"absolute",bottom:"120px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,userSelect:"none",willChange:"transform",padding:0},box:{w:"400px",rounded:"xl",overflow:"hidden",boxShadow:"lg",bg:"var(--app-panel-strong)",backdropFilter:"blur(12px)",css:{WebkitUserSelect:"none"}},messageStack:{p:"3",gap:1,alignItems:"stretch",justify:"flex-end"},messageText:{color:"var(--app-text)",fontSize:"sm",lineHeight:"1.5",transition:"all 0.3s"},statusBox:{bg:"var(--app-panel)",p:"3",borderTop:"1px",borderColor:"var(--app-border)"},statusText:{fontSize:"xs",color:"var(--app-text-muted)",transition:"all 0.3s"},iconButton:{size:"xs",variant:"ghost",color:"var(--app-text-muted)",_hover:{bg:"rgba(255, 255, 255, 0.12)"}},inputBox:{bg:"var(--app-panel)",borderTop:"1px",borderColor:"var(--app-border)"},input:{size:"sm",bg:"rgba(255, 255, 255, 0.06)",color:"var(--app-text)",_placeholder:{color:"var(--app-text-muted)"},borderColor:"rgba(255, 255, 255, 0.22)",_focus:{borderColor:"rgba(255, 255, 255, 0.35)",outline:"none"},flex:"1"},sendButton:{p:"1.5",bg:"rgba(255, 255, 255, 0.08)",rounded:"lg",_hover:{bg:"rgba(255, 255, 255, 0.14)"},transition:"colors",color:"var(--app-text)",size:"sm"},draggableContainer:o=>({cursor:o?"grabbing":"grab",transition:o?"none":"transform 0.1s ease",_active:{cursor:"grabbing"}}),closeButton:{position:"absolute",top:0,right:0,size:"2xs",minW:"6",height:"6",padding:0,variant:"ghost",color:"var(--app-text-muted)",bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.12)",color:"var(--app-text)"},zIndex:10}};function InputSubtitle(){const{inputValue:o,handleInputChange:i,handleKeyPress:s,handleCompositionStart:a,handleCompositionEnd:$,handleInterrupt:j,handleMicToggle:et,handleSend:rt,lastAIMessage:st,hasAIMessages:it,aiState:ot,micOn:tt}=useInputSubtitle(),{mode:_e}=useMode(),nt=_e==="pet",{elementRef:at,isDragging:lt,handleMouseDown:ut,handleMouseEnter:ct,handleMouseLeave:dt}=useDraggable({componentId:"input-subtitle"}),[ft,ht]=reactExports.useState(!0),gt=reactExports.useCallback(()=>{var bt;nt&&((bt=window.api)==null||bt.updateComponentHover("input-subtitle",!1)),ht(!1)},[nt]),yt=()=>{ht(!0)};return reactExports.useEffect(()=>{var bt;if(nt){const vt=(bt=window.api)==null?void 0:bt.onToggleInputSubtitle(()=>{ft?gt():yt()});return()=>vt==null?void 0:vt()}return()=>{}},[gt,nt,ft]),reactExports.useEffect(()=>(window.inputSubtitle={open:yt,close:gt},()=>{delete window.inputSubtitle}),[nt,gt]),ft?jsxRuntimeExports.jsx(Box,{ref:at,...inputSubtitleStyles.container,...inputSubtitleStyles.draggableContainer(lt),onMouseDown:ut,onMouseEnter:ct,onMouseLeave:dt,children:jsxRuntimeExports.jsxs(Box,{...inputSubtitleStyles.box,children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Close subtitle",onClick:gt,...inputSubtitleStyles.closeButton,children:jsxRuntimeExports.jsx(LuX,{size:12})}),it&&jsxRuntimeExports.jsx(VStack,{minH:st?"32px":"0px",...inputSubtitleStyles.messageStack,children:st&&jsxRuntimeExports.jsx(Text,{...inputSubtitleStyles.messageText,children:st})}),jsxRuntimeExports.jsx(Box,{...inputSubtitleStyles.statusBox,children:jsxRuntimeExports.jsxs(Flex,{align:"center",justify:"space-between",color:"var(--app-text-muted)",children:[jsxRuntimeExports.jsxs(Flex,{align:"center",gap:"2",children:[jsxRuntimeExports.jsx(LuBell,{size:16}),jsxRuntimeExports.jsx(Text,{...inputSubtitleStyles.statusText,children:ot})]}),jsxRuntimeExports.jsxs(Flex,{gap:"2",children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Toggle microphone",onClick:et,...inputSubtitleStyles.iconButton,children:tt?jsxRuntimeExports.jsx(LuMic,{size:16}):jsxRuntimeExports.jsx(LuMicOff,{size:16})}),jsxRuntimeExports.jsx(IconButton,{"aria-label":"Interrupt",onClick:j,...inputSubtitleStyles.iconButton,children:jsxRuntimeExports.jsx(LuHand,{size:16})})]})]})}),jsxRuntimeExports.jsx(Box,{...inputSubtitleStyles.inputBox,children:jsxRuntimeExports.jsxs(Stack,{direction:"row",gap:"2",p:"2",children:[jsxRuntimeExports.jsx(Input$1,{value:o,onChange:i,onKeyDown:s,onCompositionStart:a,onCompositionEnd:$,placeholder:"Type your message...",...inputSubtitleStyles.input}),jsxRuntimeExports.jsx(Button$2,{onClick:rt,...inputSubtitleStyles.sendButton,children:jsxRuntimeExports.jsx(LuSend,{size:16})})]})})]})}):null}const canvasStyles={background:{container:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:"auto"},image:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",objectFit:"cover",zIndex:1},video:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:"scaleX(-1)"},overlay:{position:"absolute",inset:0,background:"radial-gradient(900px 520px at 15% 15%, rgba(63, 224, 200, 0.12), transparent 60%), radial-gradient(800px 480px at 85% 10%, rgba(248, 180, 88, 0.12), transparent 55%), linear-gradient(180deg, rgba(10, 12, 18, 0.18), rgba(10, 12, 18, 0.42))",zIndex:2,pointerEvents:"none"}},subtitle:{container:{backgroundColor:"transparent",padding:"15px 30px",borderRadius:"12px",minWidth:"60%",maxWidth:"95%",border:"1px solid",borderColor:"rgba(255, 255, 255, 0.12)"},imageContainer:{position:"absolute",right:"24px",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"12px",maxWidth:"24%",maxHeight:"45%",zIndex:10},image:{width:"100%",maxWidth:"100%",maxHeight:"28vh",height:"auto",objectFit:"contain",borderRadius:"10px",border:"1px solid rgba(255, 255, 255, 0.12)",boxShadow:"0 12px 26px rgba(0, 0, 0, 0.35)",display:"block",backgroundColor:"rgba(0, 0, 0, 0.12)"},text:{color:"var(--app-text)",fontSize:"1.5rem",textAlign:"center",lineHeight:"1.4",whiteSpace:"pre-wrap",letterSpacing:"0.01em"}},wsStatus:{container:{position:"relative",zIndex:2,padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"medium",color:"var(--app-text)",transition:"all 0.2s",cursor:"pointer",userSelect:"none",_hover:{opacity:.8}}}},Background=reactExports.memo(({children:o})=>{const i=reactExports.useRef(null),{backgroundStream:s,isBackgroundStreaming:a,startBackgroundCamera:$,stopBackgroundCamera:j}=useCamera(),{useCameraBackground:et,backgroundUrl:rt}=useBgUrl();return reactExports.useEffect(()=>{et?$():j()},[et,$,j]),reactExports.useEffect(()=>{i.current&&s&&(i.current.srcObject=s)},[s]),jsxRuntimeExports.jsxs(Box,{...canvasStyles.background.container,children:[et?jsxRuntimeExports.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,muted:!0,style:{...canvasStyles.background.video,display:a?"block":"none",transform:"scaleX(-1)"}}):jsxRuntimeExports.jsx(Image$1,{...canvasStyles.background.image,src:rt,alt:"background"}),jsxRuntimeExports.jsx(Box,{...canvasStyles.background.overlay}),o]})});Background.displayName="Background";const useWSStatus=()=>{const{wsState:o,reconnect:i}=useWebSocket(),s=reactExports.useCallback(()=>{o!=="OPEN"&&o!=="CONNECTING"&&i()},[o,i]);return reactExports.useMemo(()=>{switch(o){case"OPEN":return{color:"green.500",textKey:"wsStatus.connected",isDisconnected:!1,handleClick:s};case"CONNECTING":return{color:"yellow.500",textKey:"wsStatus.connecting",isDisconnected:!1,handleClick:s};default:return{color:"red.500",textKey:"wsStatus.clickToReconnect",isDisconnected:!0,handleClick:s}}},[o,s])},StatusContent=({textKey:o})=>{const{t:i}=useTranslation();return i(o)},MemoizedStatusContent=reactExports.memo(StatusContent),WebSocketStatus=reactExports.memo(()=>{const{color:o,textKey:i,handleClick:s,isDisconnected:a}=useWSStatus();return jsxRuntimeExports.jsx(Box,{...canvasStyles.wsStatus.container,backgroundColor:o,onClick:s,cursor:a?"pointer":"default",_hover:{opacity:a?.8:1},children:jsxRuntimeExports.jsx(MemoizedStatusContent,{textKey:i})})});WebSocketStatus.displayName="WebSocketStatus";const useSubtitleDisplay=()=>{const o=useSubtitle();return{subtitleText:reactExports.useMemo(()=>o?o.subtitleText:null,[o==null?void 0:o.subtitleText]),isLoaded:!!o}},SubtitleText=reactExports.memo(({text:o})=>jsxRuntimeExports.jsx(Text,{...canvasStyles.subtitle.text,children:o}));SubtitleText.displayName="SubtitleText";const markdownImageRegex=/!\[([^\]]*)\]\(([^)]+)\)/g,parseSubtitleContent=o=>{const i=[];markdownImageRegex.lastIndex=0;let s;for(;(s=markdownImageRegex.exec(o))!==null;){const $=s[1]||"image",j=s[2].trim();j&&i.push({alt:$,url:j})}return{cleanedText:o.replace(markdownImageRegex,"").trim(),images:i}},Subtitle=reactExports.memo(({bottomOffset:o})=>{const{subtitleText:i,isLoaded:s}=useSubtitleDisplay(),{showSubtitle:a}=useSubtitle(),[$,j]=reactExports.useState([]),{cleanedText:et,images:rt}=parseSubtitleContent(i||"");return reactExports.useEffect(()=>{rt.length>0&&j(rt)},[rt]),!s||!a||!et&&$.length===0?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[et&&jsxRuntimeExports.jsx(Box,{position:"absolute",bottom:o,left:"50%",transform:"translateX(-50%)",width:"60%",children:jsxRuntimeExports.jsx(Box,{...canvasStyles.subtitle.container,children:jsxRuntimeExports.jsx(SubtitleText,{text:et})})}),$.length>0&&jsxRuntimeExports.jsx(Box,{...canvasStyles.subtitle.imageContainer,children:$.map((st,it)=>jsxRuntimeExports.jsx(Box,{maxW:"100%",children:jsxRuntimeExports.jsx("img",{src:st.url,alt:st.alt,loading:"lazy",style:canvasStyles.subtitle.image})},`${st.url}-${it}`))})]})});Subtitle.displayName="Subtitle";function Provider(o){return jsxRuntimeExports.jsx(ChakraProvider,{value:defaultSystem,children:jsxRuntimeExports.jsx(ColorModeProvider,{...o})})}function AppContent(){const[o,i]=reactExports.useState(!0),[s,a]=reactExports.useState(!1),[$,j]=reactExports.useState(!1),{mode:et}=useMode(),rt=window.api!==void 0,st=reactExports.useRef(null);reactExports.useEffect(()=>{const nt=()=>{const at=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${at}px`)};return nt(),window.addEventListener("resize",nt),()=>window.removeEventListener("resize",nt)},[]),reactExports.useEffect(()=>{const nt=()=>{j(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",nt),nt(),()=>document.removeEventListener("fullscreenchange",nt)},[]),document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.documentElement.style.height="100%",document.body.style.height="100%",document.documentElement.style.position="fixed",document.body.style.position="fixed",document.documentElement.style.width="100%",document.body.style.width="100%";const it={position:"absolute",overflow:"hidden",transition:"all 0.3s ease-in-out",pointerEvents:"auto"},ot=nt=>({...it,top:rt?"30px":"0px",height:`calc(100% - ${rt?"30px":"0px"})`,zIndex:5,left:{base:"0px",md:nt?"440px":"24px"},width:{base:"100%",md:`calc(100% - ${nt?"440px":"24px"})`}}),tt={...it,top:0,left:0,width:"100vw",height:"100vh",zIndex:15},_e=async()=>{try{if(document.fullscreenElement){await document.exitFullscreen();return}const nt=st.current;nt!=null&&nt.requestFullscreen&&await nt.requestFullscreen()}catch(nt){console.warn("Failed to toggle fullscreen:",nt)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{ref:st,...et==="window"?ot(o):tt,children:[jsxRuntimeExports.jsx(Live2D,{}),$&&jsxRuntimeExports.jsx(Box,{position:"absolute",inset:"0",zIndex:20,pointerEvents:"none",children:jsxRuntimeExports.jsx(Subtitle,{bottomOffset:"32px"})})]}),et==="window"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[rt&&jsxRuntimeExports.jsx(TitleBar,{}),jsxRuntimeExports.jsxs(Flex,{...layoutStyles.appContainer,children:[jsxRuntimeExports.jsx(Box,{...layoutStyles.sidebar,...!o&&{width:"24px"},children:jsxRuntimeExports.jsx(Sidebar,{isCollapsed:!o,onToggle:()=>i(!o),onToggleFullscreen:_e})}),jsxRuntimeExports.jsxs(Box,{...layoutStyles.mainContent,children:[jsxRuntimeExports.jsx(Background,{}),jsxRuntimeExports.jsx(Box,{position:"absolute",top:"20px",left:"20px",zIndex:10,children:jsxRuntimeExports.jsx(WebSocketStatus,{})}),jsxRuntimeExports.jsx(Box,{position:"absolute",inset:"0",zIndex:10,pointerEvents:"none",children:jsxRuntimeExports.jsx(Subtitle,{bottomOffset:s?"39px":"135px"})}),jsxRuntimeExports.jsx(Box,{...layoutStyles.footer,zIndex:10,...s&&layoutStyles.collapsedFooter,children:jsxRuntimeExports.jsx(Footer,{isCollapsed:s,onToggle:()=>a(!s)})})]})]})]}),et==="pet"&&jsxRuntimeExports.jsx(InputSubtitle,{})]})}function App(){return jsxRuntimeExports.jsx(Provider,{defaultTheme:"dark",enableSystem:!1,children:jsxRuntimeExports.jsx(ModeProvider,{children:jsxRuntimeExports.jsx(AppWithGlobalStyles,{})})})}function AppWithGlobalStyles(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CameraProvider,{children:jsxRuntimeExports.jsx(ScreenCaptureProvider,{children:jsxRuntimeExports.jsx(CharacterConfigProvider,{children:jsxRuntimeExports.jsx(ChatHistoryProvider,{children:jsxRuntimeExports.jsx(AiStateProvider,{children:jsxRuntimeExports.jsx(ProactiveSpeakProvider,{children:jsxRuntimeExports.jsx(Live2DConfigProvider,{children:jsxRuntimeExports.jsx(SubtitleProvider,{children:jsxRuntimeExports.jsx(VADProvider,{children:jsxRuntimeExports.jsx(BgUrlProvider,{children:jsxRuntimeExports.jsx(GroupProvider,{children:jsxRuntimeExports.jsx(BrowserProvider,{children:jsxRuntimeExports.jsxs(WebSocketHandler,{children:[jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(AppContent,{})]})})})})})})})})})})})})})})}let s_adapter_instance=null;class LAppAdapter{static getInstance(){return s_adapter_instance==null&&(s_adapter_instance=new LAppAdapter),s_adapter_instance}getMgr(){return LAppLive2DManager.getInstance()}getModel(){return this.getMgr().getModel(0)}getIdManager(){return CubismFramework.getIdManager()}getMotionGroups(){var s,a;let i=[];for(let $=0;$<((s=this.getModel())==null?void 0:s._modelSetting.getMotionGroupCount());$++)i.push(((a=this.getModel())==null?void 0:a._modelSetting.getMotionGroupName($))??"");return i}getMotionCount(i){var s;return((s=this.getModel())==null?void 0:s._modelSetting.getMotionCount(i))??0}startMotion(i,s,a,$){var j;return((j=this.getModel())==null?void 0:j.startMotion(i,s,a,$))??InvalidMotionQueueEntryHandleValue}getExpressionCount(){var i;return((i=this.getModel())==null?void 0:i._expressions.getSize())??0}getExpressionName(i){var s,a;return((a=(s=this.getModel())==null?void 0:s._modelSetting)==null?void 0:a.getExpressionName(i))??""}setExpression(i){var s;(s=this.getModel())==null||s.setExpression(i)}nextChara(){this.getMgr().nextScene()}setChara(i,s){var j;const a=(i.endsWith("/")?i:i+"/")+s+"/",$=s+".model3.json";this.getMgr().releaseAllModel(),this.getMgr()._models.pushBack(new LAppModel),(j=this.getMgr()._models.at(0))==null||j.loadAssets(a,$)}getModelPosition(){const i=this.getModel();if(i&&i._modelMatrix){const s=i._modelMatrix.getArray();return{x:s[12],y:s[13]}}return{x:0,y:0}}setModelPosition(i,s){const a=this.getModel();if(a&&a._modelMatrix){const j=[...a._modelMatrix.getArray()];j[12]=i,j[13]=s,a._modelMatrix.setMatrix(j)}}}const{slice,forEach}=[];function defaults(o){return forEach.call(slice.call(arguments,1),i=>{if(i)for(const s in i)o[s]===void 0&&(o[s]=i[s])}),o}function hasXSS(o){return typeof o!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(o))}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function(o,i){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},$=encodeURIComponent(i);let j=`${o}=${$}`;if(a.maxAge>0){const et=a.maxAge-0;if(Number.isNaN(et))throw new Error("maxAge should be a Number");j+=`; Max-Age=${Math.floor(et)}`}if(a.domain){if(!fieldContentRegExp.test(a.domain))throw new TypeError("option domain is invalid");j+=`; Domain=${a.domain}`}if(a.path){if(!fieldContentRegExp.test(a.path))throw new TypeError("option path is invalid");j+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");j+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(j+="; HttpOnly"),a.secure&&(j+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"strict":j+="; SameSite=Strict";break;case"none":j+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return j},cookie={create(o,i,s,a){let $=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&($.expires=new Date,$.expires.setTime($.expires.getTime()+s*60*1e3)),a&&($.domain=a),document.cookie=serializeCookie(o,encodeURIComponent(i),$)},read(o){const i=`${o}=`,s=document.cookie.split(";");for(let a=0;a<s.length;a++){let $=s[a];for(;$.charAt(0)===" ";)$=$.substring(1,$.length);if($.indexOf(i)===0)return $.substring(i.length,$.length)}return null},remove(o){this.create(o,"",-1)}};var cookie$1={name:"cookie",lookup(o){let{lookupCookie:i}=o;if(i&&typeof document<"u")return cookie.read(i)||void 0},cacheUserLanguage(o,i){let{lookupCookie:s,cookieMinutes:a,cookieDomain:$,cookieOptions:j}=i;s&&typeof document<"u"&&cookie.create(s,o,a,$,j)}},querystring={name:"querystring",lookup(o){var a;let{lookupQuerystring:i}=o,s;if(typeof window<"u"){let{search:$}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&($=window.location.hash.substring(window.location.hash.indexOf("?")));const et=$.substring(1).split("&");for(let rt=0;rt<et.length;rt++){const st=et[rt].indexOf("=");st>0&&et[rt].substring(0,st)===i&&(s=et[rt].substring(st+1))}}return s}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{if(hasLocalStorageSupport=typeof window<"u"&&window.localStorage!==null,!hasLocalStorageSupport)return!1;const o="i18next.translate.boo";window.localStorage.setItem(o,"foo"),window.localStorage.removeItem(o)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup(o){let{lookupLocalStorage:i}=o;if(i&&localStorageAvailable())return window.localStorage.getItem(i)||void 0},cacheUserLanguage(o,i){let{lookupLocalStorage:s}=i;s&&localStorageAvailable()&&window.localStorage.setItem(s,o)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{if(hasSessionStorageSupport=typeof window<"u"&&window.sessionStorage!==null,!hasSessionStorageSupport)return!1;const o="i18next.translate.boo";window.sessionStorage.setItem(o,"foo"),window.sessionStorage.removeItem(o)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup(o){let{lookupSessionStorage:i}=o;if(i&&sessionStorageAvailable())return window.sessionStorage.getItem(i)||void 0},cacheUserLanguage(o,i){let{lookupSessionStorage:s}=i;s&&sessionStorageAvailable()&&window.sessionStorage.setItem(s,o)}},navigator$1={name:"navigator",lookup(o){const i=[];if(typeof navigator<"u"){const{languages:s,userLanguage:a,language:$}=navigator;if(s)for(let j=0;j<s.length;j++)i.push(s[j]);a&&i.push(a),$&&i.push($)}return i.length>0?i:void 0}},htmlTag={name:"htmlTag",lookup(o){let{htmlTag:i}=o,s;const a=i||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(s=a.getAttribute("lang")),s}},path={name:"path",lookup(o){var $;let{lookupFromPathIndex:i}=o;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?($=s[typeof i=="number"?i:0])==null?void 0:$.replace("/",""):void 0}},subdomain={name:"subdomain",lookup(o){var $,j;let{lookupFromSubdomainIndex:i}=o;const s=typeof i=="number"?i+1:1,a=typeof window<"u"&&((j=($=window.location)==null?void 0:$.hostname)==null?void 0:j.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[s]}};let canCookies=!1;try{document.cookie,canCookies=!0}catch(o){}const order=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];canCookies||order.splice(1,1);const getDefaults=()=>({order,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:o=>o});class Browser{constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(i,s)}init(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=i,this.options=defaults(s,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=$=>$.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}addDetector(i){return this.detectors[i.name]=i,this}detect(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return i.forEach(a=>{if(this.detectors[a]){let $=this.detectors[a].lookup(this.options);$&&typeof $=="string"&&($=[$]),$&&(s=s.concat($))}}),s=s.filter(a=>a!=null&&!hasXSS(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(i)>-1||s.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(i,this.options)}))}}Browser.type="languageDetector";const common$1={save:"Save",cancel:"Cancel",settings:"Settings",close:"Close",accept:"Accept"},settings$1={tabs:{general:"General",live2d:"Live2D",asr:"ASR",tts:"TTS",agent:"Agent",about:"About"},general:{language:"Language",useCameraBackground:"Use Camera Background",showSubtitle:"Show Subtitle",backgroundImage:"Background Image",customBgUrlPlaceholder:"Enter image URL",customBgUrl:"Or enter a custom background URL",characterPreset:"Character Preset",wsUrl:"WebSocket URL",baseUrl:"Base URL",imageCompressionQuality:"Image Compression Quality",imageCompressionQualityPlaceholder:"Enter compression quality (0-100)",imageCompressionQualityHelp:"JPEG compression quality (0.1-1.0). Default is 0.8 to reduce file size when transmitting images to AI models, as we don't compress images during API transmission which could result in large file sizes.",imageMaxWidth:"Image Max Width",imageMaxWidthPlaceholder:"Enter maximum width in pixels",imageMaxWidthHelp:"Maximum width for image resizing. Images exceeding this width will be proportionally scaled down. Set to 0 for no size limit. This feature exists because some AI models may have limitations when processing very large images. However, most AI models can handle images automatically, so the default is 0 (no restriction) to preserve your original images."},live2d:{pointerInteractive:"Pointer Interactive",scrollToResize:"Enable Scroll to Resize"},asr:{autoStopMic:"Auto Stop Mic When AI Start Speaking",autoStopMicDesc:"Automatically stops microphone when AI begins speaking to prevent audio feedback",voiceInterrupt:"Voice Interrupt AI Speech",voiceInterruptDesc:"Allow voice activity to interrupt AI while it is speaking",autoStartMicOnConvEnd:"Auto Start Mic When Conversation End",autoStartMicOnConvEndDesc:"Automatically restarts microphone when AI finishes speaking for seamless conversation",autoStartMicOn:"Auto Start Mic When AI Interrupted",autoStartMicOnDesc:"Automatically restarts microphone when you interrupt AI for continuous interaction",positiveSpeechThreshold:"Speech Prob Threshold",positiveSpeechThresholdDesc:"Minimum confidence level (1-100) required to detect speech. Higher values reduce false positives",negativeSpeechThreshold:"Negative Speech Threshold",negativeSpeechThresholdDesc:"Confidence level (0-100) below which speech detection stops. Lower values make detection less sensitive",redemptionFrames:"Redemption Frames",redemptionFramesDesc:"Number of consecutive frames (1-100) needed to confirm speech detection. Higher values reduce noise triggers"},agent:{allowProactiveSpeak:"Allow AI to Speak Proactively",idleSecondsToSpeak:"Idle seconds allow AI to speak",allowButtonTrigger:"Prompt AI to Speak via Raise Hand Button"},about:{title:"Open LLM VTuber Frontend",version:"Version",projectLinks:"Project Links",github:"GitHub",documentation:"Documentation",license:"License",copyright:"Copyright",viewLicense:"View License"}},footer$1={typeYourMessage:"Type your message...",cameraControl:"Click to start camera",cameraStopping:"Click to stop camera",screenControl:"Click to start screen capture",screenStopping:"Click to stop screen capture"},sidebar$1={camera:"Camera",screen:"Screen",browser:"Browser",live:"Live",noMessages:"No messages yet. Start a conversation!",noBrowserSession:"No active browser session",browserSession:"Browser Session"},group$1={management:"Group Management",yourUuid:"Your UUID",inviteMember:"Invite Member",enterMemberUuid:"Enter member UUID",invite:"Invite",members:"Members",you:"You",leaveGroup:"Leave Group",removeMember:"Remove Member",leave:"Leave"},history$1={chatHistoryList:"Chat History List",noMessages:"No messages"},notification$1={characterLoaded:"New Character Loaded",characterSwitched:"Character switched",historyLoaded:"History loaded",newConversation:"New Conversation Started",newChatHistory:"New chat history created",historyDeleteSuccess:"History deleted successfully",historyDeleteFail:"Failed to delete history"},error$1={cameraApiNotSupported:"Camera API is not supported on this device",noCameraFound:"No camera found on this device",failedStartCamera:"Failed to start camera",failedStartBackgroundCamera:"Failed to start background camera",failedStartScreenCapture:"Failed to start screen capture",failedStartVAD:"Failed to start VAD",micAutoStartBlocked:"Browser blocked auto-start. Click the microphone button to enable.",llmCantHear:"The LLM can't hear you.",audioPlayback:"Audio playback error",enterValidUuid:"Please enter a valid UUID",cannotDeleteCurrentHistory:"Cannot delete current chat history",failedCapture:"Failed to capture {{source}} frame",failedParseWebSocket:"Failed to parse WebSocket message",websocketNotOpen:"WebSocket is not open.",vadMisfire:"Voice detected but too brief. Try speaking louder/longer, or adjust settings (lower speech threshold, lower negative threshold, reduce redemption frames)."},aiState$1={idle:"idle","thinking-speaking":"thinking/speaking",interrupted:"interrupted",loading:"loading",listening:"listening",waiting:"waiting"},wsStatus$1={connected:"Connected",connecting:"Connecting",clickToReconnect:"Click to Reconnect"},enTranslation={common:common$1,settings:settings$1,footer:footer$1,sidebar:sidebar$1,group:group$1,history:history$1,notification:notification$1,error:error$1,aiState:aiState$1,wsStatus:wsStatus$1},common={save:"",cancel:"",settings:"",close:"",accept:""},settings={tabs:{general:"",live2d:"Live2D",asr:"",tts:"",agent:"",about:""},general:{language:"",useCameraBackground:"",showSubtitle:"",backgroundImage:"",customBgUrlPlaceholder:"URL",customBgUrl:"URL",characterPreset:"",wsUrl:"WebSocket",baseUrl:"URL",imageCompressionQuality:"",imageCompressionQualityHelp:"JPEG(0.1-1.0)0.8AI",imageMaxWidth:"",imageMaxWidthHelp:"0AIAI0"},live2d:{pointerInteractive:"",scrollToResize:""},asr:{autoStopMic:"AI",autoStopMicDesc:"AI",voiceInterrupt:"AI",voiceInterruptDesc:"AI",autoStartMicOnConvEnd:"",autoStartMicOnConvEndDesc:"AI",autoStartMicOn:"AI",autoStartMicOnDesc:"AI",positiveSpeechThreshold:"",positiveSpeechThresholdDesc:"(1-100)",negativeSpeechThreshold:"",negativeSpeechThresholdDesc:"(0-100)",redemptionFrames:"",redemptionFramesDesc:"(1-100)"},agent:{allowProactiveSpeak:"AI",idleSecondsToSpeak:"AI",allowButtonTrigger:"AI"},about:{title:"Open LLM VTuber ",version:"",projectLinks:"",github:"GitHub",documentation:"",copyright:"",viewLicense:""}},footer={typeYourMessage:"...",cameraControl:"",cameraStopping:"",screenControl:"",screenStopping:""},sidebar={camera:"",screen:"",browser:"",live:"",noMessages:"",noBrowserSession:"",browserSession:""},group={management:"",yourUuid:"UUID",inviteMember:"",enterMemberUuid:"UUID",invite:"",members:"",you:"",leaveGroup:"",removeMember:"",leave:""},history={chatHistoryList:"",noMessages:""},notification={characterLoaded:"",characterSwitched:"",historyLoaded:"",newConversation:"",newChatHistory:"",historyDeleteSuccess:"",historyDeleteFail:""},error={cameraApiNotSupported:"API",noCameraFound:"",failedStartCamera:"",failedStartBackgroundCamera:"",failedStartScreenCapture:"",failedStartVAD:"",micAutoStartBlocked:"",llmCantHear:"AI",audioPlayback:"",enterValidUuid:"UUID",cannotDeleteCurrentHistory:"",failedCapture:"{{source}}",failedParseWebSocket:"WebSocket",websocketNotOpen:"WebSocket",vadMisfire:""},aiState={idle:"","thinking-speaking":"/",interrupted:"",loading:"",listening:"",waiting:""},wsStatus={connected:"",connecting:"",clickToReconnect:""},zhTranslation={common,settings,footer,sidebar,group,history,notification,error,aiState,wsStatus};instance.use(Browser).use(initReactI18next).init({fallbackLng:"en",debug:!1,defaultNS:"translation",ns:["translation"],resources:{en:{translation:enTranslation},zh:{translation:zhTranslation}},detection:{order:["localStorage","navigator"],caches:["localStorage"],htmlTag:document.documentElement},interpolation:{escapeValue:!1},react:{useSuspense:!0}});instance.on("languageChanged",o=>{localStorage.setItem("i18nextLng",o),document.documentElement.lang=o});const originalConsoleWarn=console.warn;console.warn=(...o)=>{typeof o[0]=="string"&&o[0].includes("onnxruntime")||originalConsoleWarn.apply(console,o)};const originalConsoleError=console.error,errorMessagesToIgnore=["Warning: Failed"];console.error=(...o)=>{typeof o[0]=="string"&&errorMessagesToIgnore.some(s=>o[0].startsWith(s))||originalConsoleError.apply(console,o)};typeof window<"u"&&(window.getLAppAdapter=()=>LAppAdapter.getInstance(),new Promise((i,s)=>{const a=document.createElement("script");a.src="./libs/live2dcubismcore.js",a.onload=()=>{console.log("Live2D Cubism Core loaded successfully."),i()},a.onerror=$=>{console.error("Failed to load Live2D Cubism Core:",$),s($)},document.head.appendChild(a)}).then(()=>{createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}))}).catch(i=>{console.error("Application failed to start due to script loading error:",i);const s=document.getElementById("root");s&&(s.innerHTML="Error loading required components. Please check the console for details.")}));
